/*!
 * jQuery JavaScript Library v1.9.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-2-4
 */
(function(a3,aH){var aj,x,aD=typeof aH,m=a3.document,aM=a3.location,bj=a3.jQuery,I=a3.$,ab={},a7=[],t="1.9.1",aJ=a7.concat,ap=a7.push,a5=a7.slice,aN=a7.indexOf,A=ab.toString,W=ab.hasOwnProperty,aR=t.trim,bK=function(e,b4){return new bK.fn.init(e,b4,x)},bB=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ad=/\S+/g,D=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,bs=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,a=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,bi=/^[\],:{}\s]*$/,bl=/(?:^|:|,)(?:\s*\[)+/g,bH=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,a0=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,bT=/^-ms-/,aW=/-([\da-z])/gi,N=function(e,b4){return b4.toUpperCase()},bX=function(e){if(m.addEventListener||e.type==="load"||m.readyState==="complete"){bm();bK.ready()}},bm=function(){if(m.addEventListener){m.removeEventListener("DOMContentLoaded",bX,false);a3.removeEventListener("load",bX,false)}else{m.detachEvent("onreadystatechange",bX);a3.detachEvent("onload",bX)}};bK.fn=bK.prototype={jquery:t,constructor:bK,init:function(e,b6,b5){var b4,b7;if(!e){return this}if(typeof e==="string"){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){b4=[null,e,null]}else{b4=bs.exec(e)}if(b4&&(b4[1]||!b6)){if(b4[1]){b6=b6 instanceof bK?b6[0]:b6;bK.merge(this,bK.parseHTML(b4[1],b6&&b6.nodeType?b6.ownerDocument||b6:m,true));if(a.test(b4[1])&&bK.isPlainObject(b6)){for(b4 in b6){if(bK.isFunction(this[b4])){this[b4](b6[b4])}else{this.attr(b4,b6[b4])}}}return this}else{b7=m.getElementById(b4[2]);if(b7&&b7.parentNode){if(b7.id!==b4[2]){return b5.find(e)}this.length=1;this[0]=b7}this.context=m;this.selector=e;return this}}else{if(!b6||b6.jquery){return(b6||b5).find(e)}else{return this.constructor(b6).find(e)}}}else{if(e.nodeType){this.context=this[0]=e;this.length=1;return this}else{if(bK.isFunction(e)){return b5.ready(e)}}}if(e.selector!==aH){this.selector=e.selector;this.context=e.context}return bK.makeArray(e,this)},selector:"",length:0,size:function(){return this.length},toArray:function(){return a5.call(this)},get:function(e){return e==null?this.toArray():(e<0?this[this.length+e]:this[e])},pushStack:function(e){var b4=bK.merge(this.constructor(),e);b4.prevObject=this;b4.context=this.context;return b4},each:function(b4,e){return bK.each(this,b4,e)},ready:function(e){bK.ready.promise().done(e);return this},slice:function(){return this.pushStack(a5.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(b5){var e=this.length,b4=+b5+(b5<0?e:0);return this.pushStack(b4>=0&&b4<e?[this[b4]]:[])},map:function(e){return this.pushStack(bK.map(this,function(b5,b4){return e.call(b5,b4,b5)}))},end:function(){return this.prevObject||this.constructor(null)},push:ap,sort:[].sort,splice:[].splice};bK.fn.init.prototype=bK.fn;bK.extend=bK.fn.extend=function(){var e,b9,b4,b5,cc,ca,b8=arguments[0]||{},b7=1,b6=arguments.length,cb=false;if(typeof b8==="boolean"){cb=b8;b8=arguments[1]||{};b7=2}if(typeof b8!=="object"&&!bK.isFunction(b8)){b8={}}if(b6===b7){b8=this;--b7}for(;b7<b6;b7++){if((cc=arguments[b7])!=null){for(b5 in cc){e=b8[b5];b4=cc[b5];if(b8===b4){continue}if(cb&&b4&&(bK.isPlainObject(b4)||(b9=bK.isArray(b4)))){if(b9){b9=false;ca=e&&bK.isArray(e)?e:[]}else{ca=e&&bK.isPlainObject(e)?e:{}}b8[b5]=bK.extend(cb,ca,b4)}else{if(b4!==aH){b8[b5]=b4}}}}}return b8};bK.extend({noConflict:function(e){if(a3.$===bK){a3.$=I}if(e&&a3.jQuery===bK){a3.jQuery=bj}return bK},isReady:false,readyWait:1,holdReady:function(e){if(e){bK.readyWait++}else{bK.ready(true)}},ready:function(e){if(e===true?--bK.readyWait:bK.isReady){return}if(!m.body){return setTimeout(bK.ready)}bK.isReady=true;if(e!==true&&--bK.readyWait>0){return}aj.resolveWith(m,[bK]);if(bK.fn.trigger){bK(m).trigger("ready").off("ready")}},isFunction:function(e){return bK.type(e)==="function"},isArray:Array.isArray||function(e){return bK.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return !isNaN(parseFloat(e))&&isFinite(e)},type:function(e){if(e==null){return String(e)}return typeof e==="object"||typeof e==="function"?ab[A.call(e)]||"object":typeof e},isPlainObject:function(b6){if(!b6||bK.type(b6)!=="object"||b6.nodeType||bK.isWindow(b6)){return false}try{if(b6.constructor&&!W.call(b6,"constructor")&&!W.call(b6.constructor.prototype,"isPrototypeOf")){return false}}catch(b5){return false}var b4;for(b4 in b6){}return b4===aH||W.call(b6,b4)},isEmptyObject:function(b4){var e;for(e in b4){return false}return true},error:function(e){throw new Error(e)},parseHTML:function(b7,b5,b6){if(!b7||typeof b7!=="string"){return null}if(typeof b5==="boolean"){b6=b5;b5=false}b5=b5||m;var b4=a.exec(b7),e=!b6&&[];if(b4){return[b5.createElement(b4[1])]}b4=bK.buildFragment([b7],b5,e);if(e){bK(e).remove()}return bK.merge([],b4.childNodes)},parseJSON:function(e){if(a3.JSON&&a3.JSON.parse){return a3.JSON.parse(e)}if(e===null){return e}if(typeof e==="string"){e=bK.trim(e);if(e){if(bi.test(e.replace(bH,"@").replace(a0,"]").replace(bl,""))){return(new Function("return "+e))()}}}bK.error("Invalid JSON: "+e)},parseXML:function(b6){var b4,b5;if(!b6||typeof b6!=="string"){return null}try{if(a3.DOMParser){b5=new DOMParser();b4=b5.parseFromString(b6,"text/xml")}else{b4=new ActiveXObject("Microsoft.XMLDOM");b4.async="false";b4.loadXML(b6)}}catch(b7){b4=aH}if(!b4||!b4.documentElement||b4.getElementsByTagName("parsererror").length){bK.error("Invalid XML: "+b6)}return b4},noop:function(){},globalEval:function(e){if(e&&bK.trim(e)){(a3.execScript||function(b4){a3["eval"].call(a3,b4)})(e)}},camelCase:function(e){return e.replace(bT,"ms-").replace(aW,N)},nodeName:function(b4,e){return b4.nodeName&&b4.nodeName.toLowerCase()===e.toLowerCase()},each:function(b8,b9,b4){var b7,b5=0,b6=b8.length,e=ac(b8);if(b4){if(e){for(;b5<b6;b5++){b7=b9.apply(b8[b5],b4);if(b7===false){break}}}else{for(b5 in b8){b7=b9.apply(b8[b5],b4);if(b7===false){break}}}}else{if(e){for(;b5<b6;b5++){b7=b9.call(b8[b5],b5,b8[b5]);if(b7===false){break}}}else{for(b5 in b8){b7=b9.call(b8[b5],b5,b8[b5]);if(b7===false){break}}}}return b8},trim:aR&&!aR.call("\uFEFF\xA0")?function(e){return e==null?"":aR.call(e)}:function(e){return e==null?"":(e+"").replace(D,"")},makeArray:function(e,b5){var b4=b5||[];if(e!=null){if(ac(Object(e))){bK.merge(b4,typeof e==="string"?[e]:e)}else{ap.call(b4,e)}}return b4},inArray:function(b6,b4,b5){var e;if(b4){if(aN){return aN.call(b4,b6,b5)}e=b4.length;b5=b5?b5<0?Math.max(0,e+b5):b5:0;for(;b5<e;b5++){if(b5 in b4&&b4[b5]===b6){return b5}}}return -1},merge:function(b7,b5){var e=b5.length,b6=b7.length,b4=0;if(typeof e==="number"){for(;b4<e;b4++){b7[b6++]=b5[b4]}}else{while(b5[b4]!==aH){b7[b6++]=b5[b4++]}}b7.length=b6;return b7},grep:function(b4,b9,e){var b8,b5=[],b6=0,b7=b4.length;e=!!e;for(;b6<b7;b6++){b8=!!b9(b4[b6],b6);if(e!==b8){b5.push(b4[b6])}}return b5},map:function(b5,ca,e){var b9,b7=0,b8=b5.length,b4=ac(b5),b6=[];if(b4){for(;b7<b8;b7++){b9=ca(b5[b7],b7,e);if(b9!=null){b6[b6.length]=b9}}}else{for(b7 in b5){b9=ca(b5[b7],b7,e);if(b9!=null){b6[b6.length]=b9}}}return aJ.apply([],b6)},guid:1,proxy:function(b7,b6){var e,b5,b4;if(typeof b6==="string"){b4=b7[b6];b6=b7;b7=b4}if(!bK.isFunction(b7)){return aH}e=a5.call(arguments,2);b5=function(){return b7.apply(b6||this,e.concat(a5.call(arguments)))};b5.guid=b7.guid=b7.guid||bK.guid++;return b5},access:function(e,b8,ca,b9,b6,cc,cb){var b5=0,b4=e.length,b7=ca==null;if(bK.type(ca)==="object"){b6=true;for(b5 in ca){bK.access(e,b8,b5,ca[b5],true,cc,cb)}}else{if(b9!==aH){b6=true;if(!bK.isFunction(b9)){cb=true}if(b7){if(cb){b8.call(e,b9);b8=null}else{b7=b8;b8=function(ce,cd,cf){return b7.call(bK(ce),cf)}}}if(b8){for(;b5<b4;b5++){b8(e[b5],ca,cb?b9:b9.call(e[b5],b5,b8(e[b5],ca)))}}}}return b6?e:b7?b8.call(e):b4?b8(e[0],ca):cc},now:function(){return(new Date()).getTime()}});bK.ready.promise=function(b7){if(!aj){aj=bK.Deferred();if(m.readyState==="complete"){setTimeout(bK.ready)}else{if(m.addEventListener){m.addEventListener("DOMContentLoaded",bX,false);a3.addEventListener("load",bX,false)}else{m.attachEvent("onreadystatechange",bX);a3.attachEvent("onload",bX);var b6=false;try{b6=a3.frameElement==null&&m.documentElement}catch(b5){}if(b6&&b6.doScroll){(function b4(){if(!bK.isReady){try{b6.doScroll("left")}catch(b8){return setTimeout(b4,50)}bm();bK.ready()}})()}}}}return aj.promise(b7)};bK.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(b4,e){ab["[object "+e+"]"]=e.toLowerCase()});function ac(b5){var b4=b5.length,e=bK.type(b5);if(bK.isWindow(b5)){return false}if(b5.nodeType===1&&b4){return true}return e==="array"||e!=="function"&&(b4===0||typeof b4==="number"&&b4>0&&(b4-1) in b5)}x=bK(m);var bZ={};function af(b4){var e=bZ[b4]={};bK.each(b4.match(ad)||[],function(b6,b5){e[b5]=true});return e}bK.Callbacks=function(cd){cd=typeof cd==="string"?(bZ[cd]||af(cd)):bK.extend({},cd);var b7,b6,e,b8,b9,b5,ca=[],cb=!cd.once&&[],b4=function(ce){b6=cd.memory&&ce;e=true;b9=b5||0;b5=0;b8=ca.length;b7=true;for(;ca&&b9<b8;b9++){if(ca[b9].apply(ce[0],ce[1])===false&&cd.stopOnFalse){b6=false;break}}b7=false;if(ca){if(cb){if(cb.length){b4(cb.shift())}}else{if(b6){ca=[]}else{cc.disable()}}}},cc={add:function(){if(ca){var cf=ca.length;(function ce(cg){bK.each(cg,function(ci,ch){var cj=bK.type(ch);if(cj==="function"){if(!cd.unique||!cc.has(ch)){ca.push(ch)}}else{if(ch&&ch.length&&cj!=="string"){ce(ch)}}})})(arguments);if(b7){b8=ca.length}else{if(b6){b5=cf;b4(b6)}}}return this},remove:function(){if(ca){bK.each(arguments,function(cg,ce){var cf;while((cf=bK.inArray(ce,ca,cf))>-1){ca.splice(cf,1);if(b7){if(cf<=b8){b8--}if(cf<=b9){b9--}}}})}return this},has:function(ce){return ce?bK.inArray(ce,ca)>-1:!!(ca&&ca.length)},empty:function(){ca=[];return this},disable:function(){ca=cb=b6=aH;return this},disabled:function(){return !ca},lock:function(){cb=aH;if(!b6){cc.disable()}return this},locked:function(){return !cb},fireWith:function(cf,ce){ce=ce||[];ce=[cf,ce.slice?ce.slice():ce];if(ca&&(!e||cb)){if(b7){cb.push(ce)}else{b4(ce)}}return this},fire:function(){cc.fireWith(this,arguments);return this},fired:function(){return !!e}};return cc};bK.extend({Deferred:function(b5){var b4=[["resolve","done",bK.Callbacks("once memory"),"resolved"],["reject","fail",bK.Callbacks("once memory"),"rejected"],["notify","progress",bK.Callbacks("memory")]],b6="pending",b7={state:function(){return b6},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var b8=arguments;return bK.Deferred(function(b9){bK.each(b4,function(cb,ca){var cd=ca[0],cc=bK.isFunction(b8[cb])&&b8[cb];e[ca[1]](function(){var ce=cc&&cc.apply(this,arguments);if(ce&&bK.isFunction(ce.promise)){ce.promise().done(b9.resolve).fail(b9.reject).progress(b9.notify)}else{b9[cd+"With"](this===b7?b9.promise():this,cc?[ce]:arguments)}})});b8=null}).promise()},promise:function(b8){return b8!=null?bK.extend(b8,b7):b7}},e={};b7.pipe=b7.then;bK.each(b4,function(b9,b8){var cb=b8[2],ca=b8[3];b7[b8[1]]=cb.add;if(ca){cb.add(function(){b6=ca},b4[b9^1][2].disable,b4[2][2].lock)}e[b8[0]]=function(){e[b8[0]+"With"](this===e?b7:this,arguments);return this};e[b8[0]+"With"]=cb.fireWith});b7.promise(e);if(b5){b5.call(e,e)}return e},when:function(b7){var b5=0,b9=a5.call(arguments),e=b9.length,b4=e!==1||(b7&&bK.isFunction(b7.promise))?e:0,cc=b4===1?b7:bK.Deferred(),b6=function(ce,cf,cd){return function(cg){cf[ce]=this;cd[ce]=arguments.length>1?a5.call(arguments):cg;if(cd===cb){cc.notifyWith(cf,cd)}else{if(!(--b4)){cc.resolveWith(cf,cd)}}}},cb,b8,ca;if(e>1){cb=new Array(e);b8=new Array(e);ca=new Array(e);for(;b5<e;b5++){if(b9[b5]&&bK.isFunction(b9[b5].promise)){b9[b5].promise().done(b6(b5,ca,b9)).fail(cc.reject).progress(b6(b5,b8,cb))}else{--b4}}}if(!b4){cc.resolveWith(ca,b9)}return cc.promise()}});bK.support=(function(){var cf,ce,cc,cb,cd,ca,b6,b8,b5,b7,b4=m.createElement("div");b4.setAttribute("className","t");b4.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";ce=b4.getElementsByTagName("*");cc=b4.getElementsByTagName("a")[0];if(!ce||!cc||!ce.length){return{}}cd=m.createElement("select");b6=cd.appendChild(m.createElement("option"));cb=b4.getElementsByTagName("input")[0];cc.style.cssText="top:1px;float:left;opacity:.5";cf={getSetAttribute:b4.className!=="t",leadingWhitespace:b4.firstChild.nodeType===3,tbody:!b4.getElementsByTagName("tbody").length,htmlSerialize:!!b4.getElementsByTagName("link").length,style:/top/.test(cc.getAttribute("style")),hrefNormalized:cc.getAttribute("href")==="/a",opacity:/^0.5/.test(cc.style.opacity),cssFloat:!!cc.style.cssFloat,checkOn:!!cb.value,optSelected:b6.selected,enctype:!!m.createElement("form").enctype,html5Clone:m.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",boxModel:m.compatMode==="CSS1Compat",deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,boxSizingReliable:true,pixelPosition:false};cb.checked=true;cf.noCloneChecked=cb.cloneNode(true).checked;cd.disabled=true;cf.optDisabled=!b6.disabled;try{delete b4.test}catch(b9){cf.deleteExpando=false}cb=m.createElement("input");cb.setAttribute("value","");cf.input=cb.getAttribute("value")==="";cb.value="t";cb.setAttribute("type","radio");cf.radioValue=cb.value==="t";cb.setAttribute("checked","t");cb.setAttribute("name","t");ca=m.createDocumentFragment();ca.appendChild(cb);cf.appendChecked=cb.checked;cf.checkClone=ca.cloneNode(true).cloneNode(true).lastChild.checked;if(b4.attachEvent){b4.attachEvent("onclick",function(){cf.noCloneEvent=false});b4.cloneNode(true).click()}for(b7 in {submit:true,change:true,focusin:true}){b4.setAttribute(b8="on"+b7,"t");cf[b7+"Bubbles"]=b8 in a3||b4.attributes[b8].expando===false}b4.style.backgroundClip="content-box";b4.cloneNode(true).style.backgroundClip="";cf.clearCloneStyle=b4.style.backgroundClip==="content-box";bK(function(){var cg,cj,ci,ch="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",e=m.getElementsByTagName("body")[0];if(!e){return}cg=m.createElement("div");cg.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";e.appendChild(cg).appendChild(b4);b4.innerHTML="<table><tr><td></td><td>t</td></tr></table>";ci=b4.getElementsByTagName("td");ci[0].style.cssText="padding:0;margin:0;border:0;display:none";b5=(ci[0].offsetHeight===0);ci[0].style.display="";ci[1].style.display="none";cf.reliableHiddenOffsets=b5&&(ci[0].offsetHeight===0);b4.innerHTML="";b4.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";cf.boxSizing=(b4.offsetWidth===4);cf.doesNotIncludeMarginInBodyOffset=(e.offsetTop!==1);if(a3.getComputedStyle){cf.pixelPosition=(a3.getComputedStyle(b4,null)||{}).top!=="1%";cf.boxSizingReliable=(a3.getComputedStyle(b4,null)||{width:"4px"}).width==="4px";cj=b4.appendChild(m.createElement("div"));cj.style.cssText=b4.style.cssText=ch;cj.style.marginRight=cj.style.width="0";b4.style.width="1px";cf.reliableMarginRight=!parseFloat((a3.getComputedStyle(cj,null)||{}).marginRight)}if(typeof b4.style.zoom!==aD){b4.innerHTML="";b4.style.cssText=ch+"width:1px;padding:1px;display:inline;zoom:1";cf.inlineBlockNeedsLayout=(b4.offsetWidth===3);b4.style.display="block";b4.innerHTML="<div></div>";b4.firstChild.style.width="5px";cf.shrinkWrapBlocks=(b4.offsetWidth!==3);if(cf.inlineBlockNeedsLayout){e.style.zoom=1}}e.removeChild(cg);cg=b4=ci=cj=null});ce=cd=ca=b6=cc=cb=null;return cf})();var bx=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,aO=/([A-Z])/g;function bb(b6,b4,b8,b7){if(!bK.acceptData(b6)){return}var b9,cb,cc=bK.expando,ca=typeof b4==="string",cd=b6.nodeType,e=cd?bK.cache:b6,b5=cd?b6[cc]:b6[cc]&&cc;if((!b5||!e[b5]||(!b7&&!e[b5].data))&&ca&&b8===aH){return}if(!b5){if(cd){b6[cc]=b5=a7.pop()||bK.guid++}else{b5=cc}}if(!e[b5]){e[b5]={};if(!cd){e[b5].toJSON=bK.noop}}if(typeof b4==="object"||typeof b4==="function"){if(b7){e[b5]=bK.extend(e[b5],b4)}else{e[b5].data=bK.extend(e[b5].data,b4)}}b9=e[b5];if(!b7){if(!b9.data){b9.data={}}b9=b9.data}if(b8!==aH){b9[bK.camelCase(b4)]=b8}if(ca){cb=b9[b4];if(cb==null){cb=b9[bK.camelCase(b4)]}}else{cb=b9}return cb}function aa(b6,b4,b7){if(!bK.acceptData(b6)){return}var b9,b8,ca,cb=b6.nodeType,e=cb?bK.cache:b6,b5=cb?b6[bK.expando]:bK.expando;if(!e[b5]){return}if(b4){ca=b7?e[b5]:e[b5].data;if(ca){if(!bK.isArray(b4)){if(b4 in ca){b4=[b4]}else{b4=bK.camelCase(b4);if(b4 in ca){b4=[b4]}else{b4=b4.split(" ")}}}else{b4=b4.concat(bK.map(b4,bK.camelCase))}for(b9=0,b8=b4.length;b9<b8;b9++){delete ca[b4[b9]]}if(!(b7?O:bK.isEmptyObject)(ca)){return}}}if(!b7){delete e[b5].data;if(!O(e[b5])){return}}if(cb){bK.cleanData([b6],true)}else{if(bK.support.deleteExpando||e!=e.window){delete e[b5]}else{e[b5]=null}}}bK.extend({cache:{},expando:"jQuery"+(t+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(e){e=e.nodeType?bK.cache[e[bK.expando]]:e[bK.expando];return !!e&&!O(e)},data:function(b4,e,b5){return bb(b4,e,b5)},removeData:function(b4,e){return aa(b4,e)},_data:function(b4,e,b5){return bb(b4,e,b5,true)},_removeData:function(b4,e){return aa(b4,e,true)},acceptData:function(b4){if(b4.nodeType&&b4.nodeType!==1&&b4.nodeType!==9){return false}var e=b4.nodeName&&bK.noData[b4.nodeName.toLowerCase()];return !e||e!==true&&b4.getAttribute("classid")===e}});bK.fn.extend({data:function(b6,b9){var b4,e,b7=this[0],b5=0,b8=null;if(b6===aH){if(this.length){b8=bK.data(b7);if(b7.nodeType===1&&!bK._data(b7,"parsedAttrs")){b4=b7.attributes;for(;b5<b4.length;b5++){e=b4[b5].name;if(!e.indexOf("data-")){e=bK.camelCase(e.slice(5));bz(b7,e,b8[e])}}bK._data(b7,"parsedAttrs",true)}}return b8}if(typeof b6==="object"){return this.each(function(){bK.data(this,b6)})}return bK.access(this,function(ca){if(ca===aH){return b7?bz(b7,b6,bK.data(b7,b6)):null}this.each(function(){bK.data(this,b6,ca)})},null,b9,arguments.length>1,null,true)},removeData:function(e){return this.each(function(){bK.removeData(this,e)})}});function bz(b6,b5,b7){if(b7===aH&&b6.nodeType===1){var b4="data-"+b5.replace(aO,"-$1").toLowerCase();b7=b6.getAttribute(b4);if(typeof b7==="string"){try{b7=b7==="true"?true:b7==="false"?false:b7==="null"?null:+b7+""===b7?+b7:bx.test(b7)?bK.parseJSON(b7):b7}catch(b8){}bK.data(b6,b5,b7)}else{b7=aH}}return b7}function O(b4){var e;for(e in b4){if(e==="data"&&bK.isEmptyObject(b4[e])){continue}if(e!=="toJSON"){return false}}return true}bK.extend({queue:function(b5,b4,b6){var e;if(b5){b4=(b4||"fx")+"queue";e=bK._data(b5,b4);if(b6){if(!e||bK.isArray(b6)){e=bK._data(b5,b4,bK.makeArray(b6))}else{e.push(b6)}}return e||[]}},dequeue:function(b8,b7){b7=b7||"fx";var b4=bK.queue(b8,b7),b9=b4.length,b6=b4.shift(),e=bK._queueHooks(b8,b7),b5=function(){bK.dequeue(b8,b7)};if(b6==="inprogress"){b6=b4.shift();b9--}e.cur=b6;if(b6){if(b7==="fx"){b4.unshift("inprogress")}delete e.stop;b6.call(b8,b5,e)}if(!b9&&e){e.empty.fire()}},_queueHooks:function(b5,b4){var e=b4+"queueHooks";return bK._data(b5,e)||bK._data(b5,e,{empty:bK.Callbacks("once memory").add(function(){bK._removeData(b5,b4+"queue");bK._removeData(b5,e)})})}});bK.fn.extend({queue:function(e,b4){var b5=2;if(typeof e!=="string"){b4=e;e="fx";b5--}if(arguments.length<b5){return bK.queue(this[0],e)}return b4===aH?this:this.each(function(){var b6=bK.queue(this,e,b4);bK._queueHooks(this,e);if(e==="fx"&&b6[0]!=="inprogress"){bK.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){bK.dequeue(this,e)})},delay:function(b4,e){b4=bK.fx?bK.fx.speeds[b4]||b4:b4;e=e||"fx";return this.queue(e,function(b6,b5){var b7=setTimeout(b6,b4);b5.stop=function(){clearTimeout(b7)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(b5,b9){var b4,b6=1,ca=bK.Deferred(),b8=this,e=this.length,b7=function(){if(!(--b6)){ca.resolveWith(b8,[b8])}};if(typeof b5!=="string"){b9=b5;b5=aH}b5=b5||"fx";while(e--){b4=bK._data(b8[e],b5+"queueHooks");if(b4&&b4.empty){b6++;b4.empty.add(b7)}}b7();return ca.promise(b9)}});var a9,b0,bN=/[\t\r\n]/g,al=/\r/g,aG=/^(?:input|select|textarea|button|object)$/i,E=/^(?:a|area)$/i,M=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,ar=/^(?:checked|selected)$/i,bQ=bK.support.getSetAttribute,bG=bK.support.input;bK.fn.extend({attr:function(e,b4){return bK.access(this,bK.attr,e,b4,arguments.length>1)},removeAttr:function(e){return this.each(function(){bK.removeAttr(this,e)})},prop:function(e,b4){return bK.access(this,bK.prop,e,b4,arguments.length>1)},removeProp:function(e){e=bK.propFix[e]||e;return this.each(function(){try{this[e]=aH;delete this[e]}catch(b4){}})},addClass:function(ca){var b4,e,cb,b7,b5,b6=0,b8=this.length,b9=typeof ca==="string"&&ca;if(bK.isFunction(ca)){return this.each(function(cc){bK(this).addClass(ca.call(this,cc,this.className))})}if(b9){b4=(ca||"").match(ad)||[];for(;b6<b8;b6++){e=this[b6];cb=e.nodeType===1&&(e.className?(" "+e.className+" ").replace(bN," "):" ");if(cb){b5=0;while((b7=b4[b5++])){if(cb.indexOf(" "+b7+" ")<0){cb+=b7+" "}}e.className=bK.trim(cb)}}}return this},removeClass:function(ca){var b4,e,cb,b7,b5,b6=0,b8=this.length,b9=arguments.length===0||typeof ca==="string"&&ca;if(bK.isFunction(ca)){return this.each(function(cc){bK(this).removeClass(ca.call(this,cc,this.className))})}if(b9){b4=(ca||"").match(ad)||[];for(;b6<b8;b6++){e=this[b6];cb=e.nodeType===1&&(e.className?(" "+e.className+" ").replace(bN," "):"");if(cb){b5=0;while((b7=b4[b5++])){while(cb.indexOf(" "+b7+" ")>=0){cb=cb.replace(" "+b7+" "," ")}}e.className=ca?bK.trim(cb):""}}}return this},toggleClass:function(b6,b4){var b5=typeof b6,e=typeof b4==="boolean";if(bK.isFunction(b6)){return this.each(function(b7){bK(this).toggleClass(b6.call(this,b7,this.className,b4),b4)})}return this.each(function(){if(b5==="string"){var b9,b8=0,b7=bK(this),ca=b4,cb=b6.match(ad)||[];while((b9=cb[b8++])){ca=e?ca:!b7.hasClass(b9);b7[ca?"addClass":"removeClass"](b9)}}else{if(b5===aD||b5==="boolean"){if(this.className){bK._data(this,"__className__",this.className)}this.className=this.className||b6===false?"":bK._data(this,"__className__")||""}}})},hasClass:function(e){var b6=" "+e+" ",b5=0,b4=this.length;for(;b5<b4;b5++){if(this[b5].nodeType===1&&(" "+this[b5].className+" ").replace(bN," ").indexOf(b6)>=0){return true}}return false},val:function(b6){var b4,e,b7,b5=this[0];if(!arguments.length){if(b5){e=bK.valHooks[b5.type]||bK.valHooks[b5.nodeName.toLowerCase()];if(e&&"get" in e&&(b4=e.get(b5,"value"))!==aH){return b4}b4=b5.value;return typeof b4==="string"?b4.replace(al,""):b4==null?"":b4}return}b7=bK.isFunction(b6);return this.each(function(b9){var ca,b8=bK(this);if(this.nodeType!==1){return}if(b7){ca=b6.call(this,b9,b8.val())}else{ca=b6}if(ca==null){ca=""}else{if(typeof ca==="number"){ca+=""}else{if(bK.isArray(ca)){ca=bK.map(ca,function(cb){return cb==null?"":cb+""})}}}e=bK.valHooks[this.type]||bK.valHooks[this.nodeName.toLowerCase()];if(!e||!("set" in e)||e.set(this,ca,"value")===aH){this.value=ca}})}});bK.extend({valHooks:{option:{get:function(e){var b4=e.attributes.value;return !b4||b4.specified?e.value:e.text}},select:{get:function(e){var b9,b5,cb=e.options,b7=e.selectedIndex,b6=e.type==="select-one"||b7<0,ca=b6?null:[],b8=b6?b7+1:cb.length,b4=b7<0?b8:b6?b7:0;for(;b4<b8;b4++){b5=cb[b4];if((b5.selected||b4===b7)&&(bK.support.optDisabled?!b5.disabled:b5.getAttribute("disabled")===null)&&(!b5.parentNode.disabled||!bK.nodeName(b5.parentNode,"optgroup"))){b9=bK(b5).val();if(b6){return b9}ca.push(b9)}}return ca},set:function(b4,b5){var e=bK.makeArray(b5);bK(b4).find("option").each(function(){this.selected=bK.inArray(bK(this).val(),e)>=0});if(!e.length){b4.selectedIndex=-1}return e}}},attr:function(b8,b6,b9){var e,b7,b5,b4=b8.nodeType;if(!b8||b4===3||b4===8||b4===2){return}if(typeof b8.getAttribute===aD){return bK.prop(b8,b6,b9)}b7=b4!==1||!bK.isXMLDoc(b8);if(b7){b6=b6.toLowerCase();e=bK.attrHooks[b6]||(M.test(b6)?b0:a9)}if(b9!==aH){if(b9===null){bK.removeAttr(b8,b6)}else{if(e&&b7&&"set" in e&&(b5=e.set(b8,b9,b6))!==aH){return b5}else{b8.setAttribute(b6,b9+"");return b9}}}else{if(e&&b7&&"get" in e&&(b5=e.get(b8,b6))!==null){return b5}else{if(typeof b8.getAttribute!==aD){b5=b8.getAttribute(b6)}return b5==null?aH:b5}}},removeAttr:function(b5,b7){var e,b6,b4=0,b8=b7&&b7.match(ad);if(b8&&b5.nodeType===1){while((e=b8[b4++])){b6=bK.propFix[e]||e;if(M.test(e)){if(!bQ&&ar.test(e)){b5[bK.camelCase("default-"+e)]=b5[b6]=false}else{b5[b6]=false}}else{bK.attr(b5,e,"")}b5.removeAttribute(bQ?e:b6)}}},attrHooks:{type:{set:function(e,b4){if(!bK.support.radioValue&&b4==="radio"&&bK.nodeName(e,"input")){var b5=e.value;e.setAttribute("type",b4);if(b5){e.value=b5}return b4}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b8,b6,b9){var b5,e,b7,b4=b8.nodeType;if(!b8||b4===3||b4===8||b4===2){return}b7=b4!==1||!bK.isXMLDoc(b8);if(b7){b6=bK.propFix[b6]||b6;e=bK.propHooks[b6]}if(b9!==aH){if(e&&"set" in e&&(b5=e.set(b8,b9,b6))!==aH){return b5}else{return(b8[b6]=b9)}}else{if(e&&"get" in e&&(b5=e.get(b8,b6))!==null){return b5}else{return b8[b6]}}},propHooks:{tabIndex:{get:function(b4){var e=b4.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):aG.test(b4.nodeName)||E.test(b4.nodeName)&&b4.href?0:aH}}}});b0={get:function(b6,b4){var b7=bK.prop(b6,b4),e=typeof b7==="boolean"&&b6.getAttribute(b4),b5=typeof b7==="boolean"?bG&&bQ?e!=null:ar.test(b4)?b6[bK.camelCase("default-"+b4)]:!!e:b6.getAttributeNode(b4);return b5&&b5.value!==false?b4.toLowerCase():aH},set:function(b4,b5,e){if(b5===false){bK.removeAttr(b4,e)}else{if(bG&&bQ||!ar.test(e)){b4.setAttribute(!bQ&&bK.propFix[e]||e,e)}else{b4[bK.camelCase("default-"+e)]=b4[e]=true}}return e}};if(!bG||!bQ){bK.attrHooks.value={get:function(b5,b4){var e=b5.getAttributeNode(b4);return bK.nodeName(b5,"input")?b5.defaultValue:e&&e.specified?e.value:aH},set:function(b4,b5,e){if(bK.nodeName(b4,"input")){b4.defaultValue=b5}else{return a9&&a9.set(b4,b5,e)}}}}if(!bQ){a9=bK.valHooks.button={get:function(b5,b4){var e=b5.getAttributeNode(b4);return e&&(b4==="id"||b4==="name"||b4==="coords"?e.value!=="":e.specified)?e.value:aH},set:function(b5,b6,b4){var e=b5.getAttributeNode(b4);if(!e){b5.setAttributeNode((e=b5.ownerDocument.createAttribute(b4)))}e.value=b6+="";return b4==="value"||b6===b5.getAttribute(b4)?b6:aH}};bK.attrHooks.contenteditable={get:a9.get,set:function(b4,b5,e){a9.set(b4,b5===""?false:b5,e)}};bK.each(["width","height"],function(b4,e){bK.attrHooks[e]=bK.extend(bK.attrHooks[e],{set:function(b5,b6){if(b6===""){b5.setAttribute(e,"auto");return b6}}})})}if(!bK.support.hrefNormalized){bK.each(["href","src","width","height"],function(b4,e){bK.attrHooks[e]=bK.extend(bK.attrHooks[e],{get:function(b6){var b5=b6.getAttribute(e,2);return b5==null?aH:b5}})});bK.each(["href","src"],function(b4,e){bK.propHooks[e]={get:function(b5){return b5.getAttribute(e,4)}}})}if(!bK.support.style){bK.attrHooks.style={get:function(e){return e.style.cssText||aH},set:function(e,b4){return(e.style.cssText=b4+"")}}}if(!bK.support.optSelected){bK.propHooks.selected=bK.extend(bK.propHooks.selected,{get:function(b4){var e=b4.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}return null}})}if(!bK.support.enctype){bK.propFix.enctype="encoding"}if(!bK.support.checkOn){bK.each(["radio","checkbox"],function(){bK.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}})}bK.each(["radio","checkbox"],function(){bK.valHooks[this]=bK.extend(bK.valHooks[this],{set:function(e,b4){if(bK.isArray(b4)){return(e.checked=bK.inArray(bK(e).val(),b4)>=0)}}})});var bI=/^(?:input|select|textarea)$/i,a4=/^key/,bO=/^(?:mouse|contextmenu)|click/,bC=/^(?:focusinfocus|focusoutblur)$/,bv=/^([^.]*)(?:\.(.+)|)$/;function S(){return true}function Y(){return false}bK.event={global:{},add:function(b7,cc,ch,b9,b8){var ca,ci,cj,b5,ce,cb,cg,b6,cf,e,b4,cd=bK._data(b7);if(!cd){return}if(ch.handler){b5=ch;ch=b5.handler;b8=b5.selector}if(!ch.guid){ch.guid=bK.guid++}if(!(ci=cd.events)){ci=cd.events={}}if(!(cb=cd.handle)){cb=cd.handle=function(ck){return typeof bK!==aD&&(!ck||bK.event.triggered!==ck.type)?bK.event.dispatch.apply(cb.elem,arguments):aH};cb.elem=b7}cc=(cc||"").match(ad)||[""];cj=cc.length;while(cj--){ca=bv.exec(cc[cj])||[];cf=b4=ca[1];e=(ca[2]||"").split(".").sort();ce=bK.event.special[cf]||{};cf=(b8?ce.delegateType:ce.bindType)||cf;ce=bK.event.special[cf]||{};cg=bK.extend({type:cf,origType:b4,data:b9,handler:ch,guid:ch.guid,selector:b8,needsContext:b8&&bK.expr.match.needsContext.test(b8),namespace:e.join(".")},b5);if(!(b6=ci[cf])){b6=ci[cf]=[];b6.delegateCount=0;if(!ce.setup||ce.setup.call(b7,b9,e,cb)===false){if(b7.addEventListener){b7.addEventListener(cf,cb,false)}else{if(b7.attachEvent){b7.attachEvent("on"+cf,cb)}}}}if(ce.add){ce.add.call(b7,cg);if(!cg.handler.guid){cg.handler.guid=ch.guid}}if(b8){b6.splice(b6.delegateCount++,0,cg)}else{b6.push(cg)}bK.event.global[cf]=true}b7=null},remove:function(b6,cc,cj,b7,cb){var b9,cg,ca,b8,ci,ch,ce,b5,cf,e,b4,cd=bK.hasData(b6)&&bK._data(b6);if(!cd||!(ch=cd.events)){return}cc=(cc||"").match(ad)||[""];ci=cc.length;while(ci--){ca=bv.exec(cc[ci])||[];cf=b4=ca[1];e=(ca[2]||"").split(".").sort();if(!cf){for(cf in ch){bK.event.remove(b6,cf+cc[ci],cj,b7,true)}continue}ce=bK.event.special[cf]||{};cf=(b7?ce.delegateType:ce.bindType)||cf;b5=ch[cf]||[];ca=ca[2]&&new RegExp("(^|\\.)"+e.join("\\.(?:.*\\.|)")+"(\\.|$)");b8=b9=b5.length;while(b9--){cg=b5[b9];if((cb||b4===cg.origType)&&(!cj||cj.guid===cg.guid)&&(!ca||ca.test(cg.namespace))&&(!b7||b7===cg.selector||b7==="**"&&cg.selector)){b5.splice(b9,1);if(cg.selector){b5.delegateCount--}if(ce.remove){ce.remove.call(b6,cg)}}}if(b8&&!b5.length){if(!ce.teardown||ce.teardown.call(b6,e,cd.handle)===false){bK.removeEvent(b6,cf,cd.handle)}delete ch[cf]}}if(bK.isEmptyObject(ch)){delete cd.handle;bK._removeData(b6,"events")}},trigger:function(b4,cb,b7,ci){var cc,b6,cg,ch,ce,ca,b9,b8=[b7||m],cf=W.call(b4,"type")?b4.type:b4,b5=W.call(b4,"namespace")?b4.namespace.split("."):[];cg=ca=b7=b7||m;if(b7.nodeType===3||b7.nodeType===8){return}if(bC.test(cf+bK.event.triggered)){return}if(cf.indexOf(".")>=0){b5=cf.split(".");cf=b5.shift();b5.sort()}b6=cf.indexOf(":")<0&&"on"+cf;b4=b4[bK.expando]?b4:new bK.Event(cf,typeof b4==="object"&&b4);b4.isTrigger=true;b4.namespace=b5.join(".");b4.namespace_re=b4.namespace?new RegExp("(^|\\.)"+b5.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;b4.result=aH;if(!b4.target){b4.target=b7}cb=cb==null?[b4]:bK.makeArray(cb,[b4]);ce=bK.event.special[cf]||{};if(!ci&&ce.trigger&&ce.trigger.apply(b7,cb)===false){return}if(!ci&&!ce.noBubble&&!bK.isWindow(b7)){ch=ce.delegateType||cf;if(!bC.test(ch+cf)){cg=cg.parentNode}for(;cg;cg=cg.parentNode){b8.push(cg);ca=cg}if(ca===(b7.ownerDocument||m)){b8.push(ca.defaultView||ca.parentWindow||a3)}}b9=0;while((cg=b8[b9++])&&!b4.isPropagationStopped()){b4.type=b9>1?ch:ce.bindType||cf;cc=(bK._data(cg,"events")||{})[b4.type]&&bK._data(cg,"handle");if(cc){cc.apply(cg,cb)}cc=b6&&cg[b6];if(cc&&bK.acceptData(cg)&&cc.apply&&cc.apply(cg,cb)===false){b4.preventDefault()}}b4.type=cf;if(!ci&&!b4.isDefaultPrevented()){if((!ce._default||ce._default.apply(b7.ownerDocument,cb)===false)&&!(cf==="click"&&bK.nodeName(b7,"a"))&&bK.acceptData(b7)){if(b6&&b7[cf]&&!bK.isWindow(b7)){ca=b7[b6];if(ca){b7[b6]=null}bK.event.triggered=cf;try{b7[cf]()}catch(cd){}bK.event.triggered=aH;if(ca){b7[b6]=ca}}}}return b4.result},dispatch:function(e){e=bK.event.fix(e);var b7,b8,cc,b4,b6,cb=[],ca=a5.call(arguments),b5=(bK._data(this,"events")||{})[e.type]||[],b9=bK.event.special[e.type]||{};ca[0]=e;e.delegateTarget=this;if(b9.preDispatch&&b9.preDispatch.call(this,e)===false){return}cb=bK.event.handlers.call(this,e,b5);b7=0;while((b4=cb[b7++])&&!e.isPropagationStopped()){e.currentTarget=b4.elem;b6=0;while((cc=b4.handlers[b6++])&&!e.isImmediatePropagationStopped()){if(!e.namespace_re||e.namespace_re.test(cc.namespace)){e.handleObj=cc;e.data=cc.data;b8=((bK.event.special[cc.origType]||{}).handle||cc.handler).apply(b4.elem,ca);if(b8!==aH){if((e.result=b8)===false){e.preventDefault();e.stopPropagation()}}}}}if(b9.postDispatch){b9.postDispatch.call(this,e)}return e.result},handlers:function(e,b5){var b4,ca,b8,b7,b9=[],b6=b5.delegateCount,cb=e.target;if(b6&&cb.nodeType&&(!e.button||e.type!=="click")){for(;cb!=this;cb=cb.parentNode||this){if(cb.nodeType===1&&(cb.disabled!==true||e.type!=="click")){b8=[];for(b7=0;b7<b6;b7++){ca=b5[b7];b4=ca.selector+" ";if(b8[b4]===aH){b8[b4]=ca.needsContext?bK(b4,this).index(cb)>=0:bK.find(b4,this,null,[cb]).length}if(b8[b4]){b8.push(ca)}}if(b8.length){b9.push({elem:cb,handlers:b8})}}}}if(b6<b5.length){b9.push({elem:this,handlers:b5.slice(b6)})}return b9},fix:function(b6){if(b6[bK.expando]){return b6}var b4,b9,b8,b5=b6.type,e=b6,b7=this.fixHooks[b5];if(!b7){this.fixHooks[b5]=b7=bO.test(b5)?this.mouseHooks:a4.test(b5)?this.keyHooks:{}}b8=b7.props?this.props.concat(b7.props):this.props;b6=new bK.Event(e);b4=b8.length;while(b4--){b9=b8[b4];b6[b9]=e[b9]}if(!b6.target){b6.target=e.srcElement||m}if(b6.target.nodeType===3){b6.target=b6.target.parentNode}b6.metaKey=!!b6.metaKey;return b7.filter?b7.filter(b6,e):b6},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(b4,e){if(b4.which==null){b4.which=e.charCode!=null?e.charCode:e.keyCode}return b4}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b6,b5){var e,b7,b8,b4=b5.button,b9=b5.fromElement;if(b6.pageX==null&&b5.clientX!=null){b7=b6.target.ownerDocument||m;b8=b7.documentElement;e=b7.body;b6.pageX=b5.clientX+(b8&&b8.scrollLeft||e&&e.scrollLeft||0)-(b8&&b8.clientLeft||e&&e.clientLeft||0);b6.pageY=b5.clientY+(b8&&b8.scrollTop||e&&e.scrollTop||0)-(b8&&b8.clientTop||e&&e.clientTop||0)}if(!b6.relatedTarget&&b9){b6.relatedTarget=b9===b6.target?b5.toElement:b9}if(!b6.which&&b4!==aH){b6.which=(b4&1?1:(b4&2?3:(b4&4?2:0)))}return b6}},special:{load:{noBubble:true},click:{trigger:function(){if(bK.nodeName(this,"input")&&this.type==="checkbox"&&this.click){this.click();return false}}},focus:{trigger:function(){if(this!==m.activeElement&&this.focus){try{this.focus();return false}catch(b4){}}},delegateType:"focusin"},blur:{trigger:function(){if(this===m.activeElement&&this.blur){this.blur();return false}},delegateType:"focusout"},beforeunload:{postDispatch:function(e){if(e.result!==aH){e.originalEvent.returnValue=e.result}}}},simulate:function(b5,b7,b6,b4){var b8=bK.extend(new bK.Event(),b6,{type:b5,isSimulated:true,originalEvent:{}});if(b4){bK.event.trigger(b8,null,b7)}else{bK.event.dispatch.call(b7,b8)}if(b8.isDefaultPrevented()){b6.preventDefault()}}};bK.removeEvent=m.removeEventListener?function(b4,e,b5){if(b4.removeEventListener){b4.removeEventListener(e,b5,false)}}:function(b5,b4,b6){var e="on"+b4;if(b5.detachEvent){if(typeof b5[e]===aD){b5[e]=null}b5.detachEvent(e,b6)}};bK.Event=function(b4,e){if(!(this instanceof bK.Event)){return new bK.Event(b4,e)}if(b4&&b4.type){this.originalEvent=b4;this.type=b4.type;this.isDefaultPrevented=(b4.defaultPrevented||b4.returnValue===false||b4.getPreventDefault&&b4.getPreventDefault())?S:Y}else{this.type=b4}if(e){bK.extend(this,e)}this.timeStamp=b4&&b4.timeStamp||bK.now();this[bK.expando]=true};bK.Event.prototype={isDefaultPrevented:Y,isPropagationStopped:Y,isImmediatePropagationStopped:Y,preventDefault:function(){var b4=this.originalEvent;this.isDefaultPrevented=S;if(!b4){return}if(b4.preventDefault){b4.preventDefault()}else{b4.returnValue=false}},stopPropagation:function(){var b4=this.originalEvent;this.isPropagationStopped=S;if(!b4){return}if(b4.stopPropagation){b4.stopPropagation()}b4.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=S;this.stopPropagation()}};bK.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b4,e){bK.event.special[b4]={delegateType:e,bindType:e,handle:function(b7){var b5,b9=this,b8=b7.relatedTarget,b6=b7.handleObj;if(!b8||(b8!==b9&&!bK.contains(b9,b8))){b7.type=b6.origType;b5=b6.handler.apply(this,arguments);b7.type=e}return b5}}});if(!bK.support.submitBubbles){bK.event.special.submit={setup:function(){if(bK.nodeName(this,"form")){return false}bK.event.add(this,"click._submit keypress._submit",function(b6){var b5=b6.target,b4=bK.nodeName(b5,"input")||bK.nodeName(b5,"button")?b5.form:aH;if(b4&&!bK._data(b4,"submitBubbles")){bK.event.add(b4,"submit._submit",function(e){e._submit_bubble=true});bK._data(b4,"submitBubbles",true)}})},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;if(this.parentNode&&!e.isTrigger){bK.event.simulate("submit",this.parentNode,e,true)}}},teardown:function(){if(bK.nodeName(this,"form")){return false}bK.event.remove(this,"._submit")}}}if(!bK.support.changeBubbles){bK.event.special.change={setup:function(){if(bI.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){bK.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=true}});bK.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger){this._just_changed=false}bK.event.simulate("change",this,e,true)})}return false}bK.event.add(this,"beforeactivate._change",function(b5){var b4=b5.target;if(bI.test(b4.nodeName)&&!bK._data(b4,"changeBubbles")){bK.event.add(b4,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger){bK.event.simulate("change",this.parentNode,e,true)}});bK._data(b4,"changeBubbles",true)}})},handle:function(b4){var e=b4.target;if(this!==e||b4.isSimulated||b4.isTrigger||(e.type!=="radio"&&e.type!=="checkbox")){return b4.handleObj.handler.apply(this,arguments)}},teardown:function(){bK.event.remove(this,"._change");return !bI.test(this.nodeName)}}}if(!bK.support.focusinBubbles){bK.each({focus:"focusin",blur:"focusout"},function(b6,e){var b4=0,b5=function(b7){bK.event.simulate(e,b7.target,bK.event.fix(b7),true)};bK.event.special[e]={setup:function(){if(b4++===0){m.addEventListener(b6,b5,true)}},teardown:function(){if(--b4===0){m.removeEventListener(b6,b5,true)}}}})}bK.fn.extend({on:function(b5,e,b8,b7,b4){var b6,b9;if(typeof b5==="object"){if(typeof e!=="string"){b8=b8||e;e=aH}for(b6 in b5){this.on(b6,e,b8,b5[b6],b4)}return this}if(b8==null&&b7==null){b7=e;b8=e=aH}else{if(b7==null){if(typeof e==="string"){b7=b8;b8=aH}else{b7=b8;b8=e;e=aH}}}if(b7===false){b7=Y}else{if(!b7){return this}}if(b4===1){b9=b7;b7=function(ca){bK().off(ca);return b9.apply(this,arguments)};b7.guid=b9.guid||(b9.guid=bK.guid++)}return this.each(function(){bK.event.add(this,b5,b7,b8,e)})},one:function(b4,e,b6,b5){return this.on(b4,e,b6,b5,1)},off:function(b5,e,b7){var b4,b6;if(b5&&b5.preventDefault&&b5.handleObj){b4=b5.handleObj;bK(b5.delegateTarget).off(b4.namespace?b4.origType+"."+b4.namespace:b4.origType,b4.selector,b4.handler);return this}if(typeof b5==="object"){for(b6 in b5){this.off(b6,e,b5[b6])}return this}if(e===false||typeof e==="function"){b7=e;e=aH}if(b7===false){b7=Y}return this.each(function(){bK.event.remove(this,b5,b7,e)})},bind:function(e,b5,b4){return this.on(e,null,b5,b4)},unbind:function(e,b4){return this.off(e,null,b4)},delegate:function(e,b4,b6,b5){return this.on(b4,e,b6,b5)},undelegate:function(e,b4,b5){return arguments.length===1?this.off(e,"**"):this.off(b4,e||"**",b5)},trigger:function(e,b4){return this.each(function(){bK.event.trigger(e,b4,this)})},triggerHandler:function(e,b5){var b4=this[0];if(b4){return bK.event.trigger(e,b5,b4,true)}}});
/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
(function(db,ci){var cy,cc,co,cI,cK,cT,cU,dh,cW,cC,cp,ce,c0,dc,cb,cG,cE,c6="sizzle"+-(new Date()),cJ=db.document,de={},df=0,c1=0,b6=cA(),c5=cA(),cH=cA(),da=typeof ci,cO=1<<31,c8=[],c9=c8.pop,b5=c8.push,cn=c8.slice,ca=c8.indexOf||function(dj){var di=0,e=this.length;for(;di<e;di++){if(this[di]===dj){return di}}return -1},cq="[\\x20\\t\\r\\n\\f]",b4="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",cL=b4.replace("w","w#"),cj="([*^$|!~]?=)",c3="\\["+cq+"*("+b4+")"+cq+"*(?:"+cj+cq+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+cL+")|)|)"+cq+"*\\]",cl=":("+b4+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+c3.replace(3,8)+")*)|.*)\\)|)",cs=new RegExp("^"+cq+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cq+"+$","g"),cv=new RegExp("^"+cq+"*,"+cq+"*"),cB=new RegExp("^"+cq+"*([\\x20\\t\\r\\n\\f>+~])"+cq+"*"),cQ=new RegExp(cl),cR=new RegExp("^"+cL+"$"),cZ={ID:new RegExp("^#("+b4+")"),CLASS:new RegExp("^\\.("+b4+")"),NAME:new RegExp("^\\[name=['\"]?("+b4+")['\"]?\\]"),TAG:new RegExp("^("+b4.replace("w","w*")+")"),ATTR:new RegExp("^"+c3),PSEUDO:new RegExp("^"+cl),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+cq+"*(even|odd|(([+-]|)(\\d*)n|)"+cq+"*(?:([+-]|)"+cq+"*(\\d+)|))"+cq+"*\\)|)","i"),needsContext:new RegExp("^"+cq+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+cq+"*((?:-\\d)?\\d*)"+cq+"*\\)|)(?=[^-]|$)","i")},cX=/[\x20\t\r\n\f]*[+~]/,cN=/^[^{]+\{\s*\[native code/,cP=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,b9=/^(?:input|select|textarea|button)$/i,cm=/^h\d$/i,cM=/'|\\/g,cu=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,ct=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,c2=function(e,dj){var di="0x"+dj-65536;return di!==di?dj:di<0?String.fromCharCode(di+65536):String.fromCharCode(di>>10|55296,di&1023|56320)};try{cn.call(cJ.documentElement.childNodes,0)[0].nodeType}catch(cD){cn=function(di){var dj,e=[];while((dj=this[di++])){e.push(dj)}return e}}function cF(e){return cN.test(e+"")}function cA(){var e,di=[];return(e=function(dj,dk){if(di.push(dj+=" ")>co.cacheLength){delete e[di.shift()]}return(e[dj]=dk)})}function ck(e){e[c6]=true;return e}function cd(di){var dk=cC.createElement("div");try{return di(dk)}catch(dj){return false}finally{dk=null}}function cw(dq,di,du,dw){var dv,dm,dn,ds,dt,dl,dk,e,dj,dr;if((di?di.ownerDocument||di:cJ)!==cC){cW(di)}di=di||cC;du=du||[];if(!dq||typeof dq!=="string"){return du}if((ds=di.nodeType)!==1&&ds!==9){return[]}if(!ce&&!dw){if((dv=cP.exec(dq))){if((dn=dv[1])){if(ds===9){dm=di.getElementById(dn);if(dm&&dm.parentNode){if(dm.id===dn){du.push(dm);return du}}else{return du}}else{if(di.ownerDocument&&(dm=di.ownerDocument.getElementById(dn))&&cG(di,dm)&&dm.id===dn){du.push(dm);return du}}}else{if(dv[2]){b5.apply(du,cn.call(di.getElementsByTagName(dq),0));return du}else{if((dn=dv[3])&&de.getByClassName&&di.getElementsByClassName){b5.apply(du,cn.call(di.getElementsByClassName(dn),0));return du}}}}if(de.qsa&&!c0.test(dq)){dk=true;e=c6;dj=di;dr=ds===9&&dq;if(ds===1&&di.nodeName.toLowerCase()!=="object"){dl=cg(dq);if((dk=di.getAttribute("id"))){e=dk.replace(cM,"\\$&")}else{di.setAttribute("id",e)}e="[id='"+e+"'] ";dt=dl.length;while(dt--){dl[dt]=e+ch(dl[dt])}dj=cX.test(dq)&&di.parentNode||di;dr=dl.join(",")}if(dr){try{b5.apply(du,cn.call(dj.querySelectorAll(dr),0));return du}catch(dp){}finally{if(!dk){di.removeAttribute("id")}}}}}return dd(dq.replace(cs,"$1"),di,du,dw)}cK=cw.isXML=function(e){var di=e&&(e.ownerDocument||e).documentElement;return di?di.nodeName!=="HTML":false};cW=cw.setDocument=function(e){var di=e?e.ownerDocument||e:cJ;if(di===cC||di.nodeType!==9||!di.documentElement){return cC}cC=di;cp=di.documentElement;ce=cK(di);de.tagNameNoComments=cd(function(dj){dj.appendChild(di.createComment(""));return !dj.getElementsByTagName("*").length});de.attributes=cd(function(dk){dk.innerHTML="<select></select>";var dj=typeof dk.lastChild.getAttribute("multiple");return dj!=="boolean"&&dj!=="string"});de.getByClassName=cd(function(dj){dj.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!dj.getElementsByClassName||!dj.getElementsByClassName("e").length){return false}dj.lastChild.className="e";return dj.getElementsByClassName("e").length===2});de.getByName=cd(function(dk){dk.id=c6+0;dk.innerHTML="<a name='"+c6+"'></a><div name='"+c6+"'></div>";cp.insertBefore(dk,cp.firstChild);var dj=di.getElementsByName&&di.getElementsByName(c6).length===2+di.getElementsByName(c6+0).length;de.getIdNotName=!di.getElementById(c6);cp.removeChild(dk);return dj});co.attrHandle=cd(function(dj){dj.innerHTML="<a href='#'></a>";return dj.firstChild&&typeof dj.firstChild.getAttribute!==da&&dj.firstChild.getAttribute("href")==="#"})?{}:{href:function(dj){return dj.getAttribute("href",2)},type:function(dj){return dj.getAttribute("type")}};if(de.getIdNotName){co.find.ID=function(dl,dk){if(typeof dk.getElementById!==da&&!ce){var dj=dk.getElementById(dl);return dj&&dj.parentNode?[dj]:[]}};co.filter.ID=function(dk){var dj=dk.replace(ct,c2);return function(dl){return dl.getAttribute("id")===dj}}}else{co.find.ID=function(dl,dk){if(typeof dk.getElementById!==da&&!ce){var dj=dk.getElementById(dl);return dj?dj.id===dl||typeof dj.getAttributeNode!==da&&dj.getAttributeNode("id").value===dl?[dj]:ci:[]}};co.filter.ID=function(dk){var dj=dk.replace(ct,c2);return function(dm){var dl=typeof dm.getAttributeNode!==da&&dm.getAttributeNode("id");return dl&&dl.value===dj}}}co.find.TAG=de.tagNameNoComments?function(dj,dk){if(typeof dk.getElementsByTagName!==da){return dk.getElementsByTagName(dj)}}:function(dj,dn){var dp,dm=[],dl=0,dk=dn.getElementsByTagName(dj);if(dj==="*"){while((dp=dk[dl++])){if(dp.nodeType===1){dm.push(dp)}}return dm}return dk};co.find.NAME=de.getByName&&function(dj,dk){if(typeof dk.getElementsByName!==da){return dk.getElementsByName(name)}};co.find.CLASS=de.getByClassName&&function(dk,dj){if(typeof dj.getElementsByClassName!==da&&!ce){return dj.getElementsByClassName(dk)}};dc=[];c0=[":focus"];if((de.qsa=cF(di.querySelectorAll))){cd(function(dj){dj.innerHTML="<select><option selected=''></option></select>";if(!dj.querySelectorAll("[selected]").length){c0.push("\\["+cq+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)")}if(!dj.querySelectorAll(":checked").length){c0.push(":checked")}});cd(function(dj){dj.innerHTML="<input type='hidden' i=''/>";if(dj.querySelectorAll("[i^='']").length){c0.push("[*^$]="+cq+"*(?:\"\"|'')")}if(!dj.querySelectorAll(":enabled").length){c0.push(":enabled",":disabled")}dj.querySelectorAll("*,:x");c0.push(",.*:")})}if((de.matchesSelector=cF((cb=cp.matchesSelector||cp.mozMatchesSelector||cp.webkitMatchesSelector||cp.oMatchesSelector||cp.msMatchesSelector)))){cd(function(dj){de.disconnectedMatch=cb.call(dj,"div");cb.call(dj,"[s!='']:x");dc.push("!=",cl)})}c0=new RegExp(c0.join("|"));dc=new RegExp(dc.join("|"));cG=cF(cp.contains)||cp.compareDocumentPosition?function(dk,dj){var dm=dk.nodeType===9?dk.documentElement:dk,dl=dj&&dj.parentNode;return dk===dl||!!(dl&&dl.nodeType===1&&(dm.contains?dm.contains(dl):dk.compareDocumentPosition&&dk.compareDocumentPosition(dl)&16))}:function(dk,dj){if(dj){while((dj=dj.parentNode)){if(dj===dk){return true}}}return false};cE=cp.compareDocumentPosition?function(dk,dj){var dl;if(dk===dj){cU=true;return 0}if((dl=dj.compareDocumentPosition&&dk.compareDocumentPosition&&dk.compareDocumentPosition(dj))){if(dl&1||dk.parentNode&&dk.parentNode.nodeType===11){if(dk===di||cG(cJ,dk)){return -1}if(dj===di||cG(cJ,dj)){return 1}return 0}return dl&4?-1:1}return dk.compareDocumentPosition?-1:1}:function(dk,dj){var dr,dn=0,dq=dk.parentNode,dm=dj.parentNode,dl=[dk],dp=[dj];if(dk===dj){cU=true;return 0}else{if(!dq||!dm){return dk===di?-1:dj===di?1:dq?-1:dm?1:0}else{if(dq===dm){return b7(dk,dj)}}}dr=dk;while((dr=dr.parentNode)){dl.unshift(dr)}dr=dj;while((dr=dr.parentNode)){dp.unshift(dr)}while(dl[dn]===dp[dn]){dn++}return dn?b7(dl[dn],dp[dn]):dl[dn]===cJ?-1:dp[dn]===cJ?1:0};cU=false;[0,0].sort(cE);de.detectDuplicates=cU;return cC};cw.matches=function(di,e){return cw(di,null,null,e)};cw.matchesSelector=function(dj,dl){if((dj.ownerDocument||dj)!==cC){cW(dj)}dl=dl.replace(cu,"='$1']");if(de.matchesSelector&&!ce&&(!dc||!dc.test(dl))&&!c0.test(dl)){try{var di=cb.call(dj,dl);if(di||de.disconnectedMatch||dj.document&&dj.document.nodeType!==11){return di}}catch(dk){}}return cw(dl,cC,null,[dj]).length>0};cw.contains=function(e,di){if((e.ownerDocument||e)!==cC){cW(e)}return cG(e,di)};cw.attr=function(di,e){var dj;if((di.ownerDocument||di)!==cC){cW(di)}if(!ce){e=e.toLowerCase()}if((dj=co.attrHandle[e])){return dj(di)}if(ce||de.attributes){return di.getAttribute(e)}return((dj=di.getAttributeNode(e))||di.getAttribute(e))&&di[e]===true?e:dj&&dj.specified?dj.value:null};cw.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};cw.uniqueSort=function(dj){var dk,dl=[],di=1,e=0;cU=!de.detectDuplicates;dj.sort(cE);if(cU){for(;(dk=dj[di]);di++){if(dk===dj[di-1]){e=dl.push(di)}}while(e--){dj.splice(dl[e],1)}}return dj};function b7(di,e){var dk=e&&di,dj=dk&&(~e.sourceIndex||cO)-(~di.sourceIndex||cO);if(dj){return dj}if(dk){while((dk=dk.nextSibling)){if(dk===e){return -1}}}return di?1:-1}function cx(e){return function(dj){var di=dj.nodeName.toLowerCase();return di==="input"&&dj.type===e}}function b8(e){return function(dj){var di=dj.nodeName.toLowerCase();return(di==="input"||di==="button")&&dj.type===e}}function c4(e){return ck(function(di){di=+di;return ck(function(dj,dn){var dl,dk=e([],dj.length,di),dm=dk.length;while(dm--){if(dj[(dl=dk[dm])]){dj[dl]=!(dn[dl]=dj[dl])}}})})}cI=cw.getText=function(dl){var dk,di="",dj=0,e=dl.nodeType;if(!e){for(;(dk=dl[dj]);dj++){di+=cI(dk)}}else{if(e===1||e===9||e===11){if(typeof dl.textContent==="string"){return dl.textContent}else{for(dl=dl.firstChild;dl;dl=dl.nextSibling){di+=cI(dl)}}}else{if(e===3||e===4){return dl.nodeValue}}}return di};co=cw.selectors={cacheLength:50,createPseudo:ck,match:cZ,find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(ct,c2);e[3]=(e[4]||e[5]||"").replace(ct,c2);if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1].slice(0,3)==="nth"){if(!e[3]){cw.error(e[0])}e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+((e[7]+e[8])||e[3]==="odd")}else{if(e[3]){cw.error(e[0])}}return e},PSEUDO:function(di){var e,dj=!di[5]&&di[2];if(cZ.CHILD.test(di[0])){return null}if(di[4]){di[2]=di[4]}else{if(dj&&cQ.test(dj)&&(e=cg(dj,true))&&(e=dj.indexOf(")",dj.length-e)-dj.length)){di[0]=di[0].slice(0,e);di[2]=dj.slice(0,e)}}return di.slice(0,3)}},filter:{TAG:function(e){if(e==="*"){return function(){return true}}e=e.replace(ct,c2).toLowerCase();return function(di){return di.nodeName&&di.nodeName.toLowerCase()===e}},CLASS:function(e){var di=b6[e+" "];return di||(di=new RegExp("(^|"+cq+")"+e+"("+cq+"|$)"))&&b6(e,function(dj){return di.test(dj.className||(typeof dj.getAttribute!==da&&dj.getAttribute("class"))||"")})},ATTR:function(dj,di,e){return function(dl){var dk=cw.attr(dl,dj);if(dk==null){return di==="!="}if(!di){return true}dk+="";return di==="="?dk===e:di==="!="?dk!==e:di==="^="?e&&dk.indexOf(e)===0:di==="*="?e&&dk.indexOf(e)>-1:di==="$="?e&&dk.slice(-e.length)===e:di==="~="?(" "+dk+" ").indexOf(e)>-1:di==="|="?dk===e||dk.slice(0,e.length+1)===e+"-":false}},CHILD:function(di,dl,dk,dm,dj){var dp=di.slice(0,3)!=="nth",e=di.slice(-4)!=="last",dn=dl==="of-type";return dm===1&&dj===0?function(dq){return !!dq.parentNode}:function(dw,du,dz){var dq,dC,dx,dB,dy,dt,dv=dp!==e?"nextSibling":"previousSibling",dA=dw.parentNode,ds=dn&&dw.nodeName.toLowerCase(),dr=!dz&&!dn;if(dA){if(dp){while(dv){dx=dw;while((dx=dx[dv])){if(dn?dx.nodeName.toLowerCase()===ds:dx.nodeType===1){return false}}dt=dv=di==="only"&&!dt&&"nextSibling"}return true}dt=[e?dA.firstChild:dA.lastChild];if(e&&dr){dC=dA[c6]||(dA[c6]={});dq=dC[di]||[];dy=dq[0]===df&&dq[1];dB=dq[0]===df&&dq[2];dx=dy&&dA.childNodes[dy];while((dx=++dy&&dx&&dx[dv]||(dB=dy=0)||dt.pop())){if(dx.nodeType===1&&++dB&&dx===dw){dC[di]=[df,dy,dB];break}}}else{if(dr&&(dq=(dw[c6]||(dw[c6]={}))[di])&&dq[0]===df){dB=dq[1]}else{while((dx=++dy&&dx&&dx[dv]||(dB=dy=0)||dt.pop())){if((dn?dx.nodeName.toLowerCase()===ds:dx.nodeType===1)&&++dB){if(dr){(dx[c6]||(dx[c6]={}))[di]=[df,dB]}if(dx===dw){break}}}}}dB-=dj;return dB===dm||(dB%dm===0&&dB/dm>=0)}}},PSEUDO:function(dk,dj){var e,di=co.pseudos[dk]||co.setFilters[dk.toLowerCase()]||cw.error("unsupported pseudo: "+dk);if(di[c6]){return di(dj)}if(di.length>1){e=[dk,dk,"",dj];return co.setFilters.hasOwnProperty(dk.toLowerCase())?ck(function(dn,dq){var dm,dl=di(dn,dj),dp=dl.length;while(dp--){dm=ca.call(dn,dl[dp]);dn[dm]=!(dq[dm]=dl[dp])}}):function(dl){return di(dl,0,e)}}return di}},pseudos:{not:ck(function(e){var di=[],dj=[],dk=cT(e.replace(cs,"$1"));return dk[c6]?ck(function(dm,ds,dq,dn){var dr,dl=dk(dm,null,dn,[]),dp=dm.length;while(dp--){if((dr=dl[dp])){dm[dp]=!(ds[dp]=dr)}}}):function(dn,dm,dl){di[0]=dn;dk(di,null,dl,dj);return !dj.pop()}}),has:ck(function(e){return function(di){return cw(e,di).length>0}}),contains:ck(function(e){return function(di){return(di.textContent||di.innerText||cI(di)).indexOf(e)>-1}}),lang:ck(function(e){if(!cR.test(e||"")){cw.error("unsupported lang: "+e)}e=e.replace(ct,c2).toLowerCase();return function(dj){var di;do{if((di=ce?dj.getAttribute("xml:lang")||dj.getAttribute("lang"):dj.lang)){di=di.toLowerCase();return di===e||di.indexOf(e+"-")===0}}while((dj=dj.parentNode)&&dj.nodeType===1);return false}}),target:function(e){var di=db.location&&db.location.hash;return di&&di.slice(1)===e.id},root:function(e){return e===cp},focus:function(e){return e===cC.activeElement&&(!cC.hasFocus||cC.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var di=e.nodeName.toLowerCase();return(di==="input"&&!!e.checked)||(di==="option"&&!!e.selected)},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeName>"@"||e.nodeType===3||e.nodeType===4){return false}}return true},parent:function(e){return !co.pseudos.empty(e)},header:function(e){return cm.test(e.nodeName)},input:function(e){return b9.test(e.nodeName)},button:function(di){var e=di.nodeName.toLowerCase();return e==="input"&&di.type==="button"||e==="button"},text:function(di){var e;return di.nodeName.toLowerCase()==="input"&&di.type==="text"&&((e=di.getAttribute("type"))==null||e.toLowerCase()===di.type)},first:c4(function(){return[0]}),last:c4(function(e,di){return[di-1]}),eq:c4(function(e,dj,di){return[di<0?di+dj:di]}),even:c4(function(e,dj){var di=0;for(;di<dj;di+=2){e.push(di)}return e}),odd:c4(function(e,dj){var di=1;for(;di<dj;di+=2){e.push(di)}return e}),lt:c4(function(e,dk,dj){var di=dj<0?dj+dk:dj;for(;--di>=0;){e.push(di)}return e}),gt:c4(function(e,dk,dj){var di=dj<0?dj+dk:dj;for(;++di<dk;){e.push(di)}return e})}};for(cy in {radio:true,checkbox:true,file:true,password:true,image:true}){co.pseudos[cy]=cx(cy)}for(cy in {submit:true,reset:true}){co.pseudos[cy]=b8(cy)}function cg(dl,dr){var di,dm,dp,dq,dn,dj,e,dk=c5[dl+" "];if(dk){return dr?0:dk.slice(0)}dn=dl;dj=[];e=co.preFilter;while(dn){if(!di||(dm=cv.exec(dn))){if(dm){dn=dn.slice(dm[0].length)||dn}dj.push(dp=[])}di=false;if((dm=cB.exec(dn))){di=dm.shift();dp.push({value:di,type:dm[0].replace(cs," ")});dn=dn.slice(di.length)}for(dq in co.filter){if((dm=cZ[dq].exec(dn))&&(!e[dq]||(dm=e[dq](dm)))){di=dm.shift();dp.push({value:di,type:dq,matches:dm});dn=dn.slice(di.length)}}if(!di){break}}return dr?dn.length:dn?cw.error(dl):c5(dl,dj).slice(0)}function ch(dk){var dj=0,di=dk.length,e="";for(;dj<di;dj++){e+=dk[dj].value}return e}function cr(dl,dj,dk){var e=dj.dir,dm=dk&&e==="parentNode",di=c1++;return dj.first?function(dq,dp,dn){while((dq=dq[e])){if(dq.nodeType===1||dm){return dl(dq,dp,dn)}}}:function(ds,dq,dp){var du,dn,dr,dt=df+" "+di;if(dp){while((ds=ds[e])){if(ds.nodeType===1||dm){if(dl(ds,dq,dp)){return true}}}}else{while((ds=ds[e])){if(ds.nodeType===1||dm){dr=ds[c6]||(ds[c6]={});if((dn=dr[e])&&dn[0]===dt){if((du=dn[1])===true||du===cc){return du===true}}else{dn=dr[e]=[dt];dn[1]=dl(ds,dq,dp)||cc;if(dn[1]===true){return true}}}}}}}function dg(e){return e.length>1?function(dl,dk,di){var dj=e.length;while(dj--){if(!e[dj](dl,dk,di)){return false}}return true}:e[0]}function cY(e,di,dj,dk,dn){var dl,dr=[],dm=0,dp=e.length,dq=di!=null;for(;dm<dp;dm++){if((dl=e[dm])){if(!dj||dj(dl,dk,dn)){dr.push(dl);if(dq){di.push(dm)}}}}return dr}function cf(dj,di,dl,dk,dm,e){if(dk&&!dk[c6]){dk=cf(dk)}if(dm&&!dm[c6]){dm=cf(dm,e)}return ck(function(dy,dv,dq,dx){var dA,dw,ds,dr=[],dz=[],dp=dv.length,dn=dy||cz(di||"*",dq.nodeType?[dq]:dq,[]),dt=dj&&(dy||!di)?cY(dn,dr,dj,dq,dx):dn,du=dl?dm||(dy?dj:dp||dk)?[]:dv:dt;if(dl){dl(dt,du,dq,dx)}if(dk){dA=cY(du,dz);dk(dA,[],dq,dx);dw=dA.length;while(dw--){if((ds=dA[dw])){du[dz[dw]]=!(dt[dz[dw]]=ds)}}}if(dy){if(dm||dj){if(dm){dA=[];dw=du.length;while(dw--){if((ds=du[dw])){dA.push((dt[dw]=ds))}}dm(null,(du=[]),dA,dx)}dw=du.length;while(dw--){if((ds=du[dw])&&(dA=dm?ca.call(dy,ds):dr[dw])>-1){dy[dA]=!(dv[dA]=ds)}}}}else{du=cY(du===dv?du.splice(dp,du.length):du);if(dm){dm(null,dv,du,dx)}else{b5.apply(dv,du)}}})}function c7(dn){var di,dl,dj,dm=dn.length,dr=co.relative[dn[0].type],ds=dr||co.relative[" "],dk=dr?1:0,dp=cr(function(dt){return dt===di},ds,true),dq=cr(function(dt){return ca.call(di,dt)>-1},ds,true),e=[function(dv,du,dt){return(!dr&&(dt||du!==dh))||((di=du).nodeType?dp(dv,du,dt):dq(dv,du,dt))}];for(;dk<dm;dk++){if((dl=co.relative[dn[dk].type])){e=[cr(dg(e),dl)]}else{dl=co.filter[dn[dk].type].apply(null,dn[dk].matches);if(dl[c6]){dj=++dk;for(;dj<dm;dj++){if(co.relative[dn[dj].type]){break}}return cf(dk>1&&dg(e),dk>1&&ch(dn.slice(0,dk-1)).replace(cs,"$1"),dl,dk<dj&&c7(dn.slice(dk,dj)),dj<dm&&c7((dn=dn.slice(dj))),dj<dm&&ch(dn))}e.push(dl)}}return dg(e)}function cV(dk,dj){var dm=0,e=dj.length>0,dl=dk.length>0,di=function(dx,dr,dw,dv,dD){var ds,dt,dy,dC=[],dB=0,du="0",dn=dx&&[],dz=dD!=null,dA=dh,dq=dx||dl&&co.find.TAG("*",dD&&dr.parentNode||dr),dp=(df+=dA==null?1:Math.random()||0.1);if(dz){dh=dr!==cC&&dr;cc=dm}for(;(ds=dq[du])!=null;du++){if(dl&&ds){dt=0;while((dy=dk[dt++])){if(dy(ds,dr,dw)){dv.push(ds);break}}if(dz){df=dp;cc=++dm}}if(e){if((ds=!dy&&ds)){dB--}if(dx){dn.push(ds)}}}dB+=du;if(e&&du!==dB){dt=0;while((dy=dj[dt++])){dy(dn,dC,dr,dw)}if(dx){if(dB>0){while(du--){if(!(dn[du]||dC[du])){dC[du]=c9.call(dv)}}}dC=cY(dC)}b5.apply(dv,dC);if(dz&&!dx&&dC.length>0&&(dB+dj.length)>1){cw.uniqueSort(dv)}}if(dz){df=dp;dh=dA}return dn};return e?ck(di):di}cT=cw.compile=function(e,dm){var dj,di=[],dl=[],dk=cH[e+" "];if(!dk){if(!dm){dm=cg(e)}dj=dm.length;while(dj--){dk=c7(dm[dj]);if(dk[c6]){di.push(dk)}else{dl.push(dk)}}dk=cH(e,cV(dl,di))}return dk};function cz(di,dl,dk){var dj=0,e=dl.length;for(;dj<e;dj++){cw(di,dl[dj],dk)}return dk}function dd(dj,e,dk,dn){var dl,dq,di,dr,dp,dm=cg(dj);if(!dn){if(dm.length===1){dq=dm[0]=dm[0].slice(0);if(dq.length>2&&(di=dq[0]).type==="ID"&&e.nodeType===9&&!ce&&co.relative[dq[1].type]){e=co.find.ID(di.matches[0].replace(ct,c2),e)[0];if(!e){return dk}dj=dj.slice(dq.shift().value.length)}dl=cZ.needsContext.test(dj)?0:dq.length;while(dl--){di=dq[dl];if(co.relative[(dr=di.type)]){break}if((dp=co.find[dr])){if((dn=dp(di.matches[0].replace(ct,c2),cX.test(dq[0].type)&&e.parentNode||e))){dq.splice(dl,1);dj=dn.length&&ch(dq);if(!dj){b5.apply(dk,cn.call(dn,0));return dk}break}}}}}cT(dj,dm)(dn,e,ce,dk,cX.test(dj));return dk}co.pseudos.nth=co.pseudos.eq;function cS(){}co.filters=cS.prototype=co.pseudos;co.setFilters=new cS();cW();cw.attr=bK.attr;bK.find=cw;bK.expr=cw.selectors;bK.expr[":"]=bK.expr.pseudos;bK.unique=cw.uniqueSort;bK.text=cw.getText;bK.isXMLDoc=cw.isXML;bK.contains=cw.contains})(a3);var ak=/Until$/,bu=/^(?:parents|prev(?:Until|All))/,ao=/^.[^:#\[\.,]*$/,z=bK.expr.match.needsContext,by={children:true,contents:true,next:true,prev:true};bK.fn.extend({find:function(b4){var b7,b6,b5,e=this.length;if(typeof b4!=="string"){b5=this;return this.pushStack(bK(b4).filter(function(){for(b7=0;b7<e;b7++){if(bK.contains(b5[b7],this)){return true}}}))}b6=[];for(b7=0;b7<e;b7++){bK.find(b4,this[b7],b6)}b6=this.pushStack(e>1?bK.unique(b6):b6);b6.selector=(this.selector?this.selector+" ":"")+b4;return b6},has:function(b6){var b5,b4=bK(b6,this),e=b4.length;return this.filter(function(){for(b5=0;b5<e;b5++){if(bK.contains(this,b4[b5])){return true}}})},not:function(e){return this.pushStack(aP(this,e,false))},filter:function(e){return this.pushStack(aP(this,e,true))},is:function(e){return !!e&&(typeof e==="string"?z.test(e)?bK(e,this.context).index(this[0])>=0:bK.filter(e,this).length>0:this.filter(e).length>0)},closest:function(b7,b6){var b8,b5=0,e=this.length,b4=[],b9=z.test(b7)||typeof b7!=="string"?bK(b7,b6||this.context):0;for(;b5<e;b5++){b8=this[b5];while(b8&&b8.ownerDocument&&b8!==b6&&b8.nodeType!==11){if(b9?b9.index(b8)>-1:bK.find.matchesSelector(b8,b7)){b4.push(b8);break}b8=b8.parentNode}}return this.pushStack(b4.length>1?bK.unique(b4):b4)},index:function(e){if(!e){return(this[0]&&this[0].parentNode)?this.first().prevAll().length:-1}if(typeof e==="string"){return bK.inArray(this[0],bK(e))}return bK.inArray(e.jquery?e[0]:e,this)},add:function(e,b4){var b6=typeof e==="string"?bK(e,b4):bK.makeArray(e&&e.nodeType?[e]:e),b5=bK.merge(this.get(),b6);return this.pushStack(bK.unique(b5))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});bK.fn.andSelf=bK.fn.addBack;function aY(b4,e){do{b4=b4[e]}while(b4&&b4.nodeType!==1);return b4}bK.each({parent:function(b4){var e=b4.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return bK.dir(e,"parentNode")},parentsUntil:function(b4,e,b5){return bK.dir(b4,"parentNode",b5)},next:function(e){return aY(e,"nextSibling")},prev:function(e){return aY(e,"previousSibling")},nextAll:function(e){return bK.dir(e,"nextSibling")},prevAll:function(e){return bK.dir(e,"previousSibling")},nextUntil:function(b4,e,b5){return bK.dir(b4,"nextSibling",b5)},prevUntil:function(b4,e,b5){return bK.dir(b4,"previousSibling",b5)},siblings:function(e){return bK.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return bK.sibling(e.firstChild)},contents:function(e){return bK.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:bK.merge([],e.childNodes)}},function(e,b4){bK.fn[e]=function(b7,b5){var b6=bK.map(this,b4,b7);if(!ak.test(e)){b5=b7}if(b5&&typeof b5==="string"){b6=bK.filter(b5,b6)}b6=this.length>1&&!by[e]?bK.unique(b6):b6;if(this.length>1&&bu.test(e)){b6=b6.reverse()}return this.pushStack(b6)}});bK.extend({filter:function(b5,e,b4){if(b4){b5=":not("+b5+")"}return e.length===1?bK.find.matchesSelector(e[0],b5)?[e[0]]:[]:bK.find.matches(b5,e)},dir:function(b5,b4,b7){var e=[],b6=b5[b4];while(b6&&b6.nodeType!==9&&(b7===aH||b6.nodeType!==1||!bK(b6).is(b7))){if(b6.nodeType===1){e.push(b6)}b6=b6[b4]}return e},sibling:function(b5,b4){var e=[];for(;b5;b5=b5.nextSibling){if(b5.nodeType===1&&b5!==b4){e.push(b5)}}return e}});function aP(b6,b5,e){b5=b5||0;if(bK.isFunction(b5)){return bK.grep(b6,function(b8,b7){var b9=!!b5.call(b8,b7,b8);return b9===e})}else{if(b5.nodeType){return bK.grep(b6,function(b7){return(b7===b5)===e})}else{if(typeof b5==="string"){var b4=bK.grep(b6,function(b7){return b7.nodeType===1});if(ao.test(b5)){return bK.filter(b5,b4,!e)}else{b5=bK.filter(b5,b4)}}}}return bK.grep(b6,function(b7){return(bK.inArray(b7,b5)>=0)===e})}function B(e){var b5=d.split("|"),b4=e.createDocumentFragment();if(b4.createElement){while(b5.length){b4.createElement(b5.pop())}}return b4}var d="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",aB=/ jQuery\d+="(?:null|\d+)"/g,K=new RegExp("<(?:"+d+")[\\s/>]","i"),b3=/^\s+/,aE=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,n=/<([\w:]+)/,bY=/<tbody/i,J=/<|&#?\w+;/,am=/<(?:script|style|link)/i,r=/^(?:checkbox|radio)$/i,bV=/checked\s*(?:[^=]|=\s*.checked.)/i,bA=/^$|\/(?:java|ecma)script/i,at=/^true\/(.*)/,aL=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,U={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:bK.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},aT=B(m),k=aT.appendChild(m.createElement("div"));U.optgroup=U.option;U.tbody=U.tfoot=U.colgroup=U.caption=U.thead;U.th=U.td;bK.fn.extend({text:function(e){return bK.access(this,function(b4){return b4===aH?bK.text(this):this.empty().append((this[0]&&this[0].ownerDocument||m).createTextNode(b4))},null,e,arguments.length)},wrapAll:function(e){if(bK.isFunction(e)){return this.each(function(b5){bK(this).wrapAll(e.call(this,b5))})}if(this[0]){var b4=bK(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){b4.insertBefore(this[0])}b4.map(function(){var b5=this;while(b5.firstChild&&b5.firstChild.nodeType===1){b5=b5.firstChild}return b5}).append(this)}return this},wrapInner:function(e){if(bK.isFunction(e)){return this.each(function(b4){bK(this).wrapInner(e.call(this,b4))})}return this.each(function(){var b4=bK(this),b5=b4.contents();if(b5.length){b5.wrapAll(e)}else{b4.append(e)}})},wrap:function(e){var b4=bK.isFunction(e);return this.each(function(b5){bK(this).wrapAll(b4?e.call(this,b5):e)})},unwrap:function(){return this.parent().each(function(){if(!bK.nodeName(this,"body")){bK(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.appendChild(e)}})},prepend:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.insertBefore(e,this.firstChild)}})},before:function(){return this.domManip(arguments,false,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this)}})},after:function(){return this.domManip(arguments,false,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this.nextSibling)}})},remove:function(e,b6){var b5,b4=0;for(;(b5=this[b4])!=null;b4++){if(!e||bK.filter(e,[b5]).length>0){if(!b6&&b5.nodeType===1){bK.cleanData(l(b5))}if(b5.parentNode){if(b6&&bK.contains(b5.ownerDocument,b5)){bt(l(b5,"script"))}b5.parentNode.removeChild(b5)}}}return this},empty:function(){var b4,e=0;for(;(b4=this[e])!=null;e++){if(b4.nodeType===1){bK.cleanData(l(b4,false))}while(b4.firstChild){b4.removeChild(b4.firstChild)}if(b4.options&&bK.nodeName(b4,"select")){b4.options.length=0}}return this},clone:function(b4,e){b4=b4==null?false:b4;e=e==null?b4:e;return this.map(function(){return bK.clone(this,b4,e)})},html:function(e){return bK.access(this,function(b7){var b6=this[0]||{},b5=0,b4=this.length;if(b7===aH){return b6.nodeType===1?b6.innerHTML.replace(aB,""):aH}if(typeof b7==="string"&&!am.test(b7)&&(bK.support.htmlSerialize||!K.test(b7))&&(bK.support.leadingWhitespace||!b3.test(b7))&&!U[(n.exec(b7)||["",""])[1].toLowerCase()]){b7=b7.replace(aE,"<$1></$2>");try{for(;b5<b4;b5++){b6=this[b5]||{};if(b6.nodeType===1){bK.cleanData(l(b6,false));b6.innerHTML=b7}}b6=0}catch(b8){}}if(b6){this.empty().append(b7)}},null,e,arguments.length)},replaceWith:function(b4){var e=bK.isFunction(b4);if(!e&&typeof b4!=="string"){b4=bK(b4).not(this).detach()}return this.domManip([b4],true,function(b7){var b6=this.nextSibling,b5=this.parentNode;if(b5){bK(this).remove();b5.insertBefore(b7,b6)}})},detach:function(e){return this.remove(e,true)},domManip:function(cb,ch,cg){cb=aJ.apply([],cb);var b9,b5,e,b7,ce,ca,b8=0,b6=this.length,cd=this,cf=b6-1,cc=cb[0],b4=bK.isFunction(cc);if(b4||!(b6<=1||typeof cc!=="string"||bK.support.checkClone||!bV.test(cc))){return this.each(function(cj){var ci=cd.eq(cj);if(b4){cb[0]=cc.call(this,cj,ch?ci.html():aH)}ci.domManip(cb,ch,cg)})}if(b6){ca=bK.buildFragment(cb,this[0].ownerDocument,false,this);b9=ca.firstChild;if(ca.childNodes.length===1){ca=b9}if(b9){ch=ch&&bK.nodeName(b9,"tr");b7=bK.map(l(ca,"script"),u);e=b7.length;for(;b8<b6;b8++){b5=ca;if(b8!==cf){b5=bK.clone(b5,true,true);if(e){bK.merge(b7,l(b5,"script"))}}cg.call(ch&&bK.nodeName(this[b8],"table")?y(this[b8],"tbody"):this[b8],b5,b8)}if(e){ce=b7[b7.length-1].ownerDocument;bK.map(b7,bd);for(b8=0;b8<e;b8++){b5=b7[b8];if(bA.test(b5.type||"")&&!bK._data(b5,"globalEval")&&bK.contains(ce,b5)){if(b5.src){bK.ajax({url:b5.src,type:"GET",dataType:"script",async:false,global:false,"throws":true})}else{bK.globalEval((b5.text||b5.textContent||b5.innerHTML||"").replace(aL,""))}}}}ca=b9=null}}return this}});function y(b4,e){return b4.getElementsByTagName(e)[0]||b4.appendChild(b4.ownerDocument.createElement(e))}function u(b4){var e=b4.getAttributeNode("type");b4.type=(e&&e.specified)+"/"+b4.type;return b4}function bd(b4){var e=at.exec(b4.type);if(e){b4.type=e[1]}else{b4.removeAttribute("type")}return b4}function bt(e,b5){var b6,b4=0;for(;(b6=e[b4])!=null;b4++){bK._data(b6,"globalEval",!b5||bK._data(b5[b4],"globalEval"))}}function au(ca,b4){if(b4.nodeType!==1||!bK.hasData(ca)){return}var b7,b6,e,b9=bK._data(ca),b8=bK._data(b4,b9),b5=b9.events;if(b5){delete b8.handle;b8.events={};for(b7 in b5){for(b6=0,e=b5[b7].length;b6<e;b6++){bK.event.add(b4,b7,b5[b7][b6])}}}if(b8.data){b8.data=bK.extend({},b8.data)}}function R(b7,b4){var b8,b6,b5;if(b4.nodeType!==1){return}b8=b4.nodeName.toLowerCase();if(!bK.support.noCloneEvent&&b4[bK.expando]){b5=bK._data(b4);for(b6 in b5.events){bK.removeEvent(b4,b6,b5.handle)}b4.removeAttribute(bK.expando)}if(b8==="script"&&b4.text!==b7.text){u(b4).text=b7.text;bd(b4)}else{if(b8==="object"){if(b4.parentNode){b4.outerHTML=b7.outerHTML}if(bK.support.html5Clone&&(b7.innerHTML&&!bK.trim(b4.innerHTML))){b4.innerHTML=b7.innerHTML}}else{if(b8==="input"&&r.test(b7.type)){b4.defaultChecked=b4.checked=b7.checked;if(b4.value!==b7.value){b4.value=b7.value}}else{if(b8==="option"){b4.defaultSelected=b4.selected=b7.defaultSelected}else{if(b8==="input"||b8==="textarea"){b4.defaultValue=b7.defaultValue}}}}}}bK.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,b4){bK.fn[e]=function(b5){var b6,b8=0,b7=[],ca=bK(b5),b9=ca.length-1;for(;b8<=b9;b8++){b6=b8===b9?this:this.clone(true);bK(ca[b8])[b4](b6);ap.apply(b7,b6.get())}return this.pushStack(b7)}});function l(b6,e){var b4,b7,b5=0,b8=typeof b6.getElementsByTagName!==aD?b6.getElementsByTagName(e||"*"):typeof b6.querySelectorAll!==aD?b6.querySelectorAll(e||"*"):aH;if(!b8){for(b8=[],b4=b6.childNodes||b6;(b7=b4[b5])!=null;b5++){if(!e||bK.nodeName(b7,e)){b8.push(b7)}else{bK.merge(b8,l(b7,e))}}}return e===aH||e&&bK.nodeName(b6,e)?bK.merge([b6],b8):b8}function bW(e){if(r.test(e.type)){e.defaultChecked=e.checked}}bK.extend({clone:function(b4,b6,e){var b8,b5,cb,b7,b9,ca=bK.contains(b4.ownerDocument,b4);if(bK.support.html5Clone||bK.isXMLDoc(b4)||!K.test("<"+b4.nodeName+">")){cb=b4.cloneNode(true)}else{k.innerHTML=b4.outerHTML;k.removeChild(cb=k.firstChild)}if((!bK.support.noCloneEvent||!bK.support.noCloneChecked)&&(b4.nodeType===1||b4.nodeType===11)&&!bK.isXMLDoc(b4)){b8=l(cb);b9=l(b4);for(b7=0;(b5=b9[b7])!=null;++b7){if(b8[b7]){R(b5,b8[b7])}}}if(b6){if(e){b9=b9||l(b4);b8=b8||l(cb);for(b7=0;(b5=b9[b7])!=null;b7++){au(b5,b8[b7])}}else{au(b4,cb)}}b8=l(cb,"script");if(b8.length>0){bt(b8,!ca&&l(b4,"script"))}b8=b9=b5=null;return cb},buildFragment:function(b4,b6,cb,cg){var cc,b8,ca,cf,ch,ce,b5,b9=b4.length,b7=B(b6),e=[],cd=0;for(;cd<b9;cd++){b8=b4[cd];if(b8||b8===0){if(bK.type(b8)==="object"){bK.merge(e,b8.nodeType?[b8]:b8)}else{if(!J.test(b8)){e.push(b6.createTextNode(b8))}else{cf=cf||b7.appendChild(b6.createElement("div"));ch=(n.exec(b8)||["",""])[1].toLowerCase();b5=U[ch]||U._default;cf.innerHTML=b5[1]+b8.replace(aE,"<$1></$2>")+b5[2];cc=b5[0];while(cc--){cf=cf.lastChild}if(!bK.support.leadingWhitespace&&b3.test(b8)){e.push(b6.createTextNode(b3.exec(b8)[0]))}if(!bK.support.tbody){b8=ch==="table"&&!bY.test(b8)?cf.firstChild:b5[1]==="<table>"&&!bY.test(b8)?cf:0;cc=b8&&b8.childNodes.length;while(cc--){if(bK.nodeName((ce=b8.childNodes[cc]),"tbody")&&!ce.childNodes.length){b8.removeChild(ce)}}}bK.merge(e,cf.childNodes);cf.textContent="";while(cf.firstChild){cf.removeChild(cf.firstChild)}cf=b7.lastChild}}}}if(cf){b7.removeChild(cf)}if(!bK.support.appendChecked){bK.grep(l(e,"input"),bW)}cd=0;while((b8=e[cd++])){if(cg&&bK.inArray(b8,cg)!==-1){continue}ca=bK.contains(b8.ownerDocument,b8);cf=l(b7.appendChild(b8),"script");if(ca){bt(cf)}if(cb){cc=0;while((b8=cf[cc++])){if(bA.test(b8.type||"")){cb.push(b8)}}}}cf=null;return b7},cleanData:function(b4,cc){var b6,cb,b5,b7,b8=0,cd=bK.expando,e=bK.cache,b9=bK.support.deleteExpando,ca=bK.event.special;for(;(b6=b4[b8])!=null;b8++){if(cc||bK.acceptData(b6)){b5=b6[cd];b7=b5&&e[b5];if(b7){if(b7.events){for(cb in b7.events){if(ca[cb]){bK.event.remove(b6,cb)}else{bK.removeEvent(b6,cb,b7.handle)}}}if(e[b5]){delete e[b5];if(b9){delete b6[cd]}else{if(typeof b6.removeAttribute!==aD){b6.removeAttribute(cd)}else{b6[cd]=null}}a7.push(b5)}}}}}});var aF,bp,F,bh=/alpha\([^)]*\)/i,aU=/opacity\s*=\s*([^)]*)/,bo=/^(top|right|bottom|left)$/,G=/^(none|table(?!-c[ea]).+)/,aZ=/^margin/,ba=new RegExp("^("+bB+")(.*)$","i"),X=new RegExp("^("+bB+")(?!px)[a-z%]+$","i"),T=new RegExp("^([+-])=("+bB+")","i"),bk={BODY:"block"},bc={position:"absolute",visibility:"hidden",display:"block"},bD={letterSpacing:0,fontWeight:400},bU=["Top","Right","Bottom","Left"],aw=["Webkit","O","Moz","ms"];function b(b6,b4){if(b4 in b6){return b4}var b7=b4.charAt(0).toUpperCase()+b4.slice(1),e=b4,b5=aw.length;while(b5--){b4=aw[b5]+b7;if(b4 in b6){return b4}}return e}function Q(b4,e){b4=e||b4;return bK.css(b4,"display")==="none"||!bK.contains(b4.ownerDocument,b4)}function q(b9,e){var ca,b7,b8,b4=[],b5=0,b6=b9.length;for(;b5<b6;b5++){b7=b9[b5];if(!b7.style){continue}b4[b5]=bK._data(b7,"olddisplay");ca=b7.style.display;if(e){if(!b4[b5]&&ca==="none"){b7.style.display=""}if(b7.style.display===""&&Q(b7)){b4[b5]=bK._data(b7,"olddisplay",bF(b7.nodeName))}}else{if(!b4[b5]){b8=Q(b7);if(ca&&ca!=="none"||!b8){bK._data(b7,"olddisplay",b8?ca:bK.css(b7,"display"))}}}}for(b5=0;b5<b6;b5++){b7=b9[b5];if(!b7.style){continue}if(!e||b7.style.display==="none"||b7.style.display===""){b7.style.display=e?b4[b5]||"":"none"}}return b9}bK.fn.extend({css:function(e,b4){return bK.access(this,function(b9,b6,ca){var b5,b8,cb={},b7=0;if(bK.isArray(b6)){b8=bp(b9);b5=b6.length;for(;b7<b5;b7++){cb[b6[b7]]=bK.css(b9,b6[b7],false,b8)}return cb}return ca!==aH?bK.style(b9,b6,ca):bK.css(b9,b6)},e,b4,arguments.length>1)},show:function(){return q(this,true)},hide:function(){return q(this)},toggle:function(b4){var e=typeof b4==="boolean";return this.each(function(){if(e?b4:Q(this)){bK(this).show()}else{bK(this).hide()}})}});bK.extend({cssHooks:{opacity:{get:function(b5,b4){if(b4){var e=F(b5,"opacity");return e===""?"1":e}}}},cssNumber:{columnCount:true,fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":bK.support.cssFloat?"cssFloat":"styleFloat"},style:function(b6,b5,cc,b7){if(!b6||b6.nodeType===3||b6.nodeType===8||!b6.style){return}var ca,cb,cd,b8=bK.camelCase(b5),b4=b6.style;b5=bK.cssProps[b8]||(bK.cssProps[b8]=b(b4,b8));cd=bK.cssHooks[b5]||bK.cssHooks[b8];if(cc!==aH){cb=typeof cc;if(cb==="string"&&(ca=T.exec(cc))){cc=(ca[1]+1)*ca[2]+parseFloat(bK.css(b6,b5));cb="number"}if(cc==null||cb==="number"&&isNaN(cc)){return}if(cb==="number"&&!bK.cssNumber[b8]){cc+="px"}if(!bK.support.clearCloneStyle&&cc===""&&b5.indexOf("background")===0){b4[b5]="inherit"}if(!cd||!("set" in cd)||(cc=cd.set(b6,cc,b7))!==aH){try{b4[b5]=cc}catch(b9){}}}else{if(cd&&"get" in cd&&(ca=cd.get(b6,false,b7))!==aH){return ca}return b4[b5]}},css:function(b9,b7,b4,b8){var b6,ca,e,b5=bK.camelCase(b7);b7=bK.cssProps[b5]||(bK.cssProps[b5]=b(b9.style,b5));e=bK.cssHooks[b7]||bK.cssHooks[b5];if(e&&"get" in e){ca=e.get(b9,true,b4)}if(ca===aH){ca=F(b9,b7,b8)}if(ca==="normal"&&b7 in bD){ca=bD[b7]}if(b4===""||b4){b6=parseFloat(ca);return b4===true||bK.isNumeric(b6)?b6||0:ca}return ca},swap:function(b8,b7,b9,b6){var b5,b4,e={};for(b4 in b7){e[b4]=b8.style[b4];b8.style[b4]=b7[b4]}b5=b9.apply(b8,b6||[]);for(b4 in b7){b8.style[b4]=e[b4]}return b5}});if(a3.getComputedStyle){bp=function(e){return a3.getComputedStyle(e,null)};F=function(b7,b5,b9){var b6,b4,cb,b8=b9||bp(b7),ca=b8?b8.getPropertyValue(b5)||b8[b5]:aH,e=b7.style;if(b8){if(ca===""&&!bK.contains(b7.ownerDocument,b7)){ca=bK.style(b7,b5)}if(X.test(ca)&&aZ.test(b5)){b6=e.width;b4=e.minWidth;cb=e.maxWidth;e.minWidth=e.maxWidth=e.width=ca;ca=b8.width;e.width=b6;e.minWidth=b4;e.maxWidth=cb}}return ca}}else{if(m.documentElement.currentStyle){bp=function(e){return e.currentStyle};F=function(b6,b4,b9){var b5,b8,ca,b7=b9||bp(b6),cb=b7?b7[b4]:aH,e=b6.style;if(cb==null&&e&&e[b4]){cb=e[b4]}if(X.test(cb)&&!bo.test(b4)){b5=e.left;b8=b6.runtimeStyle;ca=b8&&b8.left;if(ca){b8.left=b6.currentStyle.left}e.left=b4==="fontSize"?"1em":cb;cb=e.pixelLeft+"px";e.left=b5;if(ca){b8.left=ca}}return cb===""?"auto":cb}}}function aK(e,b5,b6){var b4=ba.exec(b5);return b4?Math.max(0,b4[1]-(b6||0))+(b4[2]||"px"):b5}function ax(b7,b4,e,b9,b6){var b5=e===(b9?"border":"content")?4:b4==="width"?1:0,b8=0;for(;b5<4;b5+=2){if(e==="margin"){b8+=bK.css(b7,e+bU[b5],true,b6)}if(b9){if(e==="content"){b8-=bK.css(b7,"padding"+bU[b5],true,b6)}if(e!=="margin"){b8-=bK.css(b7,"border"+bU[b5]+"Width",true,b6)}}else{b8+=bK.css(b7,"padding"+bU[b5],true,b6);if(e!=="padding"){b8+=bK.css(b7,"border"+bU[b5]+"Width",true,b6)}}}return b8}function v(b7,b4,e){var b6=true,b8=b4==="width"?b7.offsetWidth:b7.offsetHeight,b5=bp(b7),b9=bK.support.boxSizing&&bK.css(b7,"boxSizing",false,b5)==="border-box";if(b8<=0||b8==null){b8=F(b7,b4,b5);if(b8<0||b8==null){b8=b7.style[b4]}if(X.test(b8)){return b8}b6=b9&&(bK.support.boxSizingReliable||b8===b7.style[b4]);b8=parseFloat(b8)||0}return(b8+ax(b7,b4,e||(b9?"border":"content"),b6,b5))+"px"}function bF(b5){var b4=m,e=bk[b5];if(!e){e=a2(b5,b4);if(e==="none"||!e){aF=(aF||bK("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b4.documentElement);b4=(aF[0].contentWindow||aF[0].contentDocument).document;b4.write("<!doctype html><html><body>");b4.close();e=a2(b5,b4);aF.detach()}bk[b5]=e}return e}function a2(e,b6){var b4=bK(b6.createElement(e)).appendTo(b6.body),b5=bK.css(b4[0],"display");b4.remove();return b5}bK.each(["height","width"],function(b4,e){bK.cssHooks[e]={get:function(b7,b6,b5){if(b6){return b7.offsetWidth===0&&G.test(bK.css(b7,"display"))?bK.swap(b7,bc,function(){return v(b7,e,b5)}):v(b7,e,b5)}},set:function(b7,b8,b5){var b6=b5&&bp(b7);return aK(b7,b8,b5?ax(b7,e,b5,bK.support.boxSizing&&bK.css(b7,"boxSizing",false,b6)==="border-box",b6):0)}}});if(!bK.support.opacity){bK.cssHooks.opacity={get:function(b4,e){return aU.test((e&&b4.currentStyle?b4.currentStyle.filter:b4.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":e?"1":""},set:function(b7,b8){var b6=b7.style,b4=b7.currentStyle,e=bK.isNumeric(b8)?"alpha(opacity="+b8*100+")":"",b5=b4&&b4.filter||b6.filter||"";b6.zoom=1;if((b8>=1||b8==="")&&bK.trim(b5.replace(bh,""))===""&&b6.removeAttribute){b6.removeAttribute("filter");if(b8===""||b4&&!b4.filter){return}}b6.filter=bh.test(b5)?b5.replace(bh,e):b5+" "+e}}}bK(function(){if(!bK.support.reliableMarginRight){bK.cssHooks.marginRight={get:function(b4,e){if(e){return bK.swap(b4,{display:"inline-block"},F,[b4,"marginRight"])}}}}if(!bK.support.pixelPosition&&bK.fn.position){bK.each(["top","left"],function(e,b4){bK.cssHooks[b4]={get:function(b6,b5){if(b5){b5=F(b6,b4);return X.test(b5)?bK(b6).position()[b4]+"px":b5}}}})}});if(bK.expr&&bK.expr.filters){bK.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||(!bK.support.reliableHiddenOffsets&&((e.style&&e.style.display)||bK.css(e,"display"))==="none")};bK.expr.filters.visible=function(e){return !bK.expr.filters.hidden(e)}}bK.each({margin:"",padding:"",border:"Width"},function(e,b4){bK.cssHooks[e+b4]={expand:function(b7){var b6=0,b5={},b8=typeof b7==="string"?b7.split(" "):[b7];for(;b6<4;b6++){b5[e+bU[b6]+b4]=b8[b6]||b8[b6-2]||b8[0]}return b5}};if(!aZ.test(e)){bK.cssHooks[e+b4].set=aK}});var bw=/%20/g,aS=/\[\]$/,V=/\r?\n/g,c=/^(?:submit|button|image|reset|file)$/i,av=/^(?:input|select|textarea|keygen)/i;bK.fn.extend({serialize:function(){return bK.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=bK.prop(this,"elements");return e?bK.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!bK(this).is(":disabled")&&av.test(this.nodeName)&&!c.test(e)&&(this.checked||!r.test(e))}).map(function(e,b4){var b5=bK(this).val();return b5==null?null:bK.isArray(b5)?bK.map(b5,function(b6){return{name:b4.name,value:b6.replace(V,"\r\n")}}):{name:b4.name,value:b5.replace(V,"\r\n")}}).get()}});bK.param=function(e,b5){var b6,b4=[],b7=function(b8,b9){b9=bK.isFunction(b9)?b9():(b9==null?"":b9);b4[b4.length]=encodeURIComponent(b8)+"="+encodeURIComponent(b9)};if(b5===aH){b5=bK.ajaxSettings&&bK.ajaxSettings.traditional}if(bK.isArray(e)||(e.jquery&&!bK.isPlainObject(e))){bK.each(e,function(){b7(this.name,this.value)})}else{for(b6 in e){j(b6,e[b6],b5,b7)}}return b4.join("&").replace(bw,"+")};function j(b5,b7,b4,b6){var e;if(bK.isArray(b7)){bK.each(b7,function(b9,b8){if(b4||aS.test(b5)){b6(b5,b8)}else{j(b5+"["+(typeof b8==="object"?b9:"")+"]",b8,b4,b6)}})}else{if(!b4&&bK.type(b7)==="object"){for(e in b7){j(b5+"["+e+"]",b7[e],b4,b6)}}else{b6(b5,b7)}}}bK.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(b4,e){bK.fn[e]=function(b6,b5){return arguments.length>0?this.on(e,null,b6,b5):this.trigger(e)}});bK.fn.hover=function(e,b4){return this.mouseenter(e).mouseleave(b4||e)};var b2,Z,bP=bK.now(),aA=/\?/,aq=/#.*$/,P=/([?&])_=[^&]*/,ah=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,C=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,p=/^(?:GET|HEAD)$/,aI=/^\/\//,aV=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,b1=bK.fn.load,w={},a8={},aX="*/".concat("*");try{Z=aM.href}catch(bg){Z=m.createElement("a");Z.href="";Z=Z.href}b2=aV.exec(Z.toLowerCase())||[];function bM(e){return function(b7,b8){if(typeof b7!=="string"){b8=b7;b7="*"}var b4,b5=0,b6=b7.toLowerCase().match(ad)||[];if(bK.isFunction(b8)){while((b4=b6[b5++])){if(b4[0]==="+"){b4=b4.slice(1)||"*";(e[b4]=e[b4]||[]).unshift(b8)}else{(e[b4]=e[b4]||[]).push(b8)}}}}}function o(e,b5,b9,b6){var b4={},b7=(e===a8);function b8(ca){var cb;b4[ca]=true;bK.each(e[ca]||[],function(cd,cc){var ce=cc(b5,b9,b6);if(typeof ce==="string"&&!b7&&!b4[ce]){b5.dataTypes.unshift(ce);b8(ce);return false}else{if(b7){return !(cb=ce)}}});return cb}return b8(b5.dataTypes[0])||!b4["*"]&&b8("*")}function s(b5,b6){var e,b4,b7=bK.ajaxSettings.flatOptions||{};for(b4 in b6){if(b6[b4]!==aH){(b7[b4]?b5:(e||(e={})))[b4]=b6[b4]}}if(e){bK.extend(true,b5,e)}return b5}bK.fn.load=function(b6,b9,ca){if(typeof b6!=="string"&&b1){return b1.apply(this,arguments)}var e,b5,b7,b4=this,b8=b6.indexOf(" ");if(b8>=0){e=b6.slice(b8,b6.length);b6=b6.slice(0,b8)}if(bK.isFunction(b9)){ca=b9;b9=aH}else{if(b9&&typeof b9==="object"){b7="POST"}}if(b4.length>0){bK.ajax({url:b6,type:b7,dataType:"html",data:b9}).done(function(cb){b5=arguments;b4.html(e?bK("<div>").append(bK.parseHTML(cb)).find(e):cb)}).complete(ca&&function(cc,cb){b4.each(ca,b5||[cc.responseText,cb,cc])})}return this};bK.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,b4){bK.fn[b4]=function(b5){return this.on(b4,b5)}});bK.each(["get","post"],function(e,b4){bK[b4]=function(b5,b7,b8,b6){if(bK.isFunction(b7)){b6=b6||b8;b8=b7;b7=aH}return bK.ajax({url:b5,type:b4,dataType:b6,data:b7,success:b8})}});bK.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Z,type:"GET",isLocal:C.test(b2[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":aX,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a3.String,"text html":true,"text json":bK.parseJSON,"text xml":bK.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(b4,e){return e?s(s(b4,bK.ajaxSettings),e):s(bK.ajaxSettings,b4)},ajaxPrefilter:bM(w),ajaxTransport:bM(a8),ajax:function(b8,b5){if(typeof b8==="object"){b5=b8;b8=aH}b5=b5||{};var ch,cj,b9,co,cd,b4,ck,b6,cc=bK.ajaxSetup({},b5),cq=cc.context||cc,cf=cc.context&&(cq.nodeType||cq.jquery)?bK(cq):bK.event,cp=bK.Deferred(),cm=bK.Callbacks("once memory"),ca=cc.statusCode||{},cg={},cn={},b7=0,cb="canceled",ci={readyState:0,getResponseHeader:function(cr){var e;if(b7===2){if(!b6){b6={};while((e=ah.exec(co))){b6[e[1].toLowerCase()]=e[2]}}e=b6[cr.toLowerCase()]}return e==null?null:e},getAllResponseHeaders:function(){return b7===2?co:null},setRequestHeader:function(cr,cs){var e=cr.toLowerCase();if(!b7){cr=cn[e]=cn[e]||cr;cg[cr]=cs}return this},overrideMimeType:function(e){if(!b7){cc.mimeType=e}return this},statusCode:function(cr){var e;if(cr){if(b7<2){for(e in cr){ca[e]=[ca[e],cr[e]]}}else{ci.always(cr[ci.status])}}return this},abort:function(cr){var e=cr||cb;if(ck){ck.abort(e)}ce(0,e);return this}};cp.promise(ci).complete=cm.add;ci.success=ci.done;ci.error=ci.fail;cc.url=((b8||cc.url||Z)+"").replace(aq,"").replace(aI,b2[1]+"//");cc.type=b5.method||b5.type||cc.method||cc.type;cc.dataTypes=bK.trim(cc.dataType||"*").toLowerCase().match(ad)||[""];if(cc.crossDomain==null){ch=aV.exec(cc.url.toLowerCase());cc.crossDomain=!!(ch&&(ch[1]!==b2[1]||ch[2]!==b2[2]||(ch[3]||(ch[1]==="http:"?80:443))!=(b2[3]||(b2[1]==="http:"?80:443))))}if(cc.data&&cc.processData&&typeof cc.data!=="string"){cc.data=bK.param(cc.data,cc.traditional)}o(w,cc,b5,ci);if(b7===2){return ci}b4=cc.global;if(b4&&bK.active++===0){bK.event.trigger("ajaxStart")}cc.type=cc.type.toUpperCase();cc.hasContent=!p.test(cc.type);b9=cc.url;if(!cc.hasContent){if(cc.data){b9=(cc.url+=(aA.test(b9)?"&":"?")+cc.data);delete cc.data}if(cc.cache===false){cc.url=P.test(b9)?b9.replace(P,"$1_="+bP++):b9+(aA.test(b9)?"&":"?")+"_="+bP++}}if(cc.ifModified){if(bK.lastModified[b9]){ci.setRequestHeader("If-Modified-Since",bK.lastModified[b9])}if(bK.etag[b9]){ci.setRequestHeader("If-None-Match",bK.etag[b9])}}if(cc.data&&cc.hasContent&&cc.contentType!==false||b5.contentType){ci.setRequestHeader("Content-Type",cc.contentType)}ci.setRequestHeader("Accept",cc.dataTypes[0]&&cc.accepts[cc.dataTypes[0]]?cc.accepts[cc.dataTypes[0]]+(cc.dataTypes[0]!=="*"?", "+aX+"; q=0.01":""):cc.accepts["*"]);for(cj in cc.headers){ci.setRequestHeader(cj,cc.headers[cj])}if(cc.beforeSend&&(cc.beforeSend.call(cq,ci,cc)===false||b7===2)){return ci.abort()}cb="abort";for(cj in {success:1,error:1,complete:1}){ci[cj](cc[cj])}ck=o(a8,cc,b5,ci);if(!ck){ce(-1,"No Transport")}else{ci.readyState=1;if(b4){cf.trigger("ajaxSend",[ci,cc])}if(cc.async&&cc.timeout>0){cd=setTimeout(function(){ci.abort("timeout")},cc.timeout)}try{b7=1;ck.send(cg,ce)}catch(cl){if(b7<2){ce(-1,cl)}else{throw cl}}}function ce(cv,cr,cw,ct){var e,cz,cx,cu,cy,cs=cr;if(b7===2){return}b7=2;if(cd){clearTimeout(cd)}ck=aH;co=ct||"";ci.readyState=cv>0?4:0;if(cw){cu=g(cc,ci,cw)}if(cv>=200&&cv<300||cv===304){if(cc.ifModified){cy=ci.getResponseHeader("Last-Modified");if(cy){bK.lastModified[b9]=cy}cy=ci.getResponseHeader("etag");if(cy){bK.etag[b9]=cy}}if(cv===204){e=true;cs="nocontent"}else{if(cv===304){e=true;cs="notmodified"}else{e=ag(cc,cu);cs=e.state;cz=e.data;cx=e.error;e=!cx}}}else{cx=cs;if(cv||!cs){cs="error";if(cv<0){cv=0}}}ci.status=cv;ci.statusText=(cr||cs)+"";if(e){cp.resolveWith(cq,[cz,cs,ci])}else{cp.rejectWith(cq,[ci,cs,cx])}ci.statusCode(ca);ca=aH;if(b4){cf.trigger(e?"ajaxSuccess":"ajaxError",[ci,cc,e?cz:cx])}cm.fireWith(cq,[ci,cs]);if(b4){cf.trigger("ajaxComplete",[ci,cc]);if(!(--bK.active)){bK.event.trigger("ajaxStop")}}}return ci},getScript:function(e,b4){return bK.get(e,aH,b4,"script")},getJSON:function(e,b4,b5){return bK.get(e,b4,b5,"json")}});function g(cc,cb,b8){var e,b7,b6,b9,b4=cc.contents,ca=cc.dataTypes,b5=cc.responseFields;for(b9 in b5){if(b9 in b8){cb[b5[b9]]=b8[b9]}}while(ca[0]==="*"){ca.shift();if(b7===aH){b7=cc.mimeType||cb.getResponseHeader("Content-Type")}}if(b7){for(b9 in b4){if(b4[b9]&&b4[b9].test(b7)){ca.unshift(b9);break}}}if(ca[0] in b8){b6=ca[0]}else{for(b9 in b8){if(!ca[0]||cc.converters[b9+" "+ca[0]]){b6=b9;break}if(!e){e=b9}}b6=b6||e}if(b6){if(b6!==ca[0]){ca.unshift(b6)}return b8[b6]}}function ag(ce,b6){var b4,ca,cc,b7,cd={},b8=0,cb=ce.dataTypes.slice(),b5=cb[0];if(ce.dataFilter){b6=ce.dataFilter(b6,ce.dataType)}if(cb[1]){for(cc in ce.converters){cd[cc.toLowerCase()]=ce.converters[cc]}}for(;(ca=cb[++b8]);){if(ca!=="*"){if(b5!=="*"&&b5!==ca){cc=cd[b5+" "+ca]||cd["* "+ca];if(!cc){for(b4 in cd){b7=b4.split(" ");if(b7[1]===ca){cc=cd[b5+" "+b7[0]]||cd["* "+b7[0]];if(cc){if(cc===true){cc=cd[b4]}else{if(cd[b4]!==true){ca=b7[0];cb.splice(b8--,0,ca)}}break}}}}if(cc!==true){if(cc&&ce["throws"]){b6=cc(b6)}else{try{b6=cc(b6)}catch(b9){return{state:"parsererror",error:cc?b9:"No conversion from "+b5+" to "+ca}}}}}b5=ca}}return{state:"success",data:b6}}bK.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){bK.globalEval(e);return e}}});bK.ajaxPrefilter("script",function(e){if(e.cache===aH){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});bK.ajaxTransport("script",function(b5){if(b5.crossDomain){var e,b4=m.head||bK("head")[0]||m.documentElement;return{send:function(b6,b7){e=m.createElement("script");e.async=true;if(b5.scriptCharset){e.charset=b5.scriptCharset}e.src=b5.url;e.onload=e.onreadystatechange=function(b9,b8){if(b8||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(e.parentNode){e.parentNode.removeChild(e)}e=null;if(!b8){b7(200,"success")}}};b4.insertBefore(e,b4.firstChild)},abort:function(){if(e){e.onload(aH,true)}}}}});var br=[],a6=/(=)\?(?=&|$)|\?\?/;bK.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=br.pop()||(bK.expando+"_"+(bP++));this[e]=true;return e}});bK.ajaxPrefilter("json jsonp",function(b6,e,b7){var b9,b4,b5,b8=b6.jsonp!==false&&(a6.test(b6.url)?"url":typeof b6.data==="string"&&!(b6.contentType||"").indexOf("application/x-www-form-urlencoded")&&a6.test(b6.data)&&"data");if(b8||b6.dataTypes[0]==="jsonp"){b9=b6.jsonpCallback=bK.isFunction(b6.jsonpCallback)?b6.jsonpCallback():b6.jsonpCallback;if(b8){b6[b8]=b6[b8].replace(a6,"$1"+b9)}else{if(b6.jsonp!==false){b6.url+=(aA.test(b6.url)?"&":"?")+b6.jsonp+"="+b9}}b6.converters["script json"]=function(){if(!b5){bK.error(b9+" was not called")}return b5[0]};b6.dataTypes[0]="json";b4=a3[b9];a3[b9]=function(){b5=arguments};b7.always(function(){a3[b9]=b4;if(b6[b9]){b6.jsonpCallback=e.jsonpCallback;br.push(b9)}if(b5&&bK.isFunction(b4)){b4(b5[0])}b5=b4=aH});return"script"}});var ai,ay,az=0,aQ=a3.ActiveXObject&&function(){var e;for(e in ai){ai[e](aH,true)}};function bE(){try{return new a3.XMLHttpRequest()}catch(b4){}}function be(){try{return new a3.ActiveXObject("Microsoft.XMLHTTP")}catch(b4){}}bK.ajaxSettings.xhr=a3.ActiveXObject?function(){return !this.isLocal&&bE()||be()}:bE;ay=bK.ajaxSettings.xhr();bK.support.cors=!!ay&&("withCredentials" in ay);ay=bK.support.ajax=!!ay;if(ay){bK.ajaxTransport(function(e){if(!e.crossDomain||bK.support.cors){var b4;return{send:function(ca,b5){var b8,b6,b9=e.xhr();if(e.username){b9.open(e.type,e.url,e.async,e.username,e.password)}else{b9.open(e.type,e.url,e.async)}if(e.xhrFields){for(b6 in e.xhrFields){b9[b6]=e.xhrFields[b6]}}if(e.mimeType&&b9.overrideMimeType){b9.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!ca["X-Requested-With"]){ca["X-Requested-With"]="XMLHttpRequest"}try{for(b6 in ca){b9.setRequestHeader(b6,ca[b6])}}catch(b7){}b9.send((e.hasContent&&e.data)||null);b4=function(cd,cc){var cb,ce,ch,cf;try{if(b4&&(cc||b9.readyState===4)){b4=aH;if(b8){b9.onreadystatechange=bK.noop;if(aQ){delete ai[b8]}}if(cc){if(b9.readyState!==4){b9.abort()}}else{cf={};cb=b9.status;ce=b9.getAllResponseHeaders();if(typeof b9.responseText==="string"){cf.text=b9.responseText}try{ch=b9.statusText}catch(cg){ch=""}if(!cb&&e.isLocal&&!e.crossDomain){cb=cf.text?200:404}else{if(cb===1223){cb=204}}}}}catch(ci){if(!cc){b5(-1,ci)}}if(cf){b5(cb,ch,cf,ce)}};if(!e.async){b4()}else{if(b9.readyState===4){setTimeout(b4)}else{b8=++az;if(aQ){if(!ai){ai={};bK(a3).unload(aQ)}ai[b8]=b4}b9.onreadystatechange=b4}}},abort:function(){if(b4){b4(aH,true)}}}}})}var L,ae,bS=/^(?:toggle|show|hide)$/,bL=new RegExp("^(?:([+-])=|)("+bB+")([a-z%]*)$","i"),bR=/queueHooks$/,aC=[h],a1={"*":[function(e,ca){var b6,cb,cc=this.createTween(e,ca),b7=bL.exec(ca),b8=cc.cur(),b4=+b8||0,b5=1,b9=20;if(b7){b6=+b7[2];cb=b7[3]||(bK.cssNumber[e]?"":"px");if(cb!=="px"&&b4){b4=bK.css(cc.elem,e,true)||b6||1;do{b5=b5||".5";b4=b4/b5;bK.style(cc.elem,e,b4+cb)}while(b5!==(b5=cc.cur()/b8)&&b5!==1&&--b9)}cc.unit=cb;cc.start=b4;cc.end=b7[1]?b4+(b7[1]+1)*b6:b6}return cc}]};function bn(){setTimeout(function(){L=aH});return(L=bK.now())}function bf(b4,e){bK.each(e,function(b9,b7){var b8=(a1[b9]||[]).concat(a1["*"]),b5=0,b6=b8.length;for(;b5<b6;b5++){if(b8[b5].call(b4,b9,b7)){return}}})}function f(b5,b9,cc){var cd,e,b8=0,b4=aC.length,cb=bK.Deferred().always(function(){delete b7.elem}),b7=function(){if(e){return false}var cj=L||bn(),cg=Math.max(0,b6.startTime+b6.duration-cj),ce=cg/b6.duration||0,ci=1-ce,cf=0,ch=b6.tweens.length;for(;cf<ch;cf++){b6.tweens[cf].run(ci)}cb.notifyWith(b5,[b6,ci,cg]);if(ci<1&&ch){return cg}else{cb.resolveWith(b5,[b6]);return false}},b6=cb.promise({elem:b5,props:bK.extend({},b9),opts:bK.extend(true,{specialEasing:{}},cc),originalProperties:b9,originalOptions:cc,startTime:L||bn(),duration:cc.duration,tweens:[],createTween:function(cg,ce){var cf=bK.Tween(b5,b6.opts,cg,ce,b6.opts.specialEasing[cg]||b6.opts.easing);b6.tweens.push(cf);return cf},stop:function(cf){var ce=0,cg=cf?b6.tweens.length:0;if(e){return this}e=true;for(;ce<cg;ce++){b6.tweens[ce].run(1)}if(cf){cb.resolveWith(b5,[b6,cf])}else{cb.rejectWith(b5,[b6,cf])}return this}}),ca=b6.props;an(ca,b6.opts.specialEasing);for(;b8<b4;b8++){cd=aC[b8].call(b6,b5,ca,b6.opts);if(cd){return cd}}bf(b6,ca);if(bK.isFunction(b6.opts.start)){b6.opts.start.call(b5,b6)}bK.fx.timer(bK.extend(b7,{elem:b5,anim:b6,queue:b6.opts.queue}));return b6.progress(b6.opts.progress).done(b6.opts.done,b6.opts.complete).fail(b6.opts.fail).always(b6.opts.always)}function an(b6,b8){var b7,b5,b4,b9,e;for(b4 in b6){b5=bK.camelCase(b4);b9=b8[b5];b7=b6[b4];if(bK.isArray(b7)){b9=b7[1];b7=b6[b4]=b7[0]}if(b4!==b5){b6[b5]=b7;delete b6[b4]}e=bK.cssHooks[b5];if(e&&"expand" in e){b7=e.expand(b7);delete b6[b5];for(b4 in b7){if(!(b4 in b6)){b6[b4]=b7[b4];b8[b4]=b9}}}else{b8[b5]=b9}}}bK.Animation=bK.extend(f,{tweener:function(b4,b7){if(bK.isFunction(b4)){b7=b4;b4=["*"]}else{b4=b4.split(" ")}var b6,e=0,b5=b4.length;for(;e<b5;e++){b6=b4[e];a1[b6]=a1[b6]||[];a1[b6].unshift(b7)}},prefilter:function(b4,e){if(e){aC.unshift(b4)}else{aC.push(b4)}}});function h(b7,cd,e){var b5,cc,b6,cf,cj,b9,ci,ch,cg,b8=this,b4=b7.style,ce={},cb=[],ca=b7.nodeType&&Q(b7);if(!e.queue){ch=bK._queueHooks(b7,"fx");if(ch.unqueued==null){ch.unqueued=0;cg=ch.empty.fire;ch.empty.fire=function(){if(!ch.unqueued){cg()}}}ch.unqueued++;b8.always(function(){b8.always(function(){ch.unqueued--;if(!bK.queue(b7,"fx").length){ch.empty.fire()}})})}if(b7.nodeType===1&&("height" in cd||"width" in cd)){e.overflow=[b4.overflow,b4.overflowX,b4.overflowY];if(bK.css(b7,"display")==="inline"&&bK.css(b7,"float")==="none"){if(!bK.support.inlineBlockNeedsLayout||bF(b7.nodeName)==="inline"){b4.display="inline-block"}else{b4.zoom=1}}}if(e.overflow){b4.overflow="hidden";if(!bK.support.shrinkWrapBlocks){b8.always(function(){b4.overflow=e.overflow[0];b4.overflowX=e.overflow[1];b4.overflowY=e.overflow[2]})}}for(cc in cd){cf=cd[cc];if(bS.exec(cf)){delete cd[cc];b9=b9||cf==="toggle";if(cf===(ca?"hide":"show")){continue}cb.push(cc)}}b6=cb.length;if(b6){cj=bK._data(b7,"fxshow")||bK._data(b7,"fxshow",{});if("hidden" in cj){ca=cj.hidden}if(b9){cj.hidden=!ca}if(ca){bK(b7).show()}else{b8.done(function(){bK(b7).hide()})}b8.done(function(){var ck;bK._removeData(b7,"fxshow");for(ck in ce){bK.style(b7,ck,ce[ck])}});for(cc=0;cc<b6;cc++){b5=cb[cc];ci=b8.createTween(b5,ca?cj[b5]:0);ce[b5]=cj[b5]||bK.style(b7,b5);if(!(b5 in cj)){cj[b5]=ci.start;if(ca){ci.end=ci.start;ci.start=b5==="width"||b5==="height"?1:0}}}}}function H(b5,b4,b7,e,b6){return new H.prototype.init(b5,b4,b7,e,b6)}bK.Tween=H;H.prototype={constructor:H,init:function(b6,b4,b8,e,b7,b5){this.elem=b6;this.prop=b8;this.easing=b7||"swing";this.options=b4;this.start=this.now=this.cur();this.end=e;this.unit=b5||(bK.cssNumber[b8]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(b5){var b4,e=H.propHooks[this.prop];if(this.options.duration){this.pos=b4=bK.easing[this.easing](b5,this.options.duration*b5,0,1,this.options.duration)}else{this.pos=b4=b5}this.now=(this.end-this.start)*b4+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(e&&e.set){e.set(this)}else{H.propHooks._default.set(this)}return this}};H.prototype.init.prototype=H.prototype;H.propHooks={_default:{get:function(b4){var e;if(b4.elem[b4.prop]!=null&&(!b4.elem.style||b4.elem.style[b4.prop]==null)){return b4.elem[b4.prop]}e=bK.css(b4.elem,b4.prop,"");return !e||e==="auto"?0:e},set:function(e){if(bK.fx.step[e.prop]){bK.fx.step[e.prop](e)}else{if(e.elem.style&&(e.elem.style[bK.cssProps[e.prop]]!=null||bK.cssHooks[e.prop])){bK.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}}};H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};bK.each(["toggle","show","hide"],function(b4,e){var b5=bK.fn[e];bK.fn[e]=function(b6,b8,b7){return b6==null||typeof b6==="boolean"?b5.apply(this,arguments):this.animate(bJ(e,true),b6,b8,b7)}});bK.fn.extend({fadeTo:function(e,b6,b5,b4){return this.filter(Q).css("opacity",0).show().end().animate({opacity:b6},e,b5,b4)},animate:function(b9,b6,b8,b7){var b5=bK.isEmptyObject(b9),e=bK.speed(b6,b8,b7),b4=function(){var ca=f(this,bK.extend({},b9),e);b4.finish=function(){ca.stop(true)};if(b5||bK._data(this,"finish")){ca.stop(true)}};b4.finish=b4;return b5||e.queue===false?this.each(b4):this.queue(e.queue,b4)},stop:function(b5,b4,e){var b6=function(b7){var b8=b7.stop;delete b7.stop;b8(e)};if(typeof b5!=="string"){e=b4;b4=b5;b5=aH}if(b4&&b5!==false){this.queue(b5||"fx",[])}return this.each(function(){var ca=true,b7=b5!=null&&b5+"queueHooks",b9=bK.timers,b8=bK._data(this);if(b7){if(b8[b7]&&b8[b7].stop){b6(b8[b7])}}else{for(b7 in b8){if(b8[b7]&&b8[b7].stop&&bR.test(b7)){b6(b8[b7])}}}for(b7=b9.length;b7--;){if(b9[b7].elem===this&&(b5==null||b9[b7].queue===b5)){b9[b7].anim.stop(e);ca=false;b9.splice(b7,1)}}if(ca||!e){bK.dequeue(this,b5)}})},finish:function(e){if(e!==false){e=e||"fx"}return this.each(function(){var b6,b9=bK._data(this),b5=b9[e+"queue"],b4=b9[e+"queueHooks"],b8=bK.timers,b7=b5?b5.length:0;b9.finish=true;bK.queue(this,e,[]);if(b4&&b4.cur&&b4.cur.finish){b4.cur.finish.call(this)}for(b6=b8.length;b6--;){if(b8[b6].elem===this&&b8[b6].queue===e){b8[b6].anim.stop(true);b8.splice(b6,1)}}for(b6=0;b6<b7;b6++){if(b5[b6]&&b5[b6].finish){b5[b6].finish.call(this)}}delete b9.finish})}});function bJ(b5,b7){var b6,e={height:b5},b4=0;b7=b7?1:0;for(;b4<4;b4+=2-b7){b6=bU[b4];e["margin"+b6]=e["padding"+b6]=b5}if(b7){e.opacity=e.width=b5}return e}bK.each({slideDown:bJ("show"),slideUp:bJ("hide"),slideToggle:bJ("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,b4){bK.fn[e]=function(b5,b7,b6){return this.animate(b4,b5,b7,b6)}});bK.speed=function(b5,b6,b4){var e=b5&&typeof b5==="object"?bK.extend({},b5):{complete:b4||!b4&&b6||bK.isFunction(b5)&&b5,duration:b5,easing:b4&&b6||b6&&!bK.isFunction(b6)&&b6};e.duration=bK.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in bK.fx.speeds?bK.fx.speeds[e.duration]:bK.fx.speeds._default;if(e.queue==null||e.queue===true){e.queue="fx"}e.old=e.complete;e.complete=function(){if(bK.isFunction(e.old)){e.old.call(this)}if(e.queue){bK.dequeue(this,e.queue)}};return e};bK.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}};bK.timers=[];bK.fx=H.prototype.init;bK.fx.tick=function(){var b5,b4=bK.timers,e=0;L=bK.now();for(;e<b4.length;e++){b5=b4[e];if(!b5()&&b4[e]===b5){b4.splice(e--,1)}}if(!b4.length){bK.fx.stop()}L=aH};bK.fx.timer=function(e){if(e()&&bK.timers.push(e)){bK.fx.start()}};bK.fx.interval=13;bK.fx.start=function(){if(!ae){ae=setInterval(bK.fx.tick,bK.fx.interval)}};bK.fx.stop=function(){clearInterval(ae);ae=null};bK.fx.speeds={slow:600,fast:200,_default:400};bK.fx.step={};if(bK.expr&&bK.expr.filters){bK.expr.filters.animated=function(e){return bK.grep(bK.timers,function(b4){return e===b4.elem}).length}}bK.fn.offset=function(b4){if(arguments.length){return b4===aH?this:this.each(function(b9){bK.offset.setOffset(this,b4,b9)})}var e,b8,b6={top:0,left:0},b5=this[0],b7=b5&&b5.ownerDocument;if(!b7){return}e=b7.documentElement;if(!bK.contains(e,b5)){return b6}if(typeof b5.getBoundingClientRect!==aD){b6=b5.getBoundingClientRect()}b8=bq(b7);return{top:b6.top+(b8.pageYOffset||e.scrollTop)-(e.clientTop||0),left:b6.left+(b8.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}};bK.offset={setOffset:function(b6,cf,b9){var ca=bK.css(b6,"position");if(ca==="static"){b6.style.position="relative"}var b8=bK(b6),b4=b8.offset(),e=bK.css(b6,"top"),cd=bK.css(b6,"left"),ce=(ca==="absolute"||ca==="fixed")&&bK.inArray("auto",[e,cd])>-1,cc={},cb={},b5,b7;if(ce){cb=b8.position();b5=cb.top;b7=cb.left}else{b5=parseFloat(e)||0;b7=parseFloat(cd)||0}if(bK.isFunction(cf)){cf=cf.call(b6,b9,b4)}if(cf.top!=null){cc.top=(cf.top-b4.top)+b5}if(cf.left!=null){cc.left=(cf.left-b4.left)+b7}if("using" in cf){cf.using.call(b6,cc)}else{b8.css(cc)}}};bK.fn.extend({position:function(){if(!this[0]){return}var b5,b6,e={top:0,left:0},b4=this[0];if(bK.css(b4,"position")==="fixed"){b6=b4.getBoundingClientRect()}else{b5=this.offsetParent();b6=this.offset();if(!bK.nodeName(b5[0],"html")){e=b5.offset()}e.top+=bK.css(b5[0],"borderTopWidth",true);e.left+=bK.css(b5[0],"borderLeftWidth",true)}return{top:b6.top-e.top-bK.css(b4,"marginTop",true),left:b6.left-e.left-bK.css(b4,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||m.documentElement;while(e&&(!bK.nodeName(e,"html")&&bK.css(e,"position")==="static")){e=e.offsetParent}return e||m.documentElement})}});bK.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b5,b4){var e=/Y/.test(b4);bK.fn[b5]=function(b6){return bK.access(this,function(b7,ca,b9){var b8=bq(b7);if(b9===aH){return b8?(b4 in b8)?b8[b4]:b8.document.documentElement[ca]:b7[ca]}if(b8){b8.scrollTo(!e?b9:bK(b8).scrollLeft(),e?b9:bK(b8).scrollTop())}else{b7[ca]=b9}},b5,b6,arguments.length,null)}});function bq(e){return bK.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}bK.each({Height:"height",Width:"width"},function(e,b4){bK.each({padding:"inner"+e,content:b4,"":"outer"+e},function(b5,b6){bK.fn[b6]=function(ca,b9){var b8=arguments.length&&(b5||typeof ca!=="boolean"),b7=b5||(ca===true||b9===true?"margin":"border");return bK.access(this,function(cc,cb,cd){var ce;if(bK.isWindow(cc)){return cc.document.documentElement["client"+e]}if(cc.nodeType===9){ce=cc.documentElement;return Math.max(cc.body["scroll"+e],ce["scroll"+e],cc.body["offset"+e],ce["offset"+e],ce["client"+e])}return cd===aH?bK.css(cc,cb,b7):bK.style(cc,cb,cd,b7)},b4,b8?ca:aH,b8,null)}})});a3.jQuery=a3.$=bK;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return bK})}})(window);
/*! jQuery UI - v1.10.2 - 2013-03-23
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.dialog.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js
* Copyright 2013 jQuery Foundation and other contributors Licensed MIT */
(function(b,f){var a=0,e=/^ui-id-\d+$/;b.ui=b.ui||{};b.extend(b.ui,{version:"1.10.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});b.fn.extend({focus:(function(g){return function(h,j){return typeof h==="number"?this.each(function(){var k=this;setTimeout(function(){b(k).focus();if(j){j.call(k)}},h)}):g.apply(this,arguments)}})(b.fn.focus),scrollParent:function(){var g;if((b.ui.ie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){g=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(b.css(this,"position"))&&(/(auto|scroll)/).test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0)}else{g=this.parents().filter(function(){return(/(auto|scroll)/).test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0)}return(/fixed/).test(this.css("position"))||!g.length?b(document):g},zIndex:function(k){if(k!==f){return this.css("zIndex",k)}if(this.length){var h=b(this[0]),g,j;while(h.length&&h[0]!==document){g=h.css("position");if(g==="absolute"||g==="relative"||g==="fixed"){j=parseInt(h.css("zIndex"),10);if(!isNaN(j)&&j!==0){return j}}h=h.parent()}}return 0},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++a)}})},removeUniqueId:function(){return this.each(function(){if(e.test(this.id)){b(this).removeAttr("id")}})}});function d(j,g){var l,k,h,m=j.nodeName.toLowerCase();if("area"===m){l=j.parentNode;k=l.name;if(!j.href||!k||l.nodeName.toLowerCase()!=="map"){return false}h=b("img[usemap=#"+k+"]")[0];return !!h&&c(h)}return(/input|select|textarea|button|object/.test(m)?!j.disabled:"a"===m?j.href||g:g)&&c(j)}function c(g){return b.expr.filters.visible(g)&&!b(g).parents().addBack().filter(function(){return b.css(this,"visibility")==="hidden"}).length}b.extend(b.expr[":"],{data:b.expr.createPseudo?b.expr.createPseudo(function(g){return function(h){return !!b.data(h,g)}}):function(j,h,g){return !!b.data(j,g[3])},focusable:function(g){return d(g,!isNaN(b.attr(g,"tabindex")))},tabbable:function(j){var g=b.attr(j,"tabindex"),h=isNaN(g);return(h||g>=0)&&d(j,!h)}});if(!b("<a>").outerWidth(1).jquery){b.each(["Width","Height"],function(j,g){var h=g==="Width"?["Left","Right"]:["Top","Bottom"],k=g.toLowerCase(),m={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};function l(p,o,n,q){b.each(h,function(){o-=parseFloat(b.css(p,"padding"+this))||0;if(n){o-=parseFloat(b.css(p,"border"+this+"Width"))||0}if(q){o-=parseFloat(b.css(p,"margin"+this))||0}});return o}b.fn["inner"+g]=function(n){if(n===f){return m["inner"+g].call(this)}return this.each(function(){b(this).css(k,l(this,n)+"px")})};b.fn["outer"+g]=function(n,o){if(typeof n!=="number"){return m["outer"+g].call(this,n)}return this.each(function(){b(this).css(k,l(this,n,true,o)+"px")})}})}if(!b.fn.addBack){b.fn.addBack=function(g){return this.add(g==null?this.prevObject:this.prevObject.filter(g))}}if(b("<a>").data("a-b","a").removeData("a-b").data("a-b")){b.fn.removeData=(function(g){return function(h){if(arguments.length){return g.call(this,b.camelCase(h))}else{return g.call(this)}}})(b.fn.removeData)}b.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());b.support.selectstart="onselectstart" in document.createElement("div");b.fn.extend({disableSelection:function(){return this.bind((b.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(g){g.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});b.extend(b.ui,{plugin:{add:function(h,j,l){var g,k=b.ui[h].prototype;for(g in l){k.plugins[g]=k.plugins[g]||[];k.plugins[g].push([j,l[g]])}},call:function(g,j,h){var k,l=g.plugins[j];if(!l||!g.element[0].parentNode||g.element[0].parentNode.nodeType===11){return}for(k=0;k<l.length;k++){if(g.options[l[k][0]]){l[k][1].apply(g.element,h)}}}},hasScroll:function(k,h){if(b(k).css("overflow")==="hidden"){return false}var g=(h&&h==="left")?"scrollLeft":"scrollTop",j=false;if(k[g]>0){return true}k[g]=1;j=(k[g]>0);k[g]=0;return j}})})(jQuery);(function(b,e){var a=0,d=Array.prototype.slice,c=b.cleanData;b.cleanData=function(f){for(var g=0,h;(h=f[g])!=null;g++){try{b(h).triggerHandler("remove")}catch(j){}}c(f)};b.widget=function(f,g,o){var l,m,j,n,h={},k=f.split(".")[0];f=f.split(".")[1];l=k+"-"+f;if(!o){o=g;g=b.Widget}b.expr[":"][l.toLowerCase()]=function(p){return !!b.data(p,l)};b[k]=b[k]||{};m=b[k][f];j=b[k][f]=function(p,q){if(!this._createWidget){return new j(p,q)}if(arguments.length){this._createWidget(p,q)}};b.extend(j,m,{version:o.version,_proto:b.extend({},o),_childConstructors:[]});n=new g();n.options=b.widget.extend({},n.options);b.each(o,function(q,p){if(!b.isFunction(p)){h[q]=p;return}h[q]=(function(){var r=function(){return g.prototype[q].apply(this,arguments)},s=function(t){return g.prototype[q].apply(this,t)};return function(){var v=this._super,t=this._superApply,u;this._super=r;this._superApply=s;u=p.apply(this,arguments);this._super=v;this._superApply=t;return u}})()});j.prototype=b.widget.extend(n,{widgetEventPrefix:m?n.widgetEventPrefix:f},h,{constructor:j,namespace:k,widgetName:f,widgetFullName:l});if(m){b.each(m._childConstructors,function(q,r){var p=r.prototype;b.widget(p.namespace+"."+p.widgetName,j,r._proto)});delete m._childConstructors}else{g._childConstructors.push(j)}b.widget.bridge(f,j)};b.widget.extend=function(l){var g=d.call(arguments,1),k=0,f=g.length,h,j;for(;k<f;k++){for(h in g[k]){j=g[k][h];if(g[k].hasOwnProperty(h)&&j!==e){if(b.isPlainObject(j)){l[h]=b.isPlainObject(l[h])?b.widget.extend({},l[h],j):b.widget.extend({},j)}else{l[h]=j}}}}return l};b.widget.bridge=function(g,f){var h=f.prototype.widgetFullName||g;b.fn[g]=function(l){var j=typeof l==="string",k=d.call(arguments,1),m=this;l=!j&&k.length?b.widget.extend.apply(null,[l].concat(k)):l;if(j){this.each(function(){var o,n=b.data(this,h);if(!n){return b.error("cannot call methods on "+g+" prior to initialization; attempted to call method '"+l+"'")}if(!b.isFunction(n[l])||l.charAt(0)==="_"){return b.error("no such method '"+l+"' for "+g+" widget instance")}o=n[l].apply(n,k);if(o!==n&&o!==e){m=o&&o.jquery?m.pushStack(o.get()):o;return false}})}else{this.each(function(){var n=b.data(this,h);if(n){n.option(l||{})._init()}else{b.data(this,h,new f(l,this))}})}return m}};b.Widget=function(){};b.Widget._childConstructors=[];b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(f,g){g=b(g||this.defaultElement||this)[0];this.element=b(g);this.uuid=a++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=b.widget.extend({},this.options,this._getCreateOptions(),f);this.bindings=b();this.hoverable=b();this.focusable=b();if(g!==this){b.data(g,this.widgetFullName,this);this._on(true,this.element,{remove:function(h){if(h.target===g){this.destroy()}}});this.document=b(g.style?g.ownerDocument:g.document||g);this.window=b(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:b.noop,_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(b.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:b.noop,widget:function(){return this.element},option:function(j,k){var f=j,l,h,g;if(arguments.length===0){return b.widget.extend({},this.options)}if(typeof j==="string"){f={};l=j.split(".");j=l.shift();if(l.length){h=f[j]=b.widget.extend({},this.options[j]);for(g=0;g<l.length-1;g++){h[l[g]]=h[l[g]]||{};h=h[l[g]]}j=l.pop();if(k===e){return h[j]===e?null:h[j]}h[j]=k}else{if(k===e){return this.options[j]===e?null:this.options[j]}f[j]=k}}this._setOptions(f);return this},_setOptions:function(f){var g;for(g in f){this._setOption(g,f[g])}return this},_setOption:function(f,g){this.options[f]=g;if(f==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!g).attr("aria-disabled",g);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_on:function(j,h,g){var k,f=this;if(typeof j!=="boolean"){g=h;h=j;j=false}if(!g){g=h;h=this.element;k=this.widget()}else{h=k=b(h);this.bindings=this.bindings.add(h)}b.each(g,function(q,p){function n(){if(!j&&(f.options.disabled===true||b(this).hasClass("ui-state-disabled"))){return}return(typeof p==="string"?f[p]:p).apply(f,arguments)}if(typeof p!=="string"){n.guid=p.guid=p.guid||n.guid||b.guid++}var o=q.match(/^(\w+)\s*(.*)$/),m=o[1]+f.eventNamespace,l=o[2];if(l){k.delegate(l,m,n)}else{h.bind(m,n)}})},_off:function(g,f){f=(f||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;g.unbind(f).undelegate(f)},_delay:function(j,h){function g(){return(typeof j==="string"?f[j]:j).apply(f,arguments)}var f=this;return setTimeout(g,h||0)},_hoverable:function(f){this.hoverable=this.hoverable.add(f);this._on(f,{mouseenter:function(g){b(g.currentTarget).addClass("ui-state-hover")},mouseleave:function(g){b(g.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(f){this.focusable=this.focusable.add(f);this._on(f,{focusin:function(g){b(g.currentTarget).addClass("ui-state-focus")},focusout:function(g){b(g.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(f,g,h){var l,k,j=this.options[f];h=h||{};g=b.Event(g);g.type=(f===this.widgetEventPrefix?f:this.widgetEventPrefix+f).toLowerCase();g.target=this.element[0];k=g.originalEvent;if(k){for(l in k){if(!(l in g)){g[l]=k[l]}}}this.element.trigger(g,h);return !(b.isFunction(j)&&j.apply(this.element[0],[g].concat(h))===false||g.isDefaultPrevented())}};b.each({show:"fadeIn",hide:"fadeOut"},function(g,f){b.Widget.prototype["_"+g]=function(k,j,m){if(typeof j==="string"){j={effect:j}}var l,h=!j?g:j===true||typeof j==="number"?f:j.effect||f;j=j||{};if(typeof j==="number"){j={duration:j}}l=!b.isEmptyObject(j);j.complete=m;if(j.delay){k.delay(j.delay)}if(l&&b.effects&&b.effects.effect[h]){k[g](j)}else{if(h!==g&&k[h]){k[h](j.duration,j.easing,m)}else{k.queue(function(n){b(this)[g]();if(m){m.call(k[0])}n()})}}}})})(jQuery);(function(b,c){var a=false;b(document).mouseup(function(){a=false});b.widget("ui.mouse",{version:"1.10.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var d=this;this.element.bind("mousedown."+this.widgetName,function(e){return d._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(true===b.data(e.target,d.widgetName+".preventClickEvent")){b.removeData(e.target,d.widgetName+".preventClickEvent");e.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(f){if(a){return}(this._mouseStarted&&this._mouseUp(f));this._mouseDownEvent=f;var e=this,g=(f.which===1),d=(typeof this.options.cancel==="string"&&f.target.nodeName?b(f.target).closest(this.options.cancel).length:false);if(!g||d||!this._mouseCapture(f)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(f)&&this._mouseDelayMet(f)){this._mouseStarted=(this._mouseStart(f)!==false);if(!this._mouseStarted){f.preventDefault();return true}}if(true===b.data(f.target,this.widgetName+".preventClickEvent")){b.removeData(f.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(h){return e._mouseMove(h)};this._mouseUpDelegate=function(h){return e._mouseUp(h)};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);f.preventDefault();a=true;return true},_mouseMove:function(d){if(b.ui.ie&&(!document.documentMode||document.documentMode<9)&&!d.button){return this._mouseUp(d)}if(this._mouseStarted){this._mouseDrag(d);return d.preventDefault()}if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,d)!==false);(this._mouseStarted?this._mouseDrag(d):this._mouseUp(d))}return !this._mouseStarted},_mouseUp:function(d){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(d.target===this._mouseDownEvent.target){b.data(d.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(d)}return false},_mouseDistanceMet:function(d){return(Math.max(Math.abs(this._mouseDownEvent.pageX-d.pageX),Math.abs(this._mouseDownEvent.pageY-d.pageY))>=this.options.distance)},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);(function(e,c){e.ui=e.ui||{};var k,l=Math.max,p=Math.abs,n=Math.round,d=/left|center|right/,h=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,m=/^\w+/,b=/%$/,g=e.fn.position;function o(s,r,q){return[parseFloat(s[0])*(b.test(s[0])?r/100:1),parseFloat(s[1])*(b.test(s[1])?q/100:1)]}function j(q,r){return parseInt(e.css(q,r),10)||0}function f(r){var q=r[0];if(q.nodeType===9){return{width:r.width(),height:r.height(),offset:{top:0,left:0}}}if(e.isWindow(q)){return{width:r.width(),height:r.height(),offset:{top:r.scrollTop(),left:r.scrollLeft()}}}if(q.preventDefault){return{width:0,height:0,offset:{top:q.pageY,left:q.pageX}}}return{width:r.outerWidth(),height:r.outerHeight(),offset:r.offset()}}e.position={scrollbarWidth:function(){if(k!==c){return k}var r,q,t=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=t.children()[0];e("body").append(t);r=s.offsetWidth;t.css("overflow","scroll");q=s.offsetWidth;if(r===q){q=t[0].clientWidth}t.remove();return(k=r-q)},getScrollInfo:function(u){var t=u.isWindow?"":u.element.css("overflow-x"),s=u.isWindow?"":u.element.css("overflow-y"),r=t==="scroll"||(t==="auto"&&u.width<u.element[0].scrollWidth),q=s==="scroll"||(s==="auto"&&u.height<u.element[0].scrollHeight);return{width:q?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(r){var s=e(r||window),q=e.isWindow(s[0]);return{element:s,isWindow:q,offset:s.offset()||{left:0,top:0},scrollLeft:s.scrollLeft(),scrollTop:s.scrollTop(),width:q?s.width():s.outerWidth(),height:q?s.height():s.outerHeight()}}};e.fn.position=function(A){if(!A||!A.of){return g.apply(this,arguments)}A=e.extend({},A);var B,x,v,z,u,q,w=e(A.of),t=e.position.getWithinInfo(A.within),r=e.position.getScrollInfo(t),y=(A.collision||"flip").split(" "),s={};q=f(w);if(w[0].preventDefault){A.at="left top"}x=q.width;v=q.height;z=q.offset;u=e.extend({},z);e.each(["my","at"],function(){var E=(A[this]||"").split(" "),D,C;if(E.length===1){E=d.test(E[0])?E.concat(["center"]):h.test(E[0])?["center"].concat(E):["center","center"]}E[0]=d.test(E[0])?E[0]:"center";E[1]=h.test(E[1])?E[1]:"center";D=a.exec(E[0]);C=a.exec(E[1]);s[this]=[D?D[0]:0,C?C[0]:0];A[this]=[m.exec(E[0])[0],m.exec(E[1])[0]]});if(y.length===1){y[1]=y[0]}if(A.at[0]==="right"){u.left+=x}else{if(A.at[0]==="center"){u.left+=x/2}}if(A.at[1]==="bottom"){u.top+=v}else{if(A.at[1]==="center"){u.top+=v/2}}B=o(s.at,x,v);u.left+=B[0];u.top+=B[1];return this.each(function(){var D,M,F=e(this),H=F.outerWidth(),E=F.outerHeight(),G=j(this,"marginLeft"),C=j(this,"marginTop"),L=H+G+j(this,"marginRight")+r.width,K=E+C+j(this,"marginBottom")+r.height,I=e.extend({},u),J=o(s.my,F.outerWidth(),F.outerHeight());if(A.my[0]==="right"){I.left-=H}else{if(A.my[0]==="center"){I.left-=H/2}}if(A.my[1]==="bottom"){I.top-=E}else{if(A.my[1]==="center"){I.top-=E/2}}I.left+=J[0];I.top+=J[1];if(!e.support.offsetFractions){I.left=n(I.left);I.top=n(I.top)}D={marginLeft:G,marginTop:C};e.each(["left","top"],function(O,N){if(e.ui.position[y[O]]){e.ui.position[y[O]][N](I,{targetWidth:x,targetHeight:v,elemWidth:H,elemHeight:E,collisionPosition:D,collisionWidth:L,collisionHeight:K,offset:[B[0]+J[0],B[1]+J[1]],my:A.my,at:A.at,within:t,elem:F})}});if(A.using){M=function(Q){var S=z.left-I.left,P=S+x-H,R=z.top-I.top,O=R+v-E,N={target:{element:w,left:z.left,top:z.top,width:x,height:v},element:{element:F,left:I.left,top:I.top,width:H,height:E},horizontal:P<0?"left":S>0?"right":"center",vertical:O<0?"top":R>0?"bottom":"middle"};if(x<H&&p(S+P)<x){N.horizontal="center"}if(v<E&&p(R+O)<v){N.vertical="middle"}if(l(p(S),p(P))>l(p(R),p(O))){N.important="horizontal"}else{N.important="vertical"}A.using.call(this,Q,N)}}F.offset(e.extend(I,{using:M}))})};e.ui.position={fit:{left:function(u,t){var s=t.within,w=s.isWindow?s.scrollLeft:s.offset.left,y=s.width,v=u.left-t.collisionPosition.marginLeft,x=w-v,r=v+t.collisionWidth-y-w,q;if(t.collisionWidth>y){if(x>0&&r<=0){q=u.left+x+t.collisionWidth-y-w;u.left+=x-q}else{if(r>0&&x<=0){u.left=w}else{if(x>r){u.left=w+y-t.collisionWidth}else{u.left=w}}}}else{if(x>0){u.left+=x}else{if(r>0){u.left-=r}else{u.left=l(u.left-v,u.left)}}}},top:function(t,s){var r=s.within,x=r.isWindow?r.scrollTop:r.offset.top,y=s.within.height,v=t.top-s.collisionPosition.marginTop,w=x-v,u=v+s.collisionHeight-y-x,q;if(s.collisionHeight>y){if(w>0&&u<=0){q=t.top+w+s.collisionHeight-y-x;t.top+=w-q}else{if(u>0&&w<=0){t.top=x}else{if(w>u){t.top=x+y-s.collisionHeight}else{t.top=x}}}}else{if(w>0){t.top+=w}else{if(u>0){t.top-=u}else{t.top=l(t.top-v,t.top)}}}}},flip:{left:function(w,v){var u=v.within,A=u.offset.left+u.scrollLeft,D=u.width,s=u.isWindow?u.scrollLeft:u.offset.left,x=w.left-v.collisionPosition.marginLeft,B=x-s,r=x+v.collisionWidth-D-s,z=v.my[0]==="left"?-v.elemWidth:v.my[0]==="right"?v.elemWidth:0,C=v.at[0]==="left"?v.targetWidth:v.at[0]==="right"?-v.targetWidth:0,t=-2*v.offset[0],q,y;if(B<0){q=w.left+z+C+t+v.collisionWidth-D-A;if(q<0||q<p(B)){w.left+=z+C+t}}else{if(r>0){y=w.left-v.collisionPosition.marginLeft+z+C+t-s;if(y>0||p(y)<r){w.left+=z+C+t}}}},top:function(v,u){var t=u.within,C=t.offset.top+t.scrollTop,D=t.height,q=t.isWindow?t.scrollTop:t.offset.top,x=v.top-u.collisionPosition.marginTop,z=x-q,w=x+u.collisionHeight-D-q,A=u.my[1]==="top",y=A?-u.elemHeight:u.my[1]==="bottom"?u.elemHeight:0,E=u.at[1]==="top"?u.targetHeight:u.at[1]==="bottom"?-u.targetHeight:0,s=-2*u.offset[1],B,r;if(z<0){r=v.top+y+E+s+u.collisionHeight-D-C;if((v.top+y+E+s)>z&&(r<0||r<p(z))){v.top+=y+E+s}}else{if(w>0){B=v.top-u.collisionPosition.marginTop+y+E+s-q;if((v.top+y+E+s)>w&&(B>0||p(B)<w)){v.top+=y+E+s}}}}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments);e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments);e.ui.position.fit.top.apply(this,arguments)}}};(function(){var u,w,r,t,s,q=document.getElementsByTagName("body")[0],v=document.createElement("div");u=document.createElement(q?"div":"body");r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(q){e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"})}for(s in r){u.style[s]=r[s]}u.appendChild(v);w=q||document.documentElement;w.insertBefore(u,w.firstChild);v.style.cssText="position: absolute; left: 10.7432222px;";t=e(v).offset().left;e.support.offsetFractions=t>10&&t<11;u.innerHTML="";w.removeChild(u)})()}(jQuery));(function(a,b){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.2",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}if(this.options.addClasses){this.element.addClass("ui-draggable")}if(this.options.disabled){this.element.addClass("ui-draggable-disabled")}this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(c){var d=this.options;if(this.helper||d.disabled||a(c.target).closest(".ui-resizable-handle").length>0){return false}this.handle=this._getHandle(c);if(!this.handle){return false}a(d.iframeFix===true?"iframe":d.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")});return true},_mouseStart:function(c){var d=this.options;this.helper=this._createHelper(c);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if(a.ui.ddmanager){a.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;(d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt));if(d.containment){this._setContainment()}if(this._trigger("start",c)===false){this._clear();return false}this._cacheHelperProportions();if(a.ui.ddmanager&&!d.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,c)}this._mouseDrag(c,true);if(a.ui.ddmanager){a.ui.ddmanager.dragStart(this,c)}return true},_mouseDrag:function(c,e){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!e){var d=this._uiHash();if(this._trigger("drag",c,d)===false){this._mouseUp({});return false}this.position=d.position}if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}if(a.ui.ddmanager){a.ui.ddmanager.drag(this,c)}return false},_mouseStop:function(e){var c,d=this,g=false,f=false;if(a.ui.ddmanager&&!this.options.dropBehaviour){f=a.ui.ddmanager.drop(this,e)}if(this.dropped){f=this.dropped;this.dropped=false}c=this.element[0];while(c&&(c=c.parentNode)){if(c===document){g=true}}if(!g&&this.options.helper==="original"){return false}if((this.options.revert==="invalid"&&!f)||(this.options.revert==="valid"&&f)||this.options.revert===true||(a.isFunction(this.options.revert)&&this.options.revert.call(this.element,f))){a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(d._trigger("stop",e)!==false){d._clear()}})}else{if(this._trigger("stop",e)!==false){this._clear()}}return false},_mouseUp:function(c){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});if(a.ui.ddmanager){a.ui.ddmanager.dragStop(this,c)}return a.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(c){return this.options.handle?!!a(c.target).closest(this.element.find(this.options.handle)).length:true},_createHelper:function(d){var e=this.options,c=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[d])):(e.helper==="clone"?this.element.clone().removeAttr("id"):this.element);if(!c.parents("body").length){c.appendTo((e.appendTo==="parent"?this.element[0].parentNode:e.appendTo))}if(c[0]!==this.element[0]&&!(/(fixed|absolute)/).test(c.css("position"))){c.css("position","absolute")}return c},_adjustOffsetFromHelper:function(c){if(typeof c==="string"){c=c.split(" ")}if(a.isArray(c)){c={left:+c[0],top:+c[1]||0}}if("left" in c){this.offset.click.left=c.left+this.margins.left}if("right" in c){this.offset.click.left=this.helperProportions.width-c.right+this.margins.left}if("top" in c){this.offset.click.top=c.top+this.margins.top}if("bottom" in c){this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]===document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&a.ui.ie)){c={top:0,left:0}}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var c=this.element.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,g,d,f=this.options;if(f.containment==="parent"){f.containment=this.helper[0].parentNode}if(f.containment==="document"||f.containment==="window"){this.containment=[f.containment==="document"?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,f.containment==="document"?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(f.containment==="document"?0:a(window).scrollLeft())+a(f.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(f.containment==="document"?0:a(window).scrollTop())+(a(f.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(f.containment)&&f.containment.constructor!==Array){g=a(f.containment);d=g[0];if(!d){return}e=(a(d).css("overflow")!=="hidden");this.containment=[(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0),(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0),(e?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderRightWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderBottomWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=g}else{if(f.containment.constructor===Array){this.containment=f.containment}}},_convertPositionTo:function(f,h){if(!h){h=this.position}var e=f==="absolute"?1:-1,c=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=(/(html|body)/i).test(c[0].tagName);return{top:(h.top+this.offset.relative.top*e+this.offset.parent.top*e-((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(g?0:c.scrollTop()))*e)),left:(h.left+this.offset.relative.left*e+this.offset.parent.left*e-((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():g?0:c.scrollLeft())*e))}},_generatePosition:function(d){var c,k,l,f,e=this.options,m=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=(/(html|body)/i).test(m[0].tagName),h=d.pageX,g=d.pageY;if(this.originalPosition){if(this.containment){if(this.relative_container){k=this.relative_container.offset();c=[this.containment[0]+k.left,this.containment[1]+k.top,this.containment[2]+k.left,this.containment[3]+k.top]}else{c=this.containment}if(d.pageX-this.offset.click.left<c[0]){h=c[0]+this.offset.click.left}if(d.pageY-this.offset.click.top<c[1]){g=c[1]+this.offset.click.top}if(d.pageX-this.offset.click.left>c[2]){h=c[2]+this.offset.click.left}if(d.pageY-this.offset.click.top>c[3]){g=c[3]+this.offset.click.top}}if(e.grid){l=e.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1]:this.originalPageY;g=c?((l-this.offset.click.top>=c[1]||l-this.offset.click.top>c[3])?l:((l-this.offset.click.top>=c[1])?l-e.grid[1]:l+e.grid[1])):l;f=e.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/e.grid[0])*e.grid[0]:this.originalPageX;h=c?((f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2])?f:((f-this.offset.click.left>=c[0])?f-e.grid[0]:f+e.grid[0])):f}}return{top:(g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(j?0:m.scrollTop())))),left:(h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():j?0:m.scrollLeft())))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(c,d,e){e=e||this._uiHash();a.ui.plugin.call(this,c,[d,e]);if(c==="drag"){this.positionAbs=this._convertPositionTo("absolute")}return a.Widget.prototype._trigger.call(this,c,d,e)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(d,f){var e=a(this).data("ui-draggable"),g=e.options,c=a.extend({},f,{item:e.element});e.sortables=[];a(g.connectToSortable).each(function(){var h=a.data(this,"ui-sortable");if(h&&!h.options.disabled){e.sortables.push({instance:h,shouldRevert:h.options.revert});h.refreshPositions();h._trigger("activate",d,c)}})},stop:function(d,f){var e=a(this).data("ui-draggable"),c=a.extend({},f,{item:e.element});a.each(e.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;e.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=this.shouldRevert}this.instance._mouseStop(d);this.instance.options.helper=this.instance.options._helper;if(e.options.helper==="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",d,c)}})},drag:function(d,f){var e=a(this).data("ui-draggable"),c=this;a.each(e.sortables,function(){var g=false,h=this;this.instance.positionAbs=e.positionAbs;this.instance.helperProportions=e.helperProportions;this.instance.offset.click=e.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){g=true;a.each(e.sortables,function(){this.instance.positionAbs=e.positionAbs;this.instance.helperProportions=e.helperProportions;this.instance.offset.click=e.offset.click;if(this!==h&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(h.instance.element[0],this.instance.element[0])){g=false}return g})}if(g){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(c).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return f.helper[0]};d.target=this.instance.currentItem[0];this.instance._mouseCapture(d,true);this.instance._mouseStart(d,true,true);this.instance.offset.click.top=e.offset.click.top;this.instance.offset.click.left=e.offset.click.left;this.instance.offset.parent.left-=e.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=e.offset.parent.top-this.instance.offset.parent.top;e._trigger("toSortable",d);e.dropped=this.instance.element;e.currentItem=e.element;this.instance.fromOutside=e}if(this.instance.currentItem){this.instance._mouseDrag(d)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",d,this.instance._uiHash(this.instance));this.instance._mouseStop(d,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}e._trigger("fromSortable",d);e.dropped=false}}})}});a.ui.plugin.add("draggable","cursor",{start:function(){var c=a("body"),d=a(this).data("ui-draggable").options;if(c.css("cursor")){d._cursor=c.css("cursor")}c.css("cursor",d.cursor)},stop:function(){var c=a(this).data("ui-draggable").options;if(c._cursor){a("body").css("cursor",c._cursor)}}});a.ui.plugin.add("draggable","opacity",{start:function(d,e){var c=a(e.helper),f=a(this).data("ui-draggable").options;if(c.css("opacity")){f._opacity=c.css("opacity")}c.css("opacity",f.opacity)},stop:function(c,d){var e=a(this).data("ui-draggable").options;if(e._opacity){a(d.helper).css("opacity",e._opacity)}}});a.ui.plugin.add("draggable","scroll",{start:function(){var c=a(this).data("ui-draggable");if(c.scrollParent[0]!==document&&c.scrollParent[0].tagName!=="HTML"){c.overflowOffset=c.scrollParent.offset()}},drag:function(e){var d=a(this).data("ui-draggable"),f=d.options,c=false;if(d.scrollParent[0]!==document&&d.scrollParent[0].tagName!=="HTML"){if(!f.axis||f.axis!=="x"){if((d.overflowOffset.top+d.scrollParent[0].offsetHeight)-e.pageY<f.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop+f.scrollSpeed}else{if(e.pageY-d.overflowOffset.top<f.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop-f.scrollSpeed}}}if(!f.axis||f.axis!=="y"){if((d.overflowOffset.left+d.scrollParent[0].offsetWidth)-e.pageX<f.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft+f.scrollSpeed}else{if(e.pageX-d.overflowOffset.left<f.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft-f.scrollSpeed}}}}else{if(!f.axis||f.axis!=="x"){if(e.pageY-a(document).scrollTop()<f.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()-f.scrollSpeed)}else{if(a(window).height()-(e.pageY-a(document).scrollTop())<f.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()+f.scrollSpeed)}}}if(!f.axis||f.axis!=="y"){if(e.pageX-a(document).scrollLeft()<f.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()-f.scrollSpeed)}else{if(a(window).width()-(e.pageX-a(document).scrollLeft())<f.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()+f.scrollSpeed)}}}}if(c!==false&&a.ui.ddmanager&&!f.dropBehaviour){a.ui.ddmanager.prepareOffsets(d,e)}}});a.ui.plugin.add("draggable","snap",{start:function(){var c=a(this).data("ui-draggable"),d=c.options;c.snapElements=[];a(d.snap.constructor!==String?(d.snap.items||":data(ui-draggable)"):d.snap).each(function(){var f=a(this),e=f.offset();if(this!==c.element[0]){c.snapElements.push({item:this,width:f.outerWidth(),height:f.outerHeight(),top:e.top,left:e.left})}})},drag:function(u,p){var c,z,j,k,s,n,m,A,v,h,g=a(this).data("ui-draggable"),q=g.options,y=q.snapTolerance,x=p.offset.left,w=x+g.helperProportions.width,f=p.offset.top,e=f+g.helperProportions.height;for(v=g.snapElements.length-1;v>=0;v--){s=g.snapElements[v].left;n=s+g.snapElements[v].width;m=g.snapElements[v].top;A=m+g.snapElements[v].height;if(!((s-y<x&&x<n+y&&m-y<f&&f<A+y)||(s-y<x&&x<n+y&&m-y<e&&e<A+y)||(s-y<w&&w<n+y&&m-y<f&&f<A+y)||(s-y<w&&w<n+y&&m-y<e&&e<A+y))){if(g.snapElements[v].snapping){(g.options.snap.release&&g.options.snap.release.call(g.element,u,a.extend(g._uiHash(),{snapItem:g.snapElements[v].item})))}g.snapElements[v].snapping=false;continue}if(q.snapMode!=="inner"){c=Math.abs(m-e)<=y;z=Math.abs(A-f)<=y;j=Math.abs(s-w)<=y;k=Math.abs(n-x)<=y;if(c){p.position.top=g._convertPositionTo("relative",{top:m-g.helperProportions.height,left:0}).top-g.margins.top}if(z){p.position.top=g._convertPositionTo("relative",{top:A,left:0}).top-g.margins.top}if(j){p.position.left=g._convertPositionTo("relative",{top:0,left:s-g.helperProportions.width}).left-g.margins.left}if(k){p.position.left=g._convertPositionTo("relative",{top:0,left:n}).left-g.margins.left}}h=(c||z||j||k);if(q.snapMode!=="outer"){c=Math.abs(m-f)<=y;z=Math.abs(A-e)<=y;j=Math.abs(s-x)<=y;k=Math.abs(n-w)<=y;if(c){p.position.top=g._convertPositionTo("relative",{top:m,left:0}).top-g.margins.top}if(z){p.position.top=g._convertPositionTo("relative",{top:A-g.helperProportions.height,left:0}).top-g.margins.top}if(j){p.position.left=g._convertPositionTo("relative",{top:0,left:s}).left-g.margins.left}if(k){p.position.left=g._convertPositionTo("relative",{top:0,left:n-g.helperProportions.width}).left-g.margins.left}}if(!g.snapElements[v].snapping&&(c||z||j||k||h)){(g.options.snap.snap&&g.options.snap.snap.call(g.element,u,a.extend(g._uiHash(),{snapItem:g.snapElements[v].item})))}g.snapElements[v].snapping=(c||z||j||k||h)}}});a.ui.plugin.add("draggable","stack",{start:function(){var c,e=this.data("ui-draggable").options,d=a.makeArray(a(e.stack)).sort(function(g,f){return(parseInt(a(g).css("zIndex"),10)||0)-(parseInt(a(f).css("zIndex"),10)||0)});if(!d.length){return}c=parseInt(a(d[0]).css("zIndex"),10)||0;a(d).each(function(f){a(this).css("zIndex",c+f)});this.css("zIndex",(c+d.length))}});a.ui.plugin.add("draggable","zIndex",{start:function(d,e){var c=a(e.helper),f=a(this).data("ui-draggable").options;if(c.css("zIndex")){f._zIndex=c.css("zIndex")}c.css("zIndex",f.zIndex)},stop:function(c,d){var e=a(this).data("ui-draggable").options;if(e._zIndex){a(d.helper).css("zIndex",e._zIndex)}}})})(jQuery);(function(b,c){function a(e,d,f){return(e>d)&&(e<(d+f))}b.widget("ui.droppable",{version:"1.10.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e=this.options,d=e.accept;this.isover=false;this.isout=true;this.accept=b.isFunction(d)?d:function(f){return f.is(d)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};b.ui.ddmanager.droppables[e.scope]=b.ui.ddmanager.droppables[e.scope]||[];b.ui.ddmanager.droppables[e.scope].push(this);(e.addClasses&&this.element.addClass("ui-droppable"))},_destroy:function(){var e=0,d=b.ui.ddmanager.droppables[this.options.scope];for(;e<d.length;e++){if(d[e]===this){d.splice(e,1)}}this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(d,e){if(d==="accept"){this.accept=b.isFunction(e)?e:function(f){return f.is(e)}}b.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var d=b.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass)}if(d){this._trigger("activate",e,this.ui(d))}},_deactivate:function(e){var d=b.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(d){this._trigger("deactivate",e,this.ui(d))}},_over:function(e){var d=b.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],(d.currentItem||d.element))){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}this._trigger("over",e,this.ui(d))}},_out:function(e){var d=b.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],(d.currentItem||d.element))){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("out",e,this.ui(d))}},_drop:function(e,f){var d=f||b.ui.ddmanager.current,g=false;if(!d||(d.currentItem||d.element)[0]===this.element[0]){return false}this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var h=b.data(this,"ui-droppable");if(h.options.greedy&&!h.options.disabled&&h.options.scope===d.options.scope&&h.accept.call(h.element[0],(d.currentItem||d.element))&&b.ui.intersect(d,b.extend(h,{offset:h.element.offset()}),h.options.tolerance)){g=true;return false}});if(g){return false}if(this.accept.call(this.element[0],(d.currentItem||d.element))){if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("drop",e,this.ui(d));return this.element}return false},ui:function(d){return{draggable:(d.currentItem||d.element),helper:d.helper,position:d.position,offset:d.positionAbs}}});b.ui.intersect=function(s,k,p){if(!k.offset){return false}var h,j,f=(s.positionAbs||s.position.absolute).left,e=f+s.helperProportions.width,o=(s.positionAbs||s.position.absolute).top,n=o+s.helperProportions.height,g=k.offset.left,d=g+k.proportions.width,q=k.offset.top,m=q+k.proportions.height;switch(p){case"fit":return(g<=f&&e<=d&&q<=o&&n<=m);case"intersect":return(g<f+(s.helperProportions.width/2)&&e-(s.helperProportions.width/2)<d&&q<o+(s.helperProportions.height/2)&&n-(s.helperProportions.height/2)<m);case"pointer":h=((s.positionAbs||s.position.absolute).left+(s.clickOffset||s.offset.click).left);j=((s.positionAbs||s.position.absolute).top+(s.clickOffset||s.offset.click).top);return a(j,q,k.proportions.height)&&a(h,g,k.proportions.width);case"touch":return((o>=q&&o<=m)||(n>=q&&n<=m)||(o<q&&n>m))&&((f>=g&&f<=d)||(e>=g&&e<=d)||(f<g&&e>d));default:return false}};b.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(g,k){var f,e,d=b.ui.ddmanager.droppables[g.options.scope]||[],h=k?k.type:null,l=(g.currentItem||g.element).find(":data(ui-droppable)").addBack();droppablesLoop:for(f=0;f<d.length;f++){if(d[f].options.disabled||(g&&!d[f].accept.call(d[f].element[0],(g.currentItem||g.element)))){continue}for(e=0;e<l.length;e++){if(l[e]===d[f].element[0]){d[f].proportions.height=0;continue droppablesLoop}}d[f].visible=d[f].element.css("display")!=="none";if(!d[f].visible){continue}if(h==="mousedown"){d[f]._activate.call(d[f],k)}d[f].offset=d[f].element.offset();d[f].proportions={width:d[f].element[0].offsetWidth,height:d[f].element[0].offsetHeight}}},drop:function(d,e){var f=false;b.each((b.ui.ddmanager.droppables[d.options.scope]||[]).slice(),function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&b.ui.intersect(d,this,this.options.tolerance)){f=this._drop.call(this,e)||f}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(d.currentItem||d.element))){this.isout=true;this.isover=false;this._deactivate.call(this,e)}});return f},dragStart:function(d,e){d.element.parentsUntil("body").bind("scroll.droppable",function(){if(!d.options.refreshPositions){b.ui.ddmanager.prepareOffsets(d,e)}})},drag:function(d,e){if(d.options.refreshPositions){b.ui.ddmanager.prepareOffsets(d,e)}b.each(b.ui.ddmanager.droppables[d.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var j,g,f,h=b.ui.intersect(d,this,this.options.tolerance),k=!h&&this.isover?"isout":(h&&!this.isover?"isover":null);if(!k){return}if(this.options.greedy){g=this.options.scope;f=this.element.parents(":data(ui-droppable)").filter(function(){return b.data(this,"ui-droppable").options.scope===g});if(f.length){j=b.data(f[0],"ui-droppable");j.greedyChild=(k==="isover")}}if(j&&k==="isover"){j.isover=false;j.isout=true;j._out.call(j,e)}this[k]=true;this[k==="isout"?"isover":"isout"]=false;this[k==="isover"?"_over":"_out"].call(this,e);if(j&&k==="isout"){j.isout=false;j.isover=true;j._over.call(j,e)}})},dragStop:function(d,e){d.element.parentsUntil("body").unbind("scroll.droppable");if(!d.options.refreshPositions){b.ui.ddmanager.prepareOffsets(d,e)}}}})(jQuery);(function(c,d){function b(e){return parseInt(e,10)||0}function a(e){return !isNaN(parseInt(e,10))}c.widget("ui.resizable",c.ui.mouse,{version:"1.10.2",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var l,f,j,g,e,h=this,k=this.options;this.element.addClass("ui-resizable");c.extend(this,{_aspectRatio:!!(k.aspectRatio),aspectRatio:k.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:k.helper||k.ghost||k.animate?k.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){this.element.wrap(c("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=k.handles||(!c(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw"}l=this.handles.split(",");this.handles={};for(f=0;f<l.length;f++){j=c.trim(l[f]);e="ui-resizable-"+j;g=c("<div class='ui-resizable-handle "+e+"'></div>");g.css({zIndex:k.zIndex});if("se"===j){g.addClass("ui-icon ui-icon-gripsmall-diagonal-se")}this.handles[j]=".ui-resizable-"+j;this.element.append(g)}}this._renderAxis=function(q){var n,o,m,p;q=q||this.element;for(n in this.handles){if(this.handles[n].constructor===String){this.handles[n]=c(this.handles[n],this.element).show()}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){o=c(this.handles[n],this.element);p=/sw|ne|nw|se|n|s/.test(n)?o.outerHeight():o.outerWidth();m=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");q.css(m,p);this._proportionallyResize()}if(!c(this.handles[n]).length){continue}}};this._renderAxis(this.element);this._handles=c(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!h.resizing){if(this.className){g=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}h.axis=g&&g[1]?g[1]:"se"}});if(k.autoHide){this._handles.hide();c(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(k.disabled){return}c(this).removeClass("ui-resizable-autohide");h._handles.show()}).mouseleave(function(){if(k.disabled){return}if(!h.resizing){c(this).addClass("ui-resizable-autohide");h._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var f,e=function(g){c(g).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){e(this.element);f=this.element;this.originalElement.css({position:f.css("position"),width:f.outerWidth(),height:f.outerHeight(),top:f.css("top"),left:f.css("left")}).insertAfter(f);f.remove()}this.originalElement.css("resize",this.originalResizeStyle);e(this.originalElement);return this},_mouseCapture:function(g){var f,h,e=false;for(f in this.handles){h=c(this.handles[f])[0];if(h===g.target||c.contains(h,g.target)){e=true}}return !this.options.disabled&&e},_mouseStart:function(g){var l,h,k,j=this.options,f=this.element.position(),e=this.element;this.resizing=true;if((/absolute/).test(e.css("position"))){e.css({position:"absolute",top:e.css("top"),left:e.css("left")})}else{if(e.is(".ui-draggable")){e.css({position:"absolute",top:f.top,left:f.left})}}this._renderProxy();l=b(this.helper.css("left"));h=b(this.helper.css("top"));if(j.containment){l+=c(j.containment).scrollLeft()||0;h+=c(j.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:l,top:h};this.size=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.originalSize=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.originalPosition={left:l,top:h};this.sizeDiff={width:e.outerWidth()-e.width(),height:e.outerHeight()-e.height()};this.originalMousePosition={left:g.pageX,top:g.pageY};this.aspectRatio=(typeof j.aspectRatio==="number")?j.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);k=c(".ui-resizable-"+this.axis).css("cursor");c("body").css("cursor",k==="auto"?this.axis+"-resize":k);e.addClass("ui-resizable-resizing");this._propagate("start",g);return true},_mouseDrag:function(e){var l,g=this.helper,m={},j=this.originalMousePosition,n=this.axis,p=this.position.top,f=this.position.left,o=this.size.width,k=this.size.height,r=(e.pageX-j.left)||0,q=(e.pageY-j.top)||0,h=this._change[n];if(!h){return false}l=h.apply(this,[e,r,q]);this._updateVirtualBoundaries(e.shiftKey);if(this._aspectRatio||e.shiftKey){l=this._updateRatio(l,e)}l=this._respectSize(l,e);this._updateCache(l);this._propagate("resize",e);if(this.position.top!==p){m.top=this.position.top+"px"}if(this.position.left!==f){m.left=this.position.left+"px"}if(this.size.width!==o){m.width=this.size.width+"px"}if(this.size.height!==k){m.height=this.size.height+"px"}g.css(m);if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}if(!c.isEmptyObject(m)){this._trigger("resize",e,this.ui())}return false},_mouseStop:function(h){this.resizing=false;var g,e,f,l,p,k,n,j=this.options,m=this;if(this._helper){g=this._proportionallyResizeElements;e=g.length&&(/textarea/i).test(g[0].nodeName);f=e&&c.ui.hasScroll(g[0],"left")?0:m.sizeDiff.height;l=e?0:m.sizeDiff.width;p={width:(m.helper.width()-l),height:(m.helper.height()-f)};k=(parseInt(m.element.css("left"),10)+(m.position.left-m.originalPosition.left))||null;n=(parseInt(m.element.css("top"),10)+(m.position.top-m.originalPosition.top))||null;if(!j.animate){this.element.css(c.extend(p,{top:n,left:k}))}m.helper.height(m.size.height);m.helper.width(m.size.width);if(this._helper&&!j.animate){this._proportionallyResize()}}c("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",h);if(this._helper){this.helper.remove()}return false},_updateVirtualBoundaries:function(g){var j,h,f,l,e,k=this.options;e={minWidth:a(k.minWidth)?k.minWidth:0,maxWidth:a(k.maxWidth)?k.maxWidth:Infinity,minHeight:a(k.minHeight)?k.minHeight:0,maxHeight:a(k.maxHeight)?k.maxHeight:Infinity};if(this._aspectRatio||g){j=e.minHeight*this.aspectRatio;f=e.minWidth/this.aspectRatio;h=e.maxHeight*this.aspectRatio;l=e.maxWidth/this.aspectRatio;if(j>e.minWidth){e.minWidth=j}if(f>e.minHeight){e.minHeight=f}if(h<e.maxWidth){e.maxWidth=h}if(l<e.maxHeight){e.maxHeight=l}}this._vBoundaries=e},_updateCache:function(e){this.offset=this.helper.offset();if(a(e.left)){this.position.left=e.left}if(a(e.top)){this.position.top=e.top}if(a(e.height)){this.size.height=e.height}if(a(e.width)){this.size.width=e.width}},_updateRatio:function(g){var h=this.position,f=this.size,e=this.axis;if(a(g.height)){g.width=(g.height*this.aspectRatio)}else{if(a(g.width)){g.height=(g.width/this.aspectRatio)}}if(e==="sw"){g.left=h.left+(f.width-g.width);g.top=null}if(e==="nw"){g.top=h.top+(f.height-g.height);g.left=h.left+(f.width-g.width)}return g},_respectSize:function(k){var g=this._vBoundaries,n=this.axis,q=a(k.width)&&g.maxWidth&&(g.maxWidth<k.width),l=a(k.height)&&g.maxHeight&&(g.maxHeight<k.height),h=a(k.width)&&g.minWidth&&(g.minWidth>k.width),p=a(k.height)&&g.minHeight&&(g.minHeight>k.height),f=this.originalPosition.left+this.originalSize.width,m=this.position.top+this.size.height,j=/sw|nw|w/.test(n),e=/nw|ne|n/.test(n);if(h){k.width=g.minWidth}if(p){k.height=g.minHeight}if(q){k.width=g.maxWidth}if(l){k.height=g.maxHeight}if(h&&j){k.left=f-g.minWidth}if(q&&j){k.left=f-g.maxWidth}if(p&&e){k.top=m-g.minHeight}if(l&&e){k.top=m-g.maxHeight}if(!k.width&&!k.height&&!k.left&&k.top){k.top=null}else{if(!k.width&&!k.height&&!k.top&&k.left){k.left=null}}return k},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return}var h,f,l,e,k,g=this.helper||this.element;for(h=0;h<this._proportionallyResizeElements.length;h++){k=this._proportionallyResizeElements[h];if(!this.borderDif){this.borderDif=[];l=[k.css("borderTopWidth"),k.css("borderRightWidth"),k.css("borderBottomWidth"),k.css("borderLeftWidth")];e=[k.css("paddingTop"),k.css("paddingRight"),k.css("paddingBottom"),k.css("paddingLeft")];for(f=0;f<l.length;f++){this.borderDif[f]=(parseInt(l[f],10)||0)+(parseInt(e[f],10)||0)}}k.css({height:(g.height()-this.borderDif[0]-this.borderDif[2])||0,width:(g.width()-this.borderDif[1]-this.borderDif[3])||0})}},_renderProxy:function(){var e=this.element,f=this.options;this.elementOffset=e.offset();if(this._helper){this.helper=this.helper||c("<div style='overflow:hidden;'></div>");this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++f.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(f,e){return{width:this.originalSize.width+e}},w:function(g,e){var f=this.originalSize,h=this.originalPosition;return{left:h.left+e,width:f.width-e}},n:function(h,f,e){var g=this.originalSize,j=this.originalPosition;return{top:j.top+e,height:g.height-e}},s:function(g,f,e){return{height:this.originalSize.height+e}},se:function(g,f,e){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[g,f,e]))},sw:function(g,f,e){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[g,f,e]))},ne:function(g,f,e){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[g,f,e]))},nw:function(g,f,e){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[g,f,e]))}},_propagate:function(f,e){c.ui.plugin.call(this,f,[e,this.ui()]);(f!=="resize"&&this._trigger(f,e,this.ui()))},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});c.ui.plugin.add("resizable","animate",{stop:function(h){var n=c(this).data("ui-resizable"),k=n.options,g=n._proportionallyResizeElements,e=g.length&&(/textarea/i).test(g[0].nodeName),f=e&&c.ui.hasScroll(g[0],"left")?0:n.sizeDiff.height,m=e?0:n.sizeDiff.width,j={width:(n.size.width-m),height:(n.size.height-f)},l=(parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left))||null,p=(parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top))||null;n.element.animate(c.extend(j,p&&l?{top:p,left:l}:{}),{duration:k.animateDuration,easing:k.animateEasing,step:function(){var o={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};if(g&&g.length){c(g[0]).css({width:o.width,height:o.height})}n._updateCache(o);n._propagate("resize",h)}})}});c.ui.plugin.add("resizable","containment",{start:function(){var n,g,r,e,m,h,s,q=c(this).data("ui-resizable"),l=q.options,k=q.element,f=l.containment,j=(f instanceof c)?f.get(0):(/parent/.test(f))?k.parent().get(0):f;if(!j){return}q.containerElement=c(j);if(/document/.test(f)||f===document){q.containerOffset={left:0,top:0};q.containerPosition={left:0,top:0};q.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight}}else{n=c(j);g=[];c(["Top","Right","Left","Bottom"]).each(function(p,o){g[p]=b(n.css("padding"+o))});q.containerOffset=n.offset();q.containerPosition=n.position();q.containerSize={height:(n.innerHeight()-g[3]),width:(n.innerWidth()-g[1])};r=q.containerOffset;e=q.containerSize.height;m=q.containerSize.width;h=(c.ui.hasScroll(j,"left")?j.scrollWidth:m);s=(c.ui.hasScroll(j)?j.scrollHeight:e);q.parentData={element:j,left:r.left,top:r.top,width:h,height:s}}},resize:function(f){var l,r,k,j,m=c(this).data("ui-resizable"),h=m.options,p=m.containerOffset,n=m.position,q=m._aspectRatio||f.shiftKey,e={top:0,left:0},g=m.containerElement;if(g[0]!==document&&(/static/).test(g.css("position"))){e=p}if(n.left<(m._helper?p.left:0)){m.size.width=m.size.width+(m._helper?(m.position.left-p.left):(m.position.left-e.left));if(q){m.size.height=m.size.width/m.aspectRatio}m.position.left=h.helper?p.left:0}if(n.top<(m._helper?p.top:0)){m.size.height=m.size.height+(m._helper?(m.position.top-p.top):m.position.top);if(q){m.size.width=m.size.height*m.aspectRatio}m.position.top=m._helper?p.top:0}m.offset.left=m.parentData.left+m.position.left;m.offset.top=m.parentData.top+m.position.top;l=Math.abs((m._helper?m.offset.left-e.left:(m.offset.left-e.left))+m.sizeDiff.width);r=Math.abs((m._helper?m.offset.top-e.top:(m.offset.top-p.top))+m.sizeDiff.height);k=m.containerElement.get(0)===m.element.parent().get(0);j=/relative|absolute/.test(m.containerElement.css("position"));if(k&&j){l-=m.parentData.left}if(l+m.size.width>=m.parentData.width){m.size.width=m.parentData.width-l;if(q){m.size.height=m.size.width/m.aspectRatio}}if(r+m.size.height>=m.parentData.height){m.size.height=m.parentData.height-r;if(q){m.size.width=m.size.height*m.aspectRatio}}},stop:function(){var l=c(this).data("ui-resizable"),f=l.options,m=l.containerOffset,e=l.containerPosition,g=l.containerElement,j=c(l.helper),p=j.offset(),n=j.outerWidth()-l.sizeDiff.width,k=j.outerHeight()-l.sizeDiff.height;if(l._helper&&!f.animate&&(/relative/).test(g.css("position"))){c(this).css({left:p.left-e.left-m.left,width:n,height:k})}if(l._helper&&!f.animate&&(/static/).test(g.css("position"))){c(this).css({left:p.left-e.left-m.left,width:n,height:k})}}});c.ui.plugin.add("resizable","alsoResize",{start:function(){var e=c(this).data("ui-resizable"),g=e.options,f=function(h){c(h).each(function(){var j=c(this);j.data("ui-resizable-alsoresize",{width:parseInt(j.width(),10),height:parseInt(j.height(),10),left:parseInt(j.css("left"),10),top:parseInt(j.css("top"),10)})})};if(typeof(g.alsoResize)==="object"&&!g.alsoResize.parentNode){if(g.alsoResize.length){g.alsoResize=g.alsoResize[0];f(g.alsoResize)}else{c.each(g.alsoResize,function(h){f(h)})}}else{f(g.alsoResize)}},resize:function(g,j){var f=c(this).data("ui-resizable"),k=f.options,h=f.originalSize,m=f.originalPosition,l={height:(f.size.height-h.height)||0,width:(f.size.width-h.width)||0,top:(f.position.top-m.top)||0,left:(f.position.left-m.left)||0},e=function(n,o){c(n).each(function(){var r=c(this),s=c(this).data("ui-resizable-alsoresize"),q={},p=o&&o.length?o:r.parents(j.originalElement[0]).length?["width","height"]:["width","height","top","left"];c.each(p,function(t,v){var u=(s[v]||0)+(l[v]||0);if(u&&u>=0){q[v]=u||null}});r.css(q)})};if(typeof(k.alsoResize)==="object"&&!k.alsoResize.nodeType){c.each(k.alsoResize,function(n,o){e(n,o)})}else{e(k.alsoResize)}},stop:function(){c(this).removeData("resizable-alsoresize")}});c.ui.plugin.add("resizable","ghost",{start:function(){var f=c(this).data("ui-resizable"),g=f.options,e=f.size;f.ghost=f.originalElement.clone();f.ghost.css({opacity:0.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof g.ghost==="string"?g.ghost:"");f.ghost.appendTo(f.helper)},resize:function(){var e=c(this).data("ui-resizable");if(e.ghost){e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})}},stop:function(){var e=c(this).data("ui-resizable");if(e.ghost&&e.helper){e.helper.get(0).removeChild(e.ghost.get(0))}}});c.ui.plugin.add("resizable","grid",{resize:function(){var s=c(this).data("ui-resizable"),j=s.options,t=s.size,l=s.originalSize,p=s.originalPosition,u=s.axis,f=typeof j.grid==="number"?[j.grid,j.grid]:j.grid,q=(f[0]||1),n=(f[1]||1),h=Math.round((t.width-l.width)/q)*q,g=Math.round((t.height-l.height)/n)*n,m=l.width+h,e=l.height+g,k=j.maxWidth&&(j.maxWidth<m),v=j.maxHeight&&(j.maxHeight<e),r=j.minWidth&&(j.minWidth>m),w=j.minHeight&&(j.minHeight>e);j.grid=f;if(r){m=m+q}if(w){e=e+n}if(k){m=m-q}if(v){e=e-n}if(/^(se|s|e)$/.test(u)){s.size.width=m;s.size.height=e}else{if(/^(ne)$/.test(u)){s.size.width=m;s.size.height=e;s.position.top=p.top-g}else{if(/^(sw)$/.test(u)){s.size.width=m;s.size.height=e;s.position.left=p.left-h}else{s.size.width=m;s.size.height=e;s.position.top=p.top-g;s.position.left=p.left-h}}}}})})(jQuery);(function(a,b){a.widget("ui.selectable",a.ui.mouse,{version:"1.10.2",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var d,c=this;this.element.addClass("ui-selectable");this.dragged=false;this.refresh=function(){d=a(c.options.filter,c.element[0]);d.addClass("ui-selectee");d.each(function(){var e=a(this),f=e.offset();a.data(this,"selectable-item",{element:this,$element:e,left:f.left,top:f.top,right:f.left+e.outerWidth(),bottom:f.top+e.outerHeight(),startselected:false,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})};this.refresh();this.selectees=d.addClass("ui-selectee");this._mouseInit();this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(e){var d=this,c=this.options;this.opos=[e.pageX,e.pageY];if(this.options.disabled){return}this.selectees=a(c.filter,this.element[0]);this._trigger("start",e);a(c.appendTo).append(this.helper);this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0});if(c.autoRefresh){this.refresh()}this.selectees.filter(".ui-selected").each(function(){var f=a.data(this,"selectable-item");f.startselected=true;if(!e.metaKey&&!e.ctrlKey){f.$element.removeClass("ui-selected");f.selected=false;f.$element.addClass("ui-unselecting");f.unselecting=true;d._trigger("unselecting",e,{unselecting:f.element})}});a(e.target).parents().addBack().each(function(){var f,g=a.data(this,"selectable-item");if(g){f=(!e.metaKey&&!e.ctrlKey)||!g.$element.hasClass("ui-selected");g.$element.removeClass(f?"ui-unselecting":"ui-selected").addClass(f?"ui-selecting":"ui-unselecting");g.unselecting=!f;g.selecting=f;g.selected=f;if(f){d._trigger("selecting",e,{selecting:g.element})}else{d._trigger("unselecting",e,{unselecting:g.element})}return false}})},_mouseDrag:function(k){this.dragged=true;if(this.options.disabled){return}var g,j=this,e=this.options,d=this.opos[0],h=this.opos[1],c=k.pageX,f=k.pageY;if(d>c){g=c;c=d;d=g}if(h>f){g=f;f=h;h=g}this.helper.css({left:d,top:h,width:c-d,height:f-h});this.selectees.each(function(){var l=a.data(this,"selectable-item"),m=false;if(!l||l.element===j.element[0]){return}if(e.tolerance==="touch"){m=(!(l.left>c||l.right<d||l.top>f||l.bottom<h))}else{if(e.tolerance==="fit"){m=(l.left>d&&l.right<c&&l.top>h&&l.bottom<f)}}if(m){if(l.selected){l.$element.removeClass("ui-selected");l.selected=false}if(l.unselecting){l.$element.removeClass("ui-unselecting");l.unselecting=false}if(!l.selecting){l.$element.addClass("ui-selecting");l.selecting=true;j._trigger("selecting",k,{selecting:l.element})}}else{if(l.selecting){if((k.metaKey||k.ctrlKey)&&l.startselected){l.$element.removeClass("ui-selecting");l.selecting=false;l.$element.addClass("ui-selected");l.selected=true}else{l.$element.removeClass("ui-selecting");l.selecting=false;if(l.startselected){l.$element.addClass("ui-unselecting");l.unselecting=true}j._trigger("unselecting",k,{unselecting:l.element})}}if(l.selected){if(!k.metaKey&&!k.ctrlKey&&!l.startselected){l.$element.removeClass("ui-selected");l.selected=false;l.$element.addClass("ui-unselecting");l.unselecting=true;j._trigger("unselecting",k,{unselecting:l.element})}}}});return false},_mouseStop:function(d){var c=this;this.dragged=false;a(".ui-unselecting",this.element[0]).each(function(){var e=a.data(this,"selectable-item");e.$element.removeClass("ui-unselecting");e.unselecting=false;e.startselected=false;c._trigger("unselected",d,{unselected:e.element})});a(".ui-selecting",this.element[0]).each(function(){var e=a.data(this,"selectable-item");e.$element.removeClass("ui-selecting").addClass("ui-selected");e.selecting=false;e.selected=true;e.startselected=true;c._trigger("selected",d,{selected:e.element})});this._trigger("stop",d);this.helper.remove();return false}})})(jQuery);(function(b,d){function a(f,e,g){return(f>e)&&(f<(e+g))}function c(e){return(/left|right/).test(e.css("float"))||(/inline|table-cell/).test(e.css("display"))}b.widget("ui.sortable",b.ui.mouse,{version:"1.10.2",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?e.axis==="x"||c(this.items[0].item):false;this.offset=this.element.offset();this._mouseInit();this.ready=true},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--){this.items[e].item.removeData(this.widgetName+"-item")}return this},_setOption:function(e,f){if(e==="disabled"){this.options[e]=f;this.widget().toggleClass("ui-sortable-disabled",!!f)}else{b.Widget.prototype._setOption.apply(this,arguments)}},_mouseCapture:function(g,h){var e=null,j=false,f=this;if(this.reverting){return false}if(this.options.disabled||this.options.type==="static"){return false}this._refreshItems(g);b(g.target).parents().each(function(){if(b.data(this,f.widgetName+"-item")===f){e=b(this);return false}});if(b.data(g.target,f.widgetName+"-item")===f){e=b(g.target)}if(!e){return false}if(this.options.handle&&!h){b(this.options.handle,e).find("*").addBack().each(function(){if(this===g.target){j=true}});if(!j){return false}}this.currentItem=e;this._removeCurrentsFromItems();return true},_mouseStart:function(h,j,f){var g,e,k=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(h);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};b.extend(this.offset,{click:{left:h.pageX-this.offset.left,top:h.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(h);this.originalPageX=h.pageX;this.originalPageY=h.pageY;(k.cursorAt&&this._adjustOffsetFromHelper(k.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(k.containment){this._setContainment()}if(k.cursor&&k.cursor!=="auto"){e=this.document.find("body");this.storedCursor=e.css("cursor");e.css("cursor",k.cursor);this.storedStylesheet=b("<style>*{ cursor: "+k.cursor+" !important; }</style>").appendTo(e)}if(k.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",k.opacity)}if(k.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",k.zIndex)}if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",h,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!f){for(g=this.containers.length-1;g>=0;g--){this.containers[g]._trigger("activate",h,this._uiHash(this))}}if(b.ui.ddmanager){b.ui.ddmanager.current=this}if(b.ui.ddmanager&&!k.dropBehaviour){b.ui.ddmanager.prepareOffsets(this,h)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(h);return true},_mouseDrag:function(j){var g,h,f,l,k=this.options,e=false;this.position=this._generatePosition(j);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-j.pageY<k.scrollSensitivity){this.scrollParent[0].scrollTop=e=this.scrollParent[0].scrollTop+k.scrollSpeed}else{if(j.pageY-this.overflowOffset.top<k.scrollSensitivity){this.scrollParent[0].scrollTop=e=this.scrollParent[0].scrollTop-k.scrollSpeed}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-j.pageX<k.scrollSensitivity){this.scrollParent[0].scrollLeft=e=this.scrollParent[0].scrollLeft+k.scrollSpeed}else{if(j.pageX-this.overflowOffset.left<k.scrollSensitivity){this.scrollParent[0].scrollLeft=e=this.scrollParent[0].scrollLeft-k.scrollSpeed}}}else{if(j.pageY-b(document).scrollTop()<k.scrollSensitivity){e=b(document).scrollTop(b(document).scrollTop()-k.scrollSpeed)}else{if(b(window).height()-(j.pageY-b(document).scrollTop())<k.scrollSensitivity){e=b(document).scrollTop(b(document).scrollTop()+k.scrollSpeed)}}if(j.pageX-b(document).scrollLeft()<k.scrollSensitivity){e=b(document).scrollLeft(b(document).scrollLeft()-k.scrollSpeed)}else{if(b(window).width()-(j.pageX-b(document).scrollLeft())<k.scrollSensitivity){e=b(document).scrollLeft(b(document).scrollLeft()+k.scrollSpeed)}}}if(e!==false&&b.ui.ddmanager&&!k.dropBehaviour){b.ui.ddmanager.prepareOffsets(this,j)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}for(g=this.items.length-1;g>=0;g--){h=this.items[g];f=h.item[0];l=this._intersectsWithPointer(h);if(!l){continue}if(h.instance!==this.currentContainer){continue}if(f!==this.currentItem[0]&&this.placeholder[l===1?"next":"prev"]()[0]!==f&&!b.contains(this.placeholder[0],f)&&(this.options.type==="semi-dynamic"?!b.contains(this.element[0],f):true)){this.direction=l===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(h)){this._rearrange(j,h)}else{break}this._trigger("change",j,this._uiHash());break}}this._contactContainers(j);if(b.ui.ddmanager){b.ui.ddmanager.drag(this,j)}this._trigger("sort",j,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(g,j){if(!g){return}if(b.ui.ddmanager&&!this.options.dropBehaviour){b.ui.ddmanager.drop(this,g)}if(this.options.revert){var f=this,k=this.placeholder.offset(),e=this.options.axis,h={};if(!e||e==="x"){h.left=k.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)}if(!e||e==="y"){h.top=k.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)}this.reverting=true;b(this.helper).animate(h,parseInt(this.options.revert,10)||500,function(){f._clear(g)})}else{this._clear(g,j)}return false},cancel:function(){if(this.dragging){this._mouseUp({target:null});if(this.options.helper==="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var e=this.containers.length-1;e>=0;e--){this.containers[e]._trigger("deactivate",null,this._uiHash(this));if(this.containers[e].containerCache.over){this.containers[e]._trigger("out",null,this._uiHash(this));this.containers[e].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}b.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){b(this.domPosition.prev).after(this.currentItem)}else{b(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(g){var e=this._getItemsAsjQuery(g&&g.connected),f=[];g=g||{};b(e).each(function(){var h=(b(g.item||this).attr(g.attribute||"id")||"").match(g.expression||(/(.+)[\-=_](.+)/));if(h){f.push((g.key||h[1]+"[]")+"="+(g.key&&g.expression?h[1]:h[2]))}});if(!f.length&&g.key){f.push(g.key+"=")}return f.join("&")},toArray:function(g){var e=this._getItemsAsjQuery(g&&g.connected),f=[];g=g||{};e.each(function(){f.push(b(g.item||this).attr(g.attribute||"id")||"")});return f},_intersectsWith:function(p){var g=this.positionAbs.left,f=g+this.helperProportions.width,o=this.positionAbs.top,n=o+this.helperProportions.height,h=p.left,e=h+p.width,q=p.top,m=q+p.height,s=this.offset.click.top,k=this.offset.click.left,j=(o+s)>q&&(o+s)<m&&(g+k)>h&&(g+k)<e;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>p[this.floating?"width":"height"])){return j}else{return(h<g+(this.helperProportions.width/2)&&f-(this.helperProportions.width/2)<e&&q<o+(this.helperProportions.height/2)&&n-(this.helperProportions.height/2)<m)}},_intersectsWithPointer:function(g){var h=(this.options.axis==="x")||a(this.positionAbs.top+this.offset.click.top,g.top,g.height),f=(this.options.axis==="y")||a(this.positionAbs.left+this.offset.click.left,g.left,g.width),k=h&&f,e=this._getDragVerticalDirection(),j=this._getDragHorizontalDirection();if(!k){return false}return this.floating?(((j&&j==="right")||e==="down")?2:1):(e&&(e==="down"?2:1))},_intersectsWithSides:function(h){var f=a(this.positionAbs.top+this.offset.click.top,h.top+(h.height/2),h.height),g=a(this.positionAbs.left+this.offset.click.left,h.left+(h.width/2),h.width),e=this._getDragVerticalDirection(),j=this._getDragHorizontalDirection();if(this.floating&&j){return((j==="right"&&g)||(j==="left"&&!g))}else{return e&&((e==="down"&&f)||(e==="up"&&!f))}},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return e!==0&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return e!==0&&(e>0?"right":"left")},refresh:function(e){this._refreshItems(e);this.refreshPositions();return this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(l){var h,g,n,m,e=[],f=[],k=this._connectWith();if(k&&l){for(h=k.length-1;h>=0;h--){n=b(k[h]);for(g=n.length-1;g>=0;g--){m=b.data(n[g],this.widgetFullName);if(m&&m!==this&&!m.options.disabled){f.push([b.isFunction(m.options.items)?m.options.items.call(m.element):b(m.options.items,m.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),m])}}}}f.push([b.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):b(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(h=f.length-1;h>=0;h--){f[h][0].each(function(){e.push(this)})}return b(e)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=b.grep(this.items,function(g){for(var f=0;f<e.length;f++){if(e[f]===g.item[0]){return false}}return true})},_refreshItems:function(e){this.items=[];this.containers=[this];var k,g,p,l,o,f,r,q,m=this.items,h=[[b.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):b(this.options.items,this.element),this]],n=this._connectWith();if(n&&this.ready){for(k=n.length-1;k>=0;k--){p=b(n[k]);for(g=p.length-1;g>=0;g--){l=b.data(p[g],this.widgetFullName);if(l&&l!==this&&!l.options.disabled){h.push([b.isFunction(l.options.items)?l.options.items.call(l.element[0],e,{item:this.currentItem}):b(l.options.items,l.element),l]);this.containers.push(l)}}}}for(k=h.length-1;k>=0;k--){o=h[k][1];f=h[k][0];for(g=0,q=f.length;g<q;g++){r=b(f[g]);r.data(this.widgetName+"-item",o);m.push({item:r,instance:o,width:0,height:0,left:0,top:0})}}},refreshPositions:function(e){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}var g,h,f,j;for(g=this.items.length-1;g>=0;g--){h=this.items[g];if(h.instance!==this.currentContainer&&this.currentContainer&&h.item[0]!==this.currentItem[0]){continue}f=this.options.toleranceElement?b(this.options.toleranceElement,h.item):h.item;if(!e){h.width=f.outerWidth();h.height=f.outerHeight()}j=f.offset();h.left=j.left;h.top=j.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(g=this.containers.length-1;g>=0;g--){j=this.containers[g].element.offset();this.containers[g].containerCache.left=j.left;this.containers[g].containerCache.top=j.top;this.containers[g].containerCache.width=this.containers[g].element.outerWidth();this.containers[g].containerCache.height=this.containers[g].element.outerHeight()}}return this},_createPlaceholder:function(f){f=f||this;var e,g=f.options;if(!g.placeholder||g.placeholder.constructor===String){e=g.placeholder;g.placeholder={element:function(){var j=f.currentItem[0].nodeName.toLowerCase(),h=b(f.document[0].createElement(j)).addClass(e||f.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");if(j==="tr"){h.append("<td colspan='99'>&#160;</td>")}else{if(j==="img"){h.attr("src",f.currentItem.attr("src"))}}if(!e){h.css("visibility","hidden")}return h},update:function(h,j){if(e&&!g.forcePlaceholderSize){return}if(!j.height()){j.height(f.currentItem.innerHeight()-parseInt(f.currentItem.css("paddingTop")||0,10)-parseInt(f.currentItem.css("paddingBottom")||0,10))}if(!j.width()){j.width(f.currentItem.innerWidth()-parseInt(f.currentItem.css("paddingLeft")||0,10)-parseInt(f.currentItem.css("paddingRight")||0,10))}}}}f.placeholder=b(g.placeholder.element.call(f.element,f.currentItem));f.currentItem.after(f.placeholder);g.placeholder.update(f,f.placeholder)},_contactContainers:function(e){var l,h,p,m,n,r,f,s,k,o,g=null,q=null;for(l=this.containers.length-1;l>=0;l--){if(b.contains(this.currentItem[0],this.containers[l].element[0])){continue}if(this._intersectsWith(this.containers[l].containerCache)){if(g&&b.contains(this.containers[l].element[0],g.element[0])){continue}g=this.containers[l];q=l}else{if(this.containers[l].containerCache.over){this.containers[l]._trigger("out",e,this._uiHash(this));this.containers[l].containerCache.over=0}}}if(!g){return}if(this.containers.length===1){if(!this.containers[q].containerCache.over){this.containers[q]._trigger("over",e,this._uiHash(this));this.containers[q].containerCache.over=1}}else{p=10000;m=null;o=g.floating||c(this.currentItem);n=o?"left":"top";r=o?"width":"height";f=this.positionAbs[n]+this.offset.click[n];for(h=this.items.length-1;h>=0;h--){if(!b.contains(this.containers[q].element[0],this.items[h].item[0])){continue}if(this.items[h].item[0]===this.currentItem[0]){continue}if(o&&!a(this.positionAbs.top+this.offset.click.top,this.items[h].top,this.items[h].height)){continue}s=this.items[h].item.offset()[n];k=false;if(Math.abs(s-f)>Math.abs(s+this.items[h][r]-f)){k=true;s+=this.items[h][r]}if(Math.abs(s-f)<p){p=Math.abs(s-f);m=this.items[h];this.direction=k?"up":"down"}}if(!m&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[q]){return}m?this._rearrange(e,m,null,true):this._rearrange(e,null,this.containers[q].element,true);this._trigger("change",e,this._uiHash());this.containers[q]._trigger("change",e,this._uiHash(this));this.currentContainer=this.containers[q];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[q]._trigger("over",e,this._uiHash(this));this.containers[q].containerCache.over=1}},_createHelper:function(f){var g=this.options,e=b.isFunction(g.helper)?b(g.helper.apply(this.element[0],[f,this.currentItem])):(g.helper==="clone"?this.currentItem.clone():this.currentItem);if(!e.parents("body").length){b(g.appendTo!=="parent"?g.appendTo:this.currentItem[0].parentNode)[0].appendChild(e[0])}if(e[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(!e[0].style.width||g.forceHelperSize){e.width(this.currentItem.width())}if(!e[0].style.height||g.forceHelperSize){e.height(this.currentItem.height())}return e},_adjustOffsetFromHelper:function(e){if(typeof e==="string"){e=e.split(" ")}if(b.isArray(e)){e={left:+e[0],top:+e[1]||0}}if("left" in e){this.offset.click.left=e.left+this.margins.left}if("right" in e){this.offset.click.left=this.helperProportions.width-e.right+this.margins.left}if("top" in e){this.offset.click.top=e.top+this.margins.top}if("bottom" in e){this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0])){e.left+=this.scrollParent.scrollLeft();e.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===document.body||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&b.ui.ie)){e={top:0,left:0}}return{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f,h,e,g=this.options;if(g.containment==="parent"){g.containment=this.helper[0].parentNode}if(g.containment==="document"||g.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,b(g.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b(g.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(g.containment)){f=b(g.containment)[0];h=b(g.containment).offset();e=(b(f).css("overflow")!=="hidden");this.containment=[h.left+(parseInt(b(f).css("borderLeftWidth"),10)||0)+(parseInt(b(f).css("paddingLeft"),10)||0)-this.margins.left,h.top+(parseInt(b(f).css("borderTopWidth"),10)||0)+(parseInt(b(f).css("paddingTop"),10)||0)-this.margins.top,h.left+(e?Math.max(f.scrollWidth,f.offsetWidth):f.offsetWidth)-(parseInt(b(f).css("borderLeftWidth"),10)||0)-(parseInt(b(f).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,h.top+(e?Math.max(f.scrollHeight,f.offsetHeight):f.offsetHeight)-(parseInt(b(f).css("borderTopWidth"),10)||0)-(parseInt(b(f).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(g,j){if(!j){j=this.position}var f=g==="absolute"?1:-1,e=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=(/(html|body)/i).test(e[0].tagName);return{top:(j.top+this.offset.relative.top*f+this.offset.parent.top*f-((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(h?0:e.scrollTop()))*f)),left:(j.left+this.offset.relative.left*f+this.offset.parent.left*f-((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():h?0:e.scrollLeft())*f))}},_generatePosition:function(h){var k,j,l=this.options,g=h.pageX,f=h.pageY,e=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&b.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,m=(/(html|body)/i).test(e[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}if(this.originalPosition){if(this.containment){if(h.pageX-this.offset.click.left<this.containment[0]){g=this.containment[0]+this.offset.click.left}if(h.pageY-this.offset.click.top<this.containment[1]){f=this.containment[1]+this.offset.click.top}if(h.pageX-this.offset.click.left>this.containment[2]){g=this.containment[2]+this.offset.click.left}if(h.pageY-this.offset.click.top>this.containment[3]){f=this.containment[3]+this.offset.click.top}}if(l.grid){k=this.originalPageY+Math.round((f-this.originalPageY)/l.grid[1])*l.grid[1];f=this.containment?((k-this.offset.click.top>=this.containment[1]&&k-this.offset.click.top<=this.containment[3])?k:((k-this.offset.click.top>=this.containment[1])?k-l.grid[1]:k+l.grid[1])):k;j=this.originalPageX+Math.round((g-this.originalPageX)/l.grid[0])*l.grid[0];g=this.containment?((j-this.offset.click.left>=this.containment[0]&&j-this.offset.click.left<=this.containment[2])?j:((j-this.offset.click.left>=this.containment[0])?j-l.grid[0]:j+l.grid[0])):j}}return{top:(f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(m?0:e.scrollTop())))),left:(g-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():m?0:e.scrollLeft())))}},_rearrange:function(j,h,f,g){f?f[0].appendChild(this.placeholder[0]):h.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction==="down"?h.item[0]:h.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){if(e===this.counter){this.refreshPositions(!g)}})},_clear:function(f,g){this.reverting=false;var e,h=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(e in this._storedCSS){if(this._storedCSS[e]==="auto"||this._storedCSS[e]==="static"){this._storedCSS[e]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!g){h.push(function(j){this._trigger("receive",j,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!g){h.push(function(j){this._trigger("update",j,this._uiHash())})}if(this!==this.currentContainer){if(!g){h.push(function(j){this._trigger("remove",j,this._uiHash())});h.push((function(j){return function(k){j._trigger("receive",k,this._uiHash(this))}}).call(this,this.currentContainer));h.push((function(j){return function(k){j._trigger("update",k,this._uiHash(this))}}).call(this,this.currentContainer))}}for(e=this.containers.length-1;e>=0;e--){if(!g){h.push((function(j){return function(k){j._trigger("deactivate",k,this._uiHash(this))}}).call(this,this.containers[e]))}if(this.containers[e].containerCache.over){h.push((function(j){return function(k){j._trigger("out",k,this._uiHash(this))}}).call(this,this.containers[e]));this.containers[e].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!g){this._trigger("beforeStop",f,this._uiHash());for(e=0;e<h.length;e++){h[e].call(this,f)}this._trigger("stop",f,this._uiHash())}this.fromOutside=false;return false}if(!g){this._trigger("beforeStop",f,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!==this.currentItem[0]){this.helper.remove()}this.helper=null;if(!g){for(e=0;e<h.length;e++){h[e].call(this,f)}this._trigger("stop",f,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if(b.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(e){var f=e||this;return{helper:f.helper,placeholder:f.placeholder||b([]),position:f.position,originalPosition:f.originalPosition,offset:f.positionAbs,item:f.currentItem,sender:e?e.element:null}}})})(jQuery);(function(d,e){var b=0,c={},a={};c.height=c.paddingTop=c.paddingBottom=c.borderTopWidth=c.borderBottomWidth="hide";a.height=a.paddingTop=a.paddingBottom=a.borderTopWidth=a.borderBottomWidth="show";d.widget("ui.accordion",{version:"1.10.2",options:{active:0,animate:{},collapsible:false,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var f=this.options;this.prevShow=this.prevHide=d();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");if(!f.collapsible&&(f.active===false||f.active==null)){f.active=0}this._processPanels();if(f.active<0){f.active+=this.headers.length}this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:!this.active.length?d():this.active.next(),content:!this.active.length?d():this.active.next()}},_createIcons:function(){var f=this.options.icons;if(f){d("<span>").addClass("ui-accordion-header-icon ui-icon "+f.header).prependTo(this.headers);this.active.children(".ui-accordion-header-icon").removeClass(f.header).addClass(f.activeHeader);this.headers.addClass("ui-accordion-icons")}},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var f;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id")}});this._destroyIcons();f=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id")}});if(this.options.heightStyle!=="content"){f.css("height","")}},_setOption:function(f,g){if(f==="active"){this._activate(g);return}if(f==="event"){if(this.options.event){this._off(this.headers,this.options.event)}this._setupEvents(g)}this._super(f,g);if(f==="collapsible"&&!g&&this.options.active===false){this._activate(0)}if(f==="icons"){this._destroyIcons();if(g){this._createIcons()}}if(f==="disabled"){this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!g)}},_keydown:function(j){if(j.altKey||j.ctrlKey){return}var k=d.ui.keyCode,h=this.headers.length,f=this.headers.index(j.target),g=false;switch(j.keyCode){case k.RIGHT:case k.DOWN:g=this.headers[(f+1)%h];break;case k.LEFT:case k.UP:g=this.headers[(f-1+h)%h];break;case k.SPACE:case k.ENTER:this._eventHandler(j);break;case k.HOME:g=this.headers[0];break;case k.END:g=this.headers[h-1];break}if(g){d(j.target).attr("tabIndex",-1);d(g).attr("tabIndex",0);g.focus();j.preventDefault()}},_panelKeyDown:function(f){if(f.keyCode===d.ui.keyCode.UP&&f.ctrlKey){d(f.currentTarget).prev().focus()}},refresh:function(){var f=this.options;this._processPanels();if((f.active===false&&f.collapsible===true)||!this.headers.length){f.active=false;this.active=d()}if(f.active===false){this._activate(0)}else{if(this.active.length&&!d.contains(this.element[0],this.active[0])){if(this.headers.length===this.headers.find(".ui-state-disabled").length){f.active=false;this.active=d()}else{this._activate(Math.max(0,f.active-1))}}else{f.active=this.headers.index(this.active)}}this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var k,h=this.options,g=h.heightStyle,j=this.element.parent(),f=this.accordionId="ui-accordion-"+(this.element.attr("id")||++b);this.active=this._findActive(h.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(o){var p=d(this),n=p.attr("id"),l=p.next(),m=l.attr("id");if(!n){n=f+"-header-"+o;p.attr("id",n)}if(!m){m=f+"-panel-"+o;l.attr("id",m)}p.attr("aria-controls",m);l.attr("aria-labelledby",n)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide();if(!this.active.length){this.headers.eq(0).attr("tabIndex",0)}else{this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"})}this._createIcons();this._setupEvents(h.event);if(g==="fill"){k=j.height();this.element.siblings(":visible").each(function(){var m=d(this),l=m.css("position");if(l==="absolute"||l==="fixed"){return}k-=m.outerHeight(true)});this.headers.each(function(){k-=d(this).outerHeight(true)});this.headers.next().each(function(){d(this).height(Math.max(0,k-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")}else{if(g==="auto"){k=0;this.headers.next().each(function(){k=Math.max(k,d(this).css("height","").height())}).height(k)}}},_activate:function(f){var g=this._findActive(f)[0];if(g===this.active[0]){return}g=g||this.active[0];this._eventHandler({target:g,currentTarget:g,preventDefault:d.noop})},_findActive:function(f){return typeof f==="number"?this.headers.eq(f):d()},_setupEvents:function(g){var f={keydown:"_keydown"};if(g){d.each(g.split(" "),function(j,h){f[h]="_eventHandler"})}this._off(this.headers.add(this.headers.next()));this._on(this.headers,f);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(f){var o=this.options,j=this.active,k=d(f.currentTarget),m=k[0]===j[0],g=m&&o.collapsible,h=g?d():k.next(),l=j.next(),n={oldHeader:j,oldPanel:l,newHeader:g?d():k,newPanel:h};f.preventDefault();if((m&&!o.collapsible)||(this._trigger("beforeActivate",f,n)===false)){return}o.active=g?false:this.headers.index(k);this.active=m?d():k;this._toggle(n);j.removeClass("ui-accordion-header-active ui-state-active");if(o.icons){j.children(".ui-accordion-header-icon").removeClass(o.icons.activeHeader).addClass(o.icons.header)}if(!m){k.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top");if(o.icons){k.children(".ui-accordion-header-icon").removeClass(o.icons.header).addClass(o.icons.activeHeader)}k.next().addClass("ui-accordion-content-active")}},_toggle:function(h){var f=h.newPanel,g=this.prevShow.length?this.prevShow:h.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=f;this.prevHide=g;if(this.options.animate){this._animate(f,g,h)}else{g.hide();f.show();this._toggleComplete(h)}g.attr({"aria-expanded":"false","aria-hidden":"true"});g.prev().attr("aria-selected","false");if(f.length&&g.length){g.prev().attr("tabIndex",-1)}else{if(f.length){this.headers.filter(function(){return d(this).attr("tabIndex")===0}).attr("tabIndex",-1)}}f.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(f,o,k){var n,m,j,l=this,p=0,q=f.length&&(!o.length||(f.index()<o.index())),h=this.options.animate||{},r=q&&h.down||h,g=function(){l._toggleComplete(k)};if(typeof r==="number"){j=r}if(typeof r==="string"){m=r}m=m||r.easing||h.easing;j=j||r.duration||h.duration;if(!o.length){return f.animate(a,j,m,g)}if(!f.length){return o.animate(c,j,m,g)}n=f.show().outerHeight();o.animate(c,{duration:j,easing:m,step:function(s,t){t.now=Math.round(s)}});f.hide().animate(a,{duration:j,easing:m,complete:g,step:function(s,t){t.now=Math.round(s);if(t.prop!=="height"){p+=t.now}else{if(l.options.heightStyle!=="content"){t.now=Math.round(n-o.outerHeight()-p);p=0}}}})},_toggleComplete:function(g){var f=g.oldPanel;f.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");if(f.length){f.parent()[0].className=f.parent()[0].className}this._trigger("activate",null,g)}})})(jQuery);(function(a,b){var c=0;a.widget("ui.autocomplete",{version:"1.10.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var f,d,g,j=this.element[0].nodeName.toLowerCase(),h=j==="textarea",e=j==="input";this.isMultiLine=h?true:e?false:this.element.prop("isContentEditable");this.valueMethod=this.element[h||e?"val":"text"];this.isNewMenu=true;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(k){if(this.element.prop("readOnly")){f=true;g=true;d=true;return}f=false;g=false;d=false;var l=a.ui.keyCode;switch(k.keyCode){case l.PAGE_UP:f=true;this._move("previousPage",k);break;case l.PAGE_DOWN:f=true;this._move("nextPage",k);break;case l.UP:f=true;this._keyEvent("previous",k);break;case l.DOWN:f=true;this._keyEvent("next",k);break;case l.ENTER:case l.NUMPAD_ENTER:if(this.menu.active){f=true;k.preventDefault();this.menu.select(k)}break;case l.TAB:if(this.menu.active){this.menu.select(k)}break;case l.ESCAPE:if(this.menu.element.is(":visible")){this._value(this.term);this.close(k);k.preventDefault()}break;default:d=true;this._searchTimeout(k);break}},keypress:function(k){if(f){f=false;k.preventDefault();return}if(d){return}var l=a.ui.keyCode;switch(k.keyCode){case l.PAGE_UP:this._move("previousPage",k);break;case l.PAGE_DOWN:this._move("nextPage",k);break;case l.UP:this._keyEvent("previous",k);break;case l.DOWN:this._keyEvent("next",k);break}},input:function(k){if(g){g=false;k.preventDefault();return}this._searchTimeout(k)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(k){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching);this.close(k);this._change(k)}});this._initSource();this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({input:a(),role:null}).hide().data("ui-menu");this._on(this.menu.element,{mousedown:function(k){k.preventDefault();this.cancelBlur=true;this._delay(function(){delete this.cancelBlur});var l=this.menu.element[0];if(!a(k.target).closest(".ui-menu-item").length){this._delay(function(){var m=this;this.document.one("mousedown",function(n){if(n.target!==m.element[0]&&n.target!==l&&!a.contains(l,n.target)){m.close()}})})}},menufocus:function(l,m){if(this.isNewMenu){this.isNewMenu=false;if(l.originalEvent&&/^mouse/.test(l.originalEvent.type)){this.menu.blur();this.document.one("mousemove",function(){a(l.target).trigger(l.originalEvent)});return}}var k=m.item.data("ui-autocomplete-item");if(false!==this._trigger("focus",l,{item:k})){if(l.originalEvent&&/^key/.test(l.originalEvent.type)){this._value(k.value)}}else{this.liveRegion.text(k.value)}},menuselect:function(m,n){var l=n.item.data("ui-autocomplete-item"),k=this.previous;if(this.element[0]!==this.document[0].activeElement){this.element.focus();this.previous=k;this._delay(function(){this.previous=k;this.selectedItem=l})}if(false!==this._trigger("select",m,{item:l})){this._value(l.value)}this.term=this._value();this.close(m);this.selectedItem=l}});this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(d,e){this._super(d,e);if(d==="source"){this._initSource()}if(d==="appendTo"){this.menu.element.appendTo(this._appendTo())}if(d==="disabled"&&e&&this.xhr){this.xhr.abort()}},_appendTo:function(){var d=this.options.appendTo;if(d){d=d.jquery||d.nodeType?a(d):this.document.find(d).eq(0)}if(!d){d=this.element.closest(".ui-front")}if(!d.length){d=this.document[0].body}return d},_initSource:function(){var f,d,e=this;if(a.isArray(this.options.source)){f=this.options.source;this.source=function(h,g){g(a.ui.autocomplete.filter(f,h.term))}}else{if(typeof this.options.source==="string"){d=this.options.source;this.source=function(h,g){if(e.xhr){e.xhr.abort()}e.xhr=a.ajax({url:d,data:h,dataType:"json",success:function(j){g(j)},error:function(){g([])}})}}else{this.source=this.options.source}}},_searchTimeout:function(d){clearTimeout(this.searching);this.searching=this._delay(function(){if(this.term!==this._value()){this.selectedItem=null;this.search(null,d)}},this.options.delay)},search:function(e,d){e=e!=null?e:this._value();this.term=this._value();if(e.length<this.options.minLength){return this.close(d)}if(this._trigger("search",d)===false){return}return this._search(e)},_search:function(d){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=false;this.source({term:d},this._response())},_response:function(){var e=this,d=++c;return function(f){if(d===c){e.__response(f)}e.pending--;if(!e.pending){e.element.removeClass("ui-autocomplete-loading")}}},__response:function(d){if(d){d=this._normalize(d)}this._trigger("response",null,{content:d});if(!this.options.disabled&&d&&d.length&&!this.cancelSearch){this._suggest(d);this._trigger("open")}else{this._close()}},close:function(d){this.cancelSearch=true;this._close(d)},_close:function(d){if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this.isNewMenu=true;this._trigger("close",d)}},_change:function(d){if(this.previous!==this._value()){this._trigger("change",d,{item:this.selectedItem})}},_normalize:function(d){if(d.length&&d[0].label&&d[0].value){return d}return a.map(d,function(e){if(typeof e==="string"){return{label:e,value:e}}return a.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(d){var e=this.menu.element.empty();this._renderMenu(e,d);this.isNewMenu=true;this.menu.refresh();e.show();this._resizeMenu();e.position(a.extend({of:this.element},this.options.position));if(this.options.autoFocus){this.menu.next()}},_resizeMenu:function(){var d=this.menu.element;d.outerWidth(Math.max(d.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,d){var f=this;a.each(d,function(g,h){f._renderItemData(e,h)})},_renderItemData:function(d,e){return this._renderItem(d,e).data("ui-autocomplete-item",e)},_renderItem:function(d,e){return a("<li>").append(a("<a>").text(e.label)).appendTo(d)},_move:function(e,d){if(!this.menu.element.is(":visible")){this.search(null,d);return}if(this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)){this._value(this.term);this.menu.blur();return}this.menu[e](d)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,d){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(e,d);d.preventDefault()}}});a.extend(a.ui.autocomplete,{escapeRegex:function(d){return d.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(f,d){var e=new RegExp(a.ui.autocomplete.escapeRegex(d),"i");return a.grep(f,function(g){return e.test(g.label||g.value||g)})}});a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(d){return d+(d>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var d;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return}if(e&&e.length){d=this.options.messages.results(e.length)}else{d=this.options.messages.noResults}this.liveRegion.text(d)}})}(jQuery));(function(f,b){var l,e,a,h,j="ui-button ui-widget ui-state-default ui-corner-all",c="ui-state-hover ui-state-active ",g="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",k=function(){var m=f(this).find(":ui-button");setTimeout(function(){m.button("refresh")},1)},d=function(n){var m=n.name,o=n.form,p=f([]);if(m){m=m.replace(/'/g,"\\'");if(o){p=f(o).find("[name='"+m+"']")}else{p=f("[name='"+m+"']",n.ownerDocument).filter(function(){return !this.form})}}return p};f.widget("ui.button",{version:"1.10.2",defaultElement:"<button>",options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,k);if(typeof this.options.disabled!=="boolean"){this.options.disabled=!!this.element.prop("disabled")}else{this.element.prop("disabled",this.options.disabled)}this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var p=this,n=this.options,q=this.type==="checkbox"||this.type==="radio",o=!q?"ui-state-active":"",m="ui-state-focus";if(n.label===null){n.label=(this.type==="input"?this.buttonElement.val():this.buttonElement.html())}this._hoverable(this.buttonElement);this.buttonElement.addClass(j).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(n.disabled){return}if(this===l){f(this).addClass("ui-state-active")}}).bind("mouseleave"+this.eventNamespace,function(){if(n.disabled){return}f(this).removeClass(o)}).bind("click"+this.eventNamespace,function(r){if(n.disabled){r.preventDefault();r.stopImmediatePropagation()}});this.element.bind("focus"+this.eventNamespace,function(){p.buttonElement.addClass(m)}).bind("blur"+this.eventNamespace,function(){p.buttonElement.removeClass(m)});if(q){this.element.bind("change"+this.eventNamespace,function(){if(h){return}p.refresh()});this.buttonElement.bind("mousedown"+this.eventNamespace,function(r){if(n.disabled){return}h=false;e=r.pageX;a=r.pageY}).bind("mouseup"+this.eventNamespace,function(r){if(n.disabled){return}if(e!==r.pageX||a!==r.pageY){h=true}})}if(this.type==="checkbox"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled||h){return false}})}else{if(this.type==="radio"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled||h){return false}f(this).addClass("ui-state-active");p.buttonElement.attr("aria-pressed","true");var r=p.element[0];d(r).not(r).map(function(){return f(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")})}else{this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(n.disabled){return false}f(this).addClass("ui-state-active");l=this;p.document.one("mouseup",function(){l=null})}).bind("mouseup"+this.eventNamespace,function(){if(n.disabled){return false}f(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(r){if(n.disabled){return false}if(r.keyCode===f.ui.keyCode.SPACE||r.keyCode===f.ui.keyCode.ENTER){f(this).addClass("ui-state-active")}}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){f(this).removeClass("ui-state-active")});if(this.buttonElement.is("a")){this.buttonElement.keyup(function(r){if(r.keyCode===f.ui.keyCode.SPACE){f(this).click()}})}}}this._setOption("disabled",n.disabled);this._resetButton()},_determineButtonType:function(){var m,o,n;if(this.element.is("[type=checkbox]")){this.type="checkbox"}else{if(this.element.is("[type=radio]")){this.type="radio"}else{if(this.element.is("input")){this.type="input"}else{this.type="button"}}}if(this.type==="checkbox"||this.type==="radio"){m=this.element.parents().last();o="label[for='"+this.element.attr("id")+"']";this.buttonElement=m.find(o);if(!this.buttonElement.length){m=m.length?m.siblings():this.element.siblings();this.buttonElement=m.filter(o);if(!this.buttonElement.length){this.buttonElement=m.find(o)}}this.element.addClass("ui-helper-hidden-accessible");n=this.element.is(":checked");if(n){this.buttonElement.addClass("ui-state-active")}this.buttonElement.prop("aria-pressed",n)}else{this.buttonElement=this.element}},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(j+" "+c+" "+g).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle){this.buttonElement.removeAttr("title")}},_setOption:function(m,n){this._super(m,n);if(m==="disabled"){if(n){this.element.prop("disabled",true)}else{this.element.prop("disabled",false)}return}this._resetButton()},refresh:function(){var m=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");if(m!==this.options.disabled){this._setOption("disabled",m)}if(this.type==="radio"){d(this.element[0]).each(function(){if(f(this).is(":checked")){f(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true")}else{f(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}})}else{if(this.type==="checkbox"){if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true")}else{this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false")}}}},_resetButton:function(){if(this.type==="input"){if(this.options.label){this.element.val(this.options.label)}return}var q=this.buttonElement.removeClass(g),o=f("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(q.empty()).text(),n=this.options.icons,m=n.primary&&n.secondary,p=[];if(n.primary||n.secondary){if(this.options.text){p.push("ui-button-text-icon"+(m?"s":(n.primary?"-primary":"-secondary")))}if(n.primary){q.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>")}if(n.secondary){q.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>")}if(!this.options.text){p.push(m?"ui-button-icons-only":"ui-button-icon-only");if(!this.hasTitle){q.attr("title",f.trim(o))}}}else{p.push("ui-button-text-only")}q.addClass(p.join(" "))}});f.widget("ui.buttonset",{version:"1.10.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(m,n){if(m==="disabled"){this.buttons.button("option",m,n)}this._super(m,n)},refresh:function(){var m=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return f(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(m?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(m?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return f(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery));(function(c,d){var a={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},b={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};c.widget("ui.dialog",{version:"1.10.2",options:{appendTo:"body",autoOpen:true,buttons:[],closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(f){var e=c(this).css(f).offset().top;if(e<0){c(this).css("top",f.top-e)}}},resizable:true,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();if(this.options.draggable&&c.fn.draggable){this._makeDraggable()}if(this.options.resizable&&c.fn.resizable){this._makeResizable()}this._isOpen=false},_init:function(){if(this.options.autoOpen){this.open()}},_appendTo:function(){var e=this.options.appendTo;if(e&&(e.jquery||e.nodeType)){return c(e)}return this.document.find(e||"body").eq(0)},_destroy:function(){var f,e=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(true,true).remove();if(this.originalTitle){this.element.attr("title",this.originalTitle)}f=e.parent.children().eq(e.index);if(f.length&&f[0]!==this.element[0]){f.before(this.element)}else{e.parent.append(this.element)}},widget:function(){return this.uiDialog},disable:c.noop,enable:c.noop,close:function(f){var e=this;if(!this._isOpen||this._trigger("beforeClose",f)===false){return}this._isOpen=false;this._destroyOverlay();if(!this.opener.filter(":focusable").focus().length){c(this.document[0].activeElement).blur()}this._hide(this.uiDialog,this.options.hide,function(){e._trigger("close",f)})},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(g,e){var f=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;if(f&&!e){this._trigger("focus",g)}return f},open:function(){var e=this;if(this._isOpen){if(this._moveToTop()){this._focusTabbable()}return}this._isOpen=true;this.opener=c(this.document[0].activeElement);this._size();this._position();this._createOverlay();this._moveToTop(null,true);this._show(this.uiDialog,this.options.show,function(){e._focusTabbable();e._trigger("focus")});this._trigger("open")},_focusTabbable:function(){var e=this.element.find("[autofocus]");if(!e.length){e=this.element.find(":tabbable")}if(!e.length){e=this.uiDialogButtonPane.find(":tabbable")}if(!e.length){e=this.uiDialogTitlebarClose.filter(":tabbable")}if(!e.length){e=this.uiDialog}e.eq(0).focus()},_keepFocus:function(e){function f(){var h=this.document[0].activeElement,g=this.uiDialog[0]===h||c.contains(this.uiDialog[0],h);if(!g){this._focusTabbable()}}e.preventDefault();f.call(this);this._delay(f)},_createWrapper:function(){this.uiDialog=c("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(g){if(this.options.closeOnEscape&&!g.isDefaultPrevented()&&g.keyCode&&g.keyCode===c.ui.keyCode.ESCAPE){g.preventDefault();this.close(g);return}if(g.keyCode!==c.ui.keyCode.TAB){return}var f=this.uiDialog.find(":tabbable"),h=f.filter(":first"),e=f.filter(":last");if((g.target===e[0]||g.target===this.uiDialog[0])&&!g.shiftKey){h.focus(1);g.preventDefault()}else{if((g.target===h[0]||g.target===this.uiDialog[0])&&g.shiftKey){e.focus(1);g.preventDefault()}}},mousedown:function(e){if(this._moveToTop(e)){this._focusTabbable()}}});if(!this.element.find("[aria-describedby]").length){this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})}},_createTitlebar:function(){var e;this.uiDialogTitlebar=c("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(f){if(!c(f.target).closest(".ui-dialog-titlebar-close")){this.uiDialog.focus()}}});this.uiDialogTitlebarClose=c("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:false}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(f){f.preventDefault();this.close(f)}});e=c("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(e);this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(e){if(!this.options.title){e.html("&#160;")}e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=c("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=c("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var f=this,e=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if(c.isEmptyObject(e)||(c.isArray(e)&&!e.length)){this.uiDialog.removeClass("ui-dialog-buttons");return}c.each(e,function(g,h){var j,k;h=c.isFunction(h)?{click:h,text:g}:h;h=c.extend({type:"button"},h);j=h.click;h.click=function(){j.apply(f.element[0],arguments)};k={icons:h.icons,text:h.showText};delete h.icons;delete h.showText;c("<button></button>",h).button(k).appendTo(f.uiButtonSet)});this.uiDialog.addClass("ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){var g=this,f=this.options;function e(h){return{position:h.position,offset:h.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(h,j){c(this).addClass("ui-dialog-dragging");g._blockFrames();g._trigger("dragStart",h,e(j))},drag:function(h,j){g._trigger("drag",h,e(j))},stop:function(h,j){f.position=[j.position.left-g.document.scrollLeft(),j.position.top-g.document.scrollTop()];c(this).removeClass("ui-dialog-dragging");g._unblockFrames();g._trigger("dragStop",h,e(j))}})},_makeResizable:function(){var k=this,h=this.options,j=h.resizable,e=this.uiDialog.css("position"),g=typeof j==="string"?j:"n,e,s,w,se,sw,ne,nw";function f(l){return{originalPosition:l.originalPosition,originalSize:l.originalSize,position:l.position,size:l.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:h.maxWidth,maxHeight:h.maxHeight,minWidth:h.minWidth,minHeight:this._minHeight(),handles:g,start:function(l,m){c(this).addClass("ui-dialog-resizing");k._blockFrames();k._trigger("resizeStart",l,f(m))},resize:function(l,m){k._trigger("resize",l,f(m))},stop:function(l,m){h.height=c(this).height();h.width=c(this).width();c(this).removeClass("ui-dialog-resizing");k._unblockFrames();k._trigger("resizeStop",l,f(m))}}).css("position",e)},_minHeight:function(){var e=this.options;return e.height==="auto"?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");if(!e){this.uiDialog.show()}this.uiDialog.position(this.options.position);if(!e){this.uiDialog.hide()}},_setOptions:function(g){var h=this,f=false,e={};c.each(g,function(j,k){h._setOption(j,k);if(j in a){f=true}if(j in b){e[j]=k}});if(f){this._size();this._position()}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option",e)}},_setOption:function(g,h){var f,j,e=this.uiDialog;if(g==="dialogClass"){e.removeClass(this.options.dialogClass).addClass(h)}if(g==="disabled"){return}this._super(g,h);if(g==="appendTo"){this.uiDialog.appendTo(this._appendTo())}if(g==="buttons"){this._createButtons()}if(g==="closeText"){this.uiDialogTitlebarClose.button({label:""+h})}if(g==="draggable"){f=e.is(":data(ui-draggable)");if(f&&!h){e.draggable("destroy")}if(!f&&h){this._makeDraggable()}}if(g==="position"){this._position()}if(g==="resizable"){j=e.is(":data(ui-resizable)");if(j&&!h){e.resizable("destroy")}if(j&&typeof h==="string"){e.resizable("option","handles",h)}if(!j&&h!==false){this._makeResizable()}}if(g==="title"){this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))}},_size:function(){var e,g,h,f=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});if(f.minWidth>f.width){f.width=f.minWidth}e=this.uiDialog.css({height:"auto",width:f.width}).outerHeight();g=Math.max(0,f.minHeight-e);h=typeof f.maxHeight==="number"?Math.max(0,f.maxHeight-e):"none";if(f.height==="auto"){this.element.css({minHeight:g,maxHeight:h,height:"auto"})}else{this.element.height(Math.max(0,f.height-e))}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight())}},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=c(this);return c("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_allowInteraction:function(e){if(c(e.target).closest(".ui-dialog").length){return true}return !!c(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(!this.options.modal){return}var f=this,e=this.widgetFullName;if(!c.ui.dialog.overlayInstances){this._delay(function(){if(c.ui.dialog.overlayInstances){this.document.bind("focusin.dialog",function(g){if(!f._allowInteraction(g)){g.preventDefault();c(".ui-dialog:visible:last .ui-dialog-content").data(e)._focusTabbable()}})}})}this.overlay=c("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});c.ui.dialog.overlayInstances++},_destroyOverlay:function(){if(!this.options.modal){return}if(this.overlay){c.ui.dialog.overlayInstances--;if(!c.ui.dialog.overlayInstances){this.document.unbind("focusin.dialog")}this.overlay.remove();this.overlay=null}}});c.ui.dialog.overlayInstances=0;if(c.uiBackCompat!==false){c.widget("ui.dialog",c.ui.dialog,{_position:function(){var f=this.options.position,g=[],h=[0,0],e;if(f){if(typeof f==="string"||(typeof f==="object"&&"0" in f)){g=f.split?f.split(" "):[f[0],f[1]];if(g.length===1){g[1]=g[0]}c.each(["left","top"],function(k,j){if(+g[k]===g[k]){h[k]=g[k];g[k]=j}});f={my:g[0]+(h[0]<0?h[0]:"+"+h[0])+" "+g[1]+(h[1]<0?h[1]:"+"+h[1]),at:g.join(" ")}}f=c.extend({},c.ui.dialog.prototype.options.position,f)}else{f=c.ui.dialog.prototype.options.position}e=this.uiDialog.is(":visible");if(!e){this.uiDialog.show()}this.uiDialog.position(f);if(!e){this.uiDialog.hide()}}})}}(jQuery));(function(a,b){a.widget("ui.menu",{version:"1.10.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=false;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,a.proxy(function(c){if(this.options.disabled){c.preventDefault()}},this));if(this.options.disabled){this.element.addClass("ui-state-disabled").attr("aria-disabled","true")}this._on({"mousedown .ui-menu-item > a":function(c){c.preventDefault()},"click .ui-state-disabled > a":function(c){c.preventDefault()},"click .ui-menu-item:has(a)":function(c){var d=a(c.target).closest(".ui-menu-item");if(!this.mouseHandled&&d.not(".ui-state-disabled").length){this.mouseHandled=true;this.select(c);if(d.has(".ui-menu").length){this.expand(c)}else{if(!this.element.is(":focus")){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer)}}}}},"mouseenter .ui-menu-item":function(c){var d=a(c.currentTarget);d.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(c,d)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,c){var d=this.active||this.element.children(".ui-menu-item").eq(0);if(!c){this.focus(e,d)}},blur:function(c){this._delay(function(){if(!a.contains(this.element[0],this.document[0].activeElement)){this.collapseAll(c)}})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(c){if(!a(c.target).closest(".ui-menu").length){this.collapseAll(c)}this.mouseHandled=false}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var c=a(this);if(c.data("ui-menu-submenu-carat")){c.remove()}});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(j){var d,h,k,g,f,c=true;function e(l){return l.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}switch(j.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(j);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(j);break;case a.ui.keyCode.HOME:this._move("first","first",j);break;case a.ui.keyCode.END:this._move("last","last",j);break;case a.ui.keyCode.UP:this.previous(j);break;case a.ui.keyCode.DOWN:this.next(j);break;case a.ui.keyCode.LEFT:this.collapse(j);break;case a.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(j)}break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(j);break;case a.ui.keyCode.ESCAPE:this.collapse(j);break;default:c=false;h=this.previousFilter||"";k=String.fromCharCode(j.keyCode);g=false;clearTimeout(this.filterTimer);if(k===h){g=true}else{k=h+k}f=new RegExp("^"+e(k),"i");d=this.activeMenu.children(".ui-menu-item").filter(function(){return f.test(a(this).children("a").text())});d=g&&d.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):d;if(!d.length){k=String.fromCharCode(j.keyCode);f=new RegExp("^"+e(k),"i");d=this.activeMenu.children(".ui-menu-item").filter(function(){return f.test(a(this).children("a").text())})}if(d.length){this.focus(j,d);if(d.length>1){this.previousFilter=k;this.filterTimer=this._delay(function(){delete this.previousFilter},1000)}else{delete this.previousFilter}}else{delete this.previousFilter}}if(c){j.preventDefault()}},_activate:function(c){if(!this.active.is(".ui-state-disabled")){if(this.active.children("a[aria-haspopup='true']").length){this.expand(c)}else{this.select(c)}}},refresh:function(){var e,d=this.options.icons.submenu,c=this.element.find(this.options.menus);c.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var h=a(this),g=h.prev("a"),f=a("<span>").addClass("ui-menu-icon ui-icon "+d).data("ui-menu-submenu-carat",true);g.attr("aria-haspopup","true").prepend(f);h.attr("aria-labelledby",g.attr("id"))});e=c.add(this.element);e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});e.children(":not(.ui-menu-item)").each(function(){var f=a(this);if(!/[^\-\u2014\u2013\s]/.test(f.text())){f.addClass("ui-widget-content ui-menu-divider")}});e.children(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!a.contains(this.element[0],this.active[0])){this.blur()}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(c,d){if(c==="icons"){this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(d.submenu)}this._super(c,d)},focus:function(d,c){var f,e;this.blur(d,d&&d.type==="focus");this._scrollIntoView(c);this.active=c.first();e=this.active.children("a").addClass("ui-state-focus");if(this.options.role){this.element.attr("aria-activedescendant",e.attr("id"))}this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");if(d&&d.type==="keydown"){this._close()}else{this.timer=this._delay(function(){this._close()},this.delay)}f=c.children(".ui-menu");if(f.length&&(/^mouse/.test(d.type))){this._startOpening(f)}this.activeMenu=c.parent();this._trigger("focus",d,{item:c})},_scrollIntoView:function(f){var j,e,g,c,d,h;if(this._hasScroll()){j=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0;e=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0;g=f.offset().top-this.activeMenu.offset().top-j-e;c=this.activeMenu.scrollTop();d=this.activeMenu.height();h=f.height();if(g<0){this.activeMenu.scrollTop(c+g)}else{if(g+h>d){this.activeMenu.scrollTop(c+g-d+h)}}}},blur:function(d,c){if(!c){clearTimeout(this.timer)}if(!this.active){return}this.active.children("a").removeClass("ui-state-focus");this.active=null;this._trigger("blur",d,{item:this.active})},_startOpening:function(c){clearTimeout(this.timer);if(c.attr("aria-hidden")!=="true"){return}this.timer=this._delay(function(){this._close();this._open(c)},this.delay)},_open:function(d){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(d.parents(".ui-menu")).hide().attr("aria-hidden","true");d.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(d,c){clearTimeout(this.timer);this.timer=this._delay(function(){var e=c?this.element:a(d&&d.target).closest(this.element.find(".ui-menu"));if(!e.length){e=this.element}this._close(e);this.blur(d);this.activeMenu=e},this.delay)},_close:function(c){if(!c){c=this.active?this.active.parent():this.element}c.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(d){var c=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(c&&c.length){this._close();this.focus(d,c)}},expand:function(d){var c=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();if(c&&c.length){this._open(c.parent());this._delay(function(){this.focus(d,c)})}},next:function(c){this._move("next","first",c)},previous:function(c){this._move("prev","last",c)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(f,d,e){var c;if(this.active){if(f==="first"||f==="last"){c=this.active[f==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1)}else{c=this.active[f+"All"](".ui-menu-item").eq(0)}}if(!c||!c.length||!this.active){c=this.activeMenu.children(".ui-menu-item")[d]()}this.focus(e,c)},nextPage:function(e){var d,f,c;if(!this.active){this.next(e);return}if(this.isLastItem()){return}if(this._hasScroll()){f=this.active.offset().top;c=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){d=a(this);return d.offset().top-f-c<0});this.focus(e,d)}else{this.focus(e,this.activeMenu.children(".ui-menu-item")[!this.active?"first":"last"]())}},previousPage:function(e){var d,f,c;if(!this.active){this.next(e);return}if(this.isFirstItem()){return}if(this._hasScroll()){f=this.active.offset().top;c=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){d=a(this);return d.offset().top-f+c>0});this.focus(e,d)}else{this.focus(e,this.activeMenu.children(".ui-menu-item").first())}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(c){this.active=this.active||a(c.target).closest(".ui-menu-item");var d={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(c,true)}this._trigger("select",c,d)}})}(jQuery));(function(a,b){a.widget("ui.progressbar",{version:"1.10.2",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove()},value:function(c){if(c===b){return this.options.value}this.options.value=this._constrainedValue(c);this._refreshValue()},_constrainedValue:function(c){if(c===b){c=this.options.value}this.indeterminate=c===false;if(typeof c!=="number"){c=0}return this.indeterminate?false:Math.min(this.options.max,Math.max(this.min,c))},_setOptions:function(c){var d=c.value;delete c.value;this._super(c);this.options.value=this._constrainedValue(d);this._refreshValue()},_setOption:function(c,d){if(c==="max"){d=Math.max(this.min,d)}this._super(c,d)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var d=this.options.value,c=this._percentage();this.valueDiv.toggle(this.indeterminate||d>this.min).toggleClass("ui-corner-right",d===this.options.max).width(c.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);if(this.indeterminate){this.element.removeAttr("aria-valuenow");if(!this.overlayDiv){this.overlayDiv=a("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv)}}else{this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":d});if(this.overlayDiv){this.overlayDiv.remove();this.overlayDiv=null}}if(this.oldValue!==d){this.oldValue=d;this._trigger("change")}if(d===this.options.max){this._trigger("complete")}}})})(jQuery);(function(b,c){var a=5;b.widget("ui.slider",b.ui.mouse,{version:"1.10.2",widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=false},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var g,d,e=this.options,j=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),h="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",f=[];d=(e.values&&e.values.length)||1;if(j.length>d){j.slice(d).remove();j=j.slice(0,d)}for(g=j.length;g<d;g++){f.push(h)}this.handles=j.add(b(f.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(k){b(this).data("ui-slider-handle-index",k)})},_createRange:function(){var d=this.options,e="";if(d.range){if(d.range===true){if(!d.values){d.values=[this._valueMin(),this._valueMin()]}else{if(d.values.length&&d.values.length!==2){d.values=[d.values[0],d.values[0]]}else{if(b.isArray(d.values)){d.values=d.values.slice(0)}}}}if(!this.range||!this.range.length){this.range=b("<div></div>").appendTo(this.element);e="ui-slider-range ui-widget-header ui-corner-all"}else{this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""})}this.range.addClass(e+((d.range==="min"||d.range==="max")?" ui-slider-range-"+d.range:""))}else{this.range=b([])}},_setupEvents:function(){var d=this.handles.add(this.range).filter("a");this._off(d);this._on(d,this._handleEvents);this._hoverable(d);this._focusable(d)},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(f){var k,n,e,h,m,p,j,d,l=this,g=this.options;if(g.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();k={x:f.pageX,y:f.pageY};n=this._normValueFromMouse(k);e=this._valueMax()-this._valueMin()+1;this.handles.each(function(o){var q=Math.abs(n-l.values(o));if((e>q)||(e===q&&(o===l._lastChangedValue||l.values(o)===g.min))){e=q;h=b(this);m=o}});p=this._start(f,m);if(p===false){return false}this._mouseSliding=true;this._handleIndex=m;h.addClass("ui-state-active").focus();j=h.offset();d=!b(f.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=d?{left:0,top:0}:{left:f.pageX-j.left-(h.width()/2),top:f.pageY-j.top-(h.height()/2)-(parseInt(h.css("borderTopWidth"),10)||0)-(parseInt(h.css("borderBottomWidth"),10)||0)+(parseInt(h.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(f,m,n)}this._animateOff=true;return true},_mouseStart:function(){return true},_mouseDrag:function(f){var d={x:f.pageX,y:f.pageY},e=this._normValueFromMouse(d);this._slide(f,this._handleIndex,e);return false},_mouseStop:function(d){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(d,this._handleIndex);this._change(d,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal"},_normValueFromMouse:function(e){var d,h,g,f,j;if(this.orientation==="horizontal"){d=this.elementSize.width;h=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{d=this.elementSize.height;h=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}g=(h/d);if(g>1){g=1}if(g<0){g=0}if(this.orientation==="vertical"){g=1-g}f=this._valueMax()-this._valueMin();j=this._valueMin()+g*f;return this._trimAlignValue(j)},_start:function(f,e){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}return this._trigger("start",f,d)},_slide:function(h,g,f){var d,e,j;if(this.options.values&&this.options.values.length){d=this.values(g?0:1);if((this.options.values.length===2&&this.options.range===true)&&((g===0&&f>d)||(g===1&&f<d))){f=d}if(f!==this.values(g)){e=this.values();e[g]=f;j=this._trigger("slide",h,{handle:this.handles[g],value:f,values:e});d=this.values(g?0:1);if(j!==false){this.values(g,f,true)}}}else{if(f!==this.value()){j=this._trigger("slide",h,{handle:this.handles[g],value:f});if(j!==false){this.value(f)}}}},_stop:function(f,e){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}this._trigger("stop",f,d)},_change:function(f,e){if(!this._keySliding&&!this._mouseSliding){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}this._lastChangedValue=e;this._trigger("change",f,d)}},value:function(d){if(arguments.length){this.options.value=this._trimAlignValue(d);this._refreshValue();this._change(null,0);return}return this._value()},values:function(e,h){var g,d,f;if(arguments.length>1){this.options.values[e]=this._trimAlignValue(h);this._refreshValue();this._change(null,e);return}if(arguments.length){if(b.isArray(arguments[0])){g=this.options.values;d=arguments[0];for(f=0;f<g.length;f+=1){g[f]=this._trimAlignValue(d[f]);this._change(null,f)}this._refreshValue()}else{if(this.options.values&&this.options.values.length){return this._values(e)}else{return this.value()}}}else{return this._values()}},_setOption:function(e,f){var d,g=0;if(e==="range"&&this.options.range===true){if(f==="min"){this.options.value=this._values(0);this.options.values=null}else{if(f==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null}}}if(b.isArray(this.options.values)){g=this.options.values.length}b.Widget.prototype._setOption.apply(this,arguments);switch(e){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(d=0;d<g;d+=1){this._change(null,d)}this._animateOff=false;break;case"min":case"max":this._animateOff=true;this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break}},_value:function(){var d=this.options.value;d=this._trimAlignValue(d);return d},_values:function(d){var g,f,e;if(arguments.length){g=this.options.values[d];g=this._trimAlignValue(g);return g}else{if(this.options.values&&this.options.values.length){f=this.options.values.slice();for(e=0;e<f.length;e+=1){f[e]=this._trimAlignValue(f[e])}return f}else{return[]}}},_trimAlignValue:function(g){if(g<=this._valueMin()){return this._valueMin()}if(g>=this._valueMax()){return this._valueMax()}var d=(this.options.step>0)?this.options.step:1,f=(g-this._valueMin())%d,e=g-f;if(Math.abs(f)*2>=d){e+=(f>0)?d:(-d)}return parseFloat(e.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var j,h,m,k,n,g=this.options.range,f=this.options,l=this,e=(!this._animateOff)?f.animate:false,d={};if(this.options.values&&this.options.values.length){this.handles.each(function(o){h=(l.values(o)-l._valueMin())/(l._valueMax()-l._valueMin())*100;d[l.orientation==="horizontal"?"left":"bottom"]=h+"%";b(this).stop(1,1)[e?"animate":"css"](d,f.animate);if(l.options.range===true){if(l.orientation==="horizontal"){if(o===0){l.range.stop(1,1)[e?"animate":"css"]({left:h+"%"},f.animate)}if(o===1){l.range[e?"animate":"css"]({width:(h-j)+"%"},{queue:false,duration:f.animate})}}else{if(o===0){l.range.stop(1,1)[e?"animate":"css"]({bottom:(h)+"%"},f.animate)}if(o===1){l.range[e?"animate":"css"]({height:(h-j)+"%"},{queue:false,duration:f.animate})}}}j=h})}else{m=this.value();k=this._valueMin();n=this._valueMax();h=(n!==k)?(m-k)/(n-k)*100:0;d[this.orientation==="horizontal"?"left":"bottom"]=h+"%";this.handle.stop(1,1)[e?"animate":"css"](d,f.animate);if(g==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[e?"animate":"css"]({width:h+"%"},f.animate)}if(g==="max"&&this.orientation==="horizontal"){this.range[e?"animate":"css"]({width:(100-h)+"%"},{queue:false,duration:f.animate})}if(g==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[e?"animate":"css"]({height:h+"%"},f.animate)}if(g==="max"&&this.orientation==="vertical"){this.range[e?"animate":"css"]({height:(100-h)+"%"},{queue:false,duration:f.animate})}}},_handleEvents:{keydown:function(h){var j,f,e,g,d=b(h.target).data("ui-slider-handle-index");switch(h.keyCode){case b.ui.keyCode.HOME:case b.ui.keyCode.END:case b.ui.keyCode.PAGE_UP:case b.ui.keyCode.PAGE_DOWN:case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:h.preventDefault();if(!this._keySliding){this._keySliding=true;b(h.target).addClass("ui-state-active");j=this._start(h,d);if(j===false){return}}break}g=this.options.step;if(this.options.values&&this.options.values.length){f=e=this.values(d)}else{f=e=this.value()}switch(h.keyCode){case b.ui.keyCode.HOME:e=this._valueMin();break;case b.ui.keyCode.END:e=this._valueMax();break;case b.ui.keyCode.PAGE_UP:e=this._trimAlignValue(f+((this._valueMax()-this._valueMin())/a));break;case b.ui.keyCode.PAGE_DOWN:e=this._trimAlignValue(f-((this._valueMax()-this._valueMin())/a));break;case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:if(f===this._valueMax()){return}e=this._trimAlignValue(f+g);break;case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(f===this._valueMin()){return}e=this._trimAlignValue(f-g);break}this._slide(h,d,e)},click:function(d){d.preventDefault()},keyup:function(e){var d=b(e.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(e,d);this._change(e,d);b(e.target).removeClass("ui-state-active")}}}})}(jQuery));(function(b){function a(c){return function(){var d=this.element.val();c.apply(this,arguments);this._refresh();if(d!==this.element.val()){this._trigger("change")}}}b.widget("ui.spinner",{version:"1.10.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);this._value(this.element.val(),true);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var c={},d=this.element;b.each(["min","max","step"],function(e,f){var g=d.attr(f);if(g!==undefined&&g.length){c[f]=g}});return c},_events:{keydown:function(c){if(this._start(c)&&this._keydown(c)){c.preventDefault()}},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(c){if(this.cancelBlur){delete this.cancelBlur;return}this._stop();this._refresh();if(this.previous!==this.element.val()){this._trigger("change",c)}},mousewheel:function(c,d){if(!d){return}if(!this.spinning&&!this._start(c)){return false}this._spin((d>0?1:-1)*this.options.step,c);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){if(this.spinning){this._stop(c)}},100);c.preventDefault()},"mousedown .ui-spinner-button":function(d){var c;c=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();function e(){var f=this.element[0]===this.document[0].activeElement;if(!f){this.element.focus();this.previous=c;this._delay(function(){this.previous=c})}}d.preventDefault();e.call(this);this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;e.call(this)});if(this._start(d)===false){return}this._repeat(null,b(d.currentTarget).hasClass("ui-spinner-up")?1:-1,d)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(c){if(!b(c.currentTarget).hasClass("ui-state-active")){return}if(this._start(c)===false){return false}this._repeat(null,b(c.currentTarget).hasClass("ui-spinner-up")?1:-1,c)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var c=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=c.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");if(this.buttons.height()>Math.ceil(c.height()*0.5)&&c.height()>0){c.height(c.height())}if(this.options.disabled){this.disable()}},_keydown:function(d){var c=this.options,e=b.ui.keyCode;switch(d.keyCode){case e.UP:this._repeat(null,1,d);return true;case e.DOWN:this._repeat(null,-1,d);return true;case e.PAGE_UP:this._repeat(null,c.page,d);return true;case e.PAGE_DOWN:this._repeat(null,-c.page,d);return true}return false},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(c){if(!this.spinning&&this._trigger("start",c)===false){return false}if(!this.counter){this.counter=1}this.spinning=true;return true},_repeat:function(d,c,e){d=d||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,c,e)},d);this._spin(c*this.options.step,e)},_spin:function(d,c){var e=this.value()||0;if(!this.counter){this.counter=1}e=this._adjustValue(e+d*this._increment(this.counter));if(!this.spinning||this._trigger("spin",c,{value:e})!==false){this._value(e);this.counter++}},_increment:function(c){var d=this.options.incremental;if(d){return b.isFunction(d)?d(c):Math.floor(c*c*c/50000-c*c/500+17*c/200+1)}return 1},_precision:function(){var c=this._precisionOf(this.options.step);if(this.options.min!==null){c=Math.max(c,this._precisionOf(this.options.min))}return c},_precisionOf:function(d){var e=d.toString(),c=e.indexOf(".");return c===-1?0:e.length-c-1},_adjustValue:function(e){var d,f,c=this.options;d=c.min!==null?c.min:0;f=e-d;f=Math.round(f/c.step)*c.step;e=d+f;e=parseFloat(e.toFixed(this._precision()));if(c.max!==null&&e>c.max){return c.max}if(c.min!==null&&e<c.min){return c.min}return e},_stop:function(c){if(!this.spinning){return}clearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger("stop",c)},_setOption:function(c,d){if(c==="culture"||c==="numberFormat"){var e=this._parse(this.element.val());this.options[c]=d;this.element.val(this._format(e));return}if(c==="max"||c==="min"||c==="step"){if(typeof d==="string"){d=this._parse(d)}}if(c==="icons"){this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(d.up);this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(d.down)}this._super(c,d);if(c==="disabled"){if(d){this.element.prop("disabled",true);this.buttons.button("disable")}else{this.element.prop("disabled",false);this.buttons.button("enable")}}},_setOptions:a(function(c){this._super(c);this._value(this.element.val())}),_parse:function(c){if(typeof c==="string"&&c!==""){c=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(c,10,this.options.culture):+c}return c===""||isNaN(c)?null:c},_format:function(c){if(c===""){return""}return window.Globalize&&this.options.numberFormat?Globalize.format(c,this.options.numberFormat,this.options.culture):c},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,c){var d;if(e!==""){d=this._parse(e);if(d!==null){if(!c){d=this._adjustValue(d)}e=this._format(d)}}this.element.val(e);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",false).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:a(function(c){this._stepUp(c)}),_stepUp:function(c){if(this._start()){this._spin((c||1)*this.options.step);this._stop()}},stepDown:a(function(c){this._stepDown(c)}),_stepDown:function(c){if(this._start()){this._spin((c||1)*-this.options.step);this._stop()}},pageUp:a(function(c){this._stepUp((c||1)*this.options.page)}),pageDown:a(function(c){this._stepDown((c||1)*this.options.page)}),value:function(c){if(!arguments.length){return this._parse(this.element.val())}a(this._value).call(this,c)},widget:function(){return this.uiSpinner}})}(jQuery));(function(c,e){var a=0,f=/#.*$/;function d(){return ++a}function b(g){return g.hash.length>1&&decodeURIComponent(g.href.replace(f,""))===decodeURIComponent(location.href.replace(f,""))}c.widget("ui.tabs",{version:"1.10.2",delay:300,options:{active:null,collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var h=this,g=this.options;this.running=false;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",g.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(j){if(c(this).is(".ui-state-disabled")){j.preventDefault()}}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){if(c(this).closest("li").is(".ui-state-disabled")){this.blur()}});this._processTabs();g.active=this._initialActive();if(c.isArray(g.disabled)){g.disabled=c.unique(g.disabled.concat(c.map(this.tabs.filter(".ui-state-disabled"),function(j){return h.tabs.index(j)}))).sort()}if(this.options.active!==false&&this.anchors.length){this.active=this._findActive(g.active)}else{this.active=c()}this._refresh();if(this.active.length){this.load(g.active)}},_initialActive:function(){var h=this.options.active,g=this.options.collapsible,j=location.hash.substring(1);if(h===null){if(j){this.tabs.each(function(k,l){if(c(l).attr("aria-controls")===j){h=k;return false}})}if(h===null){h=this.tabs.index(this.tabs.filter(".ui-tabs-active"))}if(h===null||h===-1){h=this.tabs.length?0:false}}if(h!==false){h=this.tabs.index(this.tabs.eq(h));if(h===-1){h=g?false:0}}if(!g&&h===false&&this.anchors.length){h=0}return h},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?c():this._getPanelForTab(this.active)}},_tabKeydown:function(j){var h=c(this.document[0].activeElement).closest("li"),g=this.tabs.index(h),k=true;if(this._handlePageNav(j)){return}switch(j.keyCode){case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:g++;break;case c.ui.keyCode.UP:case c.ui.keyCode.LEFT:k=false;g--;break;case c.ui.keyCode.END:g=this.anchors.length-1;break;case c.ui.keyCode.HOME:g=0;break;case c.ui.keyCode.SPACE:j.preventDefault();clearTimeout(this.activating);this._activate(g);return;case c.ui.keyCode.ENTER:j.preventDefault();clearTimeout(this.activating);this._activate(g===this.options.active?false:g);return;default:return}j.preventDefault();clearTimeout(this.activating);g=this._focusNextTab(g,k);if(!j.ctrlKey){h.attr("aria-selected","false");this.tabs.eq(g).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",g)},this.delay)}},_panelKeydown:function(g){if(this._handlePageNav(g)){return}if(g.ctrlKey&&g.keyCode===c.ui.keyCode.UP){g.preventDefault();this.active.focus()}},_handlePageNav:function(g){if(g.altKey&&g.keyCode===c.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true}if(g.altKey&&g.keyCode===c.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true}},_findNextTab:function(h,j){var g=this.tabs.length-1;function k(){if(h>g){h=0}if(h<0){h=g}return h}while(c.inArray(k(),this.options.disabled)!==-1){h=j?h+1:h-1}return h},_focusNextTab:function(g,h){g=this._findNextTab(g,h);this.tabs.eq(g).focus();return g},_setOption:function(g,h){if(g==="active"){this._activate(h);return}if(g==="disabled"){this._setupDisabled(h);return}this._super(g,h);if(g==="collapsible"){this.element.toggleClass("ui-tabs-collapsible",h);if(!h&&this.options.active===false){this._activate(0)}}if(g==="event"){this._setupEvents(h)}if(g==="heightStyle"){this._setupHeightStyle(h)}},_tabId:function(g){return g.attr("aria-controls")||"ui-tabs-"+d()},_sanitizeSelector:function(g){return g?g.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var h=this.options,g=this.tablist.children(":has(a[href])");h.disabled=c.map(g.filter(".ui-state-disabled"),function(j){return g.index(j)});this._processTabs();if(h.active===false||!this.anchors.length){h.active=false;this.active=c()}else{if(this.active.length&&!c.contains(this.tablist[0],this.active[0])){if(this.tabs.length===h.disabled.length){h.active=false;this.active=c()}else{this._activate(this._findNextTab(Math.max(0,h.active-1),false))}}else{h.active=this.tabs.index(this.active)}}this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});if(!this.active.length){this.tabs.eq(0).attr("tabIndex",0)}else{this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0});this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})}},_processTabs:function(){var g=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return c("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=c();this.anchors.each(function(n,l){var h,j,m,k=c(l).uniqueId().attr("id"),o=c(l).closest("li"),p=o.attr("aria-controls");if(b(l)){h=l.hash;j=g.element.find(g._sanitizeSelector(h))}else{m=g._tabId(o);h="#"+m;j=g.element.find(h);if(!j.length){j=g._createPanel(m);j.insertAfter(g.panels[n-1]||g.tablist)}j.attr("aria-live","polite")}if(j.length){g.panels=g.panels.add(j)}if(p){o.data("ui-tabs-aria-controls",p)}o.attr({"aria-controls":h.substring(1),"aria-labelledby":k});j.attr("aria-labelledby",k)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(g){return c("<div>").attr("id",g).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",true)},_setupDisabled:function(j){if(c.isArray(j)){if(!j.length){j=false}else{if(j.length===this.anchors.length){j=true}}}for(var h=0,g;(g=this.tabs[h]);h++){if(j===true||c.inArray(h,j)!==-1){c(g).addClass("ui-state-disabled").attr("aria-disabled","true")}else{c(g).removeClass("ui-state-disabled").removeAttr("aria-disabled")}}this.options.disabled=j},_setupEvents:function(h){var g={click:function(j){j.preventDefault()}};if(h){c.each(h.split(" "),function(k,j){g[j]="_eventHandler"})}this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,g);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(g){var j,h=this.element.parent();if(g==="fill"){j=h.height();j-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var l=c(this),k=l.css("position");if(k==="absolute"||k==="fixed"){return}j-=l.outerHeight(true)});this.element.children().not(this.panels).each(function(){j-=c(this).outerHeight(true)});this.panels.each(function(){c(this).height(Math.max(0,j-c(this).innerHeight()+c(this).height()))}).css("overflow","auto")}else{if(g==="auto"){j=0;this.panels.each(function(){j=Math.max(j,c(this).height("").height())}).height(j)}}},_eventHandler:function(g){var q=this.options,l=this.active,m=c(g.currentTarget),k=m.closest("li"),o=k[0]===l[0],h=o&&q.collapsible,j=h?c():this._getPanelForTab(k),n=!l.length?c():this._getPanelForTab(l),p={oldTab:l,oldPanel:n,newTab:h?c():k,newPanel:j};g.preventDefault();if(k.hasClass("ui-state-disabled")||k.hasClass("ui-tabs-loading")||this.running||(o&&!q.collapsible)||(this._trigger("beforeActivate",g,p)===false)){return}q.active=h?false:this.tabs.index(k);this.active=o?c():k;if(this.xhr){this.xhr.abort()}if(!n.length&&!j.length){c.error("jQuery UI Tabs: Mismatching fragment identifier.")}if(j.length){this.load(this.tabs.index(k),g)}this._toggle(g,p)},_toggle:function(n,m){var l=this,g=m.newPanel,k=m.oldPanel;this.running=true;function j(){l.running=false;l._trigger("activate",n,m)}function h(){m.newTab.closest("li").addClass("ui-tabs-active ui-state-active");if(g.length&&l.options.show){l._show(g,l.options.show,j)}else{g.show();j()}}if(k.length&&this.options.hide){this._hide(k,this.options.hide,function(){m.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");h()})}else{m.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");k.hide();h()}k.attr({"aria-expanded":"false","aria-hidden":"true"});m.oldTab.attr("aria-selected","false");if(g.length&&k.length){m.oldTab.attr("tabIndex",-1)}else{if(g.length){this.tabs.filter(function(){return c(this).attr("tabIndex")===0}).attr("tabIndex",-1)}}g.attr({"aria-expanded":"true","aria-hidden":"false"});m.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(h){var g,j=this._findActive(h);if(j[0]===this.active[0]){return}if(!j.length){j=this.active}g=j.find(".ui-tabs-anchor")[0];this._eventHandler({target:g,currentTarget:g,preventDefault:c.noop})},_findActive:function(g){return g===false?c():this.tabs.eq(g)},_getIndex:function(g){if(typeof g==="string"){g=this.anchors.index(this.anchors.filter("[href$='"+g+"']"))}return g},_destroy:function(){if(this.xhr){this.xhr.abort()}this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){if(c.data(this,"ui-tabs-destroy")){c(this).remove()}else{c(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}});this.tabs.each(function(){var g=c(this),h=g.data("ui-tabs-aria-controls");if(h){g.attr("aria-controls",h).removeData("ui-tabs-aria-controls")}else{g.removeAttr("aria-controls")}});this.panels.show();if(this.options.heightStyle!=="content"){this.panels.css("height","")}},enable:function(g){var h=this.options.disabled;if(h===false){return}if(g===e){h=false}else{g=this._getIndex(g);if(c.isArray(h)){h=c.map(h,function(j){return j!==g?j:null})}else{h=c.map(this.tabs,function(j,k){return k!==g?k:null})}}this._setupDisabled(h)},disable:function(g){var h=this.options.disabled;if(h===true){return}if(g===e){h=true}else{g=this._getIndex(g);if(c.inArray(g,h)!==-1){return}if(c.isArray(h)){h=c.merge([g],h).sort()}else{h=[g]}}this._setupDisabled(h)},load:function(j,n){j=this._getIndex(j);var m=this,k=this.tabs.eq(j),h=k.find(".ui-tabs-anchor"),g=this._getPanelForTab(k),l={tab:k,panel:g};if(b(h[0])){return}this.xhr=c.ajax(this._ajaxSettings(h,n,l));if(this.xhr&&this.xhr.statusText!=="canceled"){k.addClass("ui-tabs-loading");g.attr("aria-busy","true");this.xhr.success(function(o){setTimeout(function(){g.html(o);m._trigger("load",n,l)},1)}).complete(function(p,o){setTimeout(function(){if(o==="abort"){m.panels.stop(false,true)}k.removeClass("ui-tabs-loading");g.removeAttr("aria-busy");if(p===m.xhr){delete m.xhr}},1)})}},_ajaxSettings:function(g,k,j){var h=this;return{url:g.attr("href"),beforeSend:function(m,l){return h._trigger("beforeLoad",k,c.extend({jqXHR:m,ajaxSettings:l},j))}}},_getPanelForTab:function(g){var h=c(g).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+h))}})})(jQuery);(function(d){var b=0;function c(f,g){var e=(f.attr("aria-describedby")||"").split(/\s+/);e.push(g);f.data("ui-tooltip-id",g).attr("aria-describedby",d.trim(e.join(" ")))}function a(g){var h=g.data("ui-tooltip-id"),f=(g.attr("aria-describedby")||"").split(/\s+/),e=d.inArray(h,f);if(e!==-1){f.splice(e,1)}g.removeData("ui-tooltip-id");f=d.trim(f.join(" "));if(f){g.attr("aria-describedby",f)}else{g.removeAttr("aria-describedby")}}d.widget("ui.tooltip",{version:"1.10.2",options:{content:function(){var e=d(this).attr("title")||"";return d("<a>").text(e).html()},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,tooltipClass:null,track:false,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};if(this.options.disabled){this._disable()}},_setOption:function(e,g){var f=this;if(e==="disabled"){this[g?"_disable":"_enable"]();this.options[e]=g;return}this._super(e,g);if(e==="content"){d.each(this.tooltips,function(j,h){f._updateContent(h)})}},_disable:function(){var e=this;d.each(this.tooltips,function(h,f){var g=d.Event("blur");g.target=g.currentTarget=f[0];e.close(g,true)});this.element.find(this.options.items).addBack().each(function(){var f=d(this);if(f.is("[title]")){f.data("ui-tooltip-title",f.attr("title")).attr("title","")}})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=d(this);if(e.data("ui-tooltip-title")){e.attr("title",e.data("ui-tooltip-title"))}})},open:function(f){var e=this,g=d(f?f.target:this.element).closest(this.options.items);if(!g.length||g.data("ui-tooltip-id")){return}if(g.attr("title")){g.data("ui-tooltip-title",g.attr("title"))}g.data("ui-tooltip-open",true);if(f&&f.type==="mouseover"){g.parents().each(function(){var j=d(this),h;if(j.data("ui-tooltip-open")){h=d.Event("blur");h.target=h.currentTarget=this;e.close(h,true)}if(j.attr("title")){j.uniqueId();e.parents[this.id]={element:this,title:j.attr("title")};j.attr("title","")}})}this._updateContent(g,f)},_updateContent:function(k,j){var h,e=this.options.content,g=this,f=j?j.type:null;if(typeof e==="string"){return this._open(j,k,e)}h=e.call(k[0],function(l){if(!k.data("ui-tooltip-open")){return}g._delay(function(){if(j){j.type=f}this._open(j,k,l)})});if(h){this._open(j,k,h)}},_open:function(j,l,h){var k,g,f,m=d.extend({},this.options.position);if(!h){return}k=this._find(l);if(k.length){k.find(".ui-tooltip-content").html(h);return}if(l.is("[title]")){if(j&&j.type==="mouseover"){l.attr("title","")}else{l.removeAttr("title")}}k=this._tooltip(l);c(l,k.attr("id"));k.find(".ui-tooltip-content").html(h);function e(n){m.of=n;if(k.is(":hidden")){return}k.position(m)}if(this.options.track&&j&&/^mouse/.test(j.type)){this._on(this.document,{mousemove:e});e(j)}else{k.position(d.extend({of:l},this.options.position))}k.hide();this._show(k,this.options.show);if(this.options.show&&this.options.show.delay){f=this.delayedShow=setInterval(function(){if(k.is(":visible")){e(m.of);clearInterval(f)}},d.fx.interval)}this._trigger("open",j,{tooltip:k});g={keyup:function(n){if(n.keyCode===d.ui.keyCode.ESCAPE){var o=d.Event(n);o.currentTarget=l[0];this.close(o,true)}},remove:function(){this._removeTooltip(k)}};if(!j||j.type==="mouseover"){g.mouseleave="close"}if(!j||j.type==="focusin"){g.focusout="close"}this._on(true,l,g)},close:function(f){var e=this,h=d(f?f.currentTarget:this.element),g=this._find(h);if(this.closing){return}clearInterval(this.delayedShow);if(h.data("ui-tooltip-title")){h.attr("title",h.data("ui-tooltip-title"))}a(h);g.stop(true);this._hide(g,this.options.hide,function(){e._removeTooltip(d(this))});h.removeData("ui-tooltip-open");this._off(h,"mouseleave focusout keyup");if(h[0]!==this.element[0]){this._off(h,"remove")}this._off(this.document,"mousemove");if(f&&f.type==="mouseleave"){d.each(this.parents,function(k,j){d(j.element).attr("title",j.title);delete e.parents[k]})}this.closing=true;this._trigger("close",f,{tooltip:g});this.closing=false},_tooltip:function(e){var g="ui-tooltip-"+b++,f=d("<div>").attr({id:g,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));d("<div>").addClass("ui-tooltip-content").appendTo(f);f.appendTo(this.document[0].body);this.tooltips[g]=e;return f},_find:function(e){var f=e.data("ui-tooltip-id");return f?d("#"+f):d()},_removeTooltip:function(e){e.remove();delete this.tooltips[e.attr("id")]},_destroy:function(){var e=this;d.each(this.tooltips,function(h,f){var g=d.Event("blur");g.target=g.currentTarget=f[0];e.close(g,true);d("#"+h).remove();if(f.data("ui-tooltip-title")){f.attr("title",f.data("ui-tooltip-title"));f.removeData("ui-tooltip-title")}})}})}(jQuery));(function(a,c){var b="ui-effects-";a.effects={effect:{}};
/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
(function(s,g){var o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",l=/^([\-+])=\s*(\d+\.?\d*)/,k=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1]*2.55,t[2]*2.55,t[3]*2.55,t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],h=s.Color=function(u,v,t,w){return new s.Color.fn.parse(u,v,t,w)},n={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},r={"byte":{floor:true,max:255},percent:{max:1},degrees:{mod:360,floor:true}},q=h.support={},e=s("<p>")[0],d,p=s.each;e.style.cssText="background-color:rgba(1,1,1,.5)";q.rgba=e.style.backgroundColor.indexOf("rgba")>-1;p(n,function(t,u){u.cache="_"+t;u.props.alpha={idx:3,type:"percent",def:1}});function m(u,w,v){var t=r[w.type]||{};if(u==null){return(v||!w.def)?null:w.def}u=t.floor?~~u:parseFloat(u);if(isNaN(u)){return w.def}if(t.mod){return(u+t.mod)%t.mod}return 0>u?0:t.max<u?t.max:u}function j(t){var v=h(),u=v._rgba=[];t=t.toLowerCase();p(k,function(A,B){var y,z=B.re.exec(t),x=z&&B.parse(z),w=B.space||"rgba";if(x){y=v[w](x);v[n[w].cache]=y[n[w].cache];u=v._rgba=y._rgba;return false}});if(u.length){if(u.join()==="0,0,0,0"){s.extend(u,d.transparent)}return v}return d[t]}h.fn=s.extend(h.prototype,{parse:function(z,x,t,y){if(z===g){this._rgba=[null,null,null,null];return this}if(z.jquery||z.nodeType){z=s(z).css(x);x=g}var w=this,v=s.type(z),u=this._rgba=[];if(x!==g){z=[z,x,t,y];v="array"}if(v==="string"){return this.parse(j(z)||d._default)}if(v==="array"){p(n.rgba.props,function(A,B){u[B.idx]=m(z[B.idx],B)});return this}if(v==="object"){if(z instanceof h){p(n,function(A,B){if(z[B.cache]){w[B.cache]=z[B.cache].slice()}})}else{p(n,function(B,C){var A=C.cache;p(C.props,function(D,E){if(!w[A]&&C.to){if(D==="alpha"||z[D]==null){return}w[A]=C.to(w._rgba)}w[A][E.idx]=m(z[D],E,true)});if(w[A]&&s.inArray(null,w[A].slice(0,3))<0){w[A][3]=1;if(C.from){w._rgba=C.from(w[A])}}})}return this}},is:function(v){var t=h(v),w=true,u=this;p(n,function(x,z){var A,y=t[z.cache];if(y){A=u[z.cache]||z.to&&z.to(u._rgba)||[];p(z.props,function(B,C){if(y[C.idx]!=null){w=(y[C.idx]===A[C.idx]);return w}})}return w});return w},_space:function(){var t=[],u=this;p(n,function(v,w){if(u[w.cache]){t.push(v)}});return t.pop()},transition:function(u,A){var v=h(u),w=v._space(),x=n[w],y=this.alpha()===0?h("transparent"):this,z=y[x.cache]||x.to(y._rgba),t=z.slice();v=v[x.cache];p(x.props,function(E,G){var D=G.idx,C=z[D],B=v[D],F=r[G.type]||{};if(B===null){return}if(C===null){t[D]=B}else{if(F.mod){if(B-C>F.mod/2){C+=F.mod}else{if(C-B>F.mod/2){C-=F.mod}}}t[D]=m((B-C)*A+C,G)}});return this[w](t)},blend:function(w){if(this._rgba[3]===1){return this}var v=this._rgba.slice(),u=v.pop(),t=h(w)._rgba;return h(s.map(v,function(x,y){return(1-u)*t[y]+u*x}))},toRgbaString:function(){var u="rgba(",t=s.map(this._rgba,function(w,x){return w==null?(x>2?1:0):w});if(t[3]===1){t.pop();u="rgb("}return u+t.join()+")"},toHslaString:function(){var u="hsla(",t=s.map(this.hsla(),function(w,x){if(w==null){w=x>2?1:0}if(x&&x<3){w=Math.round(w*100)+"%"}return w});if(t[3]===1){t.pop();u="hsl("}return u+t.join()+")"},toHexString:function(t){var u=this._rgba.slice(),v=u.pop();if(t){u.push(~~(v*255))}return"#"+s.map(u,function(w){w=(w||0).toString(16);return w.length===1?"0"+w:w}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}});h.fn.parse.prototype=h.fn;function f(v,u,t){t=(t+1)%1;if(t*6<1){return v+(u-v)*t*6}if(t*2<1){return u}if(t*3<2){return v+(u-v)*((2/3)-t)*6}return v}n.hsla.to=function(v){if(v[0]==null||v[1]==null||v[2]==null){return[null,null,null,v[3]]}var t=v[0]/255,y=v[1]/255,z=v[2]/255,B=v[3],A=Math.max(t,y,z),w=Math.min(t,y,z),C=A-w,D=A+w,u=D*0.5,x,E;if(w===A){x=0}else{if(t===A){x=(60*(y-z)/C)+360}else{if(y===A){x=(60*(z-t)/C)+120}else{x=(60*(t-y)/C)+240}}}if(C===0){E=0}else{if(u<=0.5){E=C/D}else{E=C/(2-D)}}return[Math.round(x)%360,E,u,B==null?1:B]};n.hsla.from=function(x){if(x[0]==null||x[1]==null||x[2]==null){return[null,null,null,x[3]]}var w=x[0]/360,v=x[1],u=x[2],t=x[3],y=u<=0.5?u*(1+v):u+v-u*v,z=2*u-y;return[Math.round(f(z,y,w+(1/3))*255),Math.round(f(z,y,w)*255),Math.round(f(z,y,w-(1/3))*255),t]};p(n,function(u,w){var v=w.props,t=w.cache,y=w.to,x=w.from;h.fn[u]=function(D){if(y&&!this[t]){this[t]=y(this._rgba)}if(D===g){return this[t].slice()}var A,C=s.type(D),z=(C==="array"||C==="object")?D:arguments,B=this[t].slice();p(v,function(E,G){var F=z[C==="object"?E:G.idx];if(F==null){F=B[G.idx]}B[G.idx]=m(F,G)});if(x){A=h(x(B));A[t]=B;return A}else{return h(B)}};p(v,function(z,A){if(h.fn[z]){return}h.fn[z]=function(E){var G=s.type(E),D=(z==="alpha"?(this._hsla?"hsla":"rgba"):u),C=this[D](),F=C[A.idx],B;if(G==="undefined"){return F}if(G==="function"){E=E.call(this,F);G=s.type(E)}if(E==null&&A.empty){return this}if(G==="string"){B=l.exec(E);if(B){E=F+parseFloat(B[2])*(B[1]==="+"?1:-1)}}C[A.idx]=E;return this[D](C)}})});h.hook=function(u){var t=u.split(" ");p(t,function(v,w){s.cssHooks[w]={set:function(A,B){var y,z,x="";if(B!=="transparent"&&(s.type(B)!=="string"||(y=j(B)))){B=h(y||B);if(!q.rgba&&B._rgba[3]!==1){z=w==="backgroundColor"?A.parentNode:A;while((x===""||x==="transparent")&&z&&z.style){try{x=s.css(z,"backgroundColor");z=z.parentNode}catch(C){}}B=B.blend(x&&x!=="transparent"?x:"_default")}B=B.toRgbaString()}try{A.style[w]=B}catch(C){}}};s.fx.step[w]=function(x){if(!x.colorInit){x.start=h(x.elem,w);x.end=h(x.end);x.colorInit=true}s.cssHooks[w].set(x.elem,x.start.transition(x.end,x.pos))}})};h.hook(o);s.cssHooks.borderColor={expand:function(u){var t={};p(["Top","Right","Bottom","Left"],function(w,v){t["border"+v+"Color"]=u});return t}};d=s.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(){var e=["add","remove","toggle"],f={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(h,j){a.fx.step[j]=function(k){if(k.end!=="none"&&!k.setAttr||k.pos===1&&!k.setAttr){jQuery.style(k.elem,j,k.end);k.setAttr=true}}});function g(m){var j,h,k=m.ownerDocument.defaultView?m.ownerDocument.defaultView.getComputedStyle(m,null):m.currentStyle,l={};if(k&&k.length&&k[0]&&k[k[0]]){h=k.length;while(h--){j=k[h];if(typeof k[j]==="string"){l[a.camelCase(j)]=k[j]}}}else{for(j in k){if(typeof k[j]==="string"){l[j]=k[j]}}}return l}function d(h,k){var m={},j,l;for(j in k){l=k[j];if(h[j]!==l){if(!f[j]){if(a.fx.step[j]||!isNaN(parseFloat(l))){m[j]=l}}}}return m}if(!a.fn.addBack){a.fn.addBack=function(h){return this.add(h==null?this.prevObject:this.prevObject.filter(h))}}a.effects.animateClass=function(h,j,m,l){var k=a.speed(j,m,l);return this.queue(function(){var p=a(this),n=p.attr("class")||"",o,q=k.children?p.find("*").addBack():p;q=q.map(function(){var r=a(this);return{el:r,start:g(this)}});o=function(){a.each(e,function(r,s){if(h[s]){p[s+"Class"](h[s])}})};o();q=q.map(function(){this.end=g(this.el[0]);this.diff=d(this.start,this.end);return this});p.attr("class",n);q=q.map(function(){var t=this,r=a.Deferred(),s=a.extend({},k,{queue:false,complete:function(){r.resolve(t)}});this.el.animate(this.diff,s);return r.promise()});a.when.apply(a,q.get()).done(function(){o();a.each(arguments,function(){var r=this.el;a.each(this.diff,function(s){r.css(s,"")})});k.complete.call(p[0])})})};a.fn.extend({addClass:(function(h){return function(k,j,m,l){return j?a.effects.animateClass.call(this,{add:k},j,m,l):h.apply(this,arguments)}})(a.fn.addClass),removeClass:(function(h){return function(k,j,m,l){return arguments.length>1?a.effects.animateClass.call(this,{remove:k},j,m,l):h.apply(this,arguments)}})(a.fn.removeClass),toggleClass:(function(h){return function(l,k,j,n,m){if(typeof k==="boolean"||k===c){if(!j){return h.apply(this,arguments)}else{return a.effects.animateClass.call(this,(k?{add:l}:{remove:l}),j,n,m)}}else{return a.effects.animateClass.call(this,{toggle:l},k,j,n)}}})(a.fn.toggleClass),switchClass:function(h,k,j,m,l){return a.effects.animateClass.call(this,{add:k,remove:h},j,m,l)}})})();(function(){a.extend(a.effects,{version:"1.10.2",save:function(g,h){for(var f=0;f<h.length;f++){if(h[f]!==null){g.data(b+h[f],g[0].style[h[f]])}}},restore:function(g,j){var h,f;for(f=0;f<j.length;f++){if(j[f]!==null){h=g.data(b+j[f]);if(h===c){h=""}g.css(j[f],h)}}},setMode:function(f,g){if(g==="toggle"){g=f.is(":hidden")?"show":"hide"}return g},getBaseline:function(g,h){var j,f;switch(g[0]){case"top":j=0;break;case"middle":j=0.5;break;case"bottom":j=1;break;default:j=g[0]/h.height}switch(g[1]){case"left":f=0;break;case"center":f=0.5;break;case"right":f=1;break;default:f=g[1]/h.width}return{x:f,y:j}},createWrapper:function(g){if(g.parent().is(".ui-effects-wrapper")){return g.parent()}var h={width:g.outerWidth(true),height:g.outerHeight(true),"float":g.css("float")},l=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),f={width:g.width(),height:g.height()},k=document.activeElement;try{k.id}catch(j){k=document.body}g.wrap(l);if(g[0]===k||a.contains(g[0],k)){a(k).focus()}l=g.parent();if(g.css("position")==="static"){l.css({position:"relative"});g.css({position:"relative"})}else{a.extend(h,{position:g.css("position"),zIndex:g.css("z-index")});a.each(["top","left","bottom","right"],function(m,n){h[n]=g.css(n);if(isNaN(parseInt(h[n],10))){h[n]="auto"}});g.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}g.css(f);return l.css(h).show()},removeWrapper:function(f){var g=document.activeElement;if(f.parent().is(".ui-effects-wrapper")){f.parent().replaceWith(f);if(f[0]===g||a.contains(f[0],g)){a(g).focus()}}return f},setTransition:function(g,j,f,h){h=h||{};a.each(j,function(l,k){var m=g.cssUnit(k);if(m[0]>0){h[k]=m[0]*f+m[1]}});return h}});function d(g,f,h,j){if(a.isPlainObject(g)){f=g;g=g.effect}g={effect:g};if(f==null){f={}}if(a.isFunction(f)){j=f;h=null;f={}}if(typeof f==="number"||a.fx.speeds[f]){j=h;h=f;f={}}if(a.isFunction(h)){j=h;h=null}if(f){a.extend(g,f)}h=h||f.duration;g.duration=a.fx.off?0:typeof h==="number"?h:h in a.fx.speeds?a.fx.speeds[h]:a.fx.speeds._default;g.complete=j||f.complete;return g}function e(f){if(!f||typeof f==="number"||a.fx.speeds[f]){return true}if(typeof f==="string"&&!a.effects.effect[f]){return true}if(a.isFunction(f)){return true}if(typeof f==="object"&&!f.effect){return true}return false}a.fn.extend({effect:function(){var h=d.apply(this,arguments),k=h.mode,f=h.queue,g=a.effects.effect[h.effect];if(a.fx.off||!g){if(k){return this[k](h.duration,h.complete)}else{return this.each(function(){if(h.complete){h.complete.call(this)}})}}function j(n){var o=a(this),m=h.complete,p=h.mode;function l(){if(a.isFunction(m)){m.call(o[0])}if(a.isFunction(n)){n()}}if(o.is(":hidden")?p==="hide":p==="show"){o[p]();l()}else{g.call(o[0],h,l)}}return f===false?this.each(j):this.queue(f||"fx",j)},show:(function(f){return function(h){if(e(h)){return f.apply(this,arguments)}else{var g=d.apply(this,arguments);g.mode="show";return this.effect.call(this,g)}}})(a.fn.show),hide:(function(f){return function(h){if(e(h)){return f.apply(this,arguments)}else{var g=d.apply(this,arguments);g.mode="hide";return this.effect.call(this,g)}}})(a.fn.hide),toggle:(function(f){return function(h){if(e(h)||typeof h==="boolean"){return f.apply(this,arguments)}else{var g=d.apply(this,arguments);g.mode="toggle";return this.effect.call(this,g)}}})(a.fn.toggle),cssUnit:function(f){var g=this.css(f),h=[];a.each(["em","px","%","pt"],function(j,k){if(g.indexOf(k)>0){h=[parseFloat(g),k]}});return h}})})();(function(){var d={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(f,e){d[e]=function(g){return Math.pow(g,f+2)}});a.extend(d,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return e===0||e===1?e:-Math.pow(2,8*(e-1))*Math.sin(((e-1)*80-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(g){var e,f=4;while(g<((e=Math.pow(2,--f))-1)/11){}return 1/Math.pow(4,3-f)-7.5625*Math.pow((e*3-2)/22-g,2)}});a.each(d,function(f,e){a.easing["easeIn"+f]=e;a.easing["easeOut"+f]=function(g){return 1-e(1-g)};a.easing["easeInOut"+f]=function(g){return g<0.5?e(g*2)/2:1-e(g*-2+2)/2}})})()})(jQuery);(function(b,d){var a=/up|down|vertical/,c=/up|left|vertical|horizontal/;b.effects.effect.blind=function(g,n){var h=b(this),r=["position","top","bottom","left","right","height","width"],p=b.effects.setMode(h,g.mode||"hide"),s=g.direction||"up",k=a.test(s),j=k?"height":"width",q=k?"top":"left",u=c.test(s),m={},t=p==="show",f,e,l;if(h.parent().is(".ui-effects-wrapper")){b.effects.save(h.parent(),r)}else{b.effects.save(h,r)}h.show();f=b.effects.createWrapper(h).css({overflow:"hidden"});e=f[j]();l=parseFloat(f.css(q))||0;m[j]=t?e:0;if(!u){h.css(k?"bottom":"right",0).css(k?"top":"left","auto").css({position:"absolute"});m[q]=t?l:e+l}if(t){f.css(j,0);if(!u){f.css(q,l+e)}}f.animate(m,{duration:g.duration,easing:g.easing,queue:false,complete:function(){if(p==="hide"){h.hide()}b.effects.restore(h,r);b.effects.removeWrapper(h);n()}})}})(jQuery);(function(a,b){a.effects.effect.bounce=function(m,l){var c=a(this),d=["position","top","bottom","left","right","height","width"],k=a.effects.setMode(c,m.mode||"effect"),j=k==="hide",v=k==="show",w=m.direction||"up",e=m.distance,h=m.times||5,x=h*2+(v||j?1:0),u=m.duration/x,p=m.easing,f=(w==="up"||w==="down")?"top":"left",n=(w==="up"||w==="left"),t,g,s,q=c.queue(),r=q.length;if(v||j){d.push("opacity")}a.effects.save(c,d);c.show();a.effects.createWrapper(c);if(!e){e=c[f==="top"?"outerHeight":"outerWidth"]()/3}if(v){s={opacity:1};s[f]=0;c.css("opacity",0).css(f,n?-e*2:e*2).animate(s,u,p)}if(j){e=e/Math.pow(2,h-1)}s={};s[f]=0;for(t=0;t<h;t++){g={};g[f]=(n?"-=":"+=")+e;c.animate(g,u,p).animate(s,u,p);e=j?e*2:e/2}if(j){g={opacity:0};g[f]=(n?"-=":"+=")+e;c.animate(g,u,p)}c.queue(function(){if(j){c.hide()}a.effects.restore(c,d);a.effects.removeWrapper(c);l()});if(r>1){q.splice.apply(q,[1,0].concat(q.splice(r,x+1)))}c.dequeue()}})(jQuery);(function(a,b){a.effects.effect.clip=function(f,j){var g=a(this),n=["position","top","bottom","left","right","height","width"],m=a.effects.setMode(g,f.mode||"hide"),q=m==="show",p=f.direction||"vertical",l=p==="vertical",r=l?"height":"width",k=l?"top":"left",h={},d,e,c;a.effects.save(g,n);g.show();d=a.effects.createWrapper(g).css({overflow:"hidden"});e=(g[0].tagName==="IMG")?d:g;c=e[r]();if(q){e.css(r,0);e.css(k,c/2)}h[r]=q?c:0;h[k]=q?0:c/2;e.animate(h,{queue:false,duration:f.duration,easing:f.easing,complete:function(){if(!q){g.hide()}a.effects.restore(g,n);a.effects.removeWrapper(g);j()}})}})(jQuery);(function(a,b){a.effects.effect.drop=function(d,h){var e=a(this),k=["position","top","bottom","left","right","opacity","height","width"],j=a.effects.setMode(e,d.mode||"hide"),m=j==="show",l=d.direction||"left",f=(l==="up"||l==="down")?"top":"left",n=(l==="up"||l==="left")?"pos":"neg",g={opacity:m?1:0},c;a.effects.save(e,k);e.show();a.effects.createWrapper(e);c=d.distance||e[f==="top"?"outerHeight":"outerWidth"](true)/2;if(m){e.css("opacity",0).css(f,n==="pos"?-c:c)}g[f]=(m?(n==="pos"?"+=":"-="):(n==="pos"?"-=":"+="))+c;e.animate(g,{queue:false,duration:d.duration,easing:d.easing,complete:function(){if(j==="hide"){e.hide()}a.effects.restore(e,k);a.effects.removeWrapper(e);h()}})}})(jQuery);(function(a,b){a.effects.effect.explode=function(s,r){var k=s.pieces?Math.round(Math.sqrt(s.pieces)):3,d=k,c=a(this),m=a.effects.setMode(c,s.mode||"hide"),w=m==="show",g=c.show().css("visibility","hidden").offset(),t=Math.ceil(c.outerWidth()/d),q=Math.ceil(c.outerHeight()/k),h=[],v,u,e,p,n,l;function x(){h.push(this);if(h.length===k*d){f()}}for(v=0;v<k;v++){p=g.top+v*q;l=v-(k-1)/2;for(u=0;u<d;u++){e=g.left+u*t;n=u-(d-1)/2;c.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-u*t,top:-v*q}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:t,height:q,left:e+(w?n*t:0),top:p+(w?l*q:0),opacity:w?0:1}).animate({left:e+(w?0:n*t),top:p+(w?0:l*q),opacity:w?1:0},s.duration||500,s.easing,x)}}function f(){c.css({visibility:"visible"});a(h).remove();if(!w){c.hide()}r()}}})(jQuery);(function(a,b){a.effects.effect.fade=function(f,c){var d=a(this),e=a.effects.setMode(d,f.mode||"toggle");d.animate({opacity:e},{queue:false,duration:f.duration,easing:f.easing,complete:c})}})(jQuery);(function(a,b){a.effects.effect.fold=function(e,j){var f=a(this),p=["position","top","bottom","left","right","height","width"],l=a.effects.setMode(f,e.mode||"hide"),s=l==="show",m=l==="hide",u=e.size||15,n=/([0-9]+)%/.exec(u),t=!!e.horizFirst,k=s!==t,g=k?["width","height"]:["height","width"],h=e.duration/2,d,c,r={},q={};a.effects.save(f,p);f.show();d=a.effects.createWrapper(f).css({overflow:"hidden"});c=k?[d.width(),d.height()]:[d.height(),d.width()];if(n){u=parseInt(n[1],10)/100*c[m?0:1]}if(s){d.css(t?{height:0,width:u}:{height:u,width:0})}r[g[0]]=s?c[0]:u;q[g[1]]=s?c[1]:0;d.animate(r,h,e.easing).animate(q,h,e.easing,function(){if(m){f.hide()}a.effects.restore(f,p);a.effects.removeWrapper(f);j()})}})(jQuery);(function(a,b){a.effects.effect.highlight=function(h,c){var e=a(this),d=["backgroundImage","backgroundColor","opacity"],g=a.effects.setMode(e,h.mode||"show"),f={backgroundColor:e.css("backgroundColor")};if(g==="hide"){f.opacity=0}a.effects.save(e,d);e.show().css({backgroundImage:"none",backgroundColor:h.color||"#ffff99"}).animate(f,{queue:false,duration:h.duration,easing:h.easing,complete:function(){if(g==="hide"){e.hide()}a.effects.restore(e,d);c()}})}})(jQuery);(function(a,b){a.effects.effect.pulsate=function(c,g){var e=a(this),k=a.effects.setMode(e,c.mode||"show"),p=k==="show",l=k==="hide",q=(p||k==="hide"),m=((c.times||5)*2)+(q?1:0),f=c.duration/m,n=0,j=e.queue(),d=j.length,h;if(p||!e.is(":visible")){e.css("opacity",0).show();n=1}for(h=1;h<m;h++){e.animate({opacity:n},f,c.easing);n=1-n}e.animate({opacity:n},f,c.easing);e.queue(function(){if(l){e.hide()}g()});if(d>1){j.splice.apply(j,[1,0].concat(j.splice(d,m+1)))}e.dequeue()}})(jQuery);(function(a,b){a.effects.effect.puff=function(k,c){var h=a(this),j=a.effects.setMode(h,k.mode||"hide"),f=j==="hide",g=parseInt(k.percent,10)||150,e=g/100,d={height:h.height(),width:h.width(),outerHeight:h.outerHeight(),outerWidth:h.outerWidth()};a.extend(k,{effect:"scale",queue:false,fade:true,mode:j,complete:c,percent:f?g:100,from:f?d:{height:d.height*e,width:d.width*e,outerHeight:d.outerHeight*e,outerWidth:d.outerWidth*e}});h.effect(k)};a.effects.effect.scale=function(c,f){var d=a(this),m=a.extend(true,{},c),g=a.effects.setMode(d,c.mode||"effect"),h=parseInt(c.percent,10)||(parseInt(c.percent,10)===0?0:(g==="hide"?0:100)),k=c.direction||"both",l=c.origin,e={height:d.height(),width:d.width(),outerHeight:d.outerHeight(),outerWidth:d.outerWidth()},j={y:k!=="horizontal"?(h/100):1,x:k!=="vertical"?(h/100):1};m.effect="size";m.queue=false;m.complete=f;if(g!=="effect"){m.origin=l||["middle","center"];m.restore=true}m.from=c.from||(g==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:e);m.to={height:e.height*j.y,width:e.width*j.x,outerHeight:e.outerHeight*j.y,outerWidth:e.outerWidth*j.x};if(m.fade){if(g==="show"){m.from.opacity=0;m.to.opacity=1}if(g==="hide"){m.from.opacity=1;m.to.opacity=0}}d.effect(m)};a.effects.effect.size=function(m,l){var r,j,k,c=a(this),q=["position","top","bottom","left","right","width","height","overflow","opacity"],p=["position","top","bottom","left","right","overflow","opacity"],n=["width","height","overflow"],g=["fontSize"],t=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=a.effects.setMode(c,m.mode||"effect"),s=m.restore||h!=="effect",w=m.scale||"both",u=m.origin||["middle","center"],v=c.css("position"),e=s?q:p,f={height:0,width:0,outerHeight:0,outerWidth:0};if(h==="show"){c.show()}r={height:c.height(),width:c.width(),outerHeight:c.outerHeight(),outerWidth:c.outerWidth()};if(m.mode==="toggle"&&h==="show"){c.from=m.to||f;c.to=m.from||r}else{c.from=m.from||(h==="show"?f:r);c.to=m.to||(h==="hide"?f:r)}k={from:{y:c.from.height/r.height,x:c.from.width/r.width},to:{y:c.to.height/r.height,x:c.to.width/r.width}};if(w==="box"||w==="both"){if(k.from.y!==k.to.y){e=e.concat(t);c.from=a.effects.setTransition(c,t,k.from.y,c.from);c.to=a.effects.setTransition(c,t,k.to.y,c.to)}if(k.from.x!==k.to.x){e=e.concat(d);c.from=a.effects.setTransition(c,d,k.from.x,c.from);c.to=a.effects.setTransition(c,d,k.to.x,c.to)}}if(w==="content"||w==="both"){if(k.from.y!==k.to.y){e=e.concat(g).concat(n);c.from=a.effects.setTransition(c,g,k.from.y,c.from);c.to=a.effects.setTransition(c,g,k.to.y,c.to)}}a.effects.save(c,e);c.show();a.effects.createWrapper(c);c.css("overflow","hidden").css(c.from);if(u){j=a.effects.getBaseline(u,r);c.from.top=(r.outerHeight-c.outerHeight())*j.y;c.from.left=(r.outerWidth-c.outerWidth())*j.x;c.to.top=(r.outerHeight-c.to.outerHeight)*j.y;c.to.left=(r.outerWidth-c.to.outerWidth)*j.x}c.css(c.from);if(w==="content"||w==="both"){t=t.concat(["marginTop","marginBottom"]).concat(g);d=d.concat(["marginLeft","marginRight"]);n=q.concat(t).concat(d);c.find("*[width]").each(function(){var x=a(this),o={height:x.height(),width:x.width(),outerHeight:x.outerHeight(),outerWidth:x.outerWidth()};if(s){a.effects.save(x,n)}x.from={height:o.height*k.from.y,width:o.width*k.from.x,outerHeight:o.outerHeight*k.from.y,outerWidth:o.outerWidth*k.from.x};x.to={height:o.height*k.to.y,width:o.width*k.to.x,outerHeight:o.height*k.to.y,outerWidth:o.width*k.to.x};if(k.from.y!==k.to.y){x.from=a.effects.setTransition(x,t,k.from.y,x.from);x.to=a.effects.setTransition(x,t,k.to.y,x.to)}if(k.from.x!==k.to.x){x.from=a.effects.setTransition(x,d,k.from.x,x.from);x.to=a.effects.setTransition(x,d,k.to.x,x.to)}x.css(x.from);x.animate(x.to,m.duration,m.easing,function(){if(s){a.effects.restore(x,n)}})})}c.animate(c.to,{queue:false,duration:m.duration,easing:m.easing,complete:function(){if(c.to.opacity===0){c.css("opacity",c.from.opacity)}if(h==="hide"){c.hide()}a.effects.restore(c,e);if(!s){if(v==="static"){c.css({position:"relative",top:c.to.top,left:c.to.left})}else{a.each(["top","left"],function(o,x){c.css(x,function(z,B){var A=parseInt(B,10),y=o?c.to.left:c.to.top;if(B==="auto"){return y+"px"}return A+y+"px"})})}}a.effects.removeWrapper(c);l()}})}})(jQuery);(function(a,b){a.effects.effect.shake=function(l,k){var c=a(this),d=["position","top","bottom","left","right","height","width"],j=a.effects.setMode(c,l.mode||"effect"),u=l.direction||"left",e=l.distance||20,h=l.times||3,v=h*2+1,q=Math.round(l.duration/v),g=(u==="up"||u==="down")?"top":"left",f=(u==="up"||u==="left"),t={},s={},r={},p,m=c.queue(),n=m.length;a.effects.save(c,d);c.show();a.effects.createWrapper(c);t[g]=(f?"-=":"+=")+e;s[g]=(f?"+=":"-=")+e*2;r[g]=(f?"-=":"+=")+e*2;c.animate(t,q,l.easing);for(p=1;p<h;p++){c.animate(s,q,l.easing).animate(r,q,l.easing)}c.animate(s,q,l.easing).animate(t,q/2,l.easing).queue(function(){if(j==="hide"){c.hide()}a.effects.restore(c,d);a.effects.removeWrapper(c);k()});if(n>1){m.splice.apply(m,[1,0].concat(m.splice(n,v+1)))}c.dequeue()}})(jQuery);(function(a,b){a.effects.effect.slide=function(e,j){var f=a(this),l=["position","top","bottom","left","right","width","height"],k=a.effects.setMode(f,e.mode||"show"),n=k==="show",m=e.direction||"left",g=(m==="up"||m==="down")?"top":"left",d=(m==="up"||m==="left"),c,h={};a.effects.save(f,l);f.show();c=e.distance||f[g==="top"?"outerHeight":"outerWidth"](true);a.effects.createWrapper(f).css({overflow:"hidden"});if(n){f.css(g,d?(isNaN(c)?"-"+c:-c):c)}h[g]=(n?(d?"+=":"-="):(d?"-=":"+="))+c;f.animate(h,{queue:false,duration:e.duration,easing:e.easing,complete:function(){if(k==="hide"){f.hide()}a.effects.restore(f,l);a.effects.removeWrapper(f);j()}})}})(jQuery);(function(a,b){a.effects.effect.transfer=function(d,h){var f=a(this),l=a(d.to),p=l.css("position")==="fixed",k=a("body"),m=p?k.scrollTop():0,n=p?k.scrollLeft():0,c=l.offset(),g={top:c.top-m,left:c.left-n,height:l.innerHeight(),width:l.innerWidth()},j=f.offset(),e=a("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(d.className).css({top:j.top-m,left:j.left-n,height:f.innerHeight(),width:f.innerWidth(),position:p?"fixed":"absolute"}).animate(g,d.duration,d.easing,function(){e.remove();h()})}})(jQuery);+function(c){var b=function(e,d){this.options=c.extend({},b.DEFAULTS,d);this.$window=c(window).on("scroll.bs.affix.data-api",c.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",c.proxy(this.checkPositionWithEventLoop,this));this.$element=c(e);this.affixed=this.unpin=null;this.checkPosition()};b.RESET="affix affix-top affix-bottom";b.DEFAULTS={offset:0};b.prototype.checkPositionWithEventLoop=function(){setTimeout(c.proxy(this.checkPosition,this),1)};b.prototype.checkPosition=function(){if(!this.$element.is(":visible")){return}var h=c(document).height();var j=this.$window.scrollTop();var d=this.$element.offset();var k=this.options.offset;var g=k.top;var f=k.bottom;if(typeof k!="object"){f=g=k}if(typeof g=="function"){g=k.top()}if(typeof f=="function"){f=k.bottom()}var e=this.unpin!=null&&(j+this.unpin<=d.top)?false:f!=null&&(d.top+this.$element.height()>=h-f)?"bottom":g!=null&&(j<=g)?"top":false;if(this.affixed===e){return}if(this.unpin){this.$element.css("top","")}this.affixed=e;this.unpin=e=="bottom"?d.top-j:null;this.$element.removeClass(b.RESET).addClass("affix"+(e?"-"+e:""));if(e=="bottom"){this.$element.offset({top:document.body.offsetHeight-f-this.$element.height()})}};var a=c.fn.affix;c.fn.affix=function(d){return this.each(function(){var g=c(this);var f=g.data("bs.affix");var e=typeof d=="object"&&d;if(!f){g.data("bs.affix",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.affix.Constructor=b;c.fn.affix.noConflict=function(){c.fn.affix=a;return this};c(window).on("load",function(){c('[data-spy="affix"]').each(function(){var e=c(this);var d=e.data();d.offset=d.offset||{};if(d.offsetBottom){d.offset.bottom=d.offsetBottom}if(d.offsetTop){d.offset.top=d.offsetTop}e.affix(d)})})}(window.jQuery);+function(d){var c='[data-dismiss="alert"]';var b=function(e){d(e).on("click",c,this.close)};b.prototype.close=function(k){var j=d(this);var g=j.attr("data-target");if(!g){g=j.attr("href");g=g&&g.replace(/.*(?=#[^\s]*$)/,"")}var h=d(g);if(k){k.preventDefault()}if(!h.length){h=j.hasClass("alert")?j:j.parent()}h.trigger(k=d.Event("close.bs.alert"));if(k.isDefaultPrevented()){return}h.removeClass("in");function f(){h.trigger("closed.bs.alert").remove()}d.support.transition&&h.hasClass("fade")?h.one(d.support.transition.end,f).emulateTransitionEnd(150):f()};var a=d.fn.alert;d.fn.alert=function(e){return this.each(function(){var g=d(this);var f=g.data("bs.alert");if(!f){g.data("bs.alert",(f=new b(this)))}if(typeof e=="string"){f[e].call(g)}})};d.fn.alert.Constructor=b;d.fn.alert.noConflict=function(){d.fn.alert=a;return this};d(document).on("click.bs.alert.data-api",c,b.prototype.close)}(window.jQuery);+function(c){var b=function(e,d){this.$element=c(e);this.options=c.extend({},b.DEFAULTS,d)};b.DEFAULTS={loadingText:"loading..."};b.prototype.setState=function(g){var j="disabled";var e=this.$element;var h=e.is("input")?"val":"html";var f=e.data();g=g+"Text";if(!f.resetText){e.data("resetText",e[h]())}e[h](f[g]||this.options[g]);setTimeout(function(){g=="loadingText"?e.addClass(j).attr(j,j):e.removeClass(j).removeAttr(j)},0)};b.prototype.toggle=function(){var d=this.$element.closest('[data-toggle="buttons"]');if(d.length){var e=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");if(e.prop("type")==="radio"){d.find(".active").removeClass("active")}}this.$element.toggleClass("active")};var a=c.fn.button;c.fn.button=function(d){return this.each(function(){var g=c(this);var f=g.data("bs.button");var e=typeof d=="object"&&d;if(!f){g.data("bs.button",(f=new b(this,e)))}if(d=="toggle"){f.toggle()}else{if(d){f.setState(d)}}})};c.fn.button.Constructor=b;c.fn.button.noConflict=function(){c.fn.button=a;return this};c(document).on("click.bs.button.data-api","[data-toggle^=button]",function(f){var d=c(f.target);if(!d.hasClass("btn")){d=d.closest(".btn")}d.button("toggle");f.preventDefault()})}(window.jQuery);+function(b){var c=function(e,d){this.$element=b(e);this.$indicators=this.$element.find(".carousel-indicators");this.options=d;this.paused=this.sliding=this.interval=this.$active=this.$items=null;this.options.pause=="hover"&&this.$element.on("mouseenter",b.proxy(this.pause,this)).on("mouseleave",b.proxy(this.cycle,this))};c.DEFAULTS={interval:5000,pause:"hover",wrap:true};c.prototype.cycle=function(d){d||(this.paused=false);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval(b.proxy(this.next,this),this.options.interval));return this};c.prototype.getActiveIndex=function(){this.$active=this.$element.find(".item.active");this.$items=this.$active.parent().children();return this.$items.index(this.$active)};c.prototype.to=function(f){var e=this;var d=this.getActiveIndex();if(f>(this.$items.length-1)||f<0){return}if(this.sliding){return this.$element.one("slid",function(){e.to(f)})}if(d==f){return this.pause().cycle()}return this.slide(f>d?"next":"prev",b(this.$items[f]))};c.prototype.pause=function(d){d||(this.paused=true);if(this.$element.find(".next, .prev").length&&b.support.transition.end){this.$element.trigger(b.support.transition.end);this.cycle(true)}this.interval=clearInterval(this.interval);return this};c.prototype.next=function(){if(this.sliding){return}return this.slide("next")};c.prototype.prev=function(){if(this.sliding){return}return this.slide("prev")};c.prototype.slide=function(l,f){var n=this.$element.find(".item.active");var d=f||n[l]();var k=this.interval;var m=l=="next"?"left":"right";var g=l=="next"?"first":"last";var h=this;if(!d.length){if(!this.options.wrap){return}d=this.$element.find(".item")[g]()}this.sliding=true;k&&this.pause();var j=b.Event("slide.bs.carousel",{relatedTarget:d[0],direction:m});if(d.hasClass("active")){return}if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");this.$element.one("slid",function(){var e=b(h.$indicators.children()[h.getActiveIndex()]);e&&e.addClass("active")})}if(b.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(j);if(j.isDefaultPrevented()){return}d.addClass(l);d[0].offsetWidth;n.addClass(m);d.addClass(m);n.one(b.support.transition.end,function(){d.removeClass([l,m].join(" ")).addClass("active");n.removeClass(["active",m].join(" "));h.sliding=false;setTimeout(function(){h.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{this.$element.trigger(j);if(j.isDefaultPrevented()){return}n.removeClass("active");d.addClass("active");this.sliding=false;this.$element.trigger("slid")}k&&this.cycle();return this};var a=b.fn.carousel;b.fn.carousel=function(d){return this.each(function(){var h=b(this);var g=h.data("bs.carousel");var e=b.extend({},c.DEFAULTS,h.data(),typeof d=="object"&&d);var f=typeof d=="string"?d:e.slide;if(!g){h.data("bs.carousel",(g=new c(this,e)))}if(typeof d=="number"){g.to(d)}else{if(f){g[f]()}else{if(e.interval){g.pause().cycle()}}}})};b.fn.carousel.Constructor=c;b.fn.carousel.noConflict=function(){b.fn.carousel=a;return this};b(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(k){var j=b(this),f;var d=b(j.attr("data-target")||(f=j.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,""));var g=b.extend({},d.data(),j.data());var h=j.attr("data-slide-to");if(h){g.interval=false}d.carousel(g);if(h=j.attr("data-slide-to")){d.data("bs.carousel").to(h)}k.preventDefault()});b(window).on("load",function(){b('[data-ride="carousel"]').each(function(){var d=b(this);d.carousel(d.data())})})}(window.jQuery);+function(b){var c=function(e,d){this.$element=b(e);this.options=b.extend({},c.DEFAULTS,d);this.transitioning=null;if(this.options.parent){this.$parent=b(this.options.parent)}if(this.options.toggle){this.toggle()}};c.DEFAULTS={toggle:true};c.prototype.dimension=function(){var d=this.$element.hasClass("width");return d?"width":"height"};c.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in")){return}var e=b.Event("show.bs.collapse");this.$element.trigger(e);if(e.isDefaultPrevented()){return}var h=this.$parent&&this.$parent.find("> .panel > .in");if(h&&h.length){var f=h.data("bs.collapse");if(f&&f.transitioning){return}h.collapse("hide");f||h.data("bs.collapse",null)}var j=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[j](0);this.transitioning=1;var d=function(){this.$element.removeClass("collapsing").addClass("in")[j]("auto");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!b.support.transition){return d.call(this)}var g=b.camelCase(["scroll",j].join("-"));this.$element.one(b.support.transition.end,b.proxy(d,this)).emulateTransitionEnd(350)[j](this.$element[0][g])};c.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in")){return}var e=b.Event("hide.bs.collapse");this.$element.trigger(e);if(e.isDefaultPrevented()){return}var f=this.dimension();this.$element[f](this.$element[f]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var d=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!b.support.transition){return d.call(this)}this.$element[f](0).one(b.support.transition.end,b.proxy(d,this)).emulateTransitionEnd(350)};c.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var a=b.fn.collapse;b.fn.collapse=function(d){return this.each(function(){var g=b(this);var f=g.data("bs.collapse");var e=b.extend({},c.DEFAULTS,g.data(),typeof d=="object"&&d);if(!f){g.data("bs.collapse",(f=new c(this,e)))}if(typeof d=="string"){f[d]()}})};b.fn.collapse.Constructor=c;b.fn.collapse.noConflict=function(){b.fn.collapse=a;return this};b(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(k){var m=b(this),d;var l=m.attr("data-target")||k.preventDefault()||(d=m.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"");var f=b(l);var h=f.data("bs.collapse");var j=h?"toggle":m.data();var n=m.attr("data-parent");var g=n&&b(n);if(!h||!h.transitioning){if(g){g.find('[data-toggle=collapse][data-parent="'+n+'"]').not(m).addClass("collapsed")}m[f.hasClass("in")?"addClass":"removeClass"]("collapsed")}f.collapse(j)})}(window.jQuery);+function(g){var e=".dropdown-backdrop";var b="[data-toggle=dropdown]";var a=function(j){var h=g(j).on("click.bs.dropdown",this.toggle)};a.prototype.toggle=function(l){var k=g(this);if(k.is(".disabled, :disabled")){return}var j=f(k);var h=j.hasClass("open");d();if(!h){if("ontouchstart" in document.documentElement&&!j.closest(".navbar-nav").length){g('<div class="dropdown-backdrop"/>').insertAfter(g(this)).on("click",d)}j.trigger(l=g.Event("show.bs.dropdown"));if(l.isDefaultPrevented()){return}j.toggleClass("open").trigger("shown.bs.dropdown");k.focus()}return false};a.prototype.keydown=function(m){if(!/(38|40|27)/.test(m.keyCode)){return}var l=g(this);m.preventDefault();m.stopPropagation();if(l.is(".disabled, :disabled")){return}var k=f(l);var j=k.hasClass("open");if(!j||(j&&m.keyCode==27)){if(m.which==27){k.find(b).focus()}return l.click()}var n=g("[role=menu] li:not(.divider):visible a",k);if(!n.length){return}var h=n.index(n.filter(":focus"));if(m.keyCode==38&&h>0){h--}if(m.keyCode==40&&h<n.length-1){h++}if(!~h){h=0}n.eq(h).focus()};function d(){g(e).remove();g(b).each(function(j){var h=f(g(this));if(!h.hasClass("open")){return}h.trigger(j=g.Event("hide.bs.dropdown"));if(j.isDefaultPrevented()){return}h.removeClass("open").trigger("hidden.bs.dropdown")})}function f(k){var h=k.attr("data-target");if(!h){h=k.attr("href");h=h&&/#/.test(h)&&h.replace(/.*(?=#[^\s]*$)/,"")}var j=h&&g(h);return j&&j.length?j:k.parent()}var c=g.fn.dropdown;g.fn.dropdown=function(h){return this.each(function(){var k=g(this);var j=k.data("dropdown");if(!j){k.data("dropdown",(j=new a(this)))}if(typeof h=="string"){j[h].call(k)}})};g.fn.dropdown.Constructor=a;g.fn.dropdown.noConflict=function(){g.fn.dropdown=c;return this};g(document).on("click.bs.dropdown.data-api",d).on("click.bs.dropdown.data-api",".dropdown form",function(h){h.stopPropagation()}).on("click.bs.dropdown.data-api",b,a.prototype.toggle).on("keydown.bs.dropdown.data-api",b+", [role=menu]",a.prototype.keydown)}(window.jQuery);+function(c){var b=function(d){this.element=c(d)};b.prototype.show=function(){var k=this.element;var g=k.closest("ul:not(.dropdown-menu)");var f=k.attr("data-target");if(!f){f=k.attr("href");f=f&&f.replace(/.*(?=#[^\s]*$)/,"")}if(k.parent("li").hasClass("active")){return}var h=g.find(".active:last a")[0];var j=c.Event("show.bs.tab",{relatedTarget:h});k.trigger(j);if(j.isDefaultPrevented()){return}var d=c(f);this.activate(k.parent("li"),g);this.activate(d,d.parent(),function(){k.trigger({type:"shown.bs.tab",relatedTarget:h})})};b.prototype.activate=function(f,e,j){var d=e.find("> .active");var h=j&&c.support.transition&&d.hasClass("fade");function g(){d.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");f.addClass("active");if(h){f[0].offsetWidth;f.addClass("in")}else{f.removeClass("fade")}if(f.parent(".dropdown-menu")){f.closest("li.dropdown").addClass("active")}j&&j()}h?d.one(c.support.transition.end,g).emulateTransitionEnd(150):g();d.removeClass("in")};var a=c.fn.tab;c.fn.tab=function(d){return this.each(function(){var f=c(this);var e=f.data("bs.tab");if(!e){f.data("bs.tab",(e=new b(this)))}if(typeof d=="string"){e[d]()}})};c.fn.tab.Constructor=b;c.fn.tab.noConflict=function(){c.fn.tab=a;return this};c(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(d){d.preventDefault();c(this).tab("show")})}(window.jQuery);+function(b){function a(){var e=document.createElement("bootstrap");var d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in d){if(e.style[c]!==undefined){return{end:d[c]}}}}b.fn.emulateTransitionEnd=function(e){var d=false,c=this;b(this).one(b.support.transition.end,function(){d=true});var f=function(){if(!d){b(c).trigger(b.support.transition.end)}};setTimeout(f,e);return this};b(function(){b.support.transition=a()})}(window.jQuery);+function(c){function b(f,e){var d;var g=c.proxy(this.process,this);this.$element=c(f).is("body")?c(window):c(f);this.$body=c("body");this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",g);this.options=c.extend({},b.DEFAULTS,e);this.selector=(this.options.target||((d=c(f).attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""))||"")+" .nav li > a";this.offsets=c([]);this.targets=c([]);this.activeTarget=null;this.refresh();this.process()}b.DEFAULTS={offset:10};b.prototype.refresh=function(){var d=this.$element[0]==window?"offset":"position";this.offsets=c([]);this.targets=c([]);var e=this;var f=this.$body.find(this.selector).map(function(){var h=c(this);var g=h.data("target")||h.attr("href");var j=/^#\w/.test(g)&&c(g);return(j&&j.length&&[[j[d]().top+(!c.isWindow(e.$scrollElement.get(0))&&e.$scrollElement.scrollTop()),g]])||null}).sort(function(h,g){return h[0]-g[0]}).each(function(){e.offsets.push(this[0]);e.targets.push(this[1])})};b.prototype.process=function(){var j=this.$scrollElement.scrollTop()+this.options.offset;var f=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight;var h=f-this.$scrollElement.height();var g=this.offsets;var d=this.targets;var k=this.activeTarget;var e;if(j>=h){return k!=(e=d.last()[0])&&this.activate(e)}for(e=g.length;e--;){k!=d[e]&&j>=g[e]&&(!g[e+1]||j<=g[e+1])&&this.activate(d[e])}};b.prototype.activate=function(f){this.activeTarget=f;c(this.selector).parents(".active").removeClass("active");var d=this.selector+'[data-target="'+f+'"],'+this.selector+'[href="'+f+'"]';var e=c(d).parents("li").addClass("active");if(e.parent(".dropdown-menu").length){e=e.closest("li.dropdown").addClass("active")}e.trigger("activate")};var a=c.fn.scrollspy;c.fn.scrollspy=function(d){return this.each(function(){var g=c(this);var f=g.data("bs.scrollspy");var e=typeof d=="object"&&d;if(!f){g.data("bs.scrollspy",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.scrollspy.Constructor=b;c.fn.scrollspy.noConflict=function(){c.fn.scrollspy=a;return this};c(window).on("load",function(){c('[data-spy="scroll"]').each(function(){var d=c(this);d.scrollspy(d.data())})})}(window.jQuery);+function(c){var b=function(e,d){this.options=d;this.$element=c(e);this.$backdrop=this.isShown=null;if(this.options.remote){this.$element.load(this.options.remote)}};b.DEFAULTS={backdrop:true,keyboard:true,show:true};b.prototype.toggle=function(d){return this[!this.isShown?"show":"hide"](d)};b.prototype.show=function(g){var d=this;var f=c.Event("show.bs.modal",{relatedTarget:g});this.$element.trigger(f);if(this.isShown||f.isDefaultPrevented()){return}this.isShown=true;this.escape();this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',c.proxy(this.hide,this));this.backdrop(function(){var j=c.support.transition&&d.$element.hasClass("fade");if(!d.$element.parent().length){d.$element.appendTo(document.body)}d.$element.show();if(j){d.$element[0].offsetWidth}d.$element.addClass("in").attr("aria-hidden",false);d.enforceFocus();var h=c.Event("shown.bs.modal",{relatedTarget:g});j?d.$element.find(".modal-dialog").one(c.support.transition.end,function(){d.$element.focus().trigger(h)}).emulateTransitionEnd(300):d.$element.focus().trigger(h)})};b.prototype.hide=function(d){if(d){d.preventDefault()}d=c.Event("hide.bs.modal");this.$element.trigger(d);if(!this.isShown||d.isDefaultPrevented()){return}this.isShown=false;this.escape();c(document).off("focusin.bs.modal");this.$element.removeClass("in").attr("aria-hidden",true).off("click.dismiss.modal");c.support.transition&&this.$element.hasClass("fade")?this.$element.one(c.support.transition.end,c.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()};b.prototype.enforceFocus=function(){c(document).off("focusin.bs.modal").on("focusin.bs.modal",c.proxy(function(d){if(this.$element[0]!==d.target&&!this.$element.has(d.target).length){this.$element.focus()}},this))};b.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on("keyup.dismiss.bs.modal",c.proxy(function(d){d.which==27&&this.hide()},this))}else{if(!this.isShown){this.$element.off("keyup.dismiss.bs.modal")}}};b.prototype.hideModal=function(){var d=this;this.$element.hide();this.backdrop(function(){d.removeBackdrop();d.$element.trigger("hidden.bs.modal")})};b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};b.prototype.backdrop=function(g){var f=this;var e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=c.support.transition&&e;this.$backdrop=c('<div class="modal-backdrop '+e+'" />').appendTo(document.body);this.$element.on("click.dismiss.modal",c.proxy(function(h){if(h.target!==h.currentTarget){return}this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)},this));if(d){this.$backdrop[0].offsetWidth}this.$backdrop.addClass("in");if(!g){return}d?this.$backdrop.one(c.support.transition.end,g).emulateTransitionEnd(150):g()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");c.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(c.support.transition.end,g).emulateTransitionEnd(150):g()}else{if(g){g()}}}};var a=c.fn.modal;c.fn.modal=function(d,e){return this.each(function(){var h=c(this);var g=h.data("bs.modal");var f=c.extend({},b.DEFAULTS,h.data(),typeof d=="object"&&d);if(!g){h.data("bs.modal",(g=new b(this,f)))}if(typeof d=="string"){g[d](e)}else{if(f.show){g.show(e)}}})};c.fn.modal.Constructor=b;c.fn.modal.noConflict=function(){c.fn.modal=a;return this};c(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(j){var h=c(this);var f=h.attr("href");var d=c(h.attr("data-target")||(f&&f.replace(/.*(?=#[^\s]+$)/,"")));var g=d.data("modal")?"toggle":c.extend({remote:!/#/.test(f)&&f},d.data(),h.data());j.preventDefault();d.modal(g,this).one("hide",function(){h.is(":visible")&&h.focus()})});c(document).on("show.bs.modal",".modal",function(){c(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){c(document.body).removeClass("modal-open")})}(window.jQuery);+function(c){var b=function(e,d){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",e,d)};b.DEFAULTS={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};b.prototype.init=function(k,h,f){this.enabled=true;this.type=k;this.$element=c(h);this.options=this.getOptions(f);var j=this.options.trigger.split(" ");for(var g=j.length;g--;){var e=j[g];if(e=="click"){this.$element.on("click."+this.type,this.options.selector,c.proxy(this.toggle,this))}else{if(e!="manual"){var l=e=="hover"?"mouseenter":"focus";var d=e=="hover"?"mouseleave":"blur";this.$element.on(l+"."+this.type,this.options.selector,c.proxy(this.enter,this));this.$element.on(d+"."+this.type,this.options.selector,c.proxy(this.leave,this))}}}this.options.selector?(this._options=c.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()};b.prototype.getDefaults=function(){return b.DEFAULTS};b.prototype.getOptions=function(d){d=c.extend({},this.getDefaults(),this.$element.data(),d);if(d.delay&&typeof d.delay=="number"){d.delay={show:d.delay,hide:d.delay}}return d};b.prototype.getDelegateOptions=function(){var d={};var e=this.getDefaults();this._options&&c.each(this._options,function(f,g){if(e[f]!=g){d[f]=g}});return d};b.prototype.enter=function(e){var d=e instanceof this.constructor?e:c(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(d.timeout);d.hoverState="in";if(!d.options.delay||!d.options.delay.show){return d.show()}d.timeout=setTimeout(function(){if(d.hoverState=="in"){d.show()}},d.options.delay.show)};b.prototype.leave=function(e){var d=e instanceof this.constructor?e:c(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(d.timeout);d.hoverState="out";if(!d.options.delay||!d.options.delay.hide){return d.hide()}d.timeout=setTimeout(function(){if(d.hoverState=="out"){d.hide()}},d.options.delay.hide)};b.prototype.show=function(){var o=c.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(o);if(o.isDefaultPrevented()){return}var k=this.tip();this.setContent();if(this.options.animation){k.addClass("fade")}var j=typeof this.options.placement=="function"?this.options.placement.call(this,k[0],this.$element[0]):this.options.placement;var s=/\s?auto?\s?/i;var t=s.test(j);if(t){j=j.replace(s,"")||"top"}k.detach().css({top:0,left:0,display:"block"}).addClass(j);this.options.container?k.appendTo(this.options.container):k.insertAfter(this.$element);var p=this.getPosition();var d=k[0].offsetWidth;var m=k[0].offsetHeight;if(t){var h=this.$element.parent();var g=j;var q=document.documentElement.scrollTop||document.body.scrollTop;var r=this.options.container=="body"?window.innerWidth:h.outerWidth();var n=this.options.container=="body"?window.innerHeight:h.outerHeight();var l=this.options.container=="body"?0:h.offset().left;j=j=="bottom"&&p.top+p.height+m-q>n?"top":j=="top"&&p.top-q-m<0?"bottom":j=="right"&&p.right+d>r?"left":j=="left"&&p.left-d<l?"right":j;k.removeClass(g).addClass(j)}var f=this.getCalculatedOffset(j,p,d,m);this.applyPlacement(f,j);this.$element.trigger("shown.bs."+this.type)}};b.prototype.applyPlacement=function(j,k){var g;var l=this.tip();var f=l[0].offsetWidth;var o=l[0].offsetHeight;var e=parseInt(l.css("margin-top"),10);var h=parseInt(l.css("margin-left"),10);if(isNaN(e)){e=0}if(isNaN(h)){h=0}j.top=j.top+e;j.left=j.left+h;l.offset(j).addClass("in");var d=l[0].offsetWidth;var m=l[0].offsetHeight;if(k=="top"&&m!=o){g=true;j.top=j.top+o-m}if(/bottom|top/.test(k)){var n=0;if(j.left<0){n=j.left*-2;j.left=0;l.offset(j);d=l[0].offsetWidth;m=l[0].offsetHeight}this.replaceArrow(n-f+d,d,"left")}else{this.replaceArrow(m-o,m,"top")}if(g){l.offset(j)}};b.prototype.replaceArrow=function(f,e,d){this.arrow().css(d,f?(50*(1-f/e)+"%"):"")};b.prototype.setContent=function(){var e=this.tip();var d=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](d);e.removeClass("fade in top bottom left right")};b.prototype.hide=function(){var f=this;var h=this.tip();var g=c.Event("hide.bs."+this.type);function d(){if(f.hoverState!="in"){h.detach()}}this.$element.trigger(g);if(g.isDefaultPrevented()){return}h.removeClass("in");c.support.transition&&this.$tip.hasClass("fade")?h.one(c.support.transition.end,d).emulateTransitionEnd(150):d();this.$element.trigger("hidden.bs."+this.type);return this};b.prototype.fixTitle=function(){var d=this.$element;if(d.attr("title")||typeof(d.attr("data-original-title"))!="string"){d.attr("data-original-title",d.attr("title")||"").attr("title","")}};b.prototype.hasContent=function(){return this.getTitle()};b.prototype.getPosition=function(){var d=this.$element[0];return c.extend({},(typeof d.getBoundingClientRect=="function")?d.getBoundingClientRect():{width:d.offsetWidth,height:d.offsetHeight},this.$element.offset())};b.prototype.getCalculatedOffset=function(d,g,e,f){return d=="bottom"?{top:g.top+g.height,left:g.left+g.width/2-e/2}:d=="top"?{top:g.top-f,left:g.left+g.width/2-e/2}:d=="left"?{top:g.top+g.height/2-f/2,left:g.left-e}:{top:g.top+g.height/2-f/2,left:g.left+g.width}};b.prototype.getTitle=function(){var f;var d=this.$element;var e=this.options;f=d.attr("data-original-title")||(typeof e.title=="function"?e.title.call(d[0]):e.title);return f};b.prototype.tip=function(){return this.$tip=this.$tip||c(this.options.template)};b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};b.prototype.validate=function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}};b.prototype.enable=function(){this.enabled=true};b.prototype.disable=function(){this.enabled=false};b.prototype.toggleEnabled=function(){this.enabled=!this.enabled};b.prototype.toggle=function(f){var d=f?c(f.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;d.tip().hasClass("in")?d.leave(d):d.enter(d)};b.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var a=c.fn.tooltip;c.fn.tooltip=function(d){return this.each(function(){var g=c(this);var f=g.data("bs.tooltip");var e=typeof d=="object"&&d;if(!f){g.data("bs.tooltip",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.tooltip.Constructor=b;c.fn.tooltip.noConflict=function(){c.fn.tooltip=a;return this}}(window.jQuery);+function(c){var b=function(e,d){this.init("popover",e,d)};if(!c.fn.tooltip){throw new Error("Popover requires tooltip.js")}b.DEFAULTS=c.extend({},c.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});b.prototype=c.extend({},c.fn.tooltip.Constructor.prototype);b.prototype.constructor=b;b.prototype.getDefaults=function(){return b.DEFAULTS};b.prototype.setContent=function(){var f=this.tip();var e=this.getTitle();var d=this.getContent();f.find(".popover-title")[this.options.html?"html":"text"](e);f.find(".popover-content")[this.options.html?"html":"text"](d);f.removeClass("fade top bottom left right in");if(!f.find(".popover-title").html()){f.find(".popover-title").hide()}};b.prototype.hasContent=function(){return this.getTitle()||this.getContent()};b.prototype.getContent=function(){var d=this.$element;var e=this.options;return d.attr("data-content")||(typeof e.content=="function"?e.content.call(d[0]):e.content)};b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};b.prototype.tip=function(){if(!this.$tip){this.$tip=c(this.options.template)}return this.$tip};var a=c.fn.popover;c.fn.popover=function(d){return this.each(function(){var g=c(this);var f=g.data("bs.popover");var e=typeof d=="object"&&d;if(!f){g.data("bs.popover",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.popover.Constructor=b;c.fn.popover.noConflict=function(){c.fn.popover=a;return this}}(window.jQuery);!function(c){function f(){return new Date(Date.UTC.apply(Date,arguments))}function a(){var g=new Date();return f(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate(),g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),0)}var e=function(h,g){var j=this;this.element=c(h);this.language=g.language||this.element.data("date-language")||"en";this.language=this.language in d?this.language:"en";this.isRTL=d[this.language].rtl||false;this.formatType=g.formatType||this.element.data("format-type")||"standard";this.format=b.parseFormat(g.format||this.element.data("date-format")||b.getDefaultFormat(this.formatType,"input"),this.formatType);this.isInline=false;this.isVisible=false;this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on .icon-th, .add-on .icon-time, .add-on .icon-calendar").parent():false;this.componentReset=this.element.is(".date")?this.element.find(".add-on .icon-remove").parent():false;this.hasInput=this.component&&this.element.find("input").length;if(this.component&&this.component.length===0){this.component=false}this.linkField=g.linkField||this.element.data("link-field")||false;this.linkFormat=b.parseFormat(g.linkFormat||this.element.data("link-format")||b.getDefaultFormat(this.formatType,"link"),this.formatType);this.minuteStep=g.minuteStep||this.element.data("minute-step")||5;this.pickerPosition=g.pickerPosition||this.element.data("picker-position")||"bottom-right";this.showMeridian=g.showMeridian||this.element.data("show-meridian")||false;this.initialDate=g.initialDate||new Date();this._attachEvents();this.formatViewType="datetime";if("formatViewType" in g){this.formatViewType=g.formatViewType}else{if("formatViewType" in this.element.data()){this.formatViewType=this.element.data("formatViewType")}}this.minView=0;if("minView" in g){this.minView=g.minView}else{if("minView" in this.element.data()){this.minView=this.element.data("min-view")}}this.minView=b.convertViewMode(this.minView);this.maxView=b.modes.length-1;if("maxView" in g){this.maxView=g.maxView}else{if("maxView" in this.element.data()){this.maxView=this.element.data("max-view")}}this.maxView=b.convertViewMode(this.maxView);this.startViewMode=2;if("startView" in g){this.startViewMode=g.startView}else{if("startView" in this.element.data()){this.startViewMode=this.element.data("start-view")}}this.startViewMode=b.convertViewMode(this.startViewMode);this.viewMode=this.startViewMode;this.viewSelect=this.minView;if("viewSelect" in g){this.viewSelect=g.viewSelect}else{if("viewSelect" in this.element.data()){this.viewSelect=this.element.data("view-select")}}this.viewSelect=b.convertViewMode(this.viewSelect);this.forceParse=true;if("forceParse" in g){this.forceParse=g.forceParse}else{if("dateForceParse" in this.element.data()){this.forceParse=this.element.data("date-force-parse")}}this.picker=c(b.template).appendTo(this.isInline?this.element:"body").on({click:c.proxy(this.click,this),mousedown:c.proxy(this.mousedown,this)});if(this.isInline){this.picker.addClass("datetimepicker-inline")}else{this.picker.addClass("datetimepicker-dropdown-"+this.pickerPosition+" dropdown-menu")}if(this.isRTL){this.picker.addClass("datetimepicker-rtl");this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")}c(document).on("mousedown",function(k){if(c(k.target).closest(".datetimepicker").length===0){j.hide()}});this.autoclose=false;if("autoclose" in g){this.autoclose=g.autoclose}else{if("dateAutoclose" in this.element.data()){this.autoclose=this.element.data("date-autoclose")}}this.keyboardNavigation=true;if("keyboardNavigation" in g){this.keyboardNavigation=g.keyboardNavigation}else{if("dateKeyboardNavigation" in this.element.data()){this.keyboardNavigation=this.element.data("date-keyboard-navigation")}}this.todayBtn=(g.todayBtn||this.element.data("date-today-btn")||false);this.todayHighlight=(g.todayHighlight||this.element.data("date-today-highlight")||false);this.weekStart=((g.weekStart||this.element.data("date-weekstart")||d[this.language].weekStart||0)%7);this.weekEnd=((this.weekStart+6)%7);this.startDate=-Infinity;this.endDate=Infinity;this.daysOfWeekDisabled=[];this.setStartDate(g.startDate||this.element.data("date-startdate"));this.setEndDate(g.endDate||this.element.data("date-enddate"));this.setDaysOfWeekDisabled(g.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled"));this.fillDow();this.fillMonths();this.update();this.showMode();if(this.isInline){this.show()}};e.prototype={constructor:e,_events:[],_attachEvents:function(){this._detachEvents();if(this.isInput){this._events=[[this.element,{focus:c.proxy(this.show,this),keyup:c.proxy(this.update,this),keydown:c.proxy(this.keydown,this)}]]}else{if(this.component&&this.hasInput){this._events=[[this.element.find("input"),{focus:c.proxy(this.show,this),keyup:c.proxy(this.update,this),keydown:c.proxy(this.keydown,this)}],[this.component,{click:c.proxy(this.show,this)}]];if(this.componentReset){this._events.push([this.componentReset,{click:c.proxy(this.reset,this)}])}}else{if(this.element.is("div")){this.isInline=true}else{this._events=[[this.element,{click:c.proxy(this.show,this)}]]}}}for(var g=0,h,j;g<this._events.length;g++){h=this._events[g][0];j=this._events[g][1];h.on(j)}},_detachEvents:function(){for(var g=0,h,j;g<this._events.length;g++){h=this._events[g][0];j=this._events[g][1];h.off(j)}this._events=[]},show:function(g){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();if(this.forceParse){this.update()}this.place();c(window).on("resize",c.proxy(this.place,this));if(g){g.stopPropagation();g.preventDefault()}this.isVisible=true;this.element.trigger({type:"show",date:this.date})},hide:function(g){if(!this.isVisible){return}if(this.isInline){return}this.picker.hide();c(window).off("resize",this.place);this.viewMode=this.startViewMode;this.showMode();if(!this.isInput){c(document).off("mousedown",this.hide)}if(this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())){this.setValue()}this.isVisible=false;this.element.trigger({type:"hide",date:this.date})},remove:function(){this._detachEvents();this.picker.remove();delete this.element.data().datetimepicker},getDate:function(){var g=this.getUTCDate();return new Date(g.getTime()+(g.getTimezoneOffset()*60000))},getUTCDate:function(){return this.date},setDate:function(g){this.setUTCDate(new Date(g.getTime()-(g.getTimezoneOffset()*60000)))},setUTCDate:function(g){if(g>=this.startDate&&g<=this.endDate){this.date=g;this.setValue();this.viewDate=this.date;this.fill()}else{this.element.trigger({type:"outOfRange",date:g,startDate:this.startDate,endDate:this.endDate})}},setFormat:function(h){this.format=b.parseFormat(h,this.formatType);var g;if(this.isInput){g=this.element}else{if(this.component){g=this.element.find("input")}}if(g&&g.val()){this.setValue()}},setValue:function(){var g=this.getFormattedDate();if(!this.isInput){if(this.component){this.element.find("input").val(g)}this.element.data("date",g)}else{this.element.val(g)}if(this.linkField){c("#"+this.linkField).val(this.getFormattedDate(this.linkFormat))}},getFormattedDate:function(g){if(g==undefined){g=this.format}return b.formatDate(this.date,g,this.language,this.formatType)},setStartDate:function(g){this.startDate=g||-Infinity;if(this.startDate!==-Infinity){this.startDate=b.parseDate(this.startDate,this.format,this.language,this.formatType)}this.update();this.updateNavArrows()},setEndDate:function(g){this.endDate=g||Infinity;if(this.endDate!==Infinity){this.endDate=b.parseDate(this.endDate,this.format,this.language,this.formatType)}this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(g){this.daysOfWeekDisabled=g||[];if(!c.isArray(this.daysOfWeekDisabled)){this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)}this.daysOfWeekDisabled=c.map(this.daysOfWeekDisabled,function(h){return parseInt(h,10)});this.update();this.updateNavArrows()},place:function(){if(this.isInline){return}var k=parseInt(this.element.parents().filter(function(){return c(this).css("z-index")!="auto"}).first().css("z-index"))+10;var j,h,g;if(this.component){j=this.component.offset();g=j.left;if(this.pickerPosition=="bottom-left"||this.pickerPosition=="top-left"){g+=this.component.outerWidth()-this.picker.outerWidth()}}else{j=this.element.offset();g=j.left}if(this.pickerPosition=="top-left"||this.pickerPosition=="top-right"){h=j.top-this.picker.outerHeight()}else{h=j.top+this.height}this.picker.css({top:h,left:g,zIndex:k})},update:function(){var g,h=false;if(arguments&&arguments.length&&(typeof arguments[0]==="string"||arguments[0] instanceof Date)){g=arguments[0];h=true}else{g=this.element.data("date")||(this.isInput?this.element.val():this.element.find("input").val())||this.initialDate}if(!g){g=new Date();h=false}this.date=b.parseDate(g,this.format,this.language,this.formatType);if(h){this.setValue()}if(this.date<this.startDate){this.viewDate=new Date(this.startDate)}else{if(this.date>this.endDate){this.viewDate=new Date(this.endDate)}else{this.viewDate=new Date(this.date)}}this.fill()},fillDow:function(){var g=this.weekStart,h="<tr>";while(g<this.weekStart+7){h+='<th class="dow">'+d[this.language].daysMin[(g++)%7]+"</th>"}h+="</tr>";this.picker.find(".datetimepicker-days thead").append(h)},fillMonths:function(){var h="",g=0;while(g<12){h+='<span class="month">'+d[this.language].monthsShort[g++]+"</span>"}this.picker.find(".datetimepicker-months td").html(h)},fill:function(){if(this.date==null||this.viewDate==null){return}var E=new Date(this.viewDate),q=E.getUTCFullYear(),F=E.getUTCMonth(),j=E.getUTCDate(),z=E.getUTCHours(),u=E.getUTCMinutes(),v=this.startDate!==-Infinity?this.startDate.getUTCFullYear():-Infinity,A=this.startDate!==-Infinity?this.startDate.getUTCMonth():-Infinity,l=this.endDate!==Infinity?this.endDate.getUTCFullYear():Infinity,w=this.endDate!==Infinity?this.endDate.getUTCMonth():Infinity,n=(new f(this.date.getUTCFullYear(),this.date.getUTCMonth(),this.date.getUTCDate())).valueOf(),D=new Date();this.picker.find(".datetimepicker-days thead th:eq(1)").text(d[this.language].months[F]+" "+q);if(this.formatViewType=="time"){var B=z%12?z%12:12;var h=(B<10?"0":"")+B;var m=(u<10?"0":"")+u;var H=d[this.language].meridiem[z<12?0:1];this.picker.find(".datetimepicker-hours thead th:eq(1)").text(h+":"+m+" "+H.toUpperCase());this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(h+":"+m+" "+H.toUpperCase())}else{this.picker.find(".datetimepicker-hours thead th:eq(1)").text(j+" "+d[this.language].months[F]+" "+q);this.picker.find(".datetimepicker-minutes thead th:eq(1)").text(j+" "+d[this.language].months[F]+" "+q)}this.picker.find("tfoot th.today").text(d[this.language].today).toggle(this.todayBtn!==false);this.updateNavArrows();this.fillMonths();var I=f(q,F-1,28,0,0,0,0),y=b.getDaysInMonth(I.getUTCFullYear(),I.getUTCMonth());I.setUTCDate(y);I.setUTCDate(y-(I.getUTCDay()-this.weekStart+7)%7);var g=new Date(I);g.setUTCDate(g.getUTCDate()+42);g=g.valueOf();var o=[];var r;while(I.valueOf()<g){if(I.getUTCDay()==this.weekStart){o.push("<tr>")}r="";if(I.getUTCFullYear()<q||(I.getUTCFullYear()==q&&I.getUTCMonth()<F)){r+=" old"}else{if(I.getUTCFullYear()>q||(I.getUTCFullYear()==q&&I.getUTCMonth()>F)){r+=" new"}}if(this.todayHighlight&&I.getUTCFullYear()==D.getFullYear()&&I.getUTCMonth()==D.getMonth()&&I.getUTCDate()==D.getDate()){r+=" today"}if(I.valueOf()==n){r+=" active"}if((I.valueOf()+86400000)<=this.startDate||I.valueOf()>this.endDate||c.inArray(I.getUTCDay(),this.daysOfWeekDisabled)!==-1){r+=" disabled"}o.push('<td class="day'+r+'">'+I.getUTCDate()+"</td>");if(I.getUTCDay()==this.weekEnd){o.push("</tr>")}I.setUTCDate(I.getUTCDate()+1)}this.picker.find(".datetimepicker-days tbody").empty().append(o.join(""));o=[];var s="",C="",p="";for(var x=0;x<24;x++){var t=f(q,F,j,x);r="";if((t.valueOf()+3600000)<=this.startDate||t.valueOf()>this.endDate){r+=" disabled"}else{if(z==x){r+=" active"}}if(this.showMeridian&&d[this.language].meridiem.length==2){C=(x<12?d[this.language].meridiem[0]:d[this.language].meridiem[1]);if(C!=p){if(p!=""){o.push("</fieldset>")}o.push('<fieldset class="hour"><legend>'+C.toUpperCase()+"</legend>")}p=C;s=(x%12?x%12:12);o.push('<span class="hour'+r+" hour_"+(x<12?"am":"pm")+'">'+s+"</span>");if(x==23){o.push("</fieldset>")}}else{s=x+":00";o.push('<span class="hour'+r+'">'+s+"</span>")}}this.picker.find(".datetimepicker-hours td").html(o.join(""));o=[];s="",C="",p="";for(var x=0;x<60;x+=this.minuteStep){var t=f(q,F,j,z,x,0);r="";if(t.valueOf()<this.startDate||t.valueOf()>this.endDate){r+=" disabled"}else{if(Math.floor(u/this.minuteStep)==Math.floor(x/this.minuteStep)){r+=" active"}}if(this.showMeridian&&d[this.language].meridiem.length==2){C=(z<12?d[this.language].meridiem[0]:d[this.language].meridiem[1]);if(C!=p){if(p!=""){o.push("</fieldset>")}o.push('<fieldset class="minute"><legend>'+C.toUpperCase()+"</legend>")}p=C;s=(z%12?z%12:12);o.push('<span class="minute'+r+'">'+s+":"+(x<10?"0"+x:x)+"</span>");if(x==59){o.push("</fieldset>")}}else{s=x+":00";o.push('<span class="minute'+r+'">'+z+":"+(x<10?"0"+x:x)+"</span>")}}this.picker.find(".datetimepicker-minutes td").html(o.join(""));var J=this.date.getUTCFullYear();var k=this.picker.find(".datetimepicker-months").find("th:eq(1)").text(q).end().find("span").removeClass("active");if(J==q){k.eq(this.date.getUTCMonth()).addClass("active")}if(q<v||q>l){k.addClass("disabled")}if(q==v){k.slice(0,A).addClass("disabled")}if(q==l){k.slice(w+1).addClass("disabled")}o="";q=parseInt(q/10,10)*10;var G=this.picker.find(".datetimepicker-years").find("th:eq(1)").text(q+"-"+(q+9)).end().find("td");q-=1;for(var x=-1;x<11;x++){o+='<span class="year'+(x==-1||x==10?" old":"")+(J==q?" active":"")+(q<v||q>l?" disabled":"")+'">'+q+"</span>";q+=1}G.html(o);this.place()},updateNavArrows:function(){var l=new Date(this.viewDate),j=l.getUTCFullYear(),k=l.getUTCMonth(),h=l.getUTCDate(),g=l.getUTCHours();switch(this.viewMode){case 0:if(this.startDate!==-Infinity&&j<=this.startDate.getUTCFullYear()&&k<=this.startDate.getUTCMonth()&&h<=this.startDate.getUTCDate()&&g<=this.startDate.getUTCHours()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&j>=this.endDate.getUTCFullYear()&&k>=this.endDate.getUTCMonth()&&h>=this.endDate.getUTCDate()&&g>=this.endDate.getUTCHours()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 1:if(this.startDate!==-Infinity&&j<=this.startDate.getUTCFullYear()&&k<=this.startDate.getUTCMonth()&&h<=this.startDate.getUTCDate()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&j>=this.endDate.getUTCFullYear()&&k>=this.endDate.getUTCMonth()&&h>=this.endDate.getUTCDate()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 2:if(this.startDate!==-Infinity&&j<=this.startDate.getUTCFullYear()&&k<=this.startDate.getUTCMonth()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&j>=this.endDate.getUTCFullYear()&&k>=this.endDate.getUTCMonth()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 3:case 4:if(this.startDate!==-Infinity&&j<=this.startDate.getUTCFullYear()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.endDate!==Infinity&&j>=this.endDate.getUTCFullYear()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break}},click:function(l){l.stopPropagation();l.preventDefault();var m=c(l.target).closest("span, td, th, legend");if(m.length==1){if(m.is(".disabled")){this.element.trigger({type:"outOfRange",date:this.viewDate,startDate:this.startDate,endDate:this.endDate});return}switch(m[0].nodeName.toLowerCase()){case"th":switch(m[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var g=b.modes[this.viewMode].navStep*(m[0].className=="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveHour(this.viewDate,g);break;case 1:this.viewDate=this.moveDate(this.viewDate,g);break;case 2:this.viewDate=this.moveMonth(this.viewDate,g);break;case 3:case 4:this.viewDate=this.moveYear(this.viewDate,g);break}this.fill();break;case"today":var h=new Date();h=f(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds(),0);this.viewMode=this.startViewMode;this.showMode(0);this._setDate(h);this.fill();if(this.autoclose){this.hide()}break}break;case"span":if(!m.is(".disabled")){var o=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),p=this.viewDate.getUTCDate(),q=this.viewDate.getUTCHours(),j=this.viewDate.getUTCMinutes(),r=this.viewDate.getUTCSeconds();if(m.is(".month")){this.viewDate.setUTCDate(1);n=m.parent().find("span").index(m);p=this.viewDate.getUTCDate();this.viewDate.setUTCMonth(n);this.element.trigger({type:"changeMonth",date:this.viewDate});if(this.viewSelect>=3){this._setDate(f(o,n,p,q,j,r,0))}}else{if(m.is(".year")){this.viewDate.setUTCDate(1);o=parseInt(m.text(),10)||0;this.viewDate.setUTCFullYear(o);this.element.trigger({type:"changeYear",date:this.viewDate});if(this.viewSelect>=4){this._setDate(f(o,n,p,q,j,r,0))}}else{if(m.is(".hour")){q=parseInt(m.text(),10)||0;if(m.hasClass("hour_am")||m.hasClass("hour_pm")){if(q==12&&m.hasClass("hour_am")){q=0}else{if(q!=12&&m.hasClass("hour_pm")){q+=12}}}this.viewDate.setUTCHours(q);this.element.trigger({type:"changeHour",date:this.viewDate});if(this.viewSelect>=1){this._setDate(f(o,n,p,q,j,r,0))}}else{if(m.is(".minute")){j=parseInt(m.text().substr(m.text().indexOf(":")+1),10)||0;this.viewDate.setUTCMinutes(j);this.element.trigger({type:"changeMinute",date:this.viewDate});if(this.viewSelect>=0){this._setDate(f(o,n,p,q,j,r,0))}}}}}if(this.viewMode!=0){var k=this.viewMode;this.showMode(-1);this.fill();if(k==this.viewMode&&this.autoclose){this.hide()}}else{this.fill();if(this.autoclose){this.hide()}}}break;case"td":if(m.is(".day")&&!m.is(".disabled")){var p=parseInt(m.text(),10)||1;var o=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),q=this.viewDate.getUTCHours(),j=this.viewDate.getUTCMinutes(),r=this.viewDate.getUTCSeconds();if(m.is(".old")){if(n===0){n=11;o-=1}else{n-=1}}else{if(m.is(".new")){if(n==11){n=0;o+=1}else{n+=1}}}this.viewDate.setUTCDate(p);this.viewDate.setUTCMonth(n);this.viewDate.setUTCFullYear(o);this.element.trigger({type:"changeDay",date:this.viewDate});if(this.viewSelect>=2){this._setDate(f(o,n,p,q,j,r,0))}}var k=this.viewMode;this.showMode(-1);this.fill();if(k==this.viewMode&&this.autoclose){this.hide()}break}}},_setDate:function(g,j){if(!j||j=="date"){this.date=g}if(!j||j=="view"){this.viewDate=g}this.fill();this.setValue();var h;if(this.isInput){h=this.element}else{if(this.component){h=this.element.find("input")}}if(h){h.change();if(this.autoclose&&(!j||j=="date")){}}this.element.trigger({type:"changeDate",date:this.date})},moveMinute:function(h,g){if(!g){return h}var j=new Date(h.valueOf());j.setUTCMinutes(j.getUTCMinutes()+(g*this.minuteStep));return j},moveHour:function(h,g){if(!g){return h}var j=new Date(h.valueOf());j.setUTCHours(j.getUTCHours()+g);return j},moveDate:function(h,g){if(!g){return h}var j=new Date(h.valueOf());j.setUTCDate(j.getUTCDate()+g);return j},moveMonth:function(g,h){if(!h){return g}var l=new Date(g.valueOf()),p=l.getUTCDate(),m=l.getUTCMonth(),k=Math.abs(h),o,n;h=h>0?1:-1;if(k==1){n=h==-1?function(){return l.getUTCMonth()==m}:function(){return l.getUTCMonth()!=o};o=m+h;l.setUTCMonth(o);if(o<0||o>11){o=(o+12)%12}}else{for(var j=0;j<k;j++){l=this.moveMonth(l,h)}o=l.getUTCMonth();l.setUTCDate(p);n=function(){return o!=l.getUTCMonth()}}while(n()){l.setUTCDate(--p);l.setUTCMonth(o)}return l},moveYear:function(h,g){return this.moveMonth(h,g*12)},dateWithinRange:function(g){return g>=this.startDate&&g<=this.endDate},keydown:function(l){if(this.picker.is(":not(:visible)")){if(l.keyCode==27){this.show()}return}var n=false,h,o,m,p,g;switch(l.keyCode){case 27:this.hide();l.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation){break}h=l.keyCode==37?-1:1;viewMode=this.viewMode;if(l.ctrlKey){viewMode+=2}else{if(l.shiftKey){viewMode+=1}}if(viewMode==4){p=this.moveYear(this.date,h);g=this.moveYear(this.viewDate,h)}else{if(viewMode==3){p=this.moveMonth(this.date,h);g=this.moveMonth(this.viewDate,h)}else{if(viewMode==2){p=this.moveDate(this.date,h);g=this.moveDate(this.viewDate,h)}else{if(viewMode==1){p=this.moveHour(this.date,h);g=this.moveHour(this.viewDate,h)}else{if(viewMode==0){p=this.moveMinute(this.date,h);g=this.moveMinute(this.viewDate,h)}}}}}if(this.dateWithinRange(p)){this.date=p;this.viewDate=g;this.setValue();this.update();l.preventDefault();n=true}break;case 38:case 40:if(!this.keyboardNavigation){break}h=l.keyCode==38?-1:1;viewMode=this.viewMode;if(l.ctrlKey){viewMode+=2}else{if(l.shiftKey){viewMode+=1}}if(viewMode==4){p=this.moveYear(this.date,h);g=this.moveYear(this.viewDate,h)}else{if(viewMode==3){p=this.moveMonth(this.date,h);g=this.moveMonth(this.viewDate,h)}else{if(viewMode==2){p=this.moveDate(this.date,h*7);g=this.moveDate(this.viewDate,h*7)}else{if(viewMode==1){if(this.showMeridian){p=this.moveHour(this.date,h*6);g=this.moveHour(this.viewDate,h*6)}else{p=this.moveHour(this.date,h*4);g=this.moveHour(this.viewDate,h*4)}}else{if(viewMode==0){p=this.moveMinute(this.date,h*4);g=this.moveMinute(this.viewDate,h*4)}}}}}if(this.dateWithinRange(p)){this.date=p;this.viewDate=g;this.setValue();this.update();l.preventDefault();n=true}break;case 13:if(this.viewMode!=0){var k=this.viewMode;this.showMode(-1);this.fill();if(k==this.viewMode&&this.autoclose){this.hide()}}else{this.fill();if(this.autoclose){this.hide()}}l.preventDefault();break;case 9:this.hide();break}if(n){var j;if(this.isInput){j=this.element}else{if(this.component){j=this.element.find("input")}}if(j){j.change()}this.element.trigger({type:"changeDate",date:this.date})}},showMode:function(g){if(g){var h=Math.max(0,Math.min(b.modes.length-1,this.viewMode+g));if(h>=this.minView&&h<=this.maxView){this.element.trigger({type:"changeMode",date:this.viewDate,oldViewMode:this.viewMode,newViewMode:h});this.viewMode=h}}this.picker.find(">div").hide().filter(".datetimepicker-"+b.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()},reset:function(g){this._setDate(null,"date")}};c.fn.datetimepicker=function(h){var g=Array.apply(null,arguments);g.shift();return this.each(function(){var l=c(this),k=l.data("datetimepicker"),j=typeof h=="object"&&h;if(!k){l.data("datetimepicker",(k=new e(this,c.extend({},c.fn.datetimepicker.defaults,j))))}if(typeof h=="string"&&typeof k[h]=="function"){k[h].apply(k,g)}})};c.fn.datetimepicker.defaults={};c.fn.datetimepicker.Constructor=e;var d=c.fn.datetimepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["am","pm"],suffix:["st","nd","rd","th"],today:"Today"}};var b={modes:[{clsName:"minutes",navFnc:"Hours",navStep:1},{clsName:"hours",navFnc:"Date",navStep:1},{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(g){return(((g%4===0)&&(g%100!==0))||(g%400===0))},getDaysInMonth:function(g,h){return[31,(b.isLeapYear(g)?29:28),31,30,31,30,31,31,30,31,30,31][h]},getDefaultFormat:function(g,h){if(g=="standard"){if(h=="input"){return"yyyy-mm-dd hh:ii"}else{return"yyyy-mm-dd hh:ii:ss"}}else{if(g=="php"){if(h=="input"){return"Y-m-d H:i"}else{return"Y-m-d H:i:s"}}else{throw new Error("Invalid format type.")}}},validParts:function(g){if(g=="standard"){return/hh?|HH?|p|P|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g}else{if(g=="php"){return/[dDjlNwzFmMnStyYaABgGhHis]/g}else{throw new Error("Invalid format type.")}}},nonpunctuation:/[^ -\/:-@\[-`{-~\t\n\rTZ]+/g,parseFormat:function(k,h){var g=k.replace(this.validParts(h),"\0").split("\0"),j=k.match(this.validParts(h));if(!g||!g.length||!j||j.length==0){throw new Error("Invalid date format.")}return{separators:g,parts:j}},parseDate:function(l,u,o,r){if(l instanceof Date){var w=new Date(l.valueOf()-l.getTimezoneOffset()*60000);w.setMilliseconds(0);return w}if(/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(l)){u=this.parseFormat("yyyy-mm-dd",r)}if(/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(l)){u=this.parseFormat("yyyy-mm-dd hh:ii",r)}if(/^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(l)){u=this.parseFormat("yyyy-mm-dd hh:ii:ss",r)}if(/^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(l)){var x=/([-+]\d+)([dmwy])/,m=l.match(/([-+]\d+)([dmwy])/g),g,k;l=new Date();for(var n=0;n<m.length;n++){g=x.exec(m[n]);k=parseInt(g[1]);switch(g[2]){case"d":l.setUTCDate(l.getUTCDate()+k);break;case"m":l=e.prototype.moveMonth.call(e.prototype,l,k);break;case"w":l.setUTCDate(l.getUTCDate()+k*7);break;case"y":l=e.prototype.moveYear.call(e.prototype,l,k);break}}return f(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate(),l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),0)}var m=l&&l.match(this.nonpunctuation)||[],l=new Date(0,0,0,0,0,0,0),q={},t=["hh","h","ii","i","ss","s","yyyy","yy","M","MM","m","mm","D","DD","d","dd","H","HH","p","P"],v={hh:function(z,s){return z.setUTCHours(s)},h:function(z,s){return z.setUTCHours(s)},HH:function(z,s){return z.setUTCHours(s==12?0:s)},H:function(z,s){return z.setUTCHours(s==12?0:s)},ii:function(z,s){return z.setUTCMinutes(s)},i:function(z,s){return z.setUTCMinutes(s)},ss:function(z,s){return z.setUTCSeconds(s)},s:function(z,s){return z.setUTCSeconds(s)},yyyy:function(z,s){return z.setUTCFullYear(s)},yy:function(z,s){return z.setUTCFullYear(2000+s)},m:function(z,s){s-=1;while(s<0){s+=12}s%=12;z.setUTCMonth(s);while(z.getUTCMonth()!=s){z.setUTCDate(z.getUTCDate()-1)}return z},d:function(z,s){return z.setUTCDate(s)},p:function(z,s){return z.setUTCHours(s==1?z.getUTCHours()+12:z.getUTCHours())}},j,p,g;v.M=v.MM=v.mm=v.m;v.dd=v.d;v.P=v.p;l=f(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes(),l.getSeconds());if(m.length==u.parts.length){for(var n=0,h=u.parts.length;n<h;n++){j=parseInt(m[n],10);g=u.parts[n];if(isNaN(j)){switch(g){case"MM":p=c(d[o].months).filter(function(){var s=this.slice(0,m[n].length),z=m[n].slice(0,s.length);return s==z});j=c.inArray(p[0],d[o].months)+1;break;case"M":p=c(d[o].monthsShort).filter(function(){var s=this.slice(0,m[n].length),z=m[n].slice(0,s.length);return s==z});j=c.inArray(p[0],d[o].monthsShort)+1;break;case"p":case"P":j=c.inArray(m[n].toLowerCase(),d[o].meridiem);break}}q[g]=j}for(var n=0,y;n<t.length;n++){y=t[n];if(y in q&&!isNaN(q[y])){v[y](l,q[y])}}}return l},formatDate:function(g,m,o,k){if(g==null){return""}var n;if(k=="standard"){n={yy:g.getUTCFullYear().toString().substring(2),yyyy:g.getUTCFullYear(),m:g.getUTCMonth()+1,M:d[o].monthsShort[g.getUTCMonth()],MM:d[o].months[g.getUTCMonth()],d:g.getUTCDate(),D:d[o].daysShort[g.getUTCDay()],DD:d[o].days[g.getUTCDay()],p:(d[o].meridiem.length==2?d[o].meridiem[g.getUTCHours()<12?0:1]:""),h:g.getUTCHours(),i:g.getUTCMinutes(),s:g.getUTCSeconds()};n.H=(n.h%12==0?12:n.h%12);n.HH=(n.H<10?"0":"")+n.H;n.P=n.p.toUpperCase();n.hh=(n.h<10?"0":"")+n.h;n.ii=(n.i<10?"0":"")+n.i;n.ss=(n.s<10?"0":"")+n.s;n.dd=(n.d<10?"0":"")+n.d;n.mm=(n.m<10?"0":"")+n.m}else{if(k=="php"){n={y:g.getUTCFullYear().toString().substring(2),Y:g.getUTCFullYear(),F:d[o].months[g.getUTCMonth()],M:d[o].monthsShort[g.getUTCMonth()],n:g.getUTCMonth()+1,t:b.getDaysInMonth(g.getUTCFullYear(),g.getUTCMonth()),j:g.getUTCDate(),l:d[o].days[g.getUTCDay()],D:d[o].daysShort[g.getUTCDay()],w:g.getUTCDay(),N:(g.getUTCDay()==0?7:g.getUTCDay()),S:(g.getUTCDate()%10<=d[o].suffix.length?d[o].suffix[g.getUTCDate()%10-1]:""),a:(d[o].meridiem.length==2?d[o].meridiem[g.getUTCHours()<12?0:1]:""),g:(g.getUTCHours()%12==0?12:g.getUTCHours()%12),G:g.getUTCHours(),i:g.getUTCMinutes(),s:g.getUTCSeconds()};n.m=(n.n<10?"0":"")+n.n;n.d=(n.j<10?"0":"")+n.j;n.A=n.a.toString().toUpperCase();n.h=(n.g<10?"0":"")+n.g;n.H=(n.G<10?"0":"")+n.G;n.i=(n.i<10?"0":"")+n.i;n.s=(n.s<10?"0":"")+n.s}else{throw new Error("Invalid format type.")}}var g=[],l=c.extend([],m.separators);for(var j=0,h=m.parts.length;j<h;j++){if(l.length){g.push(l.shift())}g.push(n[m.parts[j]])}return g.join("")},convertViewMode:function(g){switch(g){case 4:case"decade":g=4;break;case 3:case"year":g=3;break;case 2:case"month":g=2;break;case 1:case"day":g=1;break;case 0:case"hour":g=0;break}return g},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>'};b.template='<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">'+b.headTemplate+b.contTemplate+b.footTemplate+'</table></div><div class="datetimepicker-hours"><table class=" table-condensed">'+b.headTemplate+b.contTemplate+b.footTemplate+'</table></div><div class="datetimepicker-days"><table class=" table-condensed">'+b.headTemplate+"<tbody></tbody>"+b.footTemplate+'</table></div><div class="datetimepicker-months"><table class="table-condensed">'+b.headTemplate+b.contTemplate+b.footTemplate+'</table></div><div class="datetimepicker-years"><table class="table-condensed">'+b.headTemplate+b.contTemplate+b.footTemplate+"</table></div></div>";c.fn.datetimepicker.DPGlobal=b}(window.jQuery);(function(F,ar){function r(m){F.extend(true,f,m)}function e(bw,bv,bs){function bt(bx){if(aZ){bd();bj();aL();aP(bx)}else{br()}}function br(){a1=bv.theme?"ui":"fc";bw.addClass("fc");bv.isRTL&&bw.addClass("fc-rtl");bv.theme&&bw.addClass("ui-widget");aZ=F("<div class='fc-content' style='position:relative'/>").prependTo(bw);a0=new az(ac,bv);(aR=a0.render())&&bw.prepend(aR);ba(bv.defaultView);F(window).resize(bc);bf()||bq()}function bq(){setTimeout(function(){!bm.start&&bf()&&aP()},0)}function bn(){F(window).unbind("resize",bc);a0.destroy();aZ.remove();bw.removeClass("fc fc-rtl ui-widget")}function bo(){return bp.offsetWidth!==0}function bf(){return F("body")[0].offsetWidth!==0}function ba(bx){if(!bm||bx!=bm.name){aY++;a4();var bz=bm,by;if(bz){(bz.beforeHide||b)();aA(aZ,aZ.height());bz.element.hide()}else{aA(aZ,1)}aZ.css("overflow","hidden");if(bm=N[bx]){bm.element.show()}else{bm=N[bx]=new M[bx](by=bg=F("<div class='fc-view fc-view-"+bx+"' style='position:absolute'/>").appendTo(aZ),ac)}bz&&a0.deactivateButton(bz.name);a0.activateButton(bx);aP();aZ.css("overflow","");bz&&aA(aZ,1);by||(bm.afterShow||b)();aY--}}function aP(bx){if(bo()){aY++;a4();bl===ar&&bd();var by=false;if(!bm.start||bx||bh<bm.start||bh>=bm.end){bm.render(bh,bx||0);a8(true);by=true}else{if(bm.sizeDirty){bm.clearEvents();a8();by=true}else{if(bm.eventsDirty){bm.clearEvents();by=true}}}bm.sizeDirty=false;bm.eventsDirty=false;a3(by);aK=bw.outerWidth();a0.updateTitle(bm.title);bx=new Date;bx>=bm.start&&bx<bm.end?a0.disableButton("today"):a0.enableButton("today");aY--;bm.trigger("viewDisplay",bp)}}function aQ(){bj();if(bo()){bd();a8();a4();bm.clearEvents();bm.renderEvents(aV);bm.sizeDirty=false}}function bj(){F.each(N,function(bx,by){by.sizeDirty=true})}function bd(){bl=bv.contentHeight?bv.contentHeight:bv.height?bv.height-(aR?aR.height():0)-d(aZ):Math.round(aZ.width()/Math.max(bv.aspectRatio,0.5))}function a8(bx){aY++;bm.setHeight(bl,bx);if(bg){bg.css("position","relative");bg=null}bm.setWidth(aZ.width(),bx);aY--}function bc(){if(!aY){if(bm.start){var bx=++bb;setTimeout(function(){if(bx==bb&&!aY&&bo()){if(aK!=(aK=bw.outerWidth())){aY++;aQ();bm.trigger("windowResize",bp);aY--}}},200)}else{bq()}}}function a3(bx){if(!bv.lazyFetching||a6(bm.visStart,bm.visEnd)){be()}else{bx&&a2()}}function be(){aU(bm.visStart,bm.visEnd)}function a5(bx){aV=bx;a2()}function m(bx){a2(bx)}function a2(bx){aL();if(bo()){bm.clearEvents();bm.renderEvents(aV,bx);bm.eventsDirty=false}}function aL(){F.each(N,function(bx,by){by.eventsDirty=true})}function bi(bx,bz,by){bm.select(bx,bz,by===ar?true:by)}function a4(){bm&&bm.unselect()}function aN(){aP(-1)}function a7(){aP(1)}function ab(){am(bh,-1);aP()}function aM(){am(bh,1);aP()}function aX(){bh=new Date;aP()}function bk(bx,bz,by){if(bx instanceof Date){bh=T(bx)}else{ax(bh,bx,bz,by)}aP()}function aT(bx,bz,by){bx!==ar&&am(bh,bx);bz!==ar&&V(bh,bz);by!==ar&&S(bh,by);aP()}function bu(){return T(bh)}function a9(){return bm}function aW(bx,by){if(by===ar){return bv[bx]}if(bx=="height"||bx=="contentHeight"||bx=="aspectRatio"){bv[bx]=by;aQ()}}function aO(bx,by){if(bv[bx]){return bv[bx].apply(by||bp,Array.prototype.slice.call(arguments,2))}}var ac=this;ac.options=bv;ac.render=bt;ac.destroy=bn;ac.refetchEvents=be;ac.reportEvents=a5;ac.reportEventChange=m;ac.rerenderEvents=a2;ac.changeView=ba;ac.select=bi;ac.unselect=a4;ac.prev=aN;ac.next=a7;ac.prevYear=ab;ac.nextYear=aM;ac.today=aX;ac.gotoDate=bk;ac.incrementDate=aT;ac.formatDate=function(bx,by){return ag(bx,by,bv)};ac.formatDates=function(bx,bz,by){return H(bx,bz,by,bv)};ac.getDate=bu;ac.getView=a9;ac.option=aW;ac.trigger=aO;ad.call(ac,bv,bs);var a6=ac.isFetchNeeded,aU=ac.fetchEvents,bp=bw[0],a0,aR,aZ,a1,bm,N={},aK,bl,bg,bb=0,aY=0,bh=new Date,aV=[],aS;ax(bh,bv.year,bv.month,bv.date);bv.droppable&&F(document).bind("dragstart",function(by,bB){var bA=by.target,bz=F(bA);if(!bz.parents(".fc").length){var bx=bv.dropAccept;if(F.isFunction(bx)?bx.call(bA,bz):bz.is(bx)){aS=bA;bm.dragStart(aS,by,bB)}}}).bind("dragstop",function(bx,by){if(aS){bm.dragStop(aS,bx,by);aS=null}})}function az(aR,aQ){function aN(){m=aQ.theme?"ui":"fc";if(aQ.header){return aK=F("<table class='fc-header' style='width:100%'/>").append(F("<tr/>").append(aM("left")).append(aM("center")).append(aM("right")))}}function aO(){aK.remove()}function aM(aT){var aU=F("<td class='fc-header-"+aT+"'/>");(aT=aQ.header[aT])&&F.each(aT.split(" "),function(aV){aV>0&&aU.append("<span class='fc-header-space'/>");var aW;F.each(this.split(","),function(a1,aY){if(aY=="title"){aU.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");aW&&aW.addClass(m+"-corner-right");aW=null}else{var aX;if(aR[aY]){aX=aR[aY]}else{if(M[aY]){aX=function(){aZ.removeClass(m+"-state-hover");aR.changeView(aY)}}}if(aX){a1=aQ.theme?v(aQ.buttonIcons,aY):null;var a0=v(aQ.buttonText,aY),aZ=F("<span class='fc-button fc-button-"+aY+" "+m+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(a1?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+a1+"'/></span>":a0)+"</span><span class='fc-button-effect'><span></span></span></span></span>");if(aZ){aZ.click(function(){aZ.hasClass(m+"-state-disabled")||aX()}).mousedown(function(){aZ.not("."+m+"-state-active").not("."+m+"-state-disabled").addClass(m+"-state-down")}).mouseup(function(){aZ.removeClass(m+"-state-down")}).hover(function(){aZ.not("."+m+"-state-active").not("."+m+"-state-disabled").addClass(m+"-state-hover")},function(){aZ.removeClass(m+"-state-hover").removeClass(m+"-state-down")}).appendTo(aU);aW||aZ.addClass(m+"-corner-left");aW=aZ}}}});aW&&aW.addClass(m+"-corner-right")});return aU}function aL(aT){aK.find("h2").html(aT)}function N(aT){aK.find("span.fc-button-"+aT).addClass(m+"-state-active")}function ac(aT){aK.find("span.fc-button-"+aT).removeClass(m+"-state-active")}function aS(aT){aK.find("span.fc-button-"+aT).addClass(m+"-state-disabled")}function aP(aT){aK.find("span.fc-button-"+aT).removeClass(m+"-state-disabled")}var ab=this;ab.render=aN;ab.destroy=aO;ab.updateTitle=aL;ab.activateButton=N;ab.deactivateButton=ac;ab.disableButton=aS;ab.enableButton=aP;var aK=F([]),m}function ad(a8,a7){function a5(bc,bb){return !aW||bc<aW||bb>aM}function a6(bd,bc){aW=bd;aM=bc;aN=[];bd=++aP;aR=bc=ab.length;for(var bb=0;bb<bc;bb++){a4(ab[bb],bd)}}function a4(bc,bb){a3(bc,function(be){if(bb==aP){if(be){for(var bd=0;bd<be.length;bd++){be[bd].source=bc;aZ(be[bd])}aN=aN.concat(be)}aR--;aR||a2(aN)}})}function a3(bi,bg){var bf,bd=aD.sourceFetchers,bh;for(bf=0;bf<bd.length;bf++){bh=bd[bf](bi,aW,aM,bg);if(bh===true){return}else{if(typeof bh=="object"){a3(bh,bg);return}}}if(bf=bi.events){if(F.isFunction(bf)){aS();bf(T(aW),T(aM),function(bj){bg(bj);aX()})}else{F.isArray(bf)?bg(bf):bg()}}else{if(bi.url){var bc=bi.success,bb=bi.error,be=bi.complete;bf=F.extend({},bi.data||{});bd=ay(bi.startParam,a8.startParam);bh=ay(bi.endParam,a8.endParam);if(bd){bf[bd]=Math.round(+aW/1000)}if(bh){bf[bh]=Math.round(+aM/1000)}aS();F.ajax(F.extend({},aj,bi,{data:bf,success:function(bk){bk=bk||[];var bj=ae(bc,this,arguments);if(F.isArray(bj)){bk=bj}bg(bk)},error:function(){ae(bb,this,arguments);bg()},complete:function(){ae(be,this,arguments);aX()}}))}else{bg()}}}function aY(bb){if(bb=a1(bb)){aR++;a4(bb,aP)}}function a1(bb){if(F.isFunction(bb)||F.isArray(bb)){bb={events:bb}}else{if(typeof bb=="string"){bb={url:bb}}}if(typeof bb=="object"){ba(bb);ab.push(bb);return bb}}function aT(bb){ab=F.grep(ab,function(bc){return !a0(bc,bb)});aN=F.grep(aN,function(bc){return !a0(bc.source,bb)});a2(aN)}function aQ(bh){var bf,be=aN.length,bd,bg=aO().defaultEventEnd,bc=bh.start-bh._start,bb=bh.end?bh.end-(bh._end||bg(bh)):0;for(bf=0;bf<be;bf++){bd=aN[bf];if(bd._id==bh._id&&bd!=bh){bd.start=new Date(+bd.start+bc);bd.end=bh.end?bd.end?new Date(+bd.end+bb):new Date(+bg(bd)+bb):null;bd.title=bh.title;bd.url=bh.url;bd.allDay=bh.allDay;bd.className=bh.className;bd.editable=bh.editable;bd.color=bh.color;bd.backgroudColor=bh.backgroudColor;bd.borderColor=bh.borderColor;bd.textColor=bh.textColor;aZ(bd)}}aZ(bh);a2(aN)}function ac(bc,bb){aZ(bc);if(!bc.source){if(bb){m.events.push(bc);bc.source=m}aN.push(bc)}a2(aN)}function aK(bd){if(bd){if(!F.isFunction(bd)){var bc=bd+"";bd=function(be){return be._id==bc}}aN=F.grep(aN,bd,true);for(bb=0;bb<ab.length;bb++){if(F.isArray(ab[bb].events)){ab[bb].events=F.grep(ab[bb].events,bd,true)}}}else{aN=[];for(var bb=0;bb<ab.length;bb++){if(F.isArray(ab[bb].events)){ab[bb].events=[]}}}a2(aN)}function aU(bb){if(F.isFunction(bb)){return F.grep(aN,bb)}else{if(bb){bb+="";return F.grep(aN,function(bc){return bc._id==bb})}}return aN}function aS(){aV++||a9("loading",null,true)}function aX(){--aV||a9("loading",null,false)}function aZ(bd){var bc=bd.source||{},bb=ay(bc.ignoreTimezone,a8.ignoreTimezone);bd._id=bd._id||(bd.id===ar?"_fc"+R++:bd.id+"");if(bd.date){if(!bd.start){bd.start=bd.date}delete bd.date}bd._start=T(bd.start=j(bd.start,bb));bd.end=j(bd.end,bb);if(bd.end&&bd.end<=bd.start){bd.end=null}bd._end=bd.end?T(bd.end):null;if(bd.allDay===ar){bd.allDay=ay(bc.allDayDefault,a8.allDayDefault)}if(bd.className){if(typeof bd.className=="string"){bd.className=bd.className.split(/\s+/)}}else{bd.className=[]}}function ba(bd){if(bd.className){if(typeof bd.className=="string"){bd.className=bd.className.split(/\s+/)}}else{bd.className=[]}for(var bc=aD.sourceNormalizers,bb=0;bb<bc.length;bb++){bc[bb](bd)}}function a0(bc,bb){return bc&&bb&&N(bc)==N(bb)}function N(bb){return(typeof bb=="object"?bb.events||bb.url:"")||bb}var aL=this;aL.isFetchNeeded=a5;aL.fetchEvents=a6;aL.addEventSource=aY;aL.removeEventSource=aT;aL.updateEvent=aQ;aL.renderEvent=ac;aL.removeEvents=aK;aL.clientEvents=aU;aL.normalizeEvent=aZ;var a9=aL.trigger,aO=aL.getView,a2=aL.reportEvents,m={events:[]},ab=[m],aW,aM,aP=0,aR=0,aV=0,aN=[];for(aL=0;aL<a7.length;aL++){a1(a7[aL])}}function am(N,m,ab){N.setFullYear(N.getFullYear()+m);ab||A(N);return N}function V(N,m,ab){if(+N){m=N.getMonth()+m;var ac=T(N);ac.setDate(1);ac.setMonth(m);N.setMonth(m);for(ab||A(N);N.getMonth()!=ac.getMonth();){N.setDate(N.getDate()+(N<ac?1:-1))}}return N}function S(N,m,ab){if(+N){m=N.getDate()+m;var ac=T(N);ac.setHours(9);ac.setDate(m);N.setDate(m);ab||A(N);aF(N,ac)}return N}function aF(N,m){if(+N){for(;N.getDate()!=m.getDate();){N.setTime(+N+(N<m?1:-1)*E)}}}function c(N,m){N.setMinutes(N.getMinutes()+m);return N}function A(m){m.setHours(0);m.setMinutes(0);m.setSeconds(0);m.setMilliseconds(0);return m}function T(N,m){if(m){return A(new Date(+N))}return new Date(+N)}function ah(){var N=0,m;do{m=new Date(1970,N++,1)}while(m.getHours());return m}function l(N,m,ab){for(m=m||1;!N.getDay()||ab&&N.getDay()==1||!ab&&N.getDay()==6;){S(N,m)}return N}function X(N,m){return Math.round((T(N,true)-T(m,true))/aC)}function ax(N,m,ab,ac){if(m!==ar&&m!=N.getFullYear()){N.setDate(1);N.setMonth(0);N.setFullYear(m)}if(ab!==ar&&ab!=N.getMonth()){N.setDate(1);N.setMonth(ab)}ac!==ar&&N.setDate(ac)}function j(N,m){if(typeof N=="object"){return N}if(typeof N=="number"){return new Date(N*1000)}if(typeof N=="string"){if(N.match(/^\d+(\.\d+)?$/)){return new Date(parseFloat(N)*1000)}if(m===ar){m=true}return an(N,m)||(N?new Date(N):null)}return null}function an(N,m){N=N.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!N){return null}var ab=new Date(N[1],0,1);if(m||!N[13]){m=new Date(N[1],0,1,9,0);if(N[3]){ab.setMonth(N[3]-1);m.setMonth(N[3]-1)}if(N[5]){ab.setDate(N[5]);m.setDate(N[5])}aF(ab,m);N[7]&&ab.setHours(N[7]);N[8]&&ab.setMinutes(N[8]);N[10]&&ab.setSeconds(N[10]);N[12]&&ab.setMilliseconds(Number("0."+N[12])*1000);aF(ab,m)}else{ab.setUTCFullYear(N[1],N[3]?N[3]-1:0,N[5]||1);ab.setUTCHours(N[7]||0,N[8]||0,N[10]||0,N[12]?Number("0."+N[12])*1000:0);if(N[14]){m=Number(N[16])*60+(N[18]?Number(N[18]):0);m*=N[15]=="-"?1:-1;ab=new Date(+ab+m*60*1000)}}return ab}function ap(N){if(typeof N=="number"){return N*60}if(typeof N=="object"){return N.getHours()*60+N.getMinutes()}if(N=N.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var m=parseInt(N[1],10);if(N[3]){m%=12;if(N[3].toLowerCase().charAt(0)=="p"){m+=12}}return m*60+(N[2]?parseInt(N[2],10):0)}}function ag(N,m,ab){return H(N,null,m,ab)}function H(aQ,aP,aM,aN){aN=aN||f;var aL=aQ,aK=aP,m,ab=aM.length,aR,aO,N,ac="";for(m=0;m<ab;m++){aR=aM.charAt(m);if(aR=="'"){for(aO=m+1;aO<ab;aO++){if(aM.charAt(aO)=="'"){if(aL){ac+=aO==m+1?"'":aM.substring(m+1,aO);m=aO}break}}}else{if(aR=="("){for(aO=m+1;aO<ab;aO++){if(aM.charAt(aO)==")"){m=ag(aL,aM.substring(m+1,aO),aN);if(parseInt(m.replace(/\D/,""),10)){ac+=m}m=aO;break}}}else{if(aR=="["){for(aO=m+1;aO<ab;aO++){if(aM.charAt(aO)=="]"){aR=aM.substring(m+1,aO);m=ag(aL,aR,aN);if(m!=ag(aK,aR,aN)){ac+=m}m=aO;break}}}else{if(aR=="{"){aL=aP;aK=aQ}else{if(aR=="}"){aL=aQ;aK=aP}else{for(aO=ab;aO>m;aO--){if(N=t[aM.substring(m,aO)]){if(aL){ac+=N(aL,aN)}m=aO-1;break}}if(aO==m){if(aL){ac+=aR}}}}}}}}return ac}function ai(m){return m.end?g(m.end,m.allDay):S(T(m.start),1)}function g(N,m){N=T(N);return m||N.getHours()||N.getMinutes()?S(N,1):A(N)}function aB(N,m){return(m.msLength-N.msLength)*100+(N.event.start-m.event.start)}function W(N,m){return N.end>m.start&&N.start<m.end}function Z(aQ,aP,aM,aN){var aL=[],aK,m=aQ.length,ab,aR,aO,N,ac;for(aK=0;aK<m;aK++){ab=aQ[aK];aR=ab.start;aO=aP[aK];if(aO>aM&&aR<aN){if(aR<aM){aR=T(aM);N=false}else{aR=aR;N=true}if(aO>aN){aO=T(aN);ac=false}else{aO=aO;ac=true}aL.push({event:ab,start:aR,end:aO,isStart:N,isEnd:ac,msLength:aO-aR})}}return aL.sort(aB)}function K(ab){var m=[],aM,aN=ab.length,aL,aK,N,ac;for(aM=0;aM<aN;aM++){aL=ab[aM];for(aK=0;;){N=false;if(m[aK]){for(ac=0;ac<m[aK].length;ac++){if(W(m[aK][ac],aL)){N=true;break}}}if(N){aK++}else{break}}if(m[aK]){m[aK].push(aL)}else{m[aK]=[aL]}}return m}function I(N,m,ab){N.unbind("mouseover").mouseover(function(aL){for(var aK=aL.target,ac;aK!=this;){ac=aK;aK=aK.parentNode}if((aK=ac._fci)!==ar){ac._fci=ar;ac=m[aK];ab(ac.event,ac.element,ac);F(aL.target).trigger(aL)}aL.stopPropagation()})}function Q(N,m,ac){for(var aK=0,ab;aK<N.length;aK++){ab=F(N[aK]);ab.width(Math.max(0,m-y(ab,ac)))}}function w(N,m,ac){for(var aK=0,ab;aK<N.length;aK++){ab=F(N[aK]);ab.height(Math.max(0,m-d(ab,ac)))}}function y(N,m){return al(N)+U(N)+(m?G(N):0)}function al(m){return(parseFloat(F.css(m[0],"paddingLeft",true))||0)+(parseFloat(F.css(m[0],"paddingRight",true))||0)}function G(m){return(parseFloat(F.css(m[0],"marginLeft",true))||0)+(parseFloat(F.css(m[0],"marginRight",true))||0)}function U(m){return(parseFloat(F.css(m[0],"borderLeftWidth",true))||0)+(parseFloat(F.css(m[0],"borderRightWidth",true))||0)}function d(N,m){return u(N)+h(N)+(m?k(N):0)}function u(m){return(parseFloat(F.css(m[0],"paddingTop",true))||0)+(parseFloat(F.css(m[0],"paddingBottom",true))||0)}function k(m){return(parseFloat(F.css(m[0],"marginTop",true))||0)+(parseFloat(F.css(m[0],"marginBottom",true))||0)}function h(m){return(parseFloat(F.css(m[0],"borderTopWidth",true))||0)+(parseFloat(F.css(m[0],"borderBottomWidth",true))||0)}function aA(N,m){m=typeof m=="number"?m+"px":m;N.each(function(ab,ac){ac.style.cssText+=";min-height:"+m+";_height:"+m})}function b(){}function aG(N,m){return N-m}function aq(m){return Math.max.apply(Math,m)}function P(m){return(m<10?"0":"")+m}function v(N,m){if(N[m]!==ar){return N[m]}m=m.split(/(?=[A-Z])/);for(var ab=m.length-1,ac;ab>=0;ab--){ac=N[m[ab].toLowerCase()];if(ac!==ar){return ac}}return N[""]}function D(m){return m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function aa(m){return m.id+"/"+m.className+"/"+m.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function o(m){m.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function ak(m){m.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function aI(N,m){N.each(function(ab,ac){ac.className=ac.className.replace(/^fc-\w*/,"fc-"+aE[m.getDay()])})}function L(ab,m){var aL=ab.source||{},aM=ab.color,aK=aL.color,ac=m("eventColor"),N=ab.backgroundColor||aM||aL.backgroundColor||aK||m("eventBackgroundColor")||ac;aM=ab.borderColor||aM||aL.borderColor||aK||m("eventBorderColor")||ac;ab=ab.textColor||aL.textColor||m("eventTextColor");m=[];N&&m.push("background-color:"+N);aM&&m.push("border-color:"+aM);ab&&m.push("color:"+ab);return m.join(";")}function ae(N,m,ac){if(F.isFunction(N)){N=[N]}if(N){var aK,ab;for(aK=0;aK<N.length;aK++){ab=N[aK].apply(m,ac)||ab}return ab}}function ay(){for(var m=0;m<arguments.length;m++){if(arguments[m]!==ar){return arguments[m]}}}function ao(ab,m){function aL(aN,aP){if(aP){V(aN,aP);aN.setDate(1)}aN=T(aN,true);aN.setDate(1);aP=V(T(aN),1);var aS=T(aN),aO=T(aP),aQ=aK("firstDay"),aR=aK("weekends")?0:1;if(aR){l(aS);l(aO,-1,true)}S(aS,-((aS.getDay()-Math.max(aQ,aR)+7)%7));S(aO,(7-aO.getDay()+Math.max(aQ,aR))%7);aQ=Math.round((aO-aS)/(aC*7));if(aK("weekMode")=="fixed"){S(aO,(6-aQ)*7);aQ=6}aM.title=N(aN,aK("titleFormat"));aM.start=aN;aM.end=aP;aM.visStart=aS;aM.visEnd=aO;ac(6,aQ,aR?5:7,true)}var aM=this;aM.render=aL;au.call(aM,ab,m,"month");var aK=aM.opt,ac=aM.renderBasic,N=m.formatDate}function Y(ab,m){function aL(aN,aP){aP&&S(aN,aP*7);aN=S(T(aN),-((aN.getDay()-aK("firstDay")+7)%7));aP=S(T(aN),7);var aR=T(aN),aO=T(aP),aQ=aK("weekends");if(!aQ){l(aR);l(aO,-1,true)}aM.title=N(aR,S(T(aO),-1),aK("titleFormat"));aM.start=aN;aM.end=aP;aM.visStart=aR;aM.visEnd=aO;ac(1,1,aQ?7:5,false)}var aM=this;aM.render=aL;au.call(aM,ab,m,"basicWeek");var aK=aM.opt,ac=aM.renderBasic,N=m.formatDates}function J(ab,m){function aL(aN,aO){if(aO){S(aN,aO);aK("weekends")||l(aN,aO<0?-1:1)}aM.title=N(aN,aK("titleFormat"));aM.start=aM.visStart=T(aN,true);aM.end=aM.visEnd=S(T(aM.start),1);ac(1,1,1,false)}var aM=this;aM.render=aL;au.call(aM,ab,m,"basicDay");var aK=aM.opt,ac=aM.renderBasic,N=m.formatDate}function au(bD,bC,bz){function bA(bF,bG,bH,bE){bh=bG;aZ=bH;by();(bG=!a2)?bx(bF,bE):be();bt(bG)}function by(){if(bu=aU("isRTL")){a1=-1;N=aZ-1}else{a1=1;N=0}a6=aU("firstDay");bd=aU("weekends")?0:1;bg=aU("theme")?"ui":"fc";ba=aU("columnFormat")}function bx(bF,bG){var bI,bE=bg+"-widget-header",bH=bg+"-widget-content",bJ;bI="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(bJ=0;bJ<aZ;bJ++){bI+="<th class='fc- "+bE+"'/>"}bI+="</tr></thead><tbody>";for(bJ=0;bJ<bF;bJ++){bI+="<tr class='fc-week"+bJ+"'>";for(bE=0;bE<aZ;bE++){bI+="<td class='fc- "+bH+" fc-day"+(bJ*aZ+bE)+"'><div>"+(bG?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}bI+="</tr>"}bI+="</tbody></table>";bF=F(bI).appendTo(bD);aV=bF.find("thead");bw=aV.find("th");a2=bF.find("tbody");aS=a2.find("tr");a0=a2.find("td");a3=a0.filter(":first-child");bs=aS.eq(0).find("div.fc-day-content div");ak(aV.add(aV.find("tr")));ak(aS);aS.eq(0).addClass("fc-first");bf(a0);ab=F("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(bD)}function bt(bF){var bG=bF||bh==1,bI=bq.start.getMonth(),bE=A(new Date),bH,bK,bJ;bG&&bw.each(function(bM,bL){bH=F(bL);bK=bb(bM);bH.html(a9(bK,ba));aI(bH,bK)});a0.each(function(bM,bL){bH=F(bL);bK=bb(bM);bK.getMonth()==bI?bH.removeClass("fc-other-month"):bH.addClass("fc-other-month");+bK==+bE?bH.addClass(bg+"-state-highlight fc-today"):bH.removeClass(bg+"-state-highlight fc-today");bH.find("div.fc-day-number").text(bK.getDate());bG&&aI(bH,bK)});aS.each(function(bM,bL){bJ=F(bL);if(bM<bh){bJ.show();bM==bh-1?bJ.addClass("fc-last"):bJ.removeClass("fc-last")}else{bJ.hide()}})}function bv(bF){br=bF;bF=br-aV.height();var bG,bH,bE;if(aU("weekMode")=="variable"){bG=bH=Math.floor(bF/(bh==1?2:6))}else{bG=Math.floor(bF/bh);bH=bF-bG*(bh-1)}a3.each(function(bI,bJ){if(bI<bh){bE=F(bJ);aA(bE.find("> div"),(bI==bh-1?bH:bG)-d(bE))}})}function bl(bE){aL=bE;aT.clear();bm=Math.floor(aL/aZ);Q(bw.slice(0,-1),bm)}function bf(bE){bE.click(aQ).mousedown(aK)}function aQ(bE){if(!aU("selectable")){var bF=parseInt(this.className.match(/fc\-day(\d+)/)[1]);bF=bb(bF);bB("dayClick",this,bF,true,bE)}}function aR(bF,bG,bI){bI&&bn.build();bI=T(bq.visStart);for(var bE=S(T(bI),aZ),bH=0;bH<bh;bH++){var bL=new Date(Math.max(bI,bF)),bJ=new Date(Math.min(bE,bG));if(bL<bJ){var bK;if(bu){bK=X(bJ,bI)*a1+N+1;bL=X(bL,bI)*a1+N+1}else{bK=X(bL,bI);bL=X(bJ,bI)}bf(bp(bH,bK,bH,bL-1))}S(bI,7);S(bE,7)}}function bp(bF,bG,bH,bE){bF=bn.rect(bF,bG,bH,bE,bD);return aX(bF,bD)}function bj(bE){return T(bE)}function bc(bE,bF){aR(bE,S(T(bF),1),true)}function bi(){aP()}function a5(bF,bG,bH){var bE=bo(bF);bB("dayClick",a0[bE.row*aZ+bE.col],bF,bG,bH)}function bk(bE,bF){aW.start(function(bG){aP();bG&&bp(bG.row,bG.col,bG.row,bG.col)},bF)}function a8(bF,bG,bH){var bE=aW.stop();aP();if(bE){bE=a7(bE);bB("drop",bF,bE,true,bG,bH)}}function m(bE){return T(bE.start)}function a4(bE){return aT.left(bE)}function aM(bE){return aT.right(bE)}function bo(bE){return{row:Math.floor(X(bE,bq.visStart)/7),col:ac(bE.getDay())}}function a7(bE){return aO(bE.row,bE.col)}function aO(bE,bF){return S(T(bq.visStart),bE*7+bF*a1+N)}function bb(bE){return aO(Math.floor(bE/aZ),bE%aZ)}function ac(bE){return(bE-Math.max(a6,bd)+aZ)%aZ*a1+N}function aN(bE){return aS.eq(bE)}function aY(){return{left:0,right:aL}}var bq=this;bq.renderBasic=bA;bq.setHeight=bv;bq.setWidth=bl;bq.renderDayOverlay=aR;bq.defaultSelectionEnd=bj;bq.renderSelection=bc;bq.clearSelection=bi;bq.reportDayClick=a5;bq.dragStart=bk;bq.dragStop=a8;bq.defaultEventEnd=m;bq.getHoverListener=function(){return aW};bq.colContentLeft=a4;bq.colContentRight=aM;bq.dayOfWeekCol=ac;bq.dateCell=bo;bq.cellDate=a7;bq.cellIsAllDay=function(){return true};bq.allDayRow=aN;bq.allDayBounds=aY;bq.getRowCnt=function(){return bh};bq.getColCnt=function(){return aZ};bq.getColWidth=function(){return bm};bq.getDaySegmentContainer=function(){return ab};z.call(bq,bD,bC,bz);p.call(bq);aJ.call(bq);x.call(bq);var aU=bq.opt,bB=bq.trigger,be=bq.clearEvents,aX=bq.renderOverlay,aP=bq.clearOverlays,aK=bq.daySelectionMousedown,a9=bC.formatDate,aV,bw,a2,aS,a0,a3,bs,ab,aL,br,bm,bh,aZ,bn,aW,aT,bu,a1,N,a6,bd,bg,ba;o(bD.addClass("fc-grid"));bn=new av(function(bF,bG){var bI,bE,bH;bw.each(function(bK,bJ){bI=F(bJ);bE=bI.offset().left;if(bK){bH[1]=bE}bH=[bE];bG[bK]=bH});bH[1]=bE+bI.outerWidth();aS.each(function(bK,bJ){if(bK<bh){bI=F(bJ);bE=bI.offset().top;if(bK){bH[1]=bE}bH=[bE];bF[bK]=bH}});bH[1]=bE+bI.outerHeight()});aW=new af(bn);aT=new O(function(bE){return bs.eq(bE)})}function x(){function a1(a5,a4){ab(a5);aV(aY(a5),a4)}function a0(){ac();a3().empty()}function aY(a6){var a8=a2(),ba=aL(),a9=T(aW.visStart);ba=S(T(a9),ba);var bf=F.map(a6,ai),a4,bd,bc,bb,be,a7,a5=[];for(a4=0;a4<a8;a4++){bd=K(Z(a6,bf,a9,ba));for(bc=0;bc<bd.length;bc++){bb=bd[bc];for(be=0;be<bb.length;be++){a7=bb[be];a7.row=a4;a7.level=bc;a5.push(a7)}}S(a9,7);S(ba,7)}return a5}function aZ(a5,a4,a6){aO(a5)&&aX(a5,a4);a6.isEnd&&aM(a5)&&m(a5,a4,a6);aP(a5,a4)}function aX(a5,a4){var a6=aT(),a7;a4.draggable({zIndex:9,delay:50,opacity:aR("dragOpacity"),revertDuration:aR("dragRevertDuration"),start:function(a8,a9){aU("eventDragStart",a4,a5,a8,a9);aQ(a5,a4);a6.start(function(ba,bd,bc,bb){a4.draggable("option","revert",!ba||!bc&&!bb);aK();if(ba){a7=bc*7+bb*(aR("isRTL")?-1:1);N(S(T(a5.start),a7),S(ai(a5),a7))}else{a7=0}},a8,"drag")},stop:function(a8,a9){a6.stop();aK();aU("eventDragStop",a4,a5,a8,a9);if(a7){aS(this,a5,a7,0,a5.allDay,a8,a9)}else{a4.css("filter","");aN(a5,a4)}}})}var aW=this;aW.renderEvents=a1;aW.compileDaySegs=aY;aW.clearEvents=a0;aW.bindDaySeg=aZ;C.call(aW);var aR=aW.opt,aU=aW.trigger,aO=aW.isEventDraggable,aM=aW.isEventResizable,ab=aW.reportEvents,ac=aW.reportEventClear,aP=aW.eventElementHandlers,aN=aW.showEvents,aQ=aW.hideEvents,aS=aW.eventDrop,a3=aW.getDaySegmentContainer,aT=aW.getHoverListener,N=aW.renderDayOverlay,aK=aW.clearOverlays,a2=aW.getRowCnt,aL=aW.getColCnt,aV=aW.renderDaySegs,m=aW.resizableDayEvent}function n(ab,m){function aL(aN,aP){aP&&S(aN,aP*7);aN=S(T(aN),-((aN.getDay()-aK("firstDay")+7)%7));aP=S(T(aN),7);var aR=T(aN),aO=T(aP),aQ=aK("weekends");if(!aQ){l(aR);l(aO,-1,true)}aM.title=N(aR,S(T(aO),-1),aK("titleFormat"));aM.start=aN;aM.end=aP;aM.visStart=aR;aM.visEnd=aO;ac(aQ?7:5)}var aM=this;aM.render=aL;s.call(aM,ab,m,"agendaWeek");var aK=aM.opt,ac=aM.renderAgenda,N=m.formatDates}function aH(ab,m){function aL(aN,aO){if(aO){S(aN,aO);aK("weekends")||l(aN,aO<0?-1:1)}aO=T(aN,true);var aP=S(T(aO),1);aM.title=N(aN,aK("titleFormat"));aM.start=aM.visStart=aO;aM.end=aM.visEnd=aP;ac(1)}var aM=this;aM.render=aL;s.call(aM,ab,m,"agendaDay");var aK=aM.opt,ac=aM.renderAgenda,N=m.formatDate}function s(bo,bn,bj){function bk(bb){bX=bb;bi();a0?bD():bh();bc()}function bi(){aY=bf("theme")?"ui":"fc";m=bf("weekends")?0:1;b2=bf("firstDay");if(bU=bf("isRTL")){bY=-1;bP=bX-1}else{bY=1;bP=0}aK=ap(bf("minTime"));bC=ap(bf("maxTime"));br=bf("columnFormat")}function bh(){var cd=aY+"-widget-header",cf=aY+"-widget-content",b9,bb,ca,cb,cc,ce=bf("slotMinutes")%15==0;b9="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+cd+"'>&nbsp;</th>";for(bb=0;bb<bX;bb++){b9+="<th class='fc- fc-col"+bb+" "+cd+"'/>"}b9+="<th class='fc-agenda-gutter "+cd+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+cd+"'>&nbsp;</th>";for(bb=0;bb<bX;bb++){b9+="<td class='fc- fc-col"+bb+" "+cf+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}b9+="<td class='fc-agenda-gutter "+cf+"'>&nbsp;</td></tr></tbody></table>";a0=F(b9).appendTo(bo);bM=a0.find("thead");a4=bM.find("th").slice(1,-1);bH=a0.find("tbody");bE=bH.find("td").slice(0,-1);bd=bE.find("div.fc-day-content div");bQ=bE.eq(0);bs=bQ.find("> div");ak(bM.add(bM.find("tr")));ak(bH.add(bH.find("tr")));bV=bM.find("th:first");aU=a0.find(".fc-agenda-gutter");aR=F("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(bo);if(bf("allDaySlot")){bg=F("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(aR);b9="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+cd+" fc-agenda-axis'>"+bf("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+cd+" fc-agenda-gutter'>&nbsp;</th></tr></table>";b5=F(b9).appendTo(aR);bZ=b5.find("tr");a5(bZ.find("td"));bV=bV.add(b5.find("th:first"));aU=aU.add(b5.find("th.fc-agenda-gutter"));aR.append("<div class='fc-agenda-divider "+cd+"'><div class='fc-agenda-divider-inner'/></div>")}else{bg=F([])}aZ=F("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(aR);bJ=F("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(aZ);bA=F("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(bJ);b9="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";ca=ah();cb=c(T(ca),bC);c(ca,aK);for(bb=bT=0;ca<cb;bb++){cc=ca.getMinutes();b9+="<tr class='fc-slot"+bb+" "+(!cc?"":"fc-minor")+"'><th class='fc-agenda-axis "+cd+"'>"+(!ce||!cc?a3(ca,bf("axisFormat")):"&nbsp;")+"</th><td class='"+cf+"'><div style='position:relative'>&nbsp;</div></td></tr>";c(ca,bf("slotMinutes"));bT++}b9+="</tbody></table>";bw=F(b9).appendTo(bJ);N=bw.find("div:first");a1(bw.find("td"));bV=bV.add(bw.find("th:first"))}function bc(){var cb,cc,b9,bb,ca=A(new Date);for(cb=0;cb<bX;cb++){bb=bq(cb);cc=a4.eq(cb);cc.html(a3(bb,br));b9=bE.eq(cb);+bb==+ca?b9.addClass(aY+"-state-highlight fc-today"):b9.removeClass(aY+"-state-highlight fc-today");aI(cc.add(b9),bb)}}function be(ca,cb){if(ca===ar){ca=aX}aX=ca;bp={};var b9=bH.position().top,bb=aZ.position().top;ca=Math.min(ca-b9,bw.height()+bb+1);bs.height(ca-d(bQ));aR.css("top",b9);aZ.height(ca-bb-1);aO=N.height()+1;cb&&aW()}function a2(bb){b6=bb;a7.clear();b8=0;Q(bV.width("").each(function(ca,b9){b8=Math.max(b8,F(b9).outerWidth())}),b8);bb=aZ[0].clientWidth;if(aT=aZ.width()-bb){Q(aU,aT);aU.show().prev().removeClass("fc-last")}else{aU.hide().prev().addClass("fc-last")}aP=Math.floor((bb-b8)/bX);Q(a4.slice(0,-1),aP)}function aW(){function ca(){aZ.scrollTop(bb)}var cb=ah(),b9=T(cb);b9.setHours(bf("firstHour"));var bb=ba(cb,b9)+1;ca();setTimeout(ca,0)}function bz(){aN=aZ.scrollTop()}function bB(){aZ.scrollTop(aN)}function a5(bb){bb.click(b4).mousedown(bv)}function a1(bb){bb.click(b4).mousedown(bK)}function b4(cb){if(!bf("selectable")){var cc=Math.min(bX-1,Math.floor((cb.pageX-a0.offset().left-b8)/aP)),b9=bq(cc),bb=this.parentNode.className.match(/fc-slot(\d+)/);if(bb){bb=parseInt(bb[1])*bf("slotMinutes");var ca=Math.floor(bb/60);b9.setHours(ca);b9.setMinutes(bb%60+aK);bR("dayClick",bE[cc],b9,false,cb)}else{bR("dayClick",bE[cc],b9,true,cb)}}}function bl(ca,cb,b9){b9&&b1.build();var bb=T(bG.visStart);if(bU){b9=X(cb,bb)*bY+bP+1;ca=X(ca,bb)*bY+bP+1}else{b9=X(ca,bb);ca=X(cb,bb)}b9=Math.max(0,b9);ca=Math.min(bX,ca);b9<ca&&a5(bW(0,b9,0,ca-1))}function bW(ca,cb,b9,bb){ca=b1.rect(ca,cb,b9,bb,aR);return bN(ca,aR)}function b7(cd,cf){for(var b9=T(bG.visStart),bb=S(T(b9),1),ca=0;ca<bX;ca++){var cb=new Date(Math.max(b9,cd)),cc=new Date(Math.min(bb,cf));if(cb<cc){var ce=ca*bY+bP;ce=b1.rect(0,ce,0,ce,bJ);cb=ba(b9,cb);cc=ba(b9,cc);ce.top=cb;ce.height=cc-cb;a1(bN(ce,bJ))}S(b9,1);S(bb,1)}}function b0(bb){return a7.left(bb)}function bI(bb){return a7.right(bb)}function aQ(bb){return{row:Math.floor(X(bb,bG.visStart)/7),col:bx(bb.getDay())}}function bO(bb){var b9=bq(bb.col);bb=bb.row;bf("allDaySlot")&&bb--;bb>=0&&c(b9,aK+bb*bf("slotMinutes"));return b9}function bq(bb){return S(T(bG.visStart),bb*bY+bP)}function aS(bb){return bf("allDaySlot")&&!bb.row}function bx(bb){return(bb-Math.max(b2,m)+bX)%bX*bY+bP}function ba(ca,cb){ca=T(ca,true);if(cb<c(T(ca),aK)){return 0}if(cb>=c(T(ca),bC)){return bw.height()}ca=bf("slotMinutes");cb=cb.getHours()*60+cb.getMinutes()-aK;var b9=Math.floor(cb/ca),bb=bp[b9];if(bb===ar){bb=bp[b9]=bw.find("tr:eq("+b9+") td div")[0].offsetTop}return Math.max(0,Math.round(bb-1+aO*(cb%ca/ca)))}function ab(){return{left:b8,right:b6-aT}}function ac(){return bZ}function bL(bb){var b9=T(bb.start);if(bb.allDay){return b9}return c(b9,bf("defaultEventMinutes"))}function a6(bb,b9){if(b9){return T(bb)}return c(T(bb),bf("slotMinutes"))}function bF(b9,ca,bb){if(bb){bf("allDaySlot")&&bl(b9,S(T(ca),1),true)}else{bm(b9,ca)}}function bm(cc,cd){var b9=bf("selectHelper");b1.build();if(b9){var bb=X(cc,bG.visStart)*bY+bP;if(bb>=0&&bb<bX){bb=b1.rect(0,bb,0,bb,bJ);var ca=ba(cc,cc),cb=ba(cc,cd);if(cb>ca){bb.top=ca;bb.height=cb-ca;bb.left+=2;bb.width-=5;if(F.isFunction(b9)){if(cc=b9(cc,cd)){bb.position="absolute";bb.zIndex=8;aL=F(cc).css(bb).appendTo(bJ)}}else{bb.isStart=true;bb.isEnd=true;aL=F(a8({title:"",start:cc,end:cd,className:["fc-select-helper"],editable:false},bb));aL.css("opacity",bf("dragOpacity"))}if(aL){a1(aL);bJ.append(aL);Q(aL,bb.width,true);w(aL,bb.height,true)}}}}else{b7(cc,cd)}}function aV(){bS();if(aL){aL.remove();aL=null}}function bK(bb){if(bb.which==1&&bf("selectable")){bt(bb);var b9;aM.start(function(cb,ca){aV();if(cb&&cb.col==ca.col&&!aS(cb)){ca=bO(ca);cb=bO(cb);b9=[ca,c(T(ca),bf("slotMinutes")),cb,c(T(cb),bf("slotMinutes"))].sort(aG);bm(b9[0],b9[3])}else{b9=null}},bb);F(document).one("mouseup",function(ca){aM.stop();if(b9){+b9[0]==+b9[1]&&by(b9[0],false,ca);a9(b9[0],b9[3],false,ca)}})}}function by(b9,ca,bb){bR("dayClick",bE[bx(b9.getDay())],b9,ca,bb)}function bu(bb,b9){aM.start(function(cb){bS();if(cb){if(aS(cb)){bW(cb.row,cb.col,cb.row,cb.col)}else{cb=bO(cb);var ca=c(T(cb),bf("defaultEventMinutes"));b7(cb,ca)}}},b9)}function b3(ca,cb,b9){var bb=aM.stop();bS();bb&&bR("drop",ca,bO(bb),aS(bb),cb,b9)}var bG=this;bG.renderAgenda=bk;bG.setWidth=a2;bG.setHeight=be;bG.beforeHide=bz;bG.afterShow=bB;bG.defaultEventEnd=bL;bG.timePosition=ba;bG.dayOfWeekCol=bx;bG.dateCell=aQ;bG.cellDate=bO;bG.cellIsAllDay=aS;bG.allDayRow=ac;bG.allDayBounds=ab;bG.getHoverListener=function(){return aM};bG.colContentLeft=b0;bG.colContentRight=bI;bG.getDaySegmentContainer=function(){return bg};bG.getSlotSegmentContainer=function(){return bA};bG.getMinMinute=function(){return aK};bG.getMaxMinute=function(){return bC};bG.getBodyContent=function(){return bJ};bG.getRowCnt=function(){return 1};bG.getColCnt=function(){return bX};bG.getColWidth=function(){return aP};bG.getSlotHeight=function(){return aO};bG.defaultSelectionEnd=a6;bG.renderDayOverlay=bl;bG.renderSelection=bF;bG.clearSelection=aV;bG.reportDayClick=by;bG.dragStart=bu;bG.dragStop=b3;z.call(bG,bo,bn,bj);p.call(bG);aJ.call(bG);at.call(bG);var bf=bG.opt,bR=bG.trigger,bD=bG.clearEvents,bN=bG.renderOverlay,bS=bG.clearOverlays,a9=bG.reportSelection,bt=bG.unselect,bv=bG.daySelectionMousedown,a8=bG.slotSegHtml,a3=bn.formatDate,a0,bM,a4,bH,bE,bd,bQ,bs,aR,bg,b5,bZ,aZ,bJ,bA,bw,N,bV,aU,aL,b6,aX,b8,aP,aT,aO,aN,bX,bT,b1,aM,a7,bp={},aY,b2,m,bU,bY,bP,aK,bC,br;o(bo.addClass("fc-agenda"));b1=new av(function(ce,cf){function ch(ci){return Math.max(cg,Math.min(cb,ci))}var b9,cd,cc;a4.each(function(cj,ci){b9=F(ci);cd=b9.offset().left;if(cj){cc[1]=cd}cc=[cd];cf[cj]=cc});cc[1]=cd+b9.outerWidth();if(bf("allDaySlot")){b9=bZ;cd=b9.offset().top;ce[0]=[cd,cd+b9.outerHeight()]}for(var bb=bJ.offset().top,cg=aZ.offset().top,cb=cg+aZ.outerHeight(),ca=0;ca<bT;ca++){ce.push([ch(bb+aO*ca),ch(bb+aO*(ca+1))])}});aM=new af(b1);a7=new O(function(bb){return bd.eq(bb)})}function at(){function bp(bv,bs){a2(bv);var br,bu=bv.length,bt=[],bq=[];for(br=0;br<bu;br++){bv[br].allDay?bt.push(bv[br]):bq.push(bv[br])}if(a9("allDaySlot")){aS(bl(bt),bs);aL()}bj(bm(bq),bs)}function bo(){m();bc().empty();a1().empty()}function bl(bv){bv=K(Z(bv,F.map(bv,ai),bd.visStart,bd.visEnd));var bs,br=bv.length,bu,bt,bq,bw=[];for(bs=0;bs<br;bs++){bu=bv[bs];for(bt=0;bt<bu.length;bt++){bq=bu[bt];bq.row=0;bq.level=bs;bw.push(bq)}}return bw}function bm(bt){var bC=a6(),bz=ab(),bB=a4(),br=c(T(bd.visStart),bz),by=F.map(bt,bk),bx,bw,bq,bs,bA,bv,bu=[];for(bx=0;bx<bC;bx++){bw=K(Z(bt,by,br,c(T(br),bB-bz)));B(bw);for(bq=0;bq<bw.length;bq++){bs=bw[bq];for(bA=0;bA<bs.length;bA++){bv=bs[bA];bv.col=bx;bv.level=bq;bu.push(bv)}}S(br,1,true)}return bu}function bk(bq){return bq.end?T(bq.end):c(T(bq.start),a9("defaultEventMinutes"))}function bj(bF,bC){var bA,bB=bF.length,bE,bx,bw,bI,bD,br,bq,bG,bH,bt="",bz,by,bu={},bs={},bv=a1(),bJ;bA=a6();if(bz=a9("isRTL")){by=-1;bJ=bA-1}else{by=1;bJ=0}for(bA=0;bA<bB;bA++){bE=bF[bA];bx=bE.event;bw=aM(bE.start,bE.start);bI=aM(bE.start,bE.end);bD=bE.col;br=bE.level;bq=bE.forward||0;bG=aV(bD*by+bJ);bH=be(bD*by+bJ)-bG;bH=Math.min(bH-6,bH*0.95);bD=br?bH/(br+bq+1):bq?(bH/(bq+1)-6)*2:bH;br=bG+bH/(br+bq+1)*br*by+(bz?bH-bD:0);bE.top=bw;bE.left=br;bE.outerWidth=bD;bE.outerHeight=bI-bw;bt+=bg(bx,bE)}bv[0].innerHTML=bt;bz=bv.children();for(bA=0;bA<bB;bA++){bE=bF[bA];bx=bE.event;bt=F(bz[bA]);by=a5("eventRender",bx,bx,bt);if(by===false){bt.remove()}else{if(by&&by!==true){bt.remove();bt=F(by).css({position:"absolute",top:bE.top,left:bE.left}).appendTo(bv)}bE.element=bt;if(bx._id===bC){bb(bx,bt,bE)}else{bt[0]._fci=bA}a3(bx,bt)}}I(bv,bF,bb);for(bA=0;bA<bB;bA++){bE=bF[bA];if(bt=bE.element){bx=bu[bC=bE.key=aa(bt[0])];bE.vsides=bx===ar?(bu[bC]=d(bt,true)):bx;bx=bs[bC];bE.hsides=bx===ar?(bs[bC]=y(bt,true)):bx;bC=bt.find("div.fc-event-content");if(bC.length){bE.contentTop=bC[0].offsetTop}}}for(bA=0;bA<bB;bA++){bE=bF[bA];if(bt=bE.element){bt[0].style.width=Math.max(0,bE.outerWidth-bE.hsides)+"px";bu=Math.max(0,bE.outerHeight-bE.vsides);bt[0].style.height=bu+"px";bx=bE.event;if(bE.contentTop!==ar&&bu-bE.contentTop<10){bt.find("div.fc-event-time").text(N(bx.start,a9("timeFormat"))+" - "+bx.title);bt.find("div.fc-event-title").remove()}a5("eventAfterRender",bx,bx,bt)}}}function bg(bv,bs){var br="<",bu=bv.url,bt=L(bv,a9),bq=bt?" style='"+bt+"'":"",bw=["fc-event","fc-event-skin","fc-event-vert"];a8(bv)&&bw.push("fc-event-draggable");bs.isStart&&bw.push("fc-corner-top");bs.isEnd&&bw.push("fc-corner-bottom");bw=bw.concat(bv.className);if(bv.source){bw=bw.concat(bv.source.className||[])}br+=bu?"a href='"+D(bv.url)+"'":"div";br+=" class='"+bw.join(" ")+"' style='position:absolute;z-index:8;top:"+bs.top+"px;left:"+bs.left+"px;"+bt+"'><div class='fc-event-inner fc-event-skin'"+bq+"><div class='fc-event-head fc-event-skin'"+bq+"><div class='fc-event-time'>"+D(aK(bv.start,bv.end,a9("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+D(bv.title)+"</div></div><div class='fc-event-bg'></div></div>";if(bs.isEnd&&a0(bv)){br+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"}br+="</"+(bu?"a":"div")+">";return br}function bh(bs,br,bq){a8(bs)&&a7(bs,br,bq.isStart);bq.isEnd&&a0(bs)&&bn(bs,br,bq);aZ(bs,br)}function bb(bt,br,bq){var bs=br.find("div.fc-event-time");a8(bt)&&aP(bt,br,bs);bq.isEnd&&a0(bt)&&aQ(bt,br,bs);aZ(bt,br)}function a7(bt,bC,bz){function bB(){if(!bx){bC.width(br).height("").draggable("option","grid",null);bx=true}}var br,by,bx=true,bw,bq=a9("isRTL")?-1:1,bs=aN(),bA=aU(),bv=aO(),bu=ab();bC.draggable({zIndex:9,opacity:a9("dragOpacity","month"),revertDuration:a9("dragRevertDuration"),start:function(bE,bD){a5("eventDragStart",bC,bt,bE,bD);bi(bt,bC);br=bC.width();bs.start(function(bG,bI,bF,bH){aY();if(bG){by=false;bw=bH*bq;if(bG.row){if(bz){if(bx){bC.width(bA-10);w(bC,bv*Math.round((bt.end?(bt.end-bt.start)/q:a9("defaultEventMinutes"))/a9("slotMinutes")));bC.draggable("option","grid",[bA,1]);bx=false}}else{by=true}}else{aW(S(T(bt.start),bw),S(ai(bt),bw));bB()}by=by||bx&&!bw}else{bB();by=true}bC.draggable("option","revert",by)},bE,"drag")},stop:function(bF,bD){bs.stop();aY();a5("eventDragStop",bC,bt,bF,bD);if(by){bB();bC.css("filter","");aT(bt,bC)}else{var bE=0;bx||(bE=Math.round((bC.offset().top-ac().offset().top)/bv)*a9("slotMinutes")+bu-(bt.start.getHours()*60+bt.start.getMinutes()));aX(this,bt,bw,bE,bx,bF,bD)}}})}function aP(bt,bE,bB){function bD(bG){var bH=c(T(bt.start),bG),bF;if(bt.end){bF=c(T(bt.end),bG)}bB.text(aK(bH,bF,a9("timeFormat")))}function br(){if(by){bB.css("display","");bE.draggable("option","grid",[bx,bA]);by=false}}var bz,by=false,bw,bq,bs,bC=a9("isRTL")?-1:1,bv=aN(),bu=a6(),bx=aU(),bA=aO();bE.draggable({zIndex:9,scroll:false,grid:[bx,bA],axis:bu==1?"y":false,opacity:a9("dragOpacity"),revertDuration:a9("dragRevertDuration"),start:function(bF,bG){a5("eventDragStart",bE,bt,bF,bG);bi(bt,bE);bz=bE.position();bq=bs=0;bv.start(function(bH,bI,bK,bJ){bE.draggable("option","revert",!bH);aY();if(bH){bw=bJ*bC;if(a9("allDaySlot")&&!bH.row){if(!by){by=true;bB.hide();bE.draggable("option","grid",null)}aW(S(T(bt.start),bw),S(ai(bt),bw))}else{br()}}},bF,"drag")},drag:function(bF,bG){bq=Math.round((bG.position.top-bz.top)/bA)*a9("slotMinutes");if(bq!=bs){by||bD(bq);bs=bq}},stop:function(bG,bH){var bF=bv.stop();aY();a5("eventDragStop",bE,bt,bG,bH);if(bF&&(bw||bq||by)){aX(this,bt,bw,by?0:bq,by,bG,bH)}else{br();bE.css("filter","");bE.css(bz);bD(0);aT(bt,bE)}}})}function aQ(bv,bs,br){var bu,bt,bq=aO();bs.resizable({handles:{s:"div.ui-resizable-s"},grid:bq,start:function(bx,bw){bu=bt=0;bi(bv,bs);bs.css("z-index",9);a5("eventResizeStart",this,bv,bx,bw)},resize:function(bx,bw){bu=Math.round((Math.max(bq,bs.height())-bw.originalSize.height)/bq);if(bu!=bt){br.text(aK(bv.start,!bu&&!bv.end?null:c(ba(bv),a9("slotMinutes")*bu),a9("timeFormat")));bt=bu}},stop:function(bx,bw){a5("eventResizeStop",this,bv,bx,bw);if(bu){aR(this,bv,0,a9("slotMinutes")*bu,bx,bw)}else{bs.css("z-index",8);aT(bv,bs)}}})}var bd=this;bd.renderEvents=bp;bd.compileDaySegs=bl;bd.clearEvents=bo;bd.slotSegHtml=bg;bd.bindDaySeg=bh;C.call(bd);var a9=bd.opt,a5=bd.trigger,a8=bd.isEventDraggable,a0=bd.isEventResizable,ba=bd.eventEnd,a2=bd.reportEvents,m=bd.reportEventClear,aZ=bd.eventElementHandlers,aL=bd.setHeight,bc=bd.getDaySegmentContainer,a1=bd.getSlotSegmentContainer,aN=bd.getHoverListener,a4=bd.getMaxMinute,ab=bd.getMinMinute,aM=bd.timePosition,aV=bd.colContentLeft,be=bd.colContentRight,aS=bd.renderDaySegs,bn=bd.resizableDayEvent,a6=bd.getColCnt,aU=bd.getColWidth,aO=bd.getSlotHeight,ac=bd.getBodyContent,a3=bd.reportEventElement,aT=bd.showEvents,bi=bd.hideEvents,aX=bd.eventDrop,aR=bd.eventResize,aW=bd.renderDayOverlay,aY=bd.clearOverlays,bf=bd.calendar,N=bf.formatDate,aK=bf.formatDates}function B(ab){var m,aL,aM,aK,ac,N;for(m=ab.length-1;m>0;m--){aK=ab[m];for(aL=0;aL<aK.length;aL++){ac=aK[aL];for(aM=0;aM<ab[m-1].length;aM++){N=ab[m-1][aM];if(W(ac,N)){N.forward=Math.max(N.forward||0,(ac.forward||0)+1)}}}}}function z(a5,a4,a2){function a3(a8,a9){a8=aO[a8];if(typeof a8=="object"){return v(a8,a9||a2)}return a8}function a1(a8,a9){return a4.trigger.apply(a4,[a8,a9||a6].concat(Array.prototype.slice.call(arguments,2),[a6]))}function a0(a8){return aY(a8)&&!a3("disableDragging")}function aV(a8){return aY(a8)&&!a3("disableResizing")}function aY(a8){return ay(a8.editable,(a8.source||{}).editable,a3("editable"))}function aR(a9){ab={};var ba,a8=a9.length,bb;for(ba=0;ba<a8;ba++){bb=a9[ba];if(ab[bb._id]){ab[bb._id].push(bb)}else{ab[bb._id]=[bb]}}}function aP(a8){return a8.end?T(a8.end):aN(a8)}function ac(a8,a9){aT.push(a9);if(aM[a8._id]){aM[a8._id].push(a9)}else{aM[a8._id]=[a9]}}function aK(){aT=[];aM={}}function aS(a8,a9){a9.click(function(ba){if(!a9.hasClass("ui-draggable-dragging")&&!a9.hasClass("ui-resizable-resizing")){return a1("eventClick",this,a8,ba)}}).hover(function(ba){a1("eventMouseover",this,a8,ba)},function(ba){a1("eventMouseout",this,a8,ba)})}function aQ(a8,a9){aW(a8,a9,"show")}function aU(a8,a9){aW(a8,a9,"hide")}function aW(a9,ba,a8){a9=aM[a9._id];var bc,bb=a9.length;for(bc=0;bc<bb;bc++){if(!ba||a9[bc][0]!=ba[0]){a9[bc][a8]()}}}function a7(bg,a8,be,bc,bd,bf,ba){var a9=a8.allDay,bb=a8._id;N(ab[bb],be,bc,bd);a1("eventDrop",bg,a8,be,bc,bd,function(){N(ab[bb],-be,-bc,a9);m(bb)},bf,ba);m(bb)}function aX(bb,bc,a8,be,bd,ba){var a9=bc._id;aL(ab[a9],a8,be);a1("eventResize",bb,bc,a8,be,function(){aL(ab[a9],-a8,-be);m(a9)},bd,ba);m(a9)}function N(bb,bc,a8,be){a8=a8||0;for(var bd,ba=bb.length,a9=0;a9<ba;a9++){bd=bb[a9];if(be!==ar){bd.allDay=be}c(S(bd.start,bc,true),a8);if(bd.end){bd.end=c(S(bd.end,bc,true),a8)}aZ(bd,aO)}}function aL(ba,bb,a8){a8=a8||0;for(var bd,bc=ba.length,a9=0;a9<bc;a9++){bd=ba[a9];bd.end=c(S(aP(bd),bb,true),a8);aZ(bd,aO)}}var a6=this;a6.element=a5;a6.calendar=a4;a6.name=a2;a6.opt=a3;a6.trigger=a1;a6.isEventDraggable=a0;a6.isEventResizable=aV;a6.reportEvents=aR;a6.eventEnd=aP;a6.reportEventElement=ac;a6.reportEventClear=aK;a6.eventElementHandlers=aS;a6.showEvents=aQ;a6.hideEvents=aU;a6.eventDrop=a7;a6.eventResize=aX;var aN=a6.defaultEventEnd,aZ=a4.normalizeEvent,m=a4.reportEventChange,ab={},aT=[],aM={},aO=a4.options}function C(){function bh(bo,bi){var bp=a0(),bs=aV(),bj=aL(),bm=0,bk,bn,bl=bo.length,br,bq;bp[0].innerHTML=bd(bo);be(bo,bp.children());bc(bo);bb(bo,bp,bi);a9(bo);ba(bo);a5(bo);bi=a1();for(bp=0;bp<bs;bp++){bk=[];for(bn=0;bn<bj;bn++){bk[bn]=0}for(;bm<bl&&(br=bo[bm]).row==bp;){bn=aq(bk.slice(br.startCol,br.endCol));br.top=bn;bn+=br.outerHeight;for(bq=br.startCol;bq<br.endCol;bq++){bk[bq]=bn}bm++}bi[bp].height(aq(bk))}aO(bo,aN(bi))}function bg(bi,bm,bk){var bj=F("<div/>"),bo=a0(),bn=bi.length,bl;bj[0].innerHTML=bd(bi);bj=bj.children();bo.append(bj);be(bi,bj);a9(bi);ba(bi);a5(bi);aO(bi,aN(a1()));bj=[];for(bo=0;bo<bn;bo++){if(bl=bi[bo].element){bi[bo].row===bm&&bl.css("top",bk);bj.push(bl[0])}}return F(bj)}function bd(bq){var bj=aZ("isRTL"),br,bx=bq.length,bk,bn,bl,bo;br=N();var bm=br.left,bw=br.right,bu,bv,bi,bt,bs,bp="";for(br=0;br<bx;br++){bk=bq[br];bn=bk.event;bo=["fc-event","fc-event-skin","fc-event-hori"];aU(bn)&&bo.push("fc-event-draggable");if(bj){bk.isStart&&bo.push("fc-corner-right");bk.isEnd&&bo.push("fc-corner-left");bu=a8(bk.end.getDay()-1);bv=a8(bk.start.getDay());bi=bk.isEnd?aK(bu):bm;bt=bk.isStart?aS(bv):bw}else{bk.isStart&&bo.push("fc-corner-left");bk.isEnd&&bo.push("fc-corner-right");bu=a8(bk.start.getDay());bv=a8(bk.end.getDay()-1);bi=bk.isStart?aK(bu):bm;bt=bk.isEnd?aS(bv):bw}bo=bo.concat(bn.className);if(bn.source){bo=bo.concat(bn.source.className||[])}bl=bn.url;bs=L(bn,aZ);bp+=bl?"<a href='"+D(bl)+"'":"<div";bp+=" class='"+bo.join(" ")+"' style='position:absolute;z-index:8;left:"+bi+"px;"+bs+"'><div class='fc-event-inner fc-event-skin'"+(bs?" style='"+bs+"'":"")+">";if(!bn.allDay&&bk.isStart){bp+="<span class='fc-event-time'>"+D(aM(bn.start,bn.end,aZ("timeFormat")))+"</span>"}bp+="<span class='fc-event-title'>"+D(bn.title)+"</span></div>";if(bk.isEnd&&a4(bn)){bp+="<div class='ui-resizable-handle ui-resizable-"+(bj?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"}bp+="</"+(bl?"a":"div")+">";bk.left=bi;bk.outerWidth=bt-bi;bk.startCol=bu;bk.endCol=bv+1}return bp}function be(bi,bm){var bk,bj=bi.length,bo,bn,bl;for(bk=0;bk<bj;bk++){bo=bi[bk];bn=bo.event;bl=F(bm[bk]);bn=a2("eventRender",bn,bn,bl);if(bn===false){bl.remove()}else{if(bn&&bn!==true){bn=F(bn).css({position:"absolute",left:bo.left});bl.replaceWith(bn);bl=bn}bo.element=bl}}}function bc(bi){var bl,bk=bi.length,bj,bm;for(bl=0;bl<bk;bl++){bj=bi[bl];(bm=bj.element)&&m(bj.event,bm)}}function bb(bj,bn,bl){var bk,bp=bj.length,bo,bm,bi;for(bk=0;bk<bp;bk++){bo=bj[bk];if(bm=bo.element){bi=bo.event;if(bi._id===bl){aR(bi,bm,bo)}else{bm[0]._fci=bk}}}I(bn,bj,aR)}function a9(bj){var bn,bl=bj.length,bk,bp,bo,bm,bi={};for(bn=0;bn<bl;bn++){bk=bj[bn];if(bp=bk.element){bo=bk.key=aa(bp[0]);bm=bi[bo];if(bm===ar){bm=bi[bo]=y(bp,true)}bk.hsides=bm}}}function ba(bi){var bl,bk=bi.length,bj,bm;for(bl=0;bl<bk;bl++){bj=bi[bl];if(bm=bj.element){bm[0].style.width=Math.max(0,bj.outerWidth-bj.hsides)+"px"}}}function a5(bj){var bn,bl=bj.length,bk,bp,bo,bm,bi={};for(bn=0;bn<bl;bn++){bk=bj[bn];if(bp=bk.element){bo=bk.key;bm=bi[bo];if(bm===ar){bm=bi[bo]=k(bp)}bk.outerHeight=bp[0].offsetHeight+bm}}}function a1(){var bi,bk=aV(),bj=[];for(bi=0;bi<bk;bi++){bj[bi]=aY(bi).find("td:first div.fc-day-content > div")}return bj}function aN(bi){var bl,bk=bi.length,bj=[];for(bl=0;bl<bk;bl++){bj[bl]=bi[bl][0].offsetTop}return bj}function aO(bi,bl){var bk,bj=bi.length,bn,bm;for(bk=0;bk<bj;bk++){bn=bi[bk];if(bm=bn.element){bm[0].style.top=bl[bn.row]+(bn.top||0)+"px";bn=bn.event;a2("eventAfterRender",bn,bn,bm)}}}function a7(bi,bm,bk){var bj=aZ("isRTL"),bo=bj?"w":"e",bn=bm.find("div.ui-resizable-"+bo),bl=false;o(bm);bm.mousedown(function(bp){bp.preventDefault()}).click(function(bp){if(bl){bp.preventDefault();bp.stopImmediatePropagation()}});bn.mousedown(function(bt){function bs(bB){a2("eventResizeStop",this,bi,bB);F("body").css("cursor","");bA.stop();aX();bu&&a6(this,bi,bu,0,bB);setTimeout(function(){bl=false},0)}if(bt.which==1){bl=true;var bA=a3.getHoverListener(),bx=aV(),bz=aL(),bq=bj?-1:1,bw=bj?bz-1:0,bv=bm.css("top"),bu,bp,br=F.extend({},bi),by=aP(bi.start);aQ();F("body").css("cursor",bo+"-resize").one("mouseup",bs);a2("eventResizeStart",this,bi,bt);bA.start(function(bB,bD){if(bB){var bC=Math.max(by.row,bB.row);bB=bB.col;if(bx==1){bC=0}if(bC==by.row){bB=bj?Math.min(by.col,bB):Math.max(by.col,bB)}bu=bC*7+bB*bq+bw-(bD.row*7+bD.col*bq+bw);bD=S(aW(bi),bu,true);if(bu){br.end=bD;bC=bp;bp=bg(bf([br]),bk.row,bv);bp.find("*").css("cursor",bo+"-resize");bC&&bC.remove();ac(bi)}else{if(bp){aT(bi);bp.remove();bp=null}}aX();ab(bi.start,S(T(bD),1))}},bt)}})}var a3=this;a3.renderDaySegs=bh;a3.resizableDayEvent=a7;var aZ=a3.opt,a2=a3.trigger,aU=a3.isEventDraggable,a4=a3.isEventResizable,aW=a3.eventEnd,m=a3.reportEventElement,aT=a3.showEvents,ac=a3.hideEvents,a6=a3.eventResize,aV=a3.getRowCnt,aL=a3.getColCnt,aY=a3.allDayRow,N=a3.allDayBounds,aK=a3.colContentLeft,aS=a3.colContentRight,a8=a3.dayOfWeekCol,aP=a3.dateCell,bf=a3.compileDaySegs,a0=a3.getDaySegmentContainer,aR=a3.bindDaySeg,aM=a3.calendar.formatDates,ab=a3.renderDayOverlay,aX=a3.clearOverlays,aQ=a3.clearSelection}function aJ(){function aP(aS,aT,aR){aO();aT||(aT=ab(aS,aR));aQ(aS,aT,aR);aL(aS,aT,aR)}function aO(aR){if(N){N=false;aN();m("unselect",null,aR)}}function aL(aS,aU,aR,aT){N=true;m("select",null,aS,aU,aR,aT)}function aM(aT){var aV=aK.cellDate,aS=aK.cellIsAllDay,aU=aK.getHoverListener(),aR=aK.reportDayClick;if(aT.which==1&&ac("selectable")){aO(aT);var aW;aU.start(function(aY,aX){aN();if(aY&&aS(aY)){aW=[aV(aX),aV(aY)].sort(aG);aQ(aW[0],aW[1],true)}else{aW=null}},aT);F(document).one("mouseup",function(aX){aU.stop();if(aW){+aW[0]==+aW[1]&&aR(aW[0],true,aX);aL(aW[0],aW[1],true,aX)}})}}var aK=this;aK.select=aP;aK.unselect=aO;aK.reportSelection=aL;aK.daySelectionMousedown=aM;var ac=aK.opt,m=aK.trigger,ab=aK.defaultSelectionEnd,aQ=aK.renderSelection,aN=aK.clearSelection,N=false;ac("selectable")&&ac("unselectAuto")&&F(document).mousedown(function(aR){var aS=ac("unselectCancel");if(aS){if(F(aR.target).parents(aS).length){return}}aO(aR)})}function p(){function N(aN,aL){var aM=ab.shift();aM||(aM=F("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));aM[0].parentNode!=aL[0]&&aM.appendTo(aL);aK.push(aM.css(aN).show());return aM}function m(){for(var aL;aL=aK.shift();){ab.push(aL.hide().unbind())}}var ac=this;ac.renderOverlay=N;ac.clearOverlays=m;var aK=[],ab=[]}function av(N){var m=this,ab,ac;m.build=function(){ab=[];ac=[];N(ab,ac)};m.cell=function(aP,aO){var aK=ab.length,aL=ac.length,aN,aQ=-1,aM=-1;for(aN=0;aN<aK;aN++){if(aO>=ab[aN][0]&&aO<ab[aN][1]){aQ=aN;break}}for(aN=0;aN<aL;aN++){if(aP>=ac[aN][0]&&aP<ac[aN][1]){aM=aN;break}}return aQ>=0&&aM>=0?{row:aQ,col:aM}:null};m.rect=function(aO,aN,aK,aL,aM){aM=aM.offset();return{top:ab[aO][0]-aM.top,left:ac[aN][0]-aM.left,width:ac[aL][1]-ac[aN][0],height:ab[aK][1]-ab[aO][0]}}}function af(ab){function m(aN){a(aN);aN=ab.cell(aN.pageX,aN.pageY);if(!aN!=!N||aN&&(aN.row!=N.row||aN.col!=N.col)){if(aN){ac||(ac=aN);aK(aN,ac,aN.row-ac.row,aN.col-ac.col)}else{aK(aN,ac)}N=aN}}var aL=this,aM,aK,ac,N;aL.start=function(aN,aO,aP){aK=aN;ac=N=null;ab.build();m(aO);aM=aP||"mousemove";F(document).bind(aM,m)};aL.stop=function(){F(document).unbind(aM,m);return N}}function a(m){if(m.pageX===ar){m.pageX=m.originalEvent.pageX;m.pageY=m.originalEvent.pageY}}function O(N){function m(aM){return aL[aM]=aL[aM]||N(aM)}var aK=this,aL={},ac={},ab={};aK.left=function(aM){return ac[aM]=ac[aM]===ar?m(aM).position().left:ac[aM]};aK.right=function(aM){return ab[aM]=ab[aM]===ar?aK.left(aM)+m(aM).width():ab[aM]};aK.clear=function(){aL={};ac={};ab={}}}var f={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"},aw={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},aD=F.fullCalendar={version:"1.5.4"},M=aD.views={};F.fn.fullCalendar=function(N){if(typeof N=="string"){var m=Array.prototype.slice.call(arguments,1),ab;this.each(function(){var aK=F.data(this,"fullCalendar");if(aK&&F.isFunction(aK[N])){aK=aK[N].apply(aK,m);if(ab===ar){ab=aK}N=="destroy"&&F.removeData(this,"fullCalendar")}});if(ab!==ar){return ab}return this}var ac=N.eventSources||[];delete N.eventSources;if(N.events){ac.push(N.events);delete N.events}N=F.extend(true,{},f,N.isRTL||N.isRTL===ar&&f.isRTL?aw:{},N);this.each(function(aL,aK){aL=F(aK);aK=new e(aL,N,ac);aL.data("fullCalendar",aK);aK.render()});return this};aD.sourceNormalizers=[];aD.sourceFetchers=[];var aj={dataType:"json",cache:false},R=1;aD.addDays=S;aD.cloneDate=T;aD.parseDate=j;aD.parseISO8601=an;aD.parseTime=ap;aD.formatDate=ag;aD.formatDates=H;var aE=["sun","mon","tue","wed","thu","fri","sat"],aC=86400000,E=3600000,q=60000,t={s:function(m){return m.getSeconds()},ss:function(m){return P(m.getSeconds())},m:function(m){return m.getMinutes()},mm:function(m){return P(m.getMinutes())},h:function(m){return m.getHours()%12||12},hh:function(m){return P(m.getHours()%12||12)},H:function(m){return m.getHours()},HH:function(m){return P(m.getHours())},d:function(m){return m.getDate()},dd:function(m){return P(m.getDate())},ddd:function(N,m){return m.dayNamesShort[N.getDay()]},dddd:function(N,m){return m.dayNames[N.getDay()]},M:function(m){return m.getMonth()+1},MM:function(m){return P(m.getMonth()+1)},MMM:function(N,m){return m.monthNamesShort[N.getMonth()]},MMMM:function(N,m){return m.monthNames[N.getMonth()]},yy:function(m){return(m.getFullYear()+"").substring(2)},yyyy:function(m){return m.getFullYear()},t:function(m){return m.getHours()<12?"a":"p"},tt:function(m){return m.getHours()<12?"am":"pm"},T:function(m){return m.getHours()<12?"A":"P"},TT:function(m){return m.getHours()<12?"AM":"PM"},u:function(m){return ag(m,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(m){m=m.getDate();if(m>10&&m<20){return"th"}return["st","nd","rd"][m%10-1]||"th"}};aD.applyAll=ae;M.month=ao;M.basicWeek=Y;M.basicDay=J;r({weekMode:"fixed"});M.agendaWeek=n;M.agendaDay=aH;r({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24})})(jQuery);(function(b){b.gritter={};b.gritter.options={position:"",class_name:"",fade_in_speed:"medium",fade_out_speed:1000,time:6000};b.gritter.add=function(f){try{return a.add(f||{})}catch(d){var c="Gritter Error: "+d;(typeof(console)!="undefined"&&console.error)?console.error(c,f):alert(c)}};b.gritter.remove=function(d,c){a.removeSpecific(d,c||{})};b.gritter.removeAll=function(c){a.stop(c||{})};var a={position:"",fade_in_speed:"",fade_out_speed:"",time:"",_custom_timer:0,_item_count:0,_is_setup:0,_tpl_close:'<div class="gritter-close"></div>',_tpl_title:'<span class="gritter-title">[[title]]</span>',_tpl_item:'<div id="gritter-item-[[number]]" class="gritter-item-wrapper [[item_class]]" style="display:none"><div class="gritter-item">[[close]][[image]]<div class="[[class_name]]">[[title]]<p>[[text]]</p></div><div style="clear:both"></div></div></div>',_tpl_wrap:'<div id="gritter-notice-wrapper"></div>',add:function(g){if(typeof(g)=="string"){g={text:g}}if(!g.text){throw'You must supply "text" parameter.'}if(!this._is_setup){this._runSetup()}var l=g.title,o=g.text,e=g.image||"",m=g.sticky||false,n=g.class_name||b.gritter.options.class_name,k=b.gritter.options.position,d=g.time||"";this._verifyWrapper();this._item_count++;var f=this._item_count,j=this._tpl_item;b(["before_open","after_open","before_close","after_close"]).each(function(q,r){a["_"+r+"_"+f]=(b.isFunction(g[r]))?g[r]:function(){}});this._custom_timer=0;if(d){this._custom_timer=d}var c=(e!="")?'<img src="'+e+'" class="gritter-image" />':"",h=(e!="")?"gritter-with-image":"gritter-without-image";if(l){l=this._str_replace("[[title]]",l,this._tpl_title)}else{l=""}j=this._str_replace(["[[title]]","[[text]]","[[close]]","[[image]]","[[number]]","[[class_name]]","[[item_class]]"],[l,o,this._tpl_close,c,this._item_count,h,n],j);if(this["_before_open_"+f]()===false){return false}b("#gritter-notice-wrapper").addClass(k).append(j);var p=b("#gritter-item-"+this._item_count);p.fadeIn(this.fade_in_speed,function(){a["_after_open_"+f](b(this))});if(!m){this._setFadeTimer(p,f)}b(p).bind("mouseenter mouseleave",function(q){if(q.type=="mouseenter"){if(!m){a._restoreItemIfFading(b(this),f)}}else{if(!m){a._setFadeTimer(b(this),f)}}a._hoverState(b(this),q.type)});b(p).find(".gritter-close").click(function(){a.removeSpecific(f,{},null,true)});return f},_countRemoveWrapper:function(c,d,f){d.remove();this["_after_close_"+c](d,f);if(b(".gritter-item-wrapper").length==0){b("#gritter-notice-wrapper").remove()}},_fade:function(g,d,k,f){var k=k||{},j=(typeof(k.fade)!="undefined")?k.fade:true,c=k.speed||this.fade_out_speed,h=f;this["_before_close_"+d](g,h);if(f){g.unbind("mouseenter mouseleave")}if(j){g.animate({opacity:0},c,function(){g.animate({height:0},300,function(){a._countRemoveWrapper(d,g,h)})})}else{this._countRemoveWrapper(d,g)}},_hoverState:function(d,c){if(c=="mouseenter"){d.addClass("hover");d.find(".gritter-close").show()}else{d.removeClass("hover");d.find(".gritter-close").hide()}},removeSpecific:function(c,g,f,d){if(!f){var f=b("#gritter-item-"+c)}this._fade(f,c,g||{},d)},_restoreItemIfFading:function(d,c){clearTimeout(this["_int_id_"+c]);d.stop().css({opacity:"",height:""})},_runSetup:function(){for(opt in b.gritter.options){this[opt]=b.gritter.options[opt]}this._is_setup=1},_setFadeTimer:function(f,d){var c=(this._custom_timer)?this._custom_timer:this.time;this["_int_id_"+d]=setTimeout(function(){a._fade(f,d)},c)},stop:function(e){var c=(b.isFunction(e.before_close))?e.before_close:function(){};var f=(b.isFunction(e.after_close))?e.after_close:function(){};var d=b("#gritter-notice-wrapper");c(d);d.fadeOut(function(){b(this).remove();f()})},_str_replace:function(v,e,o,n){var k=0,h=0,t="",m="",g=0,q=0,l=[].concat(v),c=[].concat(e),u=o,d=c instanceof Array,p=u instanceof Array;u=[].concat(u);if(n){this.window[n]=0}for(k=0,g=u.length;k<g;k++){if(u[k]===""){continue}for(h=0,q=l.length;h<q;h++){t=u[k]+"";m=d?(c[h]!==undefined?c[h]:""):c[0];u[k]=(t).split(l[h]).join(m);if(n&&u[k]!==t){this.window[n]+=(t.length-u[k].length)/l[h].length}}}return p?u:u[0]},_verifyWrapper:function(){if(b("#gritter-notice-wrapper").length==0){b("body").append(this._tpl_wrap)}}}})(jQuery);(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(j){var q={},n,F,s,C,t,l,G,H,v,c,d,I,y,m,r,E,A,g,p,B,e,a,D,u,o,J,b,x,k,z,w,h,f=0;n=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:false,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:false,enableHighlight:true,highlightLighten:1.4,tooltipSkipNull:true,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:false,numberFormatter:false,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:false,disableInteraction:false},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:undefined,normalRangeMax:undefined,normalRangeColor:"#ccc",drawNormalOnTop:false,chartRangeMin:undefined,chartRangeMax:undefined,chartRangeMinX:undefined,chartRangeMaxX:undefined,tooltipFormat:new s('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:undefined,nullColor:undefined,zeroAxis:true,barWidth:4,barSpacing:1,chartRangeMax:undefined,chartRangeMin:undefined,chartRangeClip:false,colorMap:undefined,tooltipFormat:new s('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new s('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss","0":"Draw","1":"Win"}}},discrete:{lineHeight:"auto",thresholdColor:undefined,thresholdValue:0,chartRangeMax:undefined,chartRangeMin:undefined,chartRangeClip:false,tooltipFormat:new s("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:undefined,tooltipFormat:new s("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new s('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:false,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:true,outlierIQR:1.5,spotRadius:1.5,target:undefined,targetColor:"#4a2",chartRangeMax:undefined,chartRangeMin:undefined,tooltipFormat:new s("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}};J='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}';F=function(){var K,L;K=function(){this.init.apply(this,arguments)};if(arguments.length>1){if(arguments[0]){K.prototype=j.extend(new arguments[0](),arguments[arguments.length-1]);K._super=arguments[0].prototype}else{K.prototype=arguments[arguments.length-1]}if(arguments.length>2){L=Array.prototype.slice.call(arguments,1,-1);L.unshift(K.prototype);j.extend.apply(j,L)}}else{K.prototype=arguments[0]}K.prototype.cls=K;return K};j.SPFormatClass=s=F({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(L,K){this.format=L;this.fclass=K},render:function(S,Q,T){var R=this,P=S,O,L,M,N,K;return this.format.replace(this.fre,function(){var U;L=arguments[1];M=arguments[3];O=R.precre.exec(L);if(O){K=O[2];L=O[1]}else{K=false}N=P[L];if(N===undefined){return""}if(M&&Q&&Q[M]){U=Q[M];if(U.get){return Q[M].get(N)||N}else{return Q[M][N]||N}}if(v(N)){if(T.get("numberFormatter")){N=T.get("numberFormatter")(N)}else{N=m(N,K,T.get("numberDigitGroupCount"),T.get("numberDigitGroupSep"),T.get("numberDecimalMark"))}}return N})}});j.spformat=function(L,K){return new s(L,K)};C=function(M,L,K){if(M<L){return L}if(M>K){return K}return M};t=function(K,M){var L;if(M===2){L=Math.floor(K.length/2);return K.length%2?K[L]:(K[L-1]+K[L])/2}else{if(K.length%2){L=(K.length*M+M)/4;return L%1?(K[Math.floor(L)]+K[Math.floor(L)-1])/2:K[L-1]}else{L=(K.length*M+2)/4;return L%1?(K[Math.floor(L)]+K[Math.floor(L)-1])/2:K[L-1]}}};l=function(L){var K;switch(L){case"undefined":L=undefined;break;case"null":L=null;break;case"true":L=true;break;case"false":L=false;break;default:K=parseFloat(L);if(L==K){L=K}}return L};G=function(M){var L,K=[];for(L=M.length;L--;){K[L]=l(M[L])}return K};H=function(O,M){var L,N,K=[];for(L=0,N=O.length;L<N;L++){if(O[L]!==M){K.push(O[L])}}return K};v=function(K){return !isNaN(parseFloat(K))&&isFinite(K)};m=function(M,L,K,P,O){var Q,N;M=(L===false?parseFloat(M).toString():M.toFixed(L)).split("");Q=(Q=j.inArray(".",M))<0?M.length:Q;if(Q<M.length){M[Q]=O}for(N=Q-K;N>0;N-=K){M.splice(N,0,P)}return M.join("")};c=function(N,L,K){var M;for(M=L.length;M--;){if(K&&L[M]===null){continue}if(L[M]!==N){return false}}return true};d=function(M){var L=0,K;for(K=M.length;K--;){L+=typeof M[K]==="number"?M[K]:0}return L};y=function(K){return j.isArray(K)?K:[K]};I=function(L){var K;if(document.createStyleSheet){document.createStyleSheet().cssText=L}else{K=document.createElement("style");K.type="text/css";document.getElementsByTagName("head")[0].appendChild(K);K[(typeof document.body.style.WebkitAppearance=="string")?"innerText":"innerHTML"]=L}};j.fn.simpledraw=function(N,K,L,M){var P,O;if(L&&(P=this.data("_jqs_vcanvas"))){return P}if(N===undefined){N=j(this).innerWidth()}if(K===undefined){K=j(this).innerHeight()}if(j.fn.sparkline.hasCanvas){P=new z(N,K,this,M)}else{if(j.fn.sparkline.hasVML){P=new w(N,K,this)}else{return false}}O=j(this).data("_jqs_mhandler");if(O){O.registerCanvas(P)}return P};j.fn.cleardraw=function(){var K=this.data("_jqs_vcanvas");if(K){K.reset()}};j.RangeMapClass=r=F({init:function(N){var M,K,L=[];for(M in N){if(N.hasOwnProperty(M)&&typeof M==="string"&&M.indexOf(":")>-1){K=M.split(":");K[0]=K[0].length===0?-Infinity:parseFloat(K[0]);K[1]=K[1].length===0?Infinity:parseFloat(K[1]);K[2]=N[M];L.push(K)}}this.map=N;this.rangelist=L||false},get:function(O){var N=this.rangelist,M,L,K;if((K=this.map[O])!==undefined){return K}if(N){for(M=N.length;M--;){L=N[M];if(L[0]<=O&&L[1]>=O){return L[2]}}}return undefined}});j.range_map=function(K){return new r(K)};E=F({init:function(M,K){var L=j(M);this.$el=L;this.options=K;this.currentPageX=0;this.currentPageY=0;this.el=M;this.splist=[];this.tooltip=null;this.over=false;this.displayTooltips=!K.get("disableTooltips");this.highlightEnabled=!K.get("disableHighlight")},registerSparkline:function(K){this.splist.push(K);if(this.over){this.updateDisplay()}},registerCanvas:function(K){var L=j(K.canvas);this.canvas=K;this.$canvas=L;L.mouseenter(j.proxy(this.mouseenter,this));L.mouseleave(j.proxy(this.mouseleave,this));L.click(j.proxy(this.mouseclick,this))},reset:function(K){this.splist=[];if(this.tooltip&&K){this.tooltip.remove();this.tooltip=undefined}},mouseclick:function(L){var K=j.Event("sparklineClick");K.originalEvent=L;K.sparklines=this.splist;this.$el.trigger(K)},mouseenter:function(K){j(document.body).unbind("mousemove.jqs");j(document.body).bind("mousemove.jqs",j.proxy(this.mousemove,this));this.over=true;this.currentPageX=K.pageX;this.currentPageY=K.pageY;this.currentEl=K.target;if(!this.tooltip&&this.displayTooltips){this.tooltip=new A(this.options);this.tooltip.updatePosition(K.pageX,K.pageY)}this.updateDisplay()},mouseleave:function(){j(document.body).unbind("mousemove.jqs");var N=this.splist,K=N.length,M=false,O,L;this.over=false;this.currentEl=null;if(this.tooltip){this.tooltip.remove();this.tooltip=null}for(L=0;L<K;L++){O=N[L];if(O.clearRegionHighlight()){M=true}}if(M){this.canvas.render()}},mousemove:function(K){this.currentPageX=K.pageX;this.currentPageY=K.pageY;this.currentEl=K.target;if(this.tooltip){this.tooltip.updatePosition(K.pageX,K.pageY)}this.updateDisplay()},updateDisplay:function(){var L=this.splist,R=L.length,P=false,O=this.$canvas.offset(),N=this.currentPageX-O.left,M=this.currentPageY-O.top,S,K,Q,U,T;if(!this.over){return}for(Q=0;Q<R;Q++){K=L[Q];U=K.setRegionHighlight(this.currentEl,N,M);if(U){P=true}}if(P){T=j.Event("sparklineRegionChange");T.sparklines=this.splist;this.$el.trigger(T);if(this.tooltip){S="";for(Q=0;Q<R;Q++){K=L[Q];S+=K.getCurrentRegionTooltip()}this.tooltip.setContent(S)}if(!this.disableHighlight){this.canvas.render()}}if(U===null){this.mouseleave()}}});A=F({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(K){var N=K.get("tooltipClassname","jqstooltip"),L=this.sizeStyle,M;this.container=K.get("tooltipContainer")||document.body;this.tooltipOffsetX=K.get("tooltipOffsetX",10);this.tooltipOffsetY=K.get("tooltipOffsetY",12);j("#jqssizetip").remove();j("#jqstooltip").remove();this.sizetip=j("<div/>",{id:"jqssizetip",style:L,"class":N});this.tooltip=j("<div/>",{id:"jqstooltip","class":N}).appendTo(this.container);M=this.tooltip.offset();this.offsetLeft=M.left;this.offsetTop=M.top;this.hidden=true;j(window).unbind("resize.jqs scroll.jqs");j(window).bind("resize.jqs scroll.jqs",j.proxy(this.updateWindowDims,this));this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=j(window).scrollTop();this.scrollLeft=j(window).scrollLeft();this.scrollRight=this.scrollLeft+j(window).width();this.updatePosition()},getSize:function(K){this.sizetip.html(K).appendTo(this.container);this.width=this.sizetip.width()+1;this.height=this.sizetip.height();this.sizetip.remove()},setContent:function(K){if(!K){this.tooltip.css("visibility","hidden");this.hidden=true;return}this.getSize(K);this.tooltip.html(K).css({width:this.width,height:this.height,visibility:"visible"});if(this.hidden){this.hidden=false;this.updatePosition()}},updatePosition:function(K,L){if(K===undefined){if(this.mousex===undefined){return}K=this.mousex-this.offsetLeft;L=this.mousey-this.offsetTop}else{this.mousex=K=K-this.offsetLeft;this.mousey=L=L-this.offsetTop}if(!this.height||!this.width||this.hidden){return}L-=this.height+this.tooltipOffsetY;K+=this.tooltipOffsetX;if(L<this.scrollTop){L=this.scrollTop}if(K<this.scrollLeft){K=this.scrollLeft}else{if(K+this.width>this.scrollRight){K=this.scrollRight-this.width}}this.tooltip.css({left:K,top:L})},remove:function(){this.tooltip.remove();this.sizetip.remove();this.sizetip=this.tooltip=undefined;j(window).unbind("resize.jqs scroll.jqs")}});b=function(){I(J)};j(b);h=[];j.fn.sparkline=function(K,L){return this.each(function(){var M=new j.fn.sparkline.options(this,L),P=j(this),O,N;O=function(){var R,T,Q,S,W,V,U;if(K==="html"||K===undefined){U=this.getAttribute(M.get("tagValuesAttribute"));if(U===undefined||U===null){U=P.html()}R=U.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")}else{R=K}T=M.get("width")==="auto"?R.length*M.get("defaultPixelsPerValue"):M.get("width");if(M.get("height")==="auto"){if(!M.get("composite")||!j.data(this,"_jqs_vcanvas")){S=document.createElement("span");S.innerHTML="a";P.html(S);Q=j(S).innerHeight()||j(S).height();j(S).remove();S=null}}else{Q=M.get("height")}if(!M.get("disableInteraction")){W=j.data(this,"_jqs_mhandler");if(!W){W=new E(this,M);j.data(this,"_jqs_mhandler",W)}else{if(!M.get("composite")){W.reset()}}}else{W=false}if(M.get("composite")&&!j.data(this,"_jqs_vcanvas")){if(!j.data(this,"_jqs_errnotify")){alert("Attempted to attach a composite sparkline to an element with no existing sparkline");j.data(this,"_jqs_errnotify",true)}return}V=new j.fn.sparkline[M.get("type")](this,R,M,T,Q);V.render();if(W){W.registerSparkline(V)}};if((j(this).html()&&!M.get("disableHiddenCheck")&&j(this).is(":hidden"))||(j.fn.jquery<"1.3.0"&&j(this).parents().is(":hidden"))||!j(this).parents("body").length){if(!M.get("composite")&&j.data(this,"_jqs_pending")){for(N=h.length;N;N--){if(h[N-1][0]==this){h.splice(N-1,1)}}}h.push([this,O]);j.data(this,"_jqs_pending",true)}else{O.call(this)}})};j.fn.sparkline.defaults=n();j.sparkline_display_visible=function(){var N,L,M;var K=[];for(L=0,M=h.length;L<M;L++){N=h[L][0];if(j(N).is(":visible")&&!j(N).parents().is(":hidden")){h[L][1].call(N);j.data(h[L][0],"_jqs_pending",false);K.push(L)}else{if(!j(N).closest("html").length&&!j.data(N,"_jqs_pending")){j.data(h[L][0],"_jqs_pending",false);K.push(L)}}}for(L=K.length;L;L--){h.splice(K[L-1],1)}};j.fn.sparkline.options=F({init:function(K,P){var O,N,M,L;this.userOptions=P=P||{};this.tag=K;this.tagValCache={};N=j.fn.sparkline.defaults;M=N.common;this.tagOptionsPrefix=P.enableTagOptions&&(P.tagOptionsPrefix||M.tagOptionsPrefix);L=this.getTagSetting("type");if(L===q){O=N[P.type||M.type]}else{O=N[L]}this.mergedOptions=j.extend({},M,O,P)},getTagSetting:function(M){var O=this.tagOptionsPrefix,P,L,N,K;if(O===false||O===undefined){return q}if(this.tagValCache.hasOwnProperty(M)){P=this.tagValCache.key}else{P=this.tag.getAttribute(O+M);if(P===undefined||P===null){P=q}else{if(P.substr(0,1)==="["){P=P.substr(1,P.length-2).split(",");for(L=P.length;L--;){P[L]=l(P[L].replace(/(^\s*)|(\s*$)/g,""))}}else{if(P.substr(0,1)==="{"){N=P.substr(1,P.length-2).split(",");P={};for(L=N.length;L--;){K=N[L].split(":",2);P[K[0].replace(/(^\s*)|(\s*$)/g,"")]=l(K[1].replace(/(^\s*)|(\s*$)/g,""))}}else{P=l(P)}}}this.tagValCache.key=P}return P},get:function(N,M){var L=this.getTagSetting(N),K;if(L!==q){return L}return(K=this.mergedOptions[N])===undefined?M:K}});j.fn.sparkline._base=F({disabled:false,init:function(O,L,M,N,K){this.el=O;this.$el=j(O);this.values=L;this.options=M;this.width=N;this.height=K;this.currentRegion=undefined},initTarget:function(){var K=!this.options.get("disableInteraction");if(!(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),K))){this.disabled=true}else{this.canvasWidth=this.target.pixelWidth;this.canvasHeight=this.target.pixelHeight}},render:function(){if(this.disabled){this.el.innerHTML="";return false}return true},getRegion:function(K,L){},setRegionHighlight:function(M,K,P){var N=this.currentRegion,L=!this.options.get("disableHighlight"),O;if(K>this.canvasWidth||P>this.canvasHeight||K<0||P<0){return null}O=this.getRegion(M,K,P);if(N!==O){if(N!==undefined&&L){this.removeHighlight()}this.currentRegion=O;if(O!==undefined&&L){this.renderHighlight()}return true}return false},clearRegionHighlight:function(){if(this.currentRegion!==undefined){this.removeHighlight();this.currentRegion=undefined;return true}return false},renderHighlight:function(){this.changeHighlight(true)},removeHighlight:function(){this.changeHighlight(false)},changeHighlight:function(K){},getCurrentRegionTooltip:function(){var aa=this.options,P="",Q=[],R,W,K,T,Z,O,S,N,U,M,Y,X,V,L;if(this.currentRegion===undefined){return""}R=this.getCurrentRegionFields();Y=aa.get("tooltipFormatter");if(Y){return Y(this,aa,R)}if(aa.get("tooltipChartTitle")){P+='<div class="jqs jqstitle">'+aa.get("tooltipChartTitle")+"</div>\n"}W=this.options.get("tooltipFormat");if(!W){return""}if(!j.isArray(W)){W=[W]}if(!j.isArray(R)){R=[R]}S=this.options.get("tooltipFormatFieldlist");N=this.options.get("tooltipFormatFieldlistKey");if(S&&N){U=[];for(O=R.length;O--;){M=R[O][N];if((L=j.inArray(M,S))!=-1){U[L]=R[O]}}R=U}K=W.length;V=R.length;for(O=0;O<K;O++){X=W[O];if(typeof X==="string"){X=new s(X)}T=X.fclass||"jqsfield";for(L=0;L<V;L++){if(!R[L].isNull||!aa.get("tooltipSkipNull")){j.extend(R[L],{prefix:aa.get("tooltipPrefix"),suffix:aa.get("tooltipSuffix")});Z=X.render(R[L],aa.get("tooltipValueLookups"),aa);Q.push('<div class="'+T+'">'+Z+"</div>")}}}if(Q.length){return P+Q.join("\n")}return""},getCurrentRegionFields:function(){},calcHighlightColor:function(K,L){var R=L.get("highlightColor"),N=L.get("highlightLighten"),Q,P,O,M;if(R){return R}if(N){Q=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(K)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(K);if(Q){O=[];P=K.length===4?16:1;for(M=0;M<3;M++){O[M]=C(Math.round(parseInt(Q[M+1],16)*P*N),0,255)}return"rgb("+O.join(",")+")"}}return K}});g={changeHighlight:function(M){var O=this.currentRegion,N=this.target,K=this.regionShapes[O],L;if(K){L=this.renderRegion(O,M);if(j.isArray(L)||j.isArray(K)){N.replaceWithShapes(K,L);this.regionShapes[O]=j.map(L,function(P){return P.id})}else{N.replaceWithShape(K,L);this.regionShapes[O]=L.id}}},render:function(){var L=this.values,P=this.target,Q=this.regionShapes,K,O,N,M;if(!this.cls._super.render.call(this)){return}for(N=L.length;N--;){K=this.renderRegion(N);if(K){if(j.isArray(K)){O=[];for(M=K.length;M--;){K[M].append();O.push(K[M].id)}Q[N]=O}else{K.append();Q[N]=K.id}}else{Q[N]=null}}P.render()}};j.fn.sparkline.line=p=F(j.fn.sparkline._base,{type:"line",init:function(O,L,M,N,K){p._super.init.call(this,O,L,M,N,K);this.vertices=[];this.regionMap=[];this.xvalues=[];this.yvalues=[];this.yminmax=[];this.hightlightSpotId=null;this.lastShapeId=null;this.initTarget()},getRegion:function(M,K,O){var L,N=this.regionMap;for(L=N.length;L--;){if(N[L]!==null&&K>=N[L][0]&&K<=N[L][1]){return N[L][2]}}return undefined},getCurrentRegionFields:function(){var K=this.currentRegion;return{isNull:this.yvalues[K]===null,x:this.xvalues[K],y:this.yvalues[K],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:K}},renderHighlight:function(){var K=this.currentRegion,R=this.target,O=this.vertices[K],S=this.options,N=S.get("spotRadius"),M=S.get("highlightSpotColor"),P=S.get("highlightLineColor"),L,Q;if(!O){return}if(N&&M){L=R.drawCircle(O[0],O[1],N,undefined,M);this.highlightSpotId=L.id;R.insertAfterShape(this.lastShapeId,L)}if(P){Q=R.drawLine(O[0],this.canvasTop,O[0],this.canvasTop+this.canvasHeight,P);this.highlightLineId=Q.id;R.insertAfterShape(this.lastShapeId,Q)}},removeHighlight:function(){var K=this.target;if(this.highlightSpotId){K.removeShapeId(this.highlightSpotId);this.highlightSpotId=null}if(this.highlightLineId){K.removeShapeId(this.highlightLineId);this.highlightLineId=null}},scanValues:function(){var S=this.values,M=S.length,K=this.xvalues,Q=this.yvalues,T=this.yminmax,O,N,R,P,L;for(O=0;O<M;O++){N=S[O];R=typeof(S[O])==="string";P=typeof(S[O])==="object"&&S[O] instanceof Array;L=R&&S[O].split(":");if(R&&L.length===2){K.push(Number(L[0]));Q.push(Number(L[1]));T.push(Number(L[1]))}else{if(P){K.push(N[0]);Q.push(N[1]);T.push(N[1])}else{K.push(O);if(S[O]===null||S[O]==="null"){Q.push(null)}else{Q.push(Number(N));T.push(Number(N))}}}}if(this.options.get("xvalues")){K=this.options.get("xvalues")}this.maxy=this.maxyorg=Math.max.apply(Math,T);this.miny=this.minyorg=Math.min.apply(Math,T);this.maxx=Math.max.apply(Math,K);this.minx=Math.min.apply(Math,K);this.xvalues=K;this.yvalues=Q;this.yminmax=T},processRangeOptions:function(){var L=this.options,K=L.get("normalRangeMin"),M=L.get("normalRangeMax");if(K!==undefined){if(K<this.miny){this.miny=K}if(M>this.maxy){this.maxy=M}}if(L.get("chartRangeMin")!==undefined&&(L.get("chartRangeClip")||L.get("chartRangeMin")<this.miny)){this.miny=L.get("chartRangeMin")}if(L.get("chartRangeMax")!==undefined&&(L.get("chartRangeClip")||L.get("chartRangeMax")>this.maxy)){this.maxy=L.get("chartRangeMax")}if(L.get("chartRangeMinX")!==undefined&&(L.get("chartRangeClipX")||L.get("chartRangeMinX")<this.minx)){this.minx=L.get("chartRangeMinX")}if(L.get("chartRangeMaxX")!==undefined&&(L.get("chartRangeClipX")||L.get("chartRangeMaxX")>this.maxx)){this.maxx=L.get("chartRangeMaxX")}},drawNormalRange:function(M,Q,P,N,R){var K=this.options.get("normalRangeMin"),O=this.options.get("normalRangeMax"),L=Q+Math.round(P-(P*((O-this.miny)/R))),S=Math.round((P*(O-K))/R);this.target.drawRect(M,L,N,S,undefined,this.options.get("normalRangeColor")).append()},render:function(){var Q=this.options,ao=this.target,al=this.canvasWidth,N=this.canvasHeight,T=this.vertices,ap=Q.get("spotRadius"),aa=this.regionMap,M,L,af,aj,ah,ak,ab,ae,Y,X,ad,O,am,W,ac,an,P,R,Z,K,U,ag,V,S,ai;if(!p._super.render.call(this)){return}this.scanValues();this.processRangeOptions();V=this.xvalues;S=this.yvalues;if(!this.yminmax.length||this.yvalues.length<2){return}aj=ah=0;M=this.maxx-this.minx===0?1:this.maxx-this.minx;L=this.maxy-this.miny===0?1:this.maxy-this.miny;af=this.yvalues.length-1;if(ap&&(al<(ap*4)||N<(ap*4))){ap=0}if(ap){U=Q.get("highlightSpotColor")&&!Q.get("disableInteraction");if(U||Q.get("minSpotColor")||(Q.get("spotColor")&&S[af]===this.miny)){N-=Math.ceil(ap)}if(U||Q.get("maxSpotColor")||(Q.get("spotColor")&&S[af]===this.maxy)){N-=Math.ceil(ap);aj+=Math.ceil(ap)}if(U||((Q.get("minSpotColor")||Q.get("maxSpotColor"))&&(S[0]===this.miny||S[0]===this.maxy))){ah+=Math.ceil(ap);al-=Math.ceil(ap)}if(U||Q.get("spotColor")||(Q.get("minSpotColor")||Q.get("maxSpotColor")&&(S[af]===this.miny||S[af]===this.maxy))){al-=Math.ceil(ap)}}N--;if(Q.get("normalRangeMin")!==undefined&&!Q.get("drawNormalOnTop")){this.drawNormalRange(ah,aj,N,al,L)}ab=[];ae=[ab];W=ac=null;an=S.length;for(ai=0;ai<an;ai++){Y=V[ai];ad=V[ai+1];X=S[ai];O=ah+Math.round((Y-this.minx)*(al/M));am=ai<an-1?ah+Math.round((ad-this.minx)*(al/M)):al;ac=O+((am-O)/2);aa[ai]=[W||0,ac,ai];W=ac;if(X===null){if(ai){if(S[ai-1]!==null){ab=[];ae.push(ab)}T.push(null)}}else{if(X<this.miny){X=this.miny}if(X>this.maxy){X=this.maxy}if(!ab.length){ab.push([O,aj+N])}ak=[O,aj+Math.round(N-(N*((X-this.miny)/L)))];ab.push(ak);T.push(ak)}}P=[];R=[];Z=ae.length;for(ai=0;ai<Z;ai++){ab=ae[ai];if(ab.length){if(Q.get("fillColor")){ab.push([ab[ab.length-1][0],(aj+N)]);R.push(ab.slice(0));ab.pop()}if(ab.length>2){ab[0]=[ab[0][0],ab[1][1]]}P.push(ab)}}Z=R.length;for(ai=0;ai<Z;ai++){ao.drawShape(R[ai],Q.get("fillColor"),Q.get("fillColor")).append()}if(Q.get("normalRangeMin")!==undefined&&Q.get("drawNormalOnTop")){this.drawNormalRange(ah,aj,N,al,L)}Z=P.length;for(ai=0;ai<Z;ai++){ao.drawShape(P[ai],Q.get("lineColor"),undefined,Q.get("lineWidth")).append()}if(ap&&Q.get("valueSpots")){K=Q.get("valueSpots");if(K.get===undefined){K=new r(K)}for(ai=0;ai<an;ai++){ag=K.get(S[ai]);if(ag){ao.drawCircle(ah+Math.round((V[ai]-this.minx)*(al/M)),aj+Math.round(N-(N*((S[ai]-this.miny)/L))),ap,undefined,ag).append()}}}if(ap&&Q.get("spotColor")&&S[af]!==null){ao.drawCircle(ah+Math.round((V[V.length-1]-this.minx)*(al/M)),aj+Math.round(N-(N*((S[af]-this.miny)/L))),ap,undefined,Q.get("spotColor")).append()}if(this.maxy!==this.minyorg){if(ap&&Q.get("minSpotColor")){Y=V[j.inArray(this.minyorg,S)];ao.drawCircle(ah+Math.round((Y-this.minx)*(al/M)),aj+Math.round(N-(N*((this.minyorg-this.miny)/L))),ap,undefined,Q.get("minSpotColor")).append()}if(ap&&Q.get("maxSpotColor")){Y=V[j.inArray(this.maxyorg,S)];ao.drawCircle(ah+Math.round((Y-this.minx)*(al/M)),aj+Math.round(N-(N*((this.maxyorg-this.miny)/L))),ap,undefined,Q.get("maxSpotColor")).append()}}this.lastShapeId=ao.getLastShapeId();this.canvasTop=aj;ao.render()}});j.fn.sparkline.bar=B=F(j.fn.sparkline._base,g,{type:"bar",init:function(ar,au,Y,K,L){var aa=parseInt(Y.get("barWidth"),10),ac=parseInt(Y.get("barSpacing"),10),Q=Y.get("chartRangeMin"),ah=Y.get("chartRangeMax"),N=Y.get("chartRangeClip"),al=Infinity,U=-Infinity,av,R,aj,Z,ai,aq,ak,P,ae,W,at,X,ap,V,am,O,ao,af,S,ab,M,an,ag;B._super.init.call(this,ar,au,Y,K,L);for(aq=0,ak=au.length;aq<ak;aq++){ab=au[aq];av=typeof(ab)==="string"&&ab.indexOf(":")>-1;if(av||j.isArray(ab)){am=true;if(av){ab=au[aq]=G(ab.split(":"))}ab=H(ab,null);R=Math.min.apply(Math,ab);aj=Math.max.apply(Math,ab);if(R<al){al=R}if(aj>U){U=aj}}}this.stacked=am;this.regionShapes={};this.barWidth=aa;this.barSpacing=ac;this.totalBarWidth=aa+ac;this.width=K=(au.length*aa)+((au.length-1)*ac);this.initTarget();if(N){ap=Q===undefined?-Infinity:Q;V=ah===undefined?Infinity:ah}ai=[];Z=am?[]:ai;var ad=[];var T=[];for(aq=0,ak=au.length;aq<ak;aq++){if(am){O=au[aq];au[aq]=S=[];ad[aq]=0;Z[aq]=T[aq]=0;for(ao=0,af=O.length;ao<af;ao++){ab=S[ao]=N?C(O[ao],ap,V):O[ao];if(ab!==null){if(ab>0){ad[aq]+=ab}if(al<0&&U>0){if(ab<0){T[aq]+=Math.abs(ab)}else{Z[aq]+=ab}}else{Z[aq]+=Math.abs(ab-(ab<0?U:al))}ai.push(ab)}}}else{ab=N?C(au[aq],ap,V):au[aq];ab=au[aq]=l(ab);if(ab!==null){ai.push(ab)}}}this.max=X=Math.max.apply(Math,ai);this.min=at=Math.min.apply(Math,ai);this.stackMax=U=am?Math.max.apply(Math,ad):X;this.stackMin=al=am?Math.min.apply(Math,ai):at;if(Y.get("chartRangeMin")!==undefined&&(Y.get("chartRangeClip")||Y.get("chartRangeMin")<at)){at=Y.get("chartRangeMin")}if(Y.get("chartRangeMax")!==undefined&&(Y.get("chartRangeClip")||Y.get("chartRangeMax")>X)){X=Y.get("chartRangeMax")}this.zeroAxis=ae=Y.get("zeroAxis",true);if(at<=0&&X>=0&&ae){W=0}else{if(ae==false){W=at}else{if(at>0){W=at}else{W=X}}}this.xaxisOffset=W;P=am?(Math.max.apply(Math,Z)+Math.max.apply(Math,T)):X-at;this.canvasHeightEf=(ae&&at<0)?this.canvasHeight-2:this.canvasHeight-1;if(at<W){an=(am&&X>=0)?U:X;M=(an-W)/P*this.canvasHeight;if(M!==Math.ceil(M)){this.canvasHeightEf-=2;M=Math.ceil(M)}}else{M=this.canvasHeight}this.yoffset=M;if(j.isArray(Y.get("colorMap"))){this.colorMapByIndex=Y.get("colorMap");this.colorMapByValue=null}else{this.colorMapByIndex=null;this.colorMapByValue=Y.get("colorMap");if(this.colorMapByValue&&this.colorMapByValue.get===undefined){this.colorMapByValue=new r(this.colorMapByValue)}}this.range=P},getRegion:function(M,L,N){var K=Math.floor(L/this.totalBarWidth);return(K<0||K>=this.values.length)?undefined:K},getCurrentRegionFields:function(){var O=this.currentRegion,L=y(this.values[O]),K=[],N,M;for(M=L.length;M--;){N=L[M];K.push({isNull:N===null,value:N,color:this.calcColor(M,N,O),offset:O})}return K},calcColor:function(O,P,Q){var R=this.colorMapByIndex,N=this.colorMapByValue,M=this.options,K,L;if(this.stacked){K=M.get("stackedBarColor")}else{K=(P<0)?M.get("negBarColor"):M.get("barColor")}if(P===0&&M.get("zeroColor")!==undefined){K=M.get("zeroColor")}if(N&&(L=N.get(P))){K=L}else{if(R&&R.length>Q){K=R[Q]}}return j.isArray(K)?K[O%K.length]:K},renderRegion:function(U,O){var W=this.values[U],M=this.options,K=this.xaxisOffset,S=[],X=this.range,ad=this.stacked,ae=this.target,R=U*this.totalBarWidth,L=this.canvasHeightEf,T=this.yoffset,Q,Y,aa,Z,P,ab,N,af,ac,V;W=j.isArray(W)?W:[W];N=W.length;af=W[0];Z=c(null,W);V=c(K,W,true);if(Z){if(M.get("nullColor")){aa=O?M.get("nullColor"):this.calcHighlightColor(M.get("nullColor"),M);Q=(T>0)?T-1:T;return ae.drawRect(R,Q,this.barWidth-1,0,aa,aa)}else{return undefined}}P=T;for(ab=0;ab<N;ab++){af=W[ab];if(ad&&af===K){if(!V||ac){continue}ac=true}if(X>0){Y=Math.floor(L*((Math.abs(af-K)/X)))+1}else{Y=1}if(af<K||(af===K&&T===0)){Q=P;P+=Y}else{Q=T-Y;T-=Y}aa=this.calcColor(ab,af,U);if(O){aa=this.calcHighlightColor(aa,M)}S.push(ae.drawRect(R,Q,this.barWidth-1,Y-1,aa,aa))}if(S.length===1){return S[0]}return S}});j.fn.sparkline.tristate=e=F(j.fn.sparkline._base,g,{type:"tristate",init:function(P,L,M,O,K){var N=parseInt(M.get("barWidth"),10),Q=parseInt(M.get("barSpacing"),10);e._super.init.call(this,P,L,M,O,K);this.regionShapes={};this.barWidth=N;this.barSpacing=Q;this.totalBarWidth=N+Q;this.values=j.map(L,Number);this.width=O=(L.length*N)+((L.length-1)*Q);if(j.isArray(M.get("colorMap"))){this.colorMapByIndex=M.get("colorMap");this.colorMapByValue=null}else{this.colorMapByIndex=null;this.colorMapByValue=M.get("colorMap");if(this.colorMapByValue&&this.colorMapByValue.get===undefined){this.colorMapByValue=new r(this.colorMapByValue)}}this.initTarget()},getRegion:function(L,K,M){return Math.floor(K/this.totalBarWidth)},getCurrentRegionFields:function(){var K=this.currentRegion;return{isNull:this.values[K]===undefined,value:this.values[K],color:this.calcColor(this.values[K],K),offset:K}},calcColor:function(P,Q){var L=this.values,O=this.options,R=this.colorMapByIndex,N=this.colorMapByValue,K,M;if(N&&(M=N.get(P))){K=M}else{if(R&&R.length>Q){K=R[Q]}else{if(L[Q]<0){K=O.get("negBarColor")}else{if(L[Q]>0){K=O.get("posBarColor")}else{K=O.get("zeroBarColor")}}}}return K},renderRegion:function(N,K){var S=this.values,U=this.options,O=this.target,M,T,P,R,Q,L;M=O.pixelHeight;P=Math.round(M/2);R=N*this.totalBarWidth;if(S[N]<0){Q=P;T=P-1}else{if(S[N]>0){Q=0;T=P-1}else{Q=P-1;T=2}}L=this.calcColor(S[N],N);if(L===null){return}if(K){L=this.calcHighlightColor(L,U)}return O.drawRect(R,Q,this.barWidth-1,T-1,L,L)}});j.fn.sparkline.discrete=a=F(j.fn.sparkline._base,g,{type:"discrete",init:function(O,L,M,N,K){a._super.init.call(this,O,L,M,N,K);this.regionShapes={};this.values=L=j.map(L,Number);this.min=Math.min.apply(Math,L);this.max=Math.max.apply(Math,L);this.range=this.max-this.min;this.width=N=M.get("width")==="auto"?L.length*2:this.width;this.interval=Math.floor(N/L.length);this.itemWidth=N/L.length;if(M.get("chartRangeMin")!==undefined&&(M.get("chartRangeClip")||M.get("chartRangeMin")<this.min)){this.min=M.get("chartRangeMin")}if(M.get("chartRangeMax")!==undefined&&(M.get("chartRangeClip")||M.get("chartRangeMax")>this.max)){this.max=M.get("chartRangeMax")}this.initTarget();if(this.target){this.lineHeight=M.get("lineHeight")==="auto"?Math.round(this.canvasHeight*0.3):M.get("lineHeight")}},getRegion:function(L,K,M){return Math.floor(K/this.itemWidth)},getCurrentRegionFields:function(){var K=this.currentRegion;return{isNull:this.values[K]===undefined,value:this.values[K],offset:K}},renderRegion:function(S,N){var Y=this.values,Z=this.options,P=this.min,V=this.max,R=this.range,L=this.interval,U=this.target,Q=this.canvasHeight,X=this.lineHeight,T=Q-X,K,M,O,W;M=C(Y[S],P,V);W=S*L;K=Math.round(T-T*((M-P)/R));O=(Z.get("thresholdColor")&&M<Z.get("thresholdValue"))?Z.get("thresholdColor"):Z.get("lineColor");if(N){O=this.calcHighlightColor(O,Z)}return U.drawLine(W,K,W,K+X,O)}});j.fn.sparkline.bullet=D=F(j.fn.sparkline._base,{type:"bullet",init:function(Q,M,N,P,L){var O,K,R;D._super.init.call(this,Q,M,N,P,L);this.values=M=G(M);R=M.slice();R[0]=R[0]===null?R[2]:R[0];R[1]=M[1]===null?R[2]:R[1];O=Math.min.apply(Math,M);K=Math.max.apply(Math,M);if(N.get("base")===undefined){O=O<0?O:0}else{O=N.get("base")}this.min=O;this.max=K;this.range=K-O;this.shapes={};this.valueShapes={};this.regiondata={};this.width=P=N.get("width")==="auto"?"4.0em":P;this.target=this.$el.simpledraw(P,L,N.get("composite"));if(!M.length){this.disabled=true}this.initTarget()},getRegion:function(L,K,N){var M=this.target.getShapeAt(L,K,N);return(M!==undefined&&this.shapes[M]!==undefined)?this.shapes[M]:undefined},getCurrentRegionFields:function(){var K=this.currentRegion;return{fieldkey:K.substr(0,1),value:this.values[K.substr(1)],region:K}},changeHighlight:function(L){var N=this.currentRegion,M=this.valueShapes[N],K;delete this.shapes[M];switch(N.substr(0,1)){case"r":K=this.renderRange(N.substr(1),L);break;case"p":K=this.renderPerformance(L);break;case"t":K=this.renderTarget(L);break}this.valueShapes[N]=K.id;this.shapes[K.id]=N;this.target.replaceWithShape(M,K)},renderRange:function(N,L){var O=this.values[N],M=Math.round(this.canvasWidth*((O-this.min)/this.range)),K=this.options.get("rangeColors")[N-2];if(L){K=this.calcHighlightColor(K,this.options)}return this.target.drawRect(0,0,M-1,this.canvasHeight-1,K,K)},renderPerformance:function(L){var N=this.values[1],M=Math.round(this.canvasWidth*((N-this.min)/this.range)),K=this.options.get("performanceColor");if(L){K=this.calcHighlightColor(K,this.options)}return this.target.drawRect(0,Math.round(this.canvasHeight*0.3),M-1,Math.round(this.canvasHeight*0.4)-1,K,K)},renderTarget:function(M){var P=this.values[0],K=Math.round(this.canvasWidth*((P-this.min)/this.range)-(this.options.get("targetWidth")/2)),O=Math.round(this.canvasHeight*0.1),N=this.canvasHeight-(O*2),L=this.options.get("targetColor");if(M){L=this.calcHighlightColor(L,this.options)}return this.target.drawRect(K,O,this.options.get("targetWidth")-1,N-1,L,L)},render:function(){var N=this.values.length,M=this.target,L,K;if(!D._super.render.call(this)){return}for(L=2;L<N;L++){K=this.renderRange(L).append();this.shapes[K.id]="r"+L;this.valueShapes["r"+L]=K.id}if(this.values[1]!==null){K=this.renderPerformance().append();this.shapes[K.id]="p1";this.valueShapes.p1=K.id}if(this.values[0]!==null){K=this.renderTarget().append();this.shapes[K.id]="t0";this.valueShapes.t0=K.id}M.render()}});j.fn.sparkline.pie=u=F(j.fn.sparkline._base,{type:"pie",init:function(P,L,M,O,K){var Q=0,N;u._super.init.call(this,P,L,M,O,K);this.shapes={};this.valueShapes={};this.values=L=j.map(L,Number);if(M.get("width")==="auto"){this.width=this.height}if(L.length>0){for(N=L.length;N--;){Q+=L[N]}}this.total=Q;this.initTarget();this.radius=Math.floor(Math.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(L,K,N){var M=this.target.getShapeAt(L,K,N);return(M!==undefined&&this.shapes[M]!==undefined)?this.shapes[M]:undefined},getCurrentRegionFields:function(){var K=this.currentRegion;return{isNull:this.values[K]===undefined,value:this.values[K],percent:this.values[K]/this.total*100,color:this.options.get("sliceColors")[K%this.options.get("sliceColors").length],offset:K}},changeHighlight:function(K){var N=this.currentRegion,L=this.renderSlice(N,K),M=this.valueShapes[N];delete this.shapes[M];this.target.replaceWithShape(M,L);this.valueShapes[N]=L.id;this.shapes[L.id]=N},renderSlice:function(T,N){var V=this.target,Z=this.options,U=this.radius,K=Z.get("borderWidth"),Q=Z.get("offset"),L=2*Math.PI,Y=this.values,W=this.total,S=Q?(2*Math.PI)*(Q/360):0,M,P,R,X,O;X=Y.length;for(R=0;R<X;R++){M=S;P=S;if(W>0){P=S+(L*(Y[R]/W))}if(T===R){O=Z.get("sliceColors")[R%Z.get("sliceColors").length];if(N){O=this.calcHighlightColor(O,Z)}return V.drawPieSlice(U,U,U-K,M,P,undefined,O)}S=P}},render:function(){var Q=this.target,N=this.values,O=this.options,K=this.radius,M=O.get("borderWidth"),L,P;if(!u._super.render.call(this)){return}if(M){Q.drawCircle(K,K,Math.floor(K-(M/2)),O.get("borderColor"),undefined,M).append()}for(P=N.length;P--;){if(N[P]){L=this.renderSlice(P).append();this.valueShapes[P]=L.id;this.shapes[L.id]=P}}Q.render()}});j.fn.sparkline.box=o=F(j.fn.sparkline._base,{type:"box",init:function(O,L,M,N,K){o._super.init.call(this,O,L,M,N,K);this.values=j.map(L,Number);this.width=M.get("width")==="auto"?"4.0em":N;this.initTarget();if(!this.values.length){this.disabled=1}},getRegion:function(){return 1},getCurrentRegionFields:function(){var K=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];if(this.loutlier!==undefined){K.push({field:"lo",value:this.loutlier})}if(this.routlier!==undefined){K.push({field:"ro",value:this.routlier})}if(this.lwhisker!==undefined){K.push({field:"lw",value:this.lwhisker})}if(this.rwhisker!==undefined){K.push({field:"rw",value:this.rwhisker})}return K},render:function(){var ad=this.target,N=this.values,R=N.length,P=this.options,ac=this.canvasWidth,L=this.canvasHeight,W=P.get("chartRangeMin")===undefined?Math.min.apply(Math,N):P.get("chartRangeMin"),ab=P.get("chartRangeMax")===undefined?Math.max.apply(Math,N):P.get("chartRangeMax"),Y=0,V,aa,O,U,T,S,K,Q,Z,X,M;if(!o._super.render.call(this)){return}if(P.get("raw")){if(P.get("showOutliers")&&N.length>5){aa=N[0];V=N[1];U=N[2];T=N[3];S=N[4];K=N[5];Q=N[6]}else{V=N[0];U=N[1];T=N[2];S=N[3];K=N[4]}}else{N.sort(function(af,ae){return af-ae});U=t(N,1);T=t(N,2);S=t(N,3);O=S-U;if(P.get("showOutliers")){V=K=undefined;for(Z=0;Z<R;Z++){if(V===undefined&&N[Z]>U-(O*P.get("outlierIQR"))){V=N[Z]}if(N[Z]<S+(O*P.get("outlierIQR"))){K=N[Z]}}aa=N[0];Q=N[R-1]}else{V=N[0];K=N[R-1]}}this.quartiles=[U,T,S];this.lwhisker=V;this.rwhisker=K;this.loutlier=aa;this.routlier=Q;M=ac/(ab-W+1);if(P.get("showOutliers")){Y=Math.ceil(P.get("spotRadius"));ac-=2*Math.ceil(P.get("spotRadius"));M=ac/(ab-W+1);if(aa<V){ad.drawCircle((aa-W)*M+Y,L/2,P.get("spotRadius"),P.get("outlierLineColor"),P.get("outlierFillColor")).append()}if(Q>K){ad.drawCircle((Q-W)*M+Y,L/2,P.get("spotRadius"),P.get("outlierLineColor"),P.get("outlierFillColor")).append()}}ad.drawRect(Math.round((U-W)*M+Y),Math.round(L*0.1),Math.round((S-U)*M),Math.round(L*0.8),P.get("boxLineColor"),P.get("boxFillColor")).append();ad.drawLine(Math.round((V-W)*M+Y),Math.round(L/2),Math.round((U-W)*M+Y),Math.round(L/2),P.get("lineColor")).append();ad.drawLine(Math.round((V-W)*M+Y),Math.round(L/4),Math.round((V-W)*M+Y),Math.round(L-L/4),P.get("whiskerColor")).append();ad.drawLine(Math.round((K-W)*M+Y),Math.round(L/2),Math.round((S-W)*M+Y),Math.round(L/2),P.get("lineColor")).append();ad.drawLine(Math.round((K-W)*M+Y),Math.round(L/4),Math.round((K-W)*M+Y),Math.round(L-L/4),P.get("whiskerColor")).append();ad.drawLine(Math.round((T-W)*M+Y),Math.round(L*0.1),Math.round((T-W)*M+Y),Math.round(L*0.9),P.get("medianColor")).append();if(P.get("target")){X=Math.ceil(P.get("spotRadius"));ad.drawLine(Math.round((P.get("target")-W)*M+Y),Math.round((L/2)-X),Math.round((P.get("target")-W)*M+Y),Math.round((L/2)+X),P.get("targetColor")).append();ad.drawLine(Math.round((P.get("target")-W)*M+Y-X),Math.round(L/2),Math.round((P.get("target")-W)*M+Y+X),Math.round(L/2),P.get("targetColor")).append()}ad.render()}});(function(){if(document.namespaces&&!document.namespaces.v){j.fn.sparkline.hasVML=true;document.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML")}else{j.fn.sparkline.hasVML=false}var K=document.createElement("canvas");j.fn.sparkline.hasCanvas=!!(K.getContext&&K.getContext("2d"))})();x=F({init:function(M,N,L,K){this.target=M;this.id=N;this.type=L;this.args=K},append:function(){this.target.appendShape(this);return this}});k=F({_pxregex:/(\d+)(px)?\s*$/i,init:function(L,K,M){if(!L){return}this.width=L;this.height=K;this.target=M;this.lastShapeId=null;if(M[0]){M=M[0]}j.data(M,"_jqs_vcanvas",this)},drawLine:function(M,O,L,N,P,K){return this.drawShape([[M,O],[L,N]],P,K)},drawShape:function(M,L,N,K){return this._genShape("Shape",[M,L,N,K])},drawCircle:function(M,P,L,N,O,K){return this._genShape("Circle",[M,P,L,N,O,K])},drawPieSlice:function(L,Q,K,N,M,O,P){return this._genShape("PieSlice",[L,Q,K,N,M,O,P])},drawRect:function(L,P,M,K,N,O){return this._genShape("Rect",[L,P,M,K,N,O])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(K,L){j(L).html(K)},_calculatePixelDims:function(N,K,M){var L;L=this._pxregex.exec(K);if(L){this.pixelHeight=L[1]}else{this.pixelHeight=j(M).height()}L=this._pxregex.exec(N);if(L){this.pixelWidth=L[1]}else{this.pixelWidth=j(M).width()}},_genShape:function(L,K){var M=f++;K.unshift(M);return new x(this,M,L,K)},appendShape:function(K){alert("appendShape not implemented")},replaceWithShape:function(L,K){alert("replaceWithShape not implemented")},insertAfterShape:function(L,K){alert("insertAfterShape not implemented")},removeShapeId:function(K){alert("removeShapeId not implemented")},getShapeAt:function(L,K,M){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}});z=F(k,{init:function(M,K,N,L){z._super.init.call(this,M,K,N);this.canvas=document.createElement("canvas");if(N[0]){N=N[0]}j.data(N,"_jqs_vcanvas",this);j(this.canvas).css({display:"inline-block",width:M,height:K,verticalAlign:"top"});this._insert(this.canvas,N);this._calculatePixelDims(M,K,this.canvas);this.canvas.width=this.pixelWidth;this.canvas.height=this.pixelHeight;this.interact=L;this.shapes={};this.shapeseq=[];this.currentTargetShapeId=undefined;j(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(M,N,K){var L=this.canvas.getContext("2d");if(M!==undefined){L.strokeStyle=M}L.lineWidth=K===undefined?1:K;if(N!==undefined){L.fillStyle=N}return L},reset:function(){var K=this._getContext();K.clearRect(0,0,this.pixelWidth,this.pixelHeight);this.shapes={};this.shapeseq=[];this.currentTargetShapeId=undefined},_drawShape:function(Q,P,O,R,K){var M=this._getContext(O,R,K),L,N;M.beginPath();M.moveTo(P[0][0]+0.5,P[0][1]+0.5);for(L=1,N=P.length;L<N;L++){M.lineTo(P[L][0]+0.5,P[L][1]+0.5)}if(O!==undefined){M.stroke()}if(R!==undefined){M.fill()}if(this.targetX!==undefined&&this.targetY!==undefined&&M.isPointInPath(this.targetX,this.targetY)){this.currentTargetShapeId=Q}},_drawCircle:function(P,M,R,L,O,Q,K){var N=this._getContext(O,Q,K);N.beginPath();N.arc(M,R,L,0,2*Math.PI,false);if(this.targetX!==undefined&&this.targetY!==undefined&&N.isPointInPath(this.targetX,this.targetY)){this.currentTargetShapeId=P}if(O!==undefined){N.stroke()}if(Q!==undefined){N.fill()}},_drawPieSlice:function(O,S,Q,N,P,M,R,L){var K=this._getContext(R,L);K.beginPath();K.moveTo(S,Q);K.arc(S,Q,N,P,M,false);K.lineTo(S,Q);K.closePath();if(R!==undefined){K.stroke()}if(L){K.fill()}if(this.targetX!==undefined&&this.targetY!==undefined&&K.isPointInPath(this.targetX,this.targetY)){this.currentTargetShapeId=O}},_drawRect:function(O,L,Q,M,K,N,P){return this._drawShape(O,[[L,Q],[L+M,Q],[L+M,Q+K],[L,Q+K],[L,Q]],N,P)},appendShape:function(K){this.shapes[K.id]=K;this.shapeseq.push(K.id);this.lastShapeId=K.id;return K.id},replaceWithShape:function(M,K){var N=this.shapeseq,L;this.shapes[K.id]=K;for(L=N.length;L--;){if(N[L]==M){N[L]=K.id}}delete this.shapes[M]},replaceWithShapes:function(M,L){var Q=this.shapeseq,O={},K,N,P;for(N=M.length;N--;){O[M[N]]=true}for(N=Q.length;N--;){K=Q[N];if(O[K]){Q.splice(N,1);delete this.shapes[K];P=N}}for(N=L.length;N--;){Q.splice(P,0,L[N].id);this.shapes[L[N].id]=L[N]}},insertAfterShape:function(M,K){var N=this.shapeseq,L;for(L=N.length;L--;){if(N[L]===M){N.splice(L+1,0,K.id);this.shapes[K.id]=K;return}}},removeShapeId:function(L){var M=this.shapeseq,K;for(K=M.length;K--;){if(M[K]===L){M.splice(K,1);break}}delete this.shapes[L]},getShapeAt:function(L,K,M){this.targetX=K;this.targetY=M;this.render();return this.currentTargetShapeId},render:function(){var Q=this.shapeseq,K=this.shapes,O=Q.length,N=this._getContext(),P,L,M;N.clearRect(0,0,this.pixelWidth,this.pixelHeight);for(M=0;M<O;M++){P=Q[M];L=K[P];this["_draw"+L.type].apply(this,L.args)}if(!this.interact){this.shapes={};this.shapeseq=[]}}});w=F(k,{init:function(L,K,N){var M;w._super.init.call(this,L,K,N);if(N[0]){N=N[0]}j.data(N,"_jqs_vcanvas",this);this.canvas=document.createElement("span");j(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:L,height:K,margin:"0px",padding:"0px",verticalAlign:"top"});this._insert(this.canvas,N);this._calculatePixelDims(L,K,this.canvas);this.canvas.width=this.pixelWidth;this.canvas.height=this.pixelHeight;M='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>';this.canvas.insertAdjacentHTML("beforeEnd",M);this.group=j(this.canvas).children()[0];this.rendered=false;this.prerender=""},_drawShape:function(P,W,R,K,N){var S=[],Q,V,U,O,T,L,M;for(M=0,L=W.length;M<L;M++){S[M]=""+(W[M][0])+","+(W[M][1])}Q=S.splice(0,1);N=N===undefined?1:N;V=R===undefined?' stroked="false" ':' strokeWeight="'+N+'px" strokeColor="'+R+'" ';U=K===undefined?' filled="false"':' fillColor="'+K+'" filled="true" ';O=S[0]===S[S.length-1]?"x ":"";T='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+P+'" '+V+U+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+Q+" l "+S.join(", ")+" "+O+'e"> </v:shape>';return T},_drawCircle:function(N,Q,O,M,P,K,L){var T,S,R;Q-=M;O-=M;T=P===undefined?' stroked="false" ':' strokeWeight="'+L+'px" strokeColor="'+P+'" ';S=K===undefined?' filled="false"':' fillColor="'+K+'" filled="true" ';R='<v:oval  id="jqsshape'+N+'" '+T+S+' style="position:absolute;top:'+O+"px; left:"+Q+"px; width:"+(M*2)+"px; height:"+(M*2)+'px"></v:oval>';return R},_drawPieSlice:function(R,W,U,Q,S,N,V,M){var T,L,K,P,O,Z,Y,X;if(S===N){return""}if((N-S)===(2*Math.PI)){S=0;N=(2*Math.PI)}L=W+Math.round(Math.cos(S)*Q);K=U+Math.round(Math.sin(S)*Q);P=W+Math.round(Math.cos(N)*Q);O=U+Math.round(Math.sin(N)*Q);if(L===P&&K===O){if((N-S)<Math.PI){return""}L=P=W+Q;K=O=U}if(L===P&&K===O&&(N-S)<Math.PI){return""}T=[W-Q,U-Q,W+Q,U+Q,L,K,P,O];Z=V===undefined?' stroked="false" ':' strokeWeight="1px" strokeColor="'+V+'" ';Y=M===undefined?' filled="false"':' fillColor="'+M+'" filled="true" ';X='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+R+'" '+Z+Y+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+W+","+U+" wa "+T.join(", ")+' x e"> </v:shape>';return X},_drawRect:function(O,L,Q,M,K,N,P){return this._drawShape(O,[[L,Q],[L,Q+K],[L+M,Q+K],[L+M,Q],[L,Q]],N,P)},reset:function(){this.group.innerHTML=""},appendShape:function(K){var L=this["_draw"+K.type].apply(this,K.args);if(this.rendered){this.group.insertAdjacentHTML("beforeEnd",L)}else{this.prerender+=L}this.lastShapeId=K.id;return K.id},replaceWithShape:function(N,K){var M=j("#jqsshape"+N),L=this["_draw"+K.type].apply(this,K.args);M[0].outerHTML=L},replaceWithShapes:function(L,K){var O=j("#jqsshape"+L[0]),N="",P=K.length,M;for(M=0;M<P;M++){N+=this["_draw"+K[M].type].apply(this,K[M].args)}O[0].outerHTML=N;for(M=1;M<L.length;M++){j("#jqsshape"+L[M]).remove()}},insertAfterShape:function(N,K){var M=j("#jqsshape"+N),L=this["_draw"+K.type].apply(this,K.args);M[0].insertAdjacentHTML("afterEnd",L)},removeShapeId:function(L){var K=j("#jqsshape"+L);this.group.removeChild(K[0])},getShapeAt:function(L,K,N){var M=L.id.substr(8);return M},render:function(){if(!this.rendered){this.group.innerHTML=this.prerender;this.rendered=true}}})}));(function(c){var a=new Array();var b=new Array();c.fn.doAutosize=function(h){var f=c(this).data("minwidth"),p=c(this).data("maxwidth"),k="",n=c(this),j=c("#"+c(this).data("tester_id"));if(k===(k=n.val())){return}var e=k.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");j.html(e);var m=j.width(),l=(m+h.comfortZone)>=f?m+h.comfortZone:f,g=n.width(),d=(l<g&&l>=f)||(l>f&&l<p);if(d){n.width(l)}};c.fn.resetAutosize=function(f){var h=c(this).data("minwidth")||f.minInputWidth||c(this).width(),j=c(this).data("maxwidth")||f.maxInputWidth||(c(this).closest(".tagsinput").width()-f.inputPadding),k="",e=c(this),g=c("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:e.css("fontSize"),fontFamily:e.css("fontFamily"),fontWeight:e.css("fontWeight"),letterSpacing:e.css("letterSpacing"),whiteSpace:"nowrap"}),d=c(this).attr("id")+"_autosize_tester";if(!c("#"+d).length>0){g.attr("id",d);g.appendTo("body")}e.data("minwidth",h);e.data("maxwidth",j);e.data("tester_id",d);e.css("width",h)};c.fn.addTag=function(e,d){d=jQuery.extend({focus:false,callback:true},d);this.each(function(){var l=c(this).attr("id");var g=c(this).val().split(a[l]);if(g[0]==""){g=new Array()}e=jQuery.trim(e);if(d.unique){var h=c(this).tagExist(e);if(h==true){c("#"+l+"_tag").addClass("not_valid")}}else{var h=false}if(e!=""&&h!=true){c("<span>").addClass("tag").append(c("<span>").text(e).append("&nbsp;&nbsp;"),c("<a>",{href:"#",title:"Removing tag",html:'<i class="icon-remove"></i>'}).click(function(){return c("#"+l).removeTag(escape(e))})).insertBefore("#"+l+"_addTag");g.push(e);c("#"+l+"_tag").val("");if(d.focus){c("#"+l+"_tag").focus()}else{c("#"+l+"_tag").blur()}c.fn.tagsInput.updateTagsField(this,g);if(d.callback&&b[l]&&b[l]["onAddTag"]){var k=b[l]["onAddTag"];k.call(this,e)}if(b[l]&&b[l]["onChange"]){var j=g.length;var k=b[l]["onChange"];k.call(this,c(this),g[j-1])}}});return false};c.fn.removeTag=function(d){d=unescape(d);this.each(function(){var h=c(this).attr("id");var e=c(this).val().split(a[h]);c("#"+h+"_tagsinput .tag").remove();str="";for(i=0;i<e.length;i++){if(e[i]!=d){str=str+a[h]+e[i]}}c.fn.tagsInput.importTags(this,str);if(b[h]&&b[h]["onRemoveTag"]){var g=b[h]["onRemoveTag"];g.call(this,d)}});return false};c.fn.tagExist=function(e){var f=c(this).attr("id");var d=c(this).val().split(a[f]);return(jQuery.inArray(e,d)>=0)};c.fn.importTags=function(d){id=c(this).attr("id");c("#"+id+"_tagsinput .tag").remove();c.fn.tagsInput.importTags(this,d)};c.fn.tagsInput=function(d){var e=jQuery.extend({interactive:true,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:false},hide:true,delimiter:",",unique:true,removeWithBackspace:true,placeholderColor:"#666666",autosize:true,comfortZone:20,inputPadding:6*2},d);this.each(function(){if(e.hide){c(this).hide()}var h=c(this).attr("id");if(!h||a[c(this).attr("id")]){h=c(this).attr("id","tags"+new Date().getTime()).attr("id")}var g=jQuery.extend({pid:h,real_input:"#"+h,holder:"#"+h+"_tagsinput",input_wrapper:"#"+h+"_addTag",fake_input:"#"+h+"_tag"},e);a[h]=g.delimiter;if(e.onAddTag||e.onRemoveTag||e.onChange){b[h]=new Array();b[h]["onAddTag"]=e.onAddTag;b[h]["onRemoveTag"]=e.onRemoveTag;b[h]["onChange"]=e.onChange}var f='<div id="'+h+'_tagsinput" class="tagsinput"><div id="'+h+'_addTag">';if(e.interactive){f=f+'<input id="'+h+'_tag" value="" data-default="'+e.defaultText+'" />'}f=f+'</div><div class="tags_clear"></div></div>';c(f).insertAfter(this);c(g.holder).css("width",e.width);if(c(g.real_input).val()!=""){c.fn.tagsInput.importTags(c(g.real_input),c(g.real_input).val())}if(e.interactive){c(g.fake_input).val(c(g.fake_input).attr("data-default"));c(g.fake_input).css("color",e.placeholderColor);c(g.fake_input).resetAutosize(e);c(g.holder).bind("click",g,function(j){c(j.data.fake_input).focus()});c(g.fake_input).bind("focus",g,function(j){if(c(j.data.fake_input).val()==c(j.data.fake_input).attr("data-default")){c(j.data.fake_input).val("")}c(j.data.fake_input).css("color","#000000")});if(e.autocomplete_url!=undefined){autocomplete_options={source:e.autocomplete_url};for(attrname in e.autocomplete){autocomplete_options[attrname]=e.autocomplete[attrname]}if(jQuery.Autocompleter!==undefined){c(g.fake_input).autocomplete(e.autocomplete_url,e.autocomplete);c(g.fake_input).bind("result",g,function(j,l,k){if(l){c("#"+h).addTag(l[0]+"",{focus:true,unique:(e.unique)})}})}else{if(jQuery.ui.autocomplete!==undefined){c(g.fake_input).autocomplete(autocomplete_options);c(g.fake_input).bind("autocompleteselect",g,function(j,k){c(j.data.real_input).addTag(k.item.value,{focus:true,unique:(e.unique)});return false})}}}else{c(g.fake_input).bind("blur",g,function(j){var k=c(this).attr("data-default");if(c(j.data.fake_input).val()!=""&&c(j.data.fake_input).val()!=k){if((j.data.minChars<=c(j.data.fake_input).val().length)&&(!j.data.maxChars||(j.data.maxChars>=c(j.data.fake_input).val().length))){c(j.data.real_input).addTag(c(j.data.fake_input).val(),{focus:true,unique:(e.unique)})}}else{c(j.data.fake_input).val(c(j.data.fake_input).attr("data-default"));c(j.data.fake_input).css("color",e.placeholderColor)}return false})}c(g.fake_input).bind("keypress",g,function(j){if(j.which==j.data.delimiter.charCodeAt(0)||j.which==13){j.preventDefault();if((j.data.minChars<=c(j.data.fake_input).val().length)&&(!j.data.maxChars||(j.data.maxChars>=c(j.data.fake_input).val().length))){c(j.data.real_input).addTag(c(j.data.fake_input).val(),{focus:true,unique:(e.unique)})}c(j.data.fake_input).resetAutosize(e);return false}else{if(j.data.autosize){c(j.data.fake_input).doAutosize(e)}}});g.removeWithBackspace&&c(g.fake_input).bind("keydown",function(k){if(k.keyCode==8&&c(this).val()==""){k.preventDefault();var j=c(this).closest(".tagsinput").find(".tag:last").text();var l=c(this).attr("id").replace(/_tag$/,"");j=j.replace(/[\s]+x$/,"");c("#"+l).removeTag(escape(j));c(this).trigger("focus")}});c(g.fake_input).blur();if(g.unique){c(g.fake_input).keydown(function(j){if(j.keyCode==8||String.fromCharCode(j.which).match(/\w+|[,/]+/)){c(this).removeClass("not_valid")}})}}});return this};c.fn.tagsInput.updateTagsField=function(e,d){var f=c(e).attr("id");c(e).val(d.join(a[f]))};c.fn.tagsInput.importTags=function(g,h){c(g).val("");var j=c(g).attr("id");var d=h.split(a[j]);for(i=0;i<d.length;i++){c(g).addTag(d[i],{focus:false,callback:false})}if(b[j]&&b[j]["onChange"]){var e=b[j]["onChange"];e.call(g,g,d[i])}}})(jQuery);(function(e,c){function f(C){var B=Array.prototype.slice.call(arguments,1);if(C.prop){return C.prop.apply(C,B)}return C.attr.apply(C,B)}function x(F,D,E){var C,B;for(C in E){if(E.hasOwnProperty(C)){B=C.replace(/ |$/g,D.eventNamespace);F.bind(B,E[C])}}}function d(D,B,C){x(D,C,{focus:function(){B.addClass(C.focusClass)},blur:function(){B.removeClass(C.focusClass);B.removeClass(C.activeClass)},mouseenter:function(){B.addClass(C.hoverClass)},mouseleave:function(){B.removeClass(C.hoverClass);B.removeClass(C.activeClass)},"mousedown touchbegin":function(){if(!D.is(":disabled")){B.addClass(C.activeClass)}},"mouseup touchend":function(){B.removeClass(C.activeClass)}})}function w(C,B){C.removeClass(B.hoverClass+" "+B.focusClass+" "+B.activeClass)}function u(C,D,B){if(B){C.addClass(D)}else{C.removeClass(D)}}function z(B,D,C){var F="checked",E=D.is(":"+F);if(D.prop){D.prop(F,E)}else{if(E){D.attr(F,F)}else{D.removeAttr(F)}}u(B,C.checkedClass,E)}function o(B,D,C){u(B,C.disabledClass,D.is(":disabled"))}function m(B,C,D){switch(D){case"after":B.after(C);return B.next();case"before":B.before(C);return B.prev();case"wrap":B.wrap(C);return B.parent()}return null}function r(E,D,F){var C,B,G;if(!F){F={}}F=e.extend({bind:{},divClass:null,divWrap:"wrap",spanClass:null,spanHtml:null,spanWrap:"wrap"},F);C=e("<div />");B=e("<span />");if(D.autoHide&&E.is(":hidden")&&E.css("display")==="none"){C.hide()}if(F.divClass){C.addClass(F.divClass)}if(D.wrapperClass){C.addClass(D.wrapperClass)}if(F.spanClass){B.addClass(F.spanClass)}G=f(E,"id");if(D.useID&&G){f(C,"id",D.idPrefix+"-"+G)}if(F.spanHtml){B.html(F.spanHtml)}C=m(E,C,F.divWrap);B=m(E,B,F.spanWrap);o(C,E,D);return{div:C,span:B}}function q(D,C){var B;if(!C.wrapperClass){return null}B=e("<span />").addClass(C.wrapperClass);B=m(D,B,"wrap");return B}function h(){var E,B,D,C;C="rgb(120,2,153)";B=e('<div style="width:0;height:0;color:'+C+'">');e("body").append(B);D=B.get(0);if(window.getComputedStyle){E=window.getComputedStyle(D,"").color}else{E=(D.currentStyle||D.style||{}).color}B.remove();return E.replace(/ /g,"")!==C}function p(B){if(!B){return""}return e("<span />").text(B).html()}function k(){return navigator.cpuClass&&!navigator.product}function l(){if(typeof window.XMLHttpRequest!=="undefined"){return true}return false}function a(C){var B;if(C[0].multiple){return true}B=f(C,"size");if(!B||B<=1){return false}return true}function g(){return false}function v(B,C){var D="none";x(B,C,{"selectstart dragstart mousedown":g});B.css({MozUserSelect:D,msUserSelect:D,webkitUserSelect:D,userSelect:D})}function y(E,C,D){var B=E.val();if(B===""){B=D.fileDefaultHtml}else{B=B.split(/[\/\\]+/);B=B[(B.length-1)]}C.text(B)}function n(C,E,F){var B,D;B=[];C.each(function(){var G;for(G in E){if(Object.prototype.hasOwnProperty.call(E,G)){B.push({el:this,name:G,old:this.style[G]});this.style[G]=E[G]}}});F();while(B.length){D=B.pop();D.el.style[D.name]=D.old}}function b(C,D){var B;B=C.parents();B.push(C[0]);B=B.not(":visible");n(B,{visibility:"hidden",display:"block",position:"absolute"},D)}function A(C,B){return function(){C.unwrap().unwrap().unbind(B.eventNamespace)}}var j=true,t=false,s=[{match:function(B){return B.is("a, button, :submit, :reset, input[type='button']")},apply:function(E,D){var B,C,F,H,G;C=D.submitDefaultHtml;if(E.is(":reset")){C=D.resetDefaultHtml}if(E.is("a, button")){H=function(){return E.html()||C}}else{H=function(){return p(f(E,"value"))||C}}F=r(E,D,{divClass:D.buttonClass,spanHtml:H()});B=F.div;d(E,B,D);G=false;x(B,D,{"click touchend":function(){var K,J,L,I;if(G){return}if(E.is(":disabled")){return}G=true;if(E[0].dispatchEvent){K=document.createEvent("MouseEvents");K.initEvent("click",true,true);J=E[0].dispatchEvent(K);if(E.is("a")&&J){L=f(E,"target");I=f(E,"href");if(!L||L==="_self"){document.location.href=I}else{window.open(I,L)}}}else{E.click()}G=false}});v(B,D);return{remove:function(){B.after(E);B.remove();E.unbind(D.eventNamespace);return E},update:function(){w(B,D);o(B,E,D);E.detach();F.span.html(H()).append(E)}}}},{match:function(B){return B.is(":checkbox")},apply:function(E,D){var F,C,B;F=r(E,D,{divClass:D.checkboxClass});C=F.div;B=F.span;d(E,C,D);x(E,D,{"click touchend":function(){z(B,E,D)}});z(B,E,D);return{remove:A(E,D),update:function(){w(C,D);B.removeClass(D.checkedClass);z(B,E,D);o(C,E,D)}}}},{match:function(B){return B.is(":file")},apply:function(F,E){var H,D,C,G;H=r(F,E,{divClass:E.fileClass,spanClass:E.fileButtonClass,spanHtml:E.fileButtonHtml,spanWrap:"after"});D=H.div;G=H.span;C=e("<span />").html(E.fileDefaultHtml);C.addClass(E.filenameClass);C=m(F,C,"after");if(!f(F,"size")){f(F,"size",D.width()/10)}function B(){y(F,C,E)}d(F,D,E);B();if(k()){x(F,E,{click:function(){F.trigger("change");setTimeout(B,0)}})}else{x(F,E,{change:B})}v(C,E);v(G,E);return{remove:function(){C.remove();G.remove();return F.unwrap().unbind(E.eventNamespace)},update:function(){w(D,E);y(F,C,E);o(D,F,E)}}}},{match:function(C){if(C.is("input")){var B=(" "+f(C,"type")+" ").toLowerCase(),D=" color date datetime datetime-local email month number password search tel text time url week ";return D.indexOf(B)>=0}return false},apply:function(D,C){var B,E;B=f(D,"type");D.addClass(C.inputClass);E=q(D,C);d(D,D,C);if(C.inputAddTypeAsClass){D.addClass(B)}return{remove:function(){D.removeClass(C.inputClass);if(C.inputAddTypeAsClass){D.removeClass(B)}if(E){D.unwrap()}},update:g}}},{match:function(B){return B.is(":radio")},apply:function(E,D){var F,C,B;F=r(E,D,{divClass:D.radioClass});C=F.div;B=F.span;d(E,C,D);x(E,D,{"click touchend":function(){var G;G=f(E,"name");G=G.replace(/(["\\])/g,"\\$1");e.uniform.update(e(':radio[name="'+G+'"]'))}});z(B,E,D);return{remove:A(E,D),update:function(){w(C,D);z(B,E,D);o(C,E,D)}}}},{match:function(B){if(B.is("select")&&!a(B)){return true}return false},apply:function(I,J){var D,F,G,E,H;function C(){var K={borderWidth:"0px",display:"inline",width:"auto"};if(H){K.fontSize=H}n(I,K,function(){b(I,function(){E=I.width();if(!H){H=I.css("fontSize")}})})}function B(){var L,K;n(e([G[0],F[0]]),{display:"block",width:""},function(){var M;M=G.outerWidth()-G.width();L=E+M;K=E});F.width(L);G.width(K)}if(J.selectAutoWidth){C()}D=r(I,J,{divClass:J.selectClass,spanHtml:(I.find(":selected:first")||I.find("option:first")).html(),spanWrap:"before"});F=D.div;G=D.span;if(J.selectAutoWidth){B()}else{F.addClass("fixedWidth")}d(I,F,J);x(I,J,{change:function(){G.html(I.find(":selected").html());F.removeClass(J.activeClass)},"click touchend":function(){var K=I.find(":selected").html();if(G.html()!==K){I.trigger("change")}},keyup:function(){G.html(I.find(":selected").html())}});v(G,J);return{remove:function(){G.remove();I.unwrap().unbind(J.eventNamespace);return I},update:function(){if(J.selectAutoWidth){C()}w(F,J);G.html(I.find(":selected:first").html());o(F,I,J);if(J.selectAutoWidth){B()}}}}},{match:function(B){if(B.is("select")&&a(B)){return true}return false},apply:function(C,B){var D;C.addClass(B.selectMultiClass);D=q(C,B);d(C,C,B);return{remove:function(){C.removeClass(B.selectMultiClass);if(D){C.unwrap()}},update:g}}},{match:function(B){return B.is("textarea")},apply:function(C,B){var D;C.addClass(B.textareaClass);D=q(C,B);d(C,C,B);return{remove:function(){C.removeClass(B.textareaClass);if(D){C.unwrap()}},update:g}}}];if(k()&&!l()){j=false}e.uniform={defaults:{activeClass:"active",autoHide:true,buttonClass:"button",checkboxClass:"checker",checkedClass:"checked",disabledClass:"disabled",eventNamespace:".uniform",fileButtonClass:"action",fileButtonHtml:"Choose File",fileClass:"uploader",fileDefaultHtml:"No file selected",filenameClass:"filename",focusClass:"focus",hoverClass:"hover",idPrefix:"uniform",inputAddTypeAsClass:true,inputClass:"uniform-input",radioClass:"radio",resetDefaultHtml:"Reset",resetSelector:false,selectAutoWidth:true,selectClass:"selector",selectMultiClass:"uniform-multiselect",submitDefaultHtml:"Submit",textareaClass:"uniform",useID:true,wrapperClass:null},elements:[]};e.fn.uniform=function(B){var C=this;B=e.extend({},e.uniform.defaults,B);if(!t){t=true;if(h()){j=false}}if(!j){return this}if(B.resetSelector){e(B.resetSelector).mouseup(function(){window.setTimeout(function(){e.uniform.update(C)},10)})}return this.each(function(){var E=e(this),D,F,G;if(E.data("uniformed")){e.uniform.update(E);return}for(D=0;D<s.length;D=D+1){F=s[D];if(F.match(E,B)){G=F.apply(E,B);E.data("uniformed",G);e.uniform.elements.push(E.get(0));return}}})};e.uniform.restore=e.fn.uniform.restore=function(B){if(B===c){B=e.uniform.elements}e(B).each(function(){var E=e(this),C,D;D=E.data("uniformed");if(!D){return}D.remove();C=e.inArray(this,e.uniform.elements);if(C>=0){e.uniform.elements.splice(C,1)}E.removeData("uniformed")})};e.uniform.update=e.fn.uniform.update=function(B){if(B===c){B=e.uniform.elements}e(B).each(function(){var D=e(this),C;C=D.data("uniformed");if(!C){return}C.update(D,C.options)})}}(jQuery));
/*!
 * iCheck v0.8, http://git.io/uhUPMA
 * =================================
 * Powerful jQuery plugin for checkboxes and radio buttons customization
 *
 * (c) 2013 Damir Foy, http://damirfoy.com
 * MIT Licensed
 */
(function(b,e,m,a,n,f,o,c,r,l,d,k){b.fn[e]=function(F,v){var A=navigator.userAgent,w=/ipad|iphone|ipod/i.test(A),C=":"+m+", :"+a;if(/^(check|uncheck|toggle|disable|enable|update|destroy)$/.test(F)){return this.each(function(){var H=b(this),G=H.is(C)?H:H.find(C);G.each(function(){H=b(this);if(F=="destroy"){p(H,"ifDestroyed")}else{q(H,true,F)}if(b.isFunction(v)){v()}})})}else{if(typeof F=="object"||!F){var x=b.extend({checkedClass:n,disabledClass:f,labelHover:true},F),y=x.handle,B=x.hoverClass||"hover",E=x.focusClass||"focus",D=x.activeClass||"active",t=!!x.labelHover,z=x.labelHoverClass||"hover",u=(""+x.increaseArea).replace("%","")|0;if(y==m||y==a){C=":"+y}if(u<-50){u=-50}return this.each(function(){var H=b(this),G=H.is(C)?H:H.find(C);G.each(function(){H=b(this);p(H);var K=this,I=K.id,L=-u+"%",R=100+(u*2)+"%",M={position:"absolute",top:L,left:L,display:"block",width:R,height:R,margin:0,padding:0,background:"#fff",border:0,opacity:0},N=w||/android|blackberry|windows phone|opera mini/i.test(A)?{position:"absolute",visibility:"hidden"}:u?M:{position:"absolute",opacity:0},O=K[o]==m?x.checkboxClass||"i"+m:x.radioClass||"i"+a,P=b('label[for="'+I+'"]').add(H.closest("label")),Q=H.wrap('<div class="'+O+'"/>').trigger("ifCreated").parent().append(x.insert),J=b('<ins class="'+e+'-helper"/>').css(M).appendTo(Q);H.data(e,{o:x,s:H.attr("style")}).css(N);!!x.inheritClass&&Q[l](K.className);!!x.inheritID&&I&&Q.attr("id",e+"-"+I);Q.css("position")=="static"&&Q.css("position","relative");q(H,true,"update");if(P.length){P.on(c+".i mouseenter.i mouseleave.i "+r,function(U){var S=U[o],T=b(this);if(!K[f]){if(S==c){q(H,false,true)}else{if(t){if(/ve|nd/.test(S)){Q[d](B);T[d](z)}else{Q[l](B);T[l](z)}}}if(w){U.stopPropagation()}else{return false}}})}H.on(c+".i focus.i blur.i keyup.i keydown.i keypress.i",function(U){var T=U[o],S=U.keyCode;if(T==c){return false}else{if(T=="keydown"&&S==32){if(!(K[o]==a&&K[n])){if(K[n]){s(H,n)}else{h(H,n)}}return false}else{if(T=="keyup"&&K[o]==a){!K[n]&&h(H,n)}else{if(/us|ur/.test(T)){Q[T=="blur"?d:l](E)}}}}});J.on(c+" mousedown mouseup mouseover mouseout "+r,function(U){var T=U[o],S=/wn|up/.test(T)?D:B;if(!K[f]){if(T==c){q(H,false,true)}else{if(/wn|er|in/.test(T)){Q[l](S)}else{Q[d](S+" "+D)}if(P.length&&t&&S==B){P[/ut|nd/.test(T)?d:l](z)}}if(w){U.stopPropagation()}else{return false}}})})})}else{return this}}};function q(t,x,w){var u=t[0];v=/ble/.test(w)?f:n,active=w=="update"?{checked:u[n],disabled:u[f]}:u[v];if(/^ch|di/.test(w)&&!active){h(t,v)}else{if(/^un|en/.test(w)&&active){s(t,v)}else{if(w=="update"){for(var v in active){if(active[v]){h(t,v,true)}else{s(t,v,true)}}}else{if(!x||w=="toggle"){if(!x){t.trigger("ifClicked")}if(active){if(u[o]!==a){s(t,v)}}else{h(t,v)}}}}}}function h(B,u,t){var x=B[0],C=B.parent(),y=u==f?"enabled":"un"+n,w=j(B,y+g(x[o])),z=j(B,u+g(x[o]));if(x[u]!==true&&!t){x[u]=true;B.trigger("ifChanged").trigger("if"+g(u));if(u==n&&x[o]==a&&x.name){var v=B.closest("form"),A='input[name="'+x.name+'"]';A=v.length?v.find(A):b(A);A.each(function(){if(this!==x&&b(this).data(e)){s(b(this),u)}})}}if(x[f]&&!!j(B,k,true)){C.find("."+e+"-helper").css(k,"default")}C[l](z||j(B,u));C[d](w||j(B,y)||"")}function s(v,z,u){var y=v[0],x=v.parent(),A=z==f?"enabled":"un"+n,w=j(v,A+g(y[o])),t=j(v,z+g(y[o]));if(y[z]!==false&&!u){y[z]=false;v.trigger("ifChanged").trigger("if"+g(A))}if(!y[f]&&!!j(v,k,true)){x.find("."+e+"-helper").css(k,"pointer")}x[d](t||j(v,z)||"");x[l](w||j(v,A))}function p(t,u){if(t.data(e)){t.parent().html(t.attr("style",t.data(e).s||"").trigger(u||""));t.off(".i").unwrap();b('label[for="'+t[0].id+'"]').add(t.closest("label")).off(".i")}}function j(t,v,u){if(t.data(e)){return t.data(e).o[v+(u?"":"Class")]}}function g(t){return t.charAt(0).toUpperCase()+t.slice(1)}})(jQuery,"iCheck","checkbox","radio","checked","disabled","type","click","touchbegin.i touchend.i","addClass","removeClass","cursor");(function(a){if(typeof a.fn.each2=="undefined"){a.fn.extend({each2:function(f){var d=a([0]),e=-1,b=this.length;while(++e<b&&(d.context=d[0]=this[e])&&f.call(d[0],e,d)!==false){}return this}})}})(jQuery);(function(C,l){if(window.Select2!==l){return}var J,M,w,c,a,o,n={x:0,y:0},u,v,J={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(N){N=N.which?N.which:N;switch(N){case J.LEFT:case J.RIGHT:case J.UP:case J.DOWN:return true}return false},isControl:function(O){var N=O.which;switch(N){case J.SHIFT:case J.CTRL:case J.ALT:return true}if(O.metaKey){return true}return false},isFunctionKey:function(N){N=N.which?N.which:N;return N>=112&&N<=123}},A="<div class='select2-measure-scrollbar'></div>";u=C(document);a=(function(){var N=1;return function(){return N++}}());function p(P,Q){var O=0,N=Q.length;for(;O<N;O=O+1){if(s(P,Q[O])){return O}}return -1}function L(){var N=C(A);N.appendTo("body");var O={width:N.width()-N[0].clientWidth,height:N.height()-N[0].clientHeight};N.remove();return O}function s(O,N){if(O===N){return true}if(O===l||N===l){return false}if(O===null||N===null){return false}if(O.constructor===String){return O+""===N+""}if(N.constructor===String){return N+""===O+""}return false}function g(O,Q){var R,P,N;if(O===null||O.length<1){return[]}R=O.split(Q);for(P=0,N=R.length;P<N;P=P+1){R[P]=C.trim(R[P])}return R}function f(N){return N.outerWidth(false)-N.width()}function E(O){var N="keyup-change-value";O.on("keydown",function(){if(C.data(O,N)===l){C.data(O,N,O.val())}});O.on("keyup",function(){var P=C.data(O,N);if(P!==l&&O.val()!==P){C.removeData(O,N);O.trigger("keyup-change")}})}u.on("mousemove",function(N){n.x=N.pageX;n.y=N.pageY});function I(N){N.on("mousemove",function(P){var O=n;if(O===l||O.x!==P.pageX||O.y!==P.pageY){C(P.target).trigger("mousemove-filtered",P)}})}function j(Q,O,N){N=N||l;var P;return function(){var R=arguments;window.clearTimeout(P);P=window.setTimeout(function(){O.apply(N,R)},Q)}}function r(P){var N=false,O;return function(){if(N===false){O=P();N=true}return O}}function k(N,P){var O=j(N,function(Q){P.trigger("scroll-debounced",Q)});P.on("scroll",function(Q){if(p(Q.target,P.get())>=0){O(Q)}})}function H(N){if(N[0]===document.activeElement){return}window.setTimeout(function(){var P=N[0],Q=N.val().length,O;N.focus();if(N.is(":visible")&&P===document.activeElement){if(P.setSelectionRange){P.setSelectionRange(Q,Q)}else{if(P.createTextRange){O=P.createTextRange();O.collapse(false);O.select()}}}},0)}function d(N){N=C(N)[0];var Q=0;var O=0;if("selectionStart" in N){Q=N.selectionStart;O=N.selectionEnd-Q}else{if("selection" in document){N.focus();var P=document.selection.createRange();O=document.selection.createRange().text.length;P.moveStart("character",-N.value.length);Q=P.text.length-O}}return{offset:Q,length:O}}function z(N){N.preventDefault();N.stopPropagation()}function b(N){N.preventDefault();N.stopImmediatePropagation()}function m(O){if(!o){var N=O[0].currentStyle||window.getComputedStyle(O[0],null);o=C(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:N.fontSize,fontFamily:N.fontFamily,fontStyle:N.fontStyle,fontWeight:N.fontWeight,letterSpacing:N.letterSpacing,textTransform:N.textTransform,whiteSpace:"nowrap"});o.attr("class","select2-sizer");C("body").append(o)}o.text(O.val());return o.width()}function h(O,S,N){var Q,R=[],P;Q=O.attr("class");if(Q){Q=""+Q;C(Q.split(" ")).each2(function(){if(this.indexOf("select2-")===0){R.push(this)}})}Q=S.attr("class");if(Q){Q=""+Q;C(Q.split(" ")).each2(function(){if(this.indexOf("select2-")!==0){P=N(this);if(P){R.push(this)}}})}O.attr("class",R.join(" "))}function t(S,R,P,N){var Q=S.toUpperCase().indexOf(R.toUpperCase()),O=R.length;if(Q<0){P.push(N(S));return}P.push(N(S.substring(0,Q)));P.push("<span class='select2-match'>");P.push(N(S.substring(Q,Q+O)));P.push("</span>");P.push(N(S.substring(Q+O,S.length)))}function F(N){var O={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(N).replace(/[&<>"'\/\\]/g,function(P){return O[P]})}function D(P){var S,O=0,Q=null,T=P.quietMillis||100,R=P.url,N=this;return function(U){window.clearTimeout(S);S=window.setTimeout(function(){O+=1;var X=O,Y=P.data,W=R,aa=P.transport||C.fn.select2.ajaxDefaults.transport,V={type:P.type||"GET",cache:P.cache||false,jsonpCallback:P.jsonpCallback||l,dataType:P.dataType||"json"},Z=C.extend({},C.fn.select2.ajaxDefaults.params,V);Y=Y?Y.call(N,U.term,U.page,U.context):null;W=(typeof W==="function")?W.call(N,U.term,U.page,U.context):W;if(Q){Q.abort()}if(P.params){if(C.isFunction(P.params)){C.extend(Z,P.params.call(N))}else{C.extend(Z,P.params)}}C.extend(Z,{url:W,dataType:P.dataType,data:Y,success:function(ac){if(X<O){return}var ab=P.results(ac,U.page);U.callback(ab)}});Q=aa.call(N,Z)},T)}}function G(O){var R=O,Q,P,S=function(T){return""+T.text};if(C.isArray(R)){P=R;R={results:P}}if(C.isFunction(R)===false){P=R;R=function(){return P}}var N=R();if(N.text){S=N.text;if(!C.isFunction(S)){Q=N.text;S=function(T){return T[Q]}}}return function(V){var U=V.term,T={results:[]},W;if(U===""){V.callback(R());return}W=function(Y,aa){var Z,X;Y=Y[0];if(Y.children){Z={};for(X in Y){if(Y.hasOwnProperty(X)){Z[X]=Y[X]}}Z.children=[];C(Y.children).each2(function(ab,ac){W(ac,Z.children)});if(Z.children.length||V.matcher(U,S(Z),Y)){aa.push(Z)}}else{if(V.matcher(U,S(Y),Y)){aa.push(Y)}}};C(R().results).each2(function(Y,X){W(X,T.results)});V.callback(T)}}function y(O){var N=C.isFunction(O);return function(R){var Q=R.term,P={results:[]};C(N?O():O).each(function(){var S=this.text!==l,T=S?this.text:this;if(Q===""||R.matcher(Q,T)){P.results.push(S?this:{id:this,text:this})}});R.callback(P)}}function x(N,O){if(C.isFunction(N)){return true}if(!N){return false}throw new Error(O+" must be a function or a falsy value")}function B(N){return C.isFunction(N)?N():N}function q(N){var O=0;C.each(N,function(P,Q){if(Q.children){O+=q(Q.children)}else{O++}});return O}function e(V,W,T,N){var O=V,X=false,Q,U,R,P,S;if(!N.createSearchChoice||!N.tokenSeparators||N.tokenSeparators.length<1){return l}while(true){U=-1;for(R=0,P=N.tokenSeparators.length;R<P;R++){S=N.tokenSeparators[R];U=V.indexOf(S);if(U>=0){break}}if(U<0){break}Q=V.substring(0,U);V=V.substring(U+S.length);if(Q.length>0){Q=N.createSearchChoice(Q,W);if(Q!==l&&Q!==null&&N.id(Q)!==l&&N.id(Q)!==null){X=false;for(R=0,P=W.length;R<P;R++){if(s(N.id(Q),N.id(W[R]))){X=true;break}}if(!X){T(Q)}}}}if(O!==V){return V}}function K(N,O){var P=function(){};P.prototype=new N;P.prototype.constructor=P;P.prototype.parent=N.prototype;P.prototype=C.extend(P.prototype,O);return P}M=K(Object,{bind:function(O){var N=this;return function(){O.apply(N,arguments)}},init:function(R){var P,O,S=".select2-results",Q,N;this.opts=R=this.prepareOpts(R);this.id=R.id;if(R.element.data("select2")!==l&&R.element.data("select2")!==null){this.destroy()}this.container=this.createContainer();this.containerId="s2id_"+(R.element.attr("id")||"autogen"+a());this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);this.body=r(function(){return R.element.closest("body")});h(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.css(B(R.containerCss));this.container.addClass(B(R.containerCssClass));this.elementTabIndex=this.opts.element.attr("tabindex");this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");this.dropdown.addClass(B(R.dropdownCssClass));this.dropdown.data("select2",this);this.results=P=this.container.find(S);this.search=O=this.container.find("input.select2-input");this.resultsPage=0;this.context=null;this.initContainer();I(this.results);this.dropdown.on("mousemove-filtered touchstart touchmove touchend",S,this.bind(this.highlightUnderEvent));k(80,this.results);this.dropdown.on("scroll-debounced",S,this.bind(this.loadMoreIfNeeded));C(this.container).on("change",".select2-input",function(T){T.stopPropagation()});C(this.dropdown).on("change",".select2-input",function(T){T.stopPropagation()});if(C.fn.mousewheel){P.mousewheel(function(X,Y,V,U){var W=P.scrollTop(),T;if(U>0&&W-U<=0){P.scrollTop(0);z(X)}else{if(U<0&&P.get(0).scrollHeight-P.scrollTop()+U<=P.height()){P.scrollTop(P.get(0).scrollHeight-P.height());z(X)}}})}E(O);O.on("keyup-change input paste",this.bind(this.updateResults));O.on("focus",function(){O.addClass("select2-focused")});O.on("blur",function(){O.removeClass("select2-focused")});this.dropdown.on("mouseup",S,this.bind(function(T){if(C(T.target).closest(".select2-result-selectable").length>0){this.highlightUnderEvent(T);this.selectHighlighted(T)}}));this.dropdown.on("click mouseup mousedown",function(T){T.stopPropagation()});if(C.isFunction(this.opts.initSelection)){this.initSelection();this.monitorSource()}if(R.maximumInputLength!==null){this.search.attr("maxlength",R.maximumInputLength)}var Q=R.element.prop("disabled");if(Q===l){Q=false}this.enable(!Q);var N=R.element.prop("readonly");if(N===l){N=false}this.readonly(N);v=v||L();this.autofocus=R.element.prop("autofocus");R.element.prop("autofocus",false);if(this.autofocus){this.focus()}},destroy:function(){var O=this.opts.element,N=O.data("select2");if(this.propertyObserver){delete this.propertyObserver;this.propertyObserver=null}if(N!==l){N.container.remove();N.dropdown.remove();O.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||false);if(this.elementTabIndex){O.attr({tabindex:this.elementTabIndex})}else{O.removeAttr("tabindex")}O.show()}},optionToData:function(N){if(N.is("option")){return{id:N.prop("value"),text:N.text(),element:N.get(),css:N.attr("class"),disabled:N.prop("disabled"),locked:s(N.attr("locked"),"locked")}}else{if(N.is("optgroup")){return{text:N.attr("label"),children:[],element:N.get(),css:N.attr("class")}}}},prepareOpts:function(S){var Q,O,N,R,P=this;Q=S.element;if(Q.get(0).tagName.toLowerCase()==="select"){this.select=O=S.element}if(O){C.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in S){throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}})}S=C.extend({},{populateResults:function(U,W,Z){var Y,X,T,V,aa=this.opts.id;Y=function(ah,ab,ag){var ai,ad,an,ak,ae,am,ac,al,aj,af;ah=S.sortResults(ah,ab,Z);for(ai=0,ad=ah.length;ai<ad;ai=ai+1){an=ah[ai];ae=(an.disabled===true);ak=(!ae)&&(aa(an)!==l);am=an.children&&an.children.length>0;ac=C("<li></li>");ac.addClass("select2-results-dept-"+ag);ac.addClass("select2-result");ac.addClass(ak?"select2-result-selectable":"select2-result-unselectable");if(ae){ac.addClass("select2-disabled")}if(am){ac.addClass("select2-result-with-children")}ac.addClass(P.opts.formatResultCssClass(an));al=C(document.createElement("div"));al.addClass("select2-result-label");af=S.formatResult(an,al,Z,P.opts.escapeMarkup);if(af!==l){al.html(af)}ac.append(al);if(am){aj=C("<ul></ul>");aj.addClass("select2-result-sub");Y(an.children,aj,ag+1);ac.append(aj)}ac.data("select2-data",an);ab.append(ac)}};Y(W,U,0)}},C.fn.select2.defaults,S);if(typeof(S.id)!=="function"){N=S.id;S.id=function(T){return T[N]}}if(C.isArray(S.element.data("select2Tags"))){if("tags" in S){throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+S.element.attr("id")}S.tags=S.element.data("select2Tags")}if(O){S.query=this.bind(function(X){var W={results:[],more:false},V=X.term,U,T,Y;Y=function(Z,ab){var aa;if(Z.is("option")){if(X.matcher(V,Z.text(),Z)){ab.push(P.optionToData(Z))}}else{if(Z.is("optgroup")){aa=P.optionToData(Z);Z.children().each2(function(ac,ad){Y(ad,aa.children)});if(aa.children.length>0){ab.push(aa)}}}};U=Q.children();if(this.getPlaceholder()!==l&&U.length>0){T=this.getPlaceholderOption();if(T){U=U.not(T)}}U.each2(function(Z,aa){Y(aa,W.results)});X.callback(W)});S.id=function(T){return T.id};S.formatResultCssClass=function(T){return T.css}}else{if(!("query" in S)){if("ajax" in S){R=S.element.data("ajax-url");if(R&&R.length>0){S.ajax.url=R}S.query=D.call(S.element,S.ajax)}else{if("data" in S){S.query=G(S.data)}else{if("tags" in S){S.query=y(S.tags);if(S.createSearchChoice===l){S.createSearchChoice=function(T){return{id:T,text:T}}}if(S.initSelection===l){S.initSelection=function(T,V){var U=[];C(g(T.val(),S.separator)).each(function(){var Y=this,X=this,W=S.tags;if(C.isFunction(W)){W=W()}C(W).each(function(){if(s(this.id,Y)){X=this.text;return false}});U.push({id:Y,text:X})});V(U)}}}}}}}if(typeof(S.query)!=="function"){throw"query function not defined for Select2 "+S.element.attr("id")}return S},monitorSource:function(){var N=this.opts.element,O;N.on("change.select2",this.bind(function(P){if(this.opts.element.data("select2-change-triggered")!==true){this.initSelection()}}));O=this.bind(function(){var R,Q,P=this;var S=N.prop("disabled");if(S===l){S=false}this.enable(!S);var Q=N.prop("readonly");if(Q===l){Q=false}this.readonly(Q);h(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.addClass(B(this.opts.containerCssClass));h(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(B(this.opts.dropdownCssClass))});N.on("propertychange.select2 DOMAttrModified.select2",O);if(this.mutationCallback===l){this.mutationCallback=function(P){P.forEach(O)}}if(typeof WebKitMutationObserver!=="undefined"){if(this.propertyObserver){delete this.propertyObserver;this.propertyObserver=null}this.propertyObserver=new WebKitMutationObserver(this.mutationCallback);this.propertyObserver.observe(N.get(0),{attributes:true,subtree:false})}},triggerSelect:function(O){var N=C.Event("select2-selecting",{val:this.id(O),object:O});this.opts.element.trigger(N);return !N.isDefaultPrevented()},triggerChange:function(N){N=N||{};N=C.extend({},N,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",true);this.opts.element.trigger(N);this.opts.element.data("select2-change-triggered",false);this.opts.element.click();if(this.opts.blurOnChange){this.opts.element.blur()}},isInterfaceEnabled:function(){return this.enabledInterface===true},enableInterface:function(){var N=this._enabled&&!this._readonly,O=!N;if(N===this.enabledInterface){return false}this.container.toggleClass("select2-container-disabled",O);this.close();this.enabledInterface=N;return true},enable:function(N){if(N===l){N=true}if(this._enabled===N){return false}this._enabled=N;this.opts.element.prop("disabled",!N);this.enableInterface();return true},readonly:function(N){if(N===l){N=false}if(this._readonly===N){return false}this._readonly=N;this.opts.element.prop("readonly",N);this.enableInterface();return true},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var P=this.dropdown,R=this.container.offset(),Y=this.container.outerHeight(false),Z=this.container.outerWidth(false),V=P.outerHeight(false),O=C(window).scrollLeft()+C(window).width(),ac=C(window).scrollTop()+C(window).height(),Q=R.top+Y,aa=R.left,N=Q+V<=ac,T=(R.top-V)>=this.body().scrollTop(),W=P.outerWidth(false),ae=aa+W<=O,ad=P.hasClass("select2-drop-above"),S,ab,U,X;if(this.opts.dropdownAutoWidth){X=C(".select2-results",P)[0];P.addClass("select2-drop-auto-width");P.css("width","");W=P.outerWidth(false)+(X.scrollHeight===X.clientHeight?0:v.width);W>Z?Z=W:W=Z;ae=aa+W<=O}else{this.container.removeClass("select2-drop-auto-width")}if(this.body().css("position")!=="static"){S=this.body().offset();Q-=S.top;aa-=S.left}if(ad){ab=true;if(!T&&N){ab=false}}else{ab=false;if(!N&&T){ab=true}}if(!ae){aa=R.left+Z-W}if(ab){Q=R.top-V;this.container.addClass("select2-drop-above");P.addClass("select2-drop-above")}else{this.container.removeClass("select2-drop-above");P.removeClass("select2-drop-above")}U=C.extend({top:Q,left:aa,width:Z},B(this.opts.dropdownCss));P.css(U)},shouldOpen:function(){var N;if(this.opened()){return false}if(this._enabled===false||this._readonly===true){return false}N=C.Event("select2-opening");this.opts.element.trigger(N);return !N.isDefaultPrevented()},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){if(!this.shouldOpen()){return false}this.opening();return true},opening:function(){var U=this.containerId,N="scroll."+U,R="resize."+U,Q="orientationchange."+U,O,T;this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.clearDropdownAlignmentPreference();if(this.dropdown[0]!==this.body().children().last()[0]){this.dropdown.detach().appendTo(this.body())}O=C("#select2-drop-mask");if(O.length==0){O=C(document.createElement("div"));O.attr("id","select2-drop-mask").attr("class","select2-drop-mask");O.hide();O.appendTo(this.body());O.on("mousedown touchstart click",function(W){var X=C("#select2-drop"),V;if(X.length>0){V=X.data("select2");if(V.opts.selectOnBlur){V.selectHighlighted({noFocus:true})}V.close();W.preventDefault();W.stopPropagation()}})}if(this.dropdown.prev()[0]!==O[0]){this.dropdown.before(O)}C("#select2-drop").removeAttr("id");this.dropdown.attr("id","select2-drop");T=P();O.css(T).show();this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");var S=this;this.container.parents().add(window).each(function(){C(this).on(R+" "+N+" "+Q,function(V){var W=P();C("#select2-drop-mask").css(W);S.positionDropdown()})});function P(){return{width:Math.max(document.documentElement.scrollWidth,C(window).width()),height:Math.max(document.documentElement.scrollHeight,C(window).height())}}},close:function(){if(!this.opened()){return}var Q=this.containerId,N="scroll."+Q,P="resize."+Q,O="orientationchange."+Q;this.container.parents().add(window).each(function(){C(this).off(N).off(P).off(O)});this.clearDropdownAlignmentPreference();C("#select2-drop-mask").hide();this.dropdown.removeAttr("id");this.dropdown.hide();this.container.removeClass("select2-dropdown-open");this.results.empty();this.clearSearch();this.search.removeClass("select2-active");this.opts.element.trigger(C.Event("select2-close"))},externalSearch:function(N){this.open();this.search.val(N);this.updateResults(false)},clearSearch:function(){},getMaximumSelectionSize:function(){return B(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var Q=this.results,P,N,U,T,R,S,O;N=this.highlight();if(N<0){return}if(N==0){Q.scrollTop(0);return}P=this.findHighlightableChoices().find(".select2-result-label");U=C(P[N]);T=U.offset().top+U.outerHeight(true);if(N===P.length-1){O=Q.find("li.select2-more-results");if(O.length>0){T=O.offset().top+O.outerHeight(true)}}R=Q.offset().top+Q.outerHeight(true);if(T>R){Q.scrollTop(Q.scrollTop()+(T-R))}S=U.offset().top-Q.offset().top;if(S<0&&U.css("display")!="none"){Q.scrollTop(Q.scrollTop()+S)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(Q){var P=this.findHighlightableChoices(),O=this.highlight();while(O>-1&&O<P.length){O+=Q;var N=C(P[O]);if(N.hasClass("select2-result-selectable")&&!N.hasClass("select2-disabled")&&!N.hasClass("select2-selected")){this.highlight(O);break}}},highlight:function(O){var Q=this.findHighlightableChoices(),N,P;if(arguments.length===0){return p(Q.filter(".select2-highlighted")[0],Q.get())}if(O>=Q.length){O=Q.length-1}if(O<0){O=0}this.results.find(".select2-highlighted").removeClass("select2-highlighted");N=C(Q[O]);N.addClass("select2-highlighted");this.ensureHighlightVisible();P=N.data("select2-data");if(P){this.opts.element.trigger({type:"select2-highlight",val:this.id(P),choice:P})}},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(O){var N=C(O.target).closest(".select2-result-selectable");if(N.length>0&&!N.is(".select2-highlighted")){var P=this.findHighlightableChoices();this.highlight(P.index(N))}else{if(N.length==0){this.results.find(".select2-highlighted").removeClass("select2-highlighted")}}},loadMoreIfNeeded:function(){var R=this.results,Q=R.find("li.select2-more-results"),U,T=-1,S=this.resultsPage+1,N=this,P=this.search.val(),O=this.context;if(Q.length===0){return}U=Q.offset().top-R.offset().top-R.height();if(U<=this.opts.loadMorePadding){Q.addClass("select2-active");this.opts.query({element:this.opts.element,term:P,page:S,context:O,matcher:this.opts.matcher,callback:this.bind(function(V){if(!N.opened()){return}N.opts.populateResults.call(this,R,V.results,{term:P,page:S,context:O});N.postprocessResults(V,false,false);if(V.more===true){Q.detach().appendTo(R).text(N.opts.formatLoadMore(S+1));window.setTimeout(function(){N.loadMoreIfNeeded()},10)}else{Q.remove()}N.positionDropdown();N.resultsPage=S;N.context=V.context})})}},tokenize:function(){},updateResults:function(V){var Y=this.search,T=this.results,N=this.opts,S,X=this,W,R=Y.val(),P=C.data(this.container,"select2-last-term");if(V!==true&&P&&s(R,P)){return}C.data(this.container,"select2-last-term",R);if(V!==true&&(this.showSearchInput===false||!this.opened())){return}function U(){Y.removeClass("select2-active");X.positionDropdown()}function O(Z){T.html(Z);U()}var Q=this.getMaximumSelectionSize();if(Q>=1){S=this.data();if(C.isArray(S)&&S.length>=Q&&x(N.formatSelectionTooBig,"formatSelectionTooBig")){O("<li class='select2-selection-limit'>"+N.formatSelectionTooBig(Q)+"</li>");return}}if(Y.val().length<N.minimumInputLength){if(x(N.formatInputTooShort,"formatInputTooShort")){O("<li class='select2-no-results'>"+N.formatInputTooShort(Y.val(),N.minimumInputLength)+"</li>")}else{O("")}if(V&&this.showSearch){this.showSearch(true)}return}if(N.maximumInputLength&&Y.val().length>N.maximumInputLength){if(x(N.formatInputTooLong,"formatInputTooLong")){O("<li class='select2-no-results'>"+N.formatInputTooLong(Y.val(),N.maximumInputLength)+"</li>")}else{O("")}return}if(N.formatSearching&&this.findHighlightableChoices().length===0){O("<li class='select2-searching'>"+N.formatSearching()+"</li>")}Y.addClass("select2-active");W=this.tokenize();if(W!=l&&W!=null){Y.val(W)}this.resultsPage=1;N.query({element:N.element,term:Y.val(),page:this.resultsPage,context:null,matcher:N.matcher,callback:this.bind(function(aa){var Z;if(!this.opened()){this.search.removeClass("select2-active");return}this.context=(aa.context===l)?null:aa.context;if(this.opts.createSearchChoice&&Y.val()!==""){Z=this.opts.createSearchChoice.call(null,Y.val(),aa.results);if(Z!==l&&Z!==null&&X.id(Z)!==l&&X.id(Z)!==null){if(C(aa.results).filter(function(){return s(X.id(this),X.id(Z))}).length===0){aa.results.unshift(Z)}}}if(aa.results.length===0&&x(N.formatNoMatches,"formatNoMatches")){O("<li class='select2-no-results'>"+N.formatNoMatches(Y.val())+"</li>");return}T.empty();X.opts.populateResults.call(this,T,aa.results,{term:Y.val(),page:this.resultsPage,context:null});if(aa.more===true&&x(N.formatLoadMore,"formatLoadMore")){T.append("<li class='select2-more-results'>"+X.opts.escapeMarkup(N.formatLoadMore(this.resultsPage))+"</li>");window.setTimeout(function(){X.loadMoreIfNeeded()},10)}this.postprocessResults(aa,V);U();this.opts.element.trigger({type:"select2-loaded",items:aa})})})},cancel:function(){this.close()},blur:function(){if(this.opts.selectOnBlur){this.selectHighlighted({noFocus:true})}this.close();this.container.removeClass("select2-container-active");if(this.search[0]===document.activeElement){this.search.blur()}this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){H(this.search)},selectHighlighted:function(O){var N=this.highlight(),P=this.results.find(".select2-highlighted"),Q=P.closest(".select2-result").data("select2-data");if(Q){this.highlight(N);this.onSelect(Q,O)}else{if(O.noFocus){this.close()}}},getPlaceholder:function(){var N;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((N=this.getPlaceholderOption())!==l?N.text():l)},getPlaceholderOption:function(){if(this.select){var N=this.select.children().first();if(this.opts.placeholderOption!==l){return(this.opts.placeholderOption==="first"&&N)||(typeof this.opts.placeholderOption==="function"&&this.opts.placeholderOption(this.select))}else{if(N.text()===""&&N.val()===""){return N}}}},initContainerWidth:function(){function O(){var S,Q,T,R,P;if(this.opts.width==="off"){return null}else{if(this.opts.width==="element"){return this.opts.element.outerWidth(false)===0?"auto":this.opts.element.outerWidth(false)+"px"}else{if(this.opts.width==="copy"||this.opts.width==="resolve"){S=this.opts.element.attr("style");if(S!==l){Q=S.split(";");for(R=0,P=Q.length;R<P;R=R+1){T=Q[R].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i);if(T!==null&&T.length>=1){return T[1]}}}if(this.opts.width==="resolve"){S=this.opts.element.css("width");if(S.indexOf("%")>0){return S}return(this.opts.element.outerWidth(false)===0?"auto":this.opts.element.outerWidth(false)+"px")}return null}else{if(C.isFunction(this.opts.width)){return this.opts.width()}else{return this.opts.width}}}}}var N=O.call(this);if(N!==null){this.container.css("width",N)}}});w=K(M,{createContainer:function(){var N=C(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <div><b></b></div>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return N},enableInterface:function(){if(this.parent.enableInterface.apply(this,arguments)){this.focusser.prop("disabled",!this.isInterfaceEnabled())}},opening:function(){var P,O,N;if(this.opts.minimumResultsForSearch>=0){this.showSearch(true)}this.parent.opening.apply(this,arguments);if(this.showSearchInput!==false){this.search.val(this.focusser.val())}this.search.focus();P=this.search.get(0);if(P.createTextRange){O=P.createTextRange();O.collapse(false);O.select()}else{if(P.setSelectionRange){N=this.search.val().length;P.setSelectionRange(N,N)}}this.focusser.prop("disabled",true).val("");this.updateResults(true);this.opts.element.trigger(C.Event("select2-open"))},close:function(){if(!this.opened()){return}this.parent.close.apply(this,arguments);this.focusser.removeAttr("disabled");this.focusser.focus()},focus:function(){if(this.opened()){this.close()}else{this.focusser.removeAttr("disabled");this.focusser.focus()}},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments);this.focusser.removeAttr("disabled");this.focusser.focus()},initContainer:function(){var O,N=this.container,P=this.dropdown;if(this.opts.minimumResultsForSearch<0){this.showSearch(false)}else{this.showSearch(true)}this.selection=O=N.find(".select2-choice");this.focusser=N.find(".select2-focusser");this.focusser.attr("id","s2id_autogen"+a());C("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id"));this.focusser.attr("tabindex",this.elementTabIndex);this.search.on("keydown",this.bind(function(Q){if(!this.isInterfaceEnabled()){return}if(Q.which===J.PAGE_UP||Q.which===J.PAGE_DOWN){z(Q);return}switch(Q.which){case J.UP:case J.DOWN:this.moveHighlight((Q.which===J.UP)?-1:1);z(Q);return;case J.ENTER:this.selectHighlighted();z(Q);return;case J.TAB:this.selectHighlighted({noFocus:true});return;case J.ESC:this.cancel(Q);z(Q);return}}));this.search.on("blur",this.bind(function(Q){if(document.activeElement===this.body().get(0)){window.setTimeout(this.bind(function(){this.search.focus()}),0)}}));this.focusser.on("keydown",this.bind(function(Q){if(!this.isInterfaceEnabled()){return}if(Q.which===J.TAB||J.isControl(Q)||J.isFunctionKey(Q)||Q.which===J.ESC){return}if(this.opts.openOnEnter===false&&Q.which===J.ENTER){z(Q);return}if(Q.which==J.DOWN||Q.which==J.UP||(Q.which==J.ENTER&&this.opts.openOnEnter)){if(Q.altKey||Q.ctrlKey||Q.shiftKey||Q.metaKey){return}this.open();z(Q);return}if(Q.which==J.DELETE||Q.which==J.BACKSPACE){if(this.opts.allowClear){this.clear()}z(Q);return}}));E(this.focusser);this.focusser.on("keyup-change input",this.bind(function(Q){if(this.opts.minimumResultsForSearch>=0){Q.stopPropagation();if(this.opened()){return}this.open()}}));O.on("mousedown","abbr",this.bind(function(Q){if(!this.isInterfaceEnabled()){return}this.clear();b(Q);this.close();this.selection.focus()}));O.on("mousedown",this.bind(function(Q){if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(C.Event("select2-focus"))}if(this.opened()){this.close()}else{if(this.isInterfaceEnabled()){this.open()}}z(Q)}));P.on("mousedown",this.bind(function(){this.search.focus()}));O.on("focus",this.bind(function(Q){z(Q)}));this.focusser.on("focus",this.bind(function(){if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(C.Event("select2-focus"))}this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){if(!this.opened()){this.container.removeClass("select2-container-active");this.opts.element.trigger(C.Event("select2-blur"))}}));this.search.on("focus",this.bind(function(){if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(C.Event("select2-focus"))}this.container.addClass("select2-container-active")}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.setPlaceholder()},clear:function(O){var P=this.selection.data("select2-data");if(P){var N=this.getPlaceholderOption();this.opts.element.val(N?N.val():"");this.selection.find("span").empty();this.selection.removeData("select2-data");this.setPlaceholder();if(O!==false){this.opts.element.trigger({type:"select2-removed",val:this.id(P),choice:P});this.triggerChange({removed:P})}}},initSelection:function(){var O;if(this.isPlaceholderOptionSelected()){this.updateSelection([]);this.close();this.setPlaceholder()}else{var N=this;this.opts.initSelection.call(null,this.opts.element,function(P){if(P!==l&&P!==null){N.updateSelection(P);N.close();N.setPlaceholder()}})}},isPlaceholderOptionSelected:function(){var N;return((N=this.getPlaceholderOption())!==l&&N.is(":selected"))||(this.opts.element.val()==="")||(this.opts.element.val()===l)||(this.opts.element.val()===null)},prepareOpts:function(){var O=this.parent.prepareOpts.apply(this,arguments),N=this;if(O.element.get(0).tagName.toLowerCase()==="select"){O.initSelection=function(P,R){var Q=P.find(":selected");R(N.optionToData(Q))}}else{if("data" in O){O.initSelection=O.initSelection||function(Q,S){var R=Q.val();var P=null;O.query({matcher:function(T,W,U){var V=s(R,O.id(U));if(V){P=U}return V},callback:!C.isFunction(S)?C.noop:function(){S(P)}})}}}return O},getPlaceholder:function(){if(this.select){if(this.getPlaceholderOption()===l){return l}}return this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var N=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&N!==l){if(this.select&&this.getPlaceholderOption()===l){return}this.selection.find("span").html(this.opts.escapeMarkup(N));this.selection.addClass("select2-default");this.container.removeClass("select2-allowclear")}},postprocessResults:function(S,O,R){var Q=0,N=this,T=true;this.findHighlightableChoices().each2(function(U,V){if(s(N.id(V.data("select2-data")),N.opts.element.val())){Q=U;return false}});if(R!==false){if(O===true&&Q>=0){this.highlight(Q)}else{this.highlight(0)}}if(O===true){var P=this.opts.minimumResultsForSearch;if(P>=0){this.showSearch(q(S.results)>=P)}}},showSearch:function(N){if(this.showSearchInput===N){return}this.showSearchInput=N;this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!N);this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!N);C(this.dropdown,this.container).toggleClass("select2-with-searchbox",N)},onSelect:function(P,O){if(!this.triggerSelect(P)){return}var N=this.opts.element.val(),Q=this.data();this.opts.element.val(this.id(P));this.updateSelection(P);this.opts.element.trigger({type:"select2-selected",val:this.id(P),choice:P});this.close();if(!O||!O.noFocus){this.selection.focus()}if(!s(N,this.id(P))){this.triggerChange({added:P,removed:Q})}},updateSelection:function(Q){var O=this.selection.find("span"),P,N;this.selection.data("select2-data",Q);O.empty();P=this.opts.formatSelection(Q,O);if(P!==l){O.append(this.opts.escapeMarkup(P))}N=this.opts.formatSelectionCssClass(Q,O);if(N!==l){O.addClass(N)}this.selection.removeClass("select2-default");if(this.opts.allowClear&&this.getPlaceholder()!==l){this.container.addClass("select2-allowclear")}},val:function(){var R,O=false,P=null,N=this,Q=this.data();if(arguments.length===0){return this.opts.element.val()}R=arguments[0];if(arguments.length>1){O=arguments[1]}if(this.select){this.select.val(R).find(":selected").each2(function(S,T){P=N.optionToData(T);return false});this.updateSelection(P);this.setPlaceholder();if(O){this.triggerChange({added:P,removed:Q})}}else{if(!R&&R!==0){this.clear(O);return}if(this.opts.initSelection===l){throw new Error("cannot call val() if initSelection() is not defined")}this.opts.element.val(R);this.opts.initSelection(this.opts.element,function(S){N.opts.element.val(!S?"":N.id(S));N.updateSelection(S);N.setPlaceholder();if(O){N.triggerChange({added:S,removed:Q})}})}},clearSearch:function(){this.search.val("");this.focusser.val("")},data:function(P,N){var O;if(arguments.length===0){O=this.selection.data("select2-data");if(O==l){O=null}return O}else{if(!P||P===""){this.clear(N)}else{O=this.data();this.opts.element.val(!P?"":this.id(P));this.updateSelection(P);if(N){this.triggerChange({added:P,removed:O})}}}}});c=K(M,{createContainer:function(){var N=C(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitilize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return N},prepareOpts:function(){var O=this.parent.prepareOpts.apply(this,arguments),N=this;if(O.element.get(0).tagName.toLowerCase()==="select"){O.initSelection=function(P,R){var Q=[];P.find(":selected").each2(function(S,T){Q.push(N.optionToData(T))});R(Q)}}else{if("data" in O){O.initSelection=O.initSelection||function(P,S){var Q=g(P.val(),O.separator);var R=[];O.query({matcher:function(T,W,U){var V=C.grep(Q,function(X){return s(X,O.id(U))}).length;if(V){R.push(U)}return V},callback:!C.isFunction(S)?C.noop:function(){var T=[];for(var W=0;W<Q.length;W++){var X=Q[W];for(var V=0;V<R.length;V++){var U=R[V];if(s(X,O.id(U))){T.push(U);R.splice(V,1);break}}}S(T)}})}}}return O},selectChoice:function(N){var O=this.container.find(".select2-search-choice-focus");if(O.length&&N&&N[0]==O[0]){}else{if(O.length){this.opts.element.trigger("choice-deselected",O)}O.removeClass("select2-search-choice-focus");if(N&&N.length){this.close();N.addClass("select2-search-choice-focus");this.opts.element.trigger("choice-selected",N)}}},initContainer:function(){var N=".select2-choices",O;this.searchContainer=this.container.find(".select2-search-field");this.selection=O=this.container.find(N);var P=this;this.selection.on("mousedown",".select2-search-choice",function(Q){P.search[0].focus();P.selectChoice(C(this))});this.search.attr("id","s2id_autogen"+a());C("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id"));this.search.on("input paste",this.bind(function(){if(!this.isInterfaceEnabled()){return}if(!this.opened()){this.open()}}));this.search.attr("tabindex",this.elementTabIndex);this.keydowns=0;this.search.on("keydown",this.bind(function(U){if(!this.isInterfaceEnabled()){return}++this.keydowns;var S=O.find(".select2-search-choice-focus");var T=S.prev(".select2-search-choice:not(.select2-locked)");var R=S.next(".select2-search-choice:not(.select2-locked)");var V=d(this.search);if(S.length&&(U.which==J.LEFT||U.which==J.RIGHT||U.which==J.BACKSPACE||U.which==J.DELETE||U.which==J.ENTER)){var Q=S;if(U.which==J.LEFT&&T.length){Q=T}else{if(U.which==J.RIGHT){Q=R.length?R:null}else{if(U.which===J.BACKSPACE){this.unselect(S.first());this.search.width(10);Q=T.length?T:R}else{if(U.which==J.DELETE){this.unselect(S.first());this.search.width(10);Q=R.length?R:null}else{if(U.which==J.ENTER){Q=null}}}}}this.selectChoice(Q);z(U);if(!Q||!Q.length){this.open()}return}else{if(((U.which===J.BACKSPACE&&this.keydowns==1)||U.which==J.LEFT)&&(V.offset==0&&!V.length)){this.selectChoice(O.find(".select2-search-choice:not(.select2-locked)").last());z(U);return}else{this.selectChoice(null)}}if(this.opened()){switch(U.which){case J.UP:case J.DOWN:this.moveHighlight((U.which===J.UP)?-1:1);z(U);return;case J.ENTER:this.selectHighlighted();z(U);return;case J.TAB:this.selectHighlighted({noFocus:true});this.close();return;case J.ESC:this.cancel(U);z(U);return}}if(U.which===J.TAB||J.isControl(U)||J.isFunctionKey(U)||U.which===J.BACKSPACE||U.which===J.ESC){return}if(U.which===J.ENTER){if(this.opts.openOnEnter===false){return}else{if(U.altKey||U.ctrlKey||U.shiftKey||U.metaKey){return}}}this.open();if(U.which===J.PAGE_UP||U.which===J.PAGE_DOWN){z(U)}if(U.which===J.ENTER){z(U)}}));this.search.on("keyup",this.bind(function(Q){this.keydowns=0;this.resizeSearch()}));this.search.on("blur",this.bind(function(Q){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.selectChoice(null);if(!this.opened()){this.clearSearch()}Q.stopImmediatePropagation();this.opts.element.trigger(C.Event("select2-blur"))}));this.container.on("click",N,this.bind(function(Q){if(!this.isInterfaceEnabled()){return}if(C(Q.target).closest(".select2-search-choice").length>0){return}this.selectChoice(null);this.clearPlaceholder();if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(C.Event("select2-focus"))}this.open();this.focusSearch();Q.preventDefault()}));this.container.on("focus",N,this.bind(function(){if(!this.isInterfaceEnabled()){return}if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(C.Event("select2-focus"))}this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active");this.clearPlaceholder()}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.clearSearch()},enableInterface:function(){if(this.parent.enableInterface.apply(this,arguments)){this.search.prop("disabled",!this.isInterfaceEnabled())}},initSelection:function(){var O;if(this.opts.element.val()===""&&this.opts.element.text()===""){this.updateSelection([]);this.close();this.clearSearch()}if(this.select||this.opts.element.val()!==""){var N=this;this.opts.initSelection.call(null,this.opts.element,function(P){if(P!==l&&P!==null){N.updateSelection(P);N.close();N.clearSearch()}})}},clearSearch:function(){var O=this.getPlaceholder(),N=this.getMaxSearchWidth();if(O!==l&&this.getVal().length===0&&this.search.hasClass("select2-focused")===false){this.search.val(O).addClass("select2-default");this.search.width(N>0?N:this.container.css("width"))}else{this.search.val("").width(10)}},clearPlaceholder:function(){if(this.search.hasClass("select2-default")){this.search.val("").removeClass("select2-default")}},opening:function(){this.clearPlaceholder();this.resizeSearch();this.parent.opening.apply(this,arguments);this.focusSearch();this.updateResults(true);this.search.focus();this.opts.element.trigger(C.Event("select2-open"))},close:function(){if(!this.opened()){return}this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(Q){var P=[],O=[],N=this;C(Q).each(function(){if(p(N.id(this),P)<0){P.push(N.id(this));O.push(this)}});Q=O;this.selection.find(".select2-search-choice").remove();C(Q).each(function(){N.addSelectedChoice(this)});N.postprocessResults()},tokenize:function(){var N=this.search.val();N=this.opts.tokenizer(N,this.data(),this.bind(this.onSelect),this.opts);if(N!=null&&N!=l){this.search.val(N);if(N.length>0){this.open()}}},onSelect:function(O,N){if(!this.triggerSelect(O)){return}this.addSelectedChoice(O);this.opts.element.trigger({type:"selected",val:this.id(O),choice:O});if(this.select||!this.opts.closeOnSelect){this.postprocessResults()}if(this.opts.closeOnSelect){this.close();this.search.width(10)}else{if(this.countSelectableResults()>0){this.search.width(10);this.resizeSearch();if(this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()){this.updateResults(true)}this.positionDropdown()}else{this.close();this.search.width(10)}}this.triggerChange({added:O});if(!N||!N.noFocus){this.focusSearch()}},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(R){var T=!R.locked,P=C("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),U=C("<li class='select2-search-choice select2-locked'><div></div></li>");var Q=T?P:U,N=this.id(R),O=this.getVal(),S,V;S=this.opts.formatSelection(R,Q.find("div"));if(S!=l){Q.find("div").replaceWith("<div>"+this.opts.escapeMarkup(S)+"</div>")}V=this.opts.formatSelectionCssClass(R,Q.find("div"));if(V!=l){Q.addClass(V)}if(T){Q.find(".select2-search-choice-close").on("mousedown",z).on("click dblclick",this.bind(function(W){if(!this.isInterfaceEnabled()){return}C(W.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(C(W.target));this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");this.close();this.focusSearch()})).dequeue();z(W)})).on("focus",this.bind(function(){if(!this.isInterfaceEnabled()){return}this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active")}))}Q.data("select2-data",R);Q.insertBefore(this.searchContainer);O.push(N);this.setVal(O)},unselect:function(O){var Q=this.getVal(),P,N;O=O.closest(".select2-search-choice");if(O.length===0){throw"Invalid argument: "+O+". Must be .select2-search-choice"}P=O.data("select2-data");if(!P){return}N=p(this.id(P),Q);if(N>=0){Q.splice(N,1);this.setVal(Q);if(this.select){this.postprocessResults()}}O.remove();this.opts.element.trigger({type:"removed",val:this.id(P),choice:P});this.triggerChange({removed:P})},postprocessResults:function(R,O,Q){var S=this.getVal(),T=this.results.find(".select2-result"),P=this.results.find(".select2-result-with-children"),N=this;T.each2(function(V,U){var W=N.id(U.data("select2-data"));if(p(W,S)>=0){U.addClass("select2-selected");U.find(".select2-result-selectable").addClass("select2-selected")}});P.each2(function(V,U){if(!U.is(".select2-result-selectable")&&U.find(".select2-result-selectable:not(.select2-selected)").length===0){U.addClass("select2-selected")}});if(this.highlight()==-1&&Q!==false){N.highlight(0)}if(!this.opts.createSearchChoice&&!T.filter(".select2-result:not(.select2-selected)").length>0){if(!R||R&&!R.more&&this.results.find(".select2-no-results").length===0){if(x(N.opts.formatNoMatches,"formatNoMatches")){this.results.append("<li class='select2-no-results'>"+N.opts.formatNoMatches(N.search.val())+"</li>")}}}},getMaxSearchWidth:function(){return this.selection.width()-f(this.search)},resizeSearch:function(){var S,Q,P,N,O,R=f(this.search);S=m(this.search)+10;Q=this.search.offset().left;P=this.selection.width();N=this.selection.offset().left;O=P-(Q-N)-R;if(O<S){O=P-R}if(O<40){O=P-R}if(O<=0){O=S}this.search.width(O)},getVal:function(){var N;if(this.select){N=this.select.val();return N===null?[]:N}else{N=this.opts.element.val();return g(N,this.opts.separator)}},setVal:function(O){var N;if(this.select){this.select.val(O)}else{N=[];C(O).each(function(){if(p(this,N)<0){N.push(this)}});this.opts.element.val(N.length===0?"":N.join(this.opts.separator))}},buildChangeDetails:function(N,Q){var Q=Q.slice(0),N=N.slice(0);for(var P=0;P<Q.length;P++){for(var O=0;O<N.length;O++){if(s(this.opts.id(Q[P]),this.opts.id(N[O]))){Q.splice(P,1);P--;N.splice(O,1);O--}}}return{added:Q,removed:N}},val:function(R,O){var Q,N=this,P;if(arguments.length===0){return this.getVal()}Q=this.data();if(!Q.length){Q=[]}if(!R&&R!==0){this.opts.element.val("");this.updateSelection([]);this.clearSearch();if(O){this.triggerChange({added:this.data(),removed:Q})}return}this.setVal(R);if(this.select){this.opts.initSelection(this.select,this.bind(this.updateSelection));if(O){this.triggerChange(this.buildChangeDetails(Q,this.data()))}}else{if(this.opts.initSelection===l){throw new Error("val() cannot be called if initSelection() is not defined")}this.opts.initSelection(this.opts.element,function(T){var S=C.map(T,N.id);N.setVal(S);N.updateSelection(T);N.clearSearch();if(O){N.triggerChange(this.buildChangeDetails(Q,this.data()))}})}this.clearSearch()},onSortStart:function(){if(this.select){throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.")}this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var O=[],N=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){O.push(N.opts.id(C(this).data("select2-data")))});this.setVal(O);this.triggerChange()},data:function(P,Q){var O=this,R,N;if(arguments.length===0){return this.selection.find(".select2-search-choice").map(function(){return C(this).data("select2-data")}).get()}else{N=this.data();if(!P){P=[]}R=C.map(P,function(S){return O.opts.id(S)});this.setVal(R);this.updateSelection(P);this.clearSearch();if(Q){this.triggerChange(this.buildChangeDetails(N,this.data()))}}}});C.fn.select2=function(){var R=Array.prototype.slice.call(arguments,0),O,Q,N,T,V,U=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","readonly","positionDropdown","data","search"],S=["val","opened","isFocused","container","data"],P={search:"externalSearch"};this.each(function(){if(R.length===0||typeof(R[0])==="object"){O=R.length===0?{}:C.extend({},R[0]);O.element=C(this);if(O.element.get(0).tagName.toLowerCase()==="select"){V=O.element.prop("multiple")}else{V=O.multiple||false;if("tags" in O){O.multiple=V=true}}Q=V?new c():new w();Q.init(O)}else{if(typeof(R[0])==="string"){if(p(R[0],U)<0){throw"Unknown method: "+R[0]}T=l;Q=C(this).data("select2");if(Q===l){return}N=R[0];if(N==="container"){T=Q.container}else{if(N==="dropdown"){T=Q.dropdown}else{if(P[N]){N=P[N]}T=Q[N].apply(Q,R.slice(1))}}if(p(R[0],S)>=0){return false}}else{throw"Invalid arguments to select2 plugin: "+R}}});return(T===l)?this:T};C.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:true,openOnEnter:true,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(O,P,R,N){var Q=[];t(O.text,R.term,Q,N);return Q.join("")},formatSelection:function(O,N){return O?O.text:l},sortResults:function(O,N,P){return O},formatResultCssClass:function(N){return l},formatSelectionCssClass:function(O,N){return l},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(N,O){var P=O-N.length;return"Please enter "+P+" more character"+(P==1?"":"s")},formatInputTooLong:function(O,N){var P=O.length-N;return"Please delete "+P+" character"+(P==1?"":"s")},formatSelectionTooBig:function(N){return"You can only select "+N+" item"+(N==1?"":"s")},formatLoadMore:function(N){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(N){return N.id},matcher:function(N,O){return(""+O).toUpperCase().indexOf((""+N).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:e,escapeMarkup:F,blurOnChange:false,selectOnBlur:false,adaptContainerCssClass:function(N){return N},adaptDropdownCssClass:function(N){return null}};C.fn.select2.ajaxDefaults={transport:C.ajax,params:{type:"GET",cache:false,dataType:"json"}};window.Select2={query:{ajax:D,local:G,tags:y},util:{debounce:j,markMatch:t,escapeMarkup:F},"class":{"abstract":M,single:w,multi:c}}}(jQuery));(function(){function fz(c,a){try{for(var d in a){Object.defineProperty(c.prototype,d,{value:a[d],enumerable:!1})}}catch(b){c.prototype=a}}function e4(c){var a=-1,d=c.length,b=[];while(++a<d){b.push(c[a])}return b}function fe(a){return Array.prototype.slice.call(a)}function e8(){}function fq(a){return a}function e6(){return this}function fc(){return !0}function e2(a){return typeof a=="function"?a:function(){return a}}function fE(b,a,c){return function(){var d=c.apply(a,arguments);return arguments.length?b:d}}function fy(a){return a!=null&&!isNaN(a)}function fj(a){return a.length}function fB(a){return a==null}function fv(a){return a.trim().replace(/\s+/g," ")}function fb(b){var a=1;while(b*a%1){a*=10}return a}function fA(){}function e1(c){function b(){var f=d,h=-1,e=f.length,g;while(++h<e){(g=f[h].on)&&g.apply(this,arguments)}return c}var d=[],a=new e8;return b.on=function(e,g){var f=a.get(e),h;return arguments.length<2?f&&f.on:(f&&(f.on=null,d=d.slice(0,h=d.indexOf(f)).concat(d.slice(h+1)),a.remove(e)),g&&d.push(a.set(e,{on:g})),c)},b}function ff(b,a){return a-(b?1+Math.floor(Math.log(b+Math.pow(10,1+Math.floor(Math.log(b)/Math.LN10)-a))/Math.LN10):1)}function fw(a){return a+""}function eY(c){var a=c.lastIndexOf("."),d=a>=0?c.substring(a):(a=c.length,""),b=[];while(a>0){b.push(c.substring(a-=3,a+3))}return b.reverse().join(",")+d}function fC(b,a){var c=Math.pow(10,Math.abs(8-a)*3);return{scale:a>8?function(d){return d/c}:function(d){return d*c},symbol:b}}function e0(a){return function(b){return b<=0?0:b>=1?1:a(b)}}function gc(a){return function(b){return 1-a(1-b)}}function fQ(a){return function(b){return 0.5*(b<0.5?a(2*b):2-a(2-2*b))}}function eZ(a){return a}function fO(a){return function(b){return Math.pow(b,a)}}function fX(a){return 1-Math.cos(a*Math.PI/2)}function ge(a){return Math.pow(2,10*(a-1))}function fk(a){return 1-Math.sqrt(1-a*a)}function f1(b,a){var c;return arguments.length<2&&(a=0.45),arguments.length<1?(b=1,c=a/4):c=a/(2*Math.PI)*Math.asin(1/b),function(d){return 1+b*Math.pow(2,10*-d)*Math.sin((d-c)*2*Math.PI/a)}}function gh(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}}function fW(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375}function f0(){d3.event.stopPropagation(),d3.event.preventDefault()}function fF(){var b=d3.event,a;while(a=b.sourceEvent){b=a}return b}function gd(c){var a=new fA,d=0,b=arguments.length;while(++d<b){a[arguments[d]]=e1(a)}return a.of=function(f,e){return function(g){try{var h=g.sourceEvent=d3.event;g.target=c,d3.event=g,a[g.type].apply(f,e)}finally{d3.event=h}}},a}function fU(f){var b=[f.a,f.b],g=[f.c,f.d],d=gg(b),a=f8(b,g),c=gg(fm(g,b,-a))||0;b[0]*g[1]<g[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,a*=-1),this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-g[0],g[1]))*c3,this.translate=[f.e,f.f],this.scale=[d,c],this.skew=c?Math.atan2(a,c)*c3:0}function f8(b,a){return b[0]*a[0]+b[1]*a[1]}function gg(b){var a=Math.sqrt(f8(b,b));return a&&(b[0]/=a,b[1]/=a),a}function fm(b,a,c){return b[0]+=c*a[0],b[1]+=c*a[1],b}function gb(a){return a=="transform"?d3.interpolateTransform:d3.interpolate}function f7(b,a){return a=a-(b=+b)?1/(a-b):0,function(c){return(c-b)*a}}function e9(b,a){return a=a-(b=+b)?1/(a-b):0,function(c){return Math.max(0,Math.min(1,(c-b)*a))}}function fR(){}function fN(b,a,c){return new eX(b,a,c)}function eX(b,a,c){this.r=b,this.g=a,this.b=c}function fJ(a){return a<16?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function fI(g,k,d){var b=0,f=0,l=0,c,j,h;c=/([a-z]+)\((.*)\)/i.exec(g);if(c){j=c[2].split(",");switch(c[1]){case"hsl":return d(parseFloat(j[0]),parseFloat(j[1])/100,parseFloat(j[2])/100);case"rgb":return k(f3(j[0]),f3(j[1]),f3(j[2]))}}return(h=eN.get(g))?k(h.r,h.g,h.b):(g!=null&&g.charAt(0)==="#"&&(g.length===4?(b=g.charAt(1),b+=b,f=g.charAt(2),f+=f,l=g.charAt(3),l+=l):g.length===7&&(b=g.substring(1,3),f=g.substring(3,5),l=g.substring(5,7)),b=parseInt(b,16),f=parseInt(f,16),l=parseInt(l,16)),k(b,f,l))}function fK(g,k,d){var b=Math.min(g/=255,k/=255,d/=255),f=Math.max(g,k,d),l=f-b,c,j,h=(f+b)/2;return l?(j=h<0.5?l/(f+b):l/(2-f-b),g==f?c=(k-d)/l+(k<d?6:0):k==f?c=(d-g)/l+2:c=(g-k)/l+4,c*=60):j=c=0,fT(c,j,h)}function gF(f,b,g){f=f5(f),b=f5(b),g=f5(g);var d=aU((0.4124564*f+0.3575761*b+0.1804375*g)/gI),a=aU((0.2126729*f+0.7151522*b+0.072175*g)/fM),c=aU((0.0193339*f+0.119192*b+0.9503041*g)/ax);return cD(116*a-16,500*(d-a),200*(a-c))}function f5(a){return(a/=255)<=0.04045?a/12.92:Math.pow((a+0.055)/1.055,2.4)}function f3(b){var a=parseFloat(b);return b.charAt(b.length-1)==="%"?Math.round(a*2.55):a}function fT(b,a,c){return new ga(b,a,c)}function ga(b,a,c){this.h=b,this.s=a,this.l=c}function fH(f,b,h){function d(j){return j>360?j-=360:j<0&&(j+=360),j<60?c+(g-c)*j/60:j<180?g:j<240?c+(g-c)*(240-j)/60:c}function a(j){return Math.round(d(j)*255)}var c,g;return f%=360,f<0&&(f+=360),b=b<0?0:b>1?1:b,h=h<0?0:h>1?1:h,g=h<=0.5?h*(1+b):h+b-h*b,c=2*h-g,fN(a(f+120),a(f),a(f-120))}function fG(b,a,c){return new eA(b,a,c)}function eA(b,a,c){this.h=b,this.c=a,this.l=c}function a6(b,a,c){return cD(c,Math.cos(b*=Math.PI/180)*a,Math.sin(b)*a)}function cD(b,a,c){return new bG(b,a,c)}function bG(b,a,c){this.l=b,this.a=a,this.b=c}function dI(f,b,g){var d=(f+16)/116,a=d+b/500,c=d-g/200;return a=cg(a)*gI,d=cg(d)*fM,c=cg(c)*ax,fN(gq(3.2404542*a-1.5371385*d-0.4985314*c),gq(-0.969266*a+1.8760108*d+0.041556*c),gq(0.0556434*a-0.2040259*d+1.0572252*c))}function bj(b,a,c){return fG(Math.atan2(c,a)/Math.PI*180,Math.sqrt(a*a+c*c),b)}function cg(a){return a>0.206893034?a*a*a:(a-4/29)/7.787037}function aU(a){return a>0.008856?Math.pow(a,1/3):7.787037*a+4/29}function gq(a){return Math.round(255*(a<=0.00304?12.92*a:1.055*Math.pow(a,1/2.4)-0.055))}function ej(a){return dH(a,df),a}function c2(a){return function(){return c8(a,this)}}function e3(a){return function(){return gU(a,this)}}function dT(g,c){function j(){this.removeAttribute(g)}function f(){this.removeAttributeNS(g.space,g.local)}function b(){this.setAttribute(g,c)}function d(){this.setAttributeNS(g.space,g.local,c)}function h(){var e=c.apply(this,arguments);e==null?this.removeAttribute(g):this.setAttribute(g,e)}function a(){var e=c.apply(this,arguments);e==null?this.removeAttributeNS(g.space,g.local):this.setAttributeNS(g.space,g.local,e)}return g=d3.ns.qualify(g),c==null?g.local?f:j:typeof c=="function"?g.local?a:h:g.local?d:b}function b4(a){return new RegExp("(?:^|\\s+)"+d3.requote(a)+"(?:\\s+|$)","g")}function eM(d,b){function f(){var e=-1;while(++e<a){d[e](this,b)}}function c(){var g=-1,e=b.apply(this,arguments);while(++g<a){d[g](this,e)}}d=d.trim().split(/\s+/).map(aI);var a=d.length;return typeof b=="function"?c:f}function aI(b){var a=b4(b);return function(g,e){if(c=g.classList){return e?c.add(b):c.remove(b)}var c=g.className,d=c.baseVal!=null,f=d?c.baseVal:c;e?(a.lastIndex=0,a.test(f)||(f=fv(f+" "+b),d?c.baseVal=f:g.className=f)):f&&(f=fv(f.replace(a," ")),d?c.baseVal=f:g.className=f)}}function cQ(f,b,g){function d(){this.style.removeProperty(f)}function a(){this.style.setProperty(f,b,g)}function c(){var e=b.apply(this,arguments);e==null?this.style.removeProperty(f):this.style.setProperty(f,e,g)}return b==null?d:typeof b=="function"?c:a}function d6(d,b){function f(){delete this[d]}function c(){this[d]=b}function a(){var e=b.apply(this,arguments);e==null?delete this[d]:this[d]=e}return b==null?f:typeof b=="function"?a:c}function gH(a){return{__data__:a}}function fL(a){return function(){return a1(this,a)}}function aw(a){return arguments.length||(a=d3.ascending),function(b,c){return a(b&&b.__data__,c&&c.__data__)}}function aC(f,b,h){function d(){var e=this[c];e&&(this.removeEventListener(f,e,e.$),delete this[c])}function a(){function j(l){var m=d3.event;d3.event=l,e[0]=k.__data__;try{b.apply(k,e)}finally{d3.event=m}}var k=this,e=arguments;d.call(this),this.addEventListener(f,this[c]=j,j.$=h),j._=b}var c="__on"+f,g=f.indexOf(".");return g>0&&(f=f.substring(0,g)),b?a:d}function c7(g,c){for(var j=0,f=g.length;j<f;j++){for(var b=g[j],d=0,h=b.length,a;d<h;d++){(a=b[d])&&c(a,d,j)}}return g}function gT(a){return dH(a,bA),a}function cV(d,b,g){dH(d,dZ);var a=new e8,c=d3.dispatch("start","end"),f=al;return d.id=b,d.time=g,d.tween=function(e,h){return arguments.length<2?a.get(e):(h==null?a.remove(e):a.set(e,h),d)},d.ease=function(e){return arguments.length?(f=typeof e=="function"?e:d3.ease.apply(d3,arguments),d):f},d.each=function(e,h){return arguments.length<2?eb.call(d,e):(c.on(e,h),d)},d3.timer(function(e){return c7(d,function(r,y,w){function q(h){return x.active>b?t():(x.active=b,a.forEach(function(l,m){(m=m.call(r,k,y))&&o.push(m)}),c.start.call(r,k,y),n(h)||d3.timer(n,0,g),1)}function n(p){if(x.active!==b){return t()}var m=(p-j)/s,l=f(m),h=o.length;while(h>0){o[--h].call(r,l)}if(m>=1){return t(),ae=b,c.end.call(r,k,y),ae=0,1}}function t(){return --x.count||delete r.__transition__,1}var o=[],j=r.delay,s=r.duration,x=(r=r.node).__transition__||(r.__transition__={active:0,count:0}),k=r.__data__;++x.count,j<=e?q(e):d3.timer(q,j,g)})},0,g),d}function eb(d){var b=ae,f=al,c=bd,a=dx;return ae=this.id,al=this.ease(),c7(this,function(e,h,g){bd=e.delay,dx=e.duration,d.call(e=e.node,e.__data__,h,g)}),ae=b,al=f,bd=c,dx=a,this}function a0(b,a,c){return c!=""&&fZ}function de(b,a){return d3.tween(b,gb(a))}function eF(){var c,a=Date.now(),d=cK;while(d){c=a-d.then,c>=d.delay&&(d.flush=d.callback(c)),d=d.next}var b=bz()-a;b>24?(isFinite(b)&&(clearTimeout(ca),ca=setTimeout(eF,b)),gk=0):(gk=1,bY(eF))}function bz(){var b=null,a=cK,c=Infinity;while(a){a.flush?(delete dl[a.callback.id],a=b?b.next=a.next:cK=a.next):(c=Math.min(c,a.then+a.delay),a=(b=a).next)}return c}function dY(f,b){var g=f.ownerSVGElement||f;if(g.createSVGPoint){var d=g.createSVGPoint();if(cp<0&&(window.scrollX||window.scrollY)){g=d3.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0);var a=g[0][0].getScreenCTM();cp=!a.f&&!a.e,g.remove()}return cp?(d.x=b.pageX,d.y=b.pageY):(d.x=b.clientX,d.y=b.clientY),d=d.matrixTransform(f.getScreenCTM().inverse()),[d.x,d.y]}var c=f.getBoundingClientRect();return[b.clientX-c.left-f.clientLeft,b.clientY-c.top-f.clientTop]}function eq(){}function ad(b){var a=b[0],c=b[b.length-1];return a<c?[a,c]:[c,a]}function aO(a){return a.rangeExtent?a.rangeExtent():ad(a.range())}function dM(f,b){var h=0,d=f.length-1,a=f[h],c=f[d],g;c<a&&(g=h,h=d,d=g,g=a,a=c,c=g);if(b=b(c-a)){f[h]=b.floor(a),f[d]=b.ceil(c)}return f}function gz(){return Math}function bc(g,c,j,f){function b(){var k=Math.min(g.length,c.length)>2?gj:cJ,e=f?e9:f7;return h=k(g,c,e,j),a=k(c,g,e,d3.interpolate),d}function d(k){return h(k)}var h,a;return d.invert=function(k){return a(k)},d.domain=function(e){return arguments.length?(g=e.map(Number),b()):g},d.range=function(k){return arguments.length?(c=k,b()):c},d.rangeRound=function(k){return d.range(k).interpolate(d3.interpolateRound)},d.clamp=function(k){return arguments.length?(f=k,b()):f},d.interpolate=function(k){return arguments.length?(j=k,b()):j},d.ticks=function(e){return bS(g,e)},d.tickFormat=function(e){return dk(g,e)},d.nice=function(){return dM(g,ak),b()},d.copy=function(){return bc(g,c,j,f)},b()}function dw(b,a){return d3.rebind(b,a,"range","rangeRound","interpolate","clamp")}function ak(a){return a=Math.pow(10,Math.round(Math.log(a)/Math.LN10)-1),a&&{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}}function fY(f,b){var g=ad(f),d=g[1]-g[0],a=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),c=b/d*a;return c<=0.15?a*=10:c<=0.35?a*=5:c<=0.75&&(a*=2),g[0]=Math.ceil(g[0]/a)*a,g[1]=Math.floor(g[1]/a)*a+a*0.5,g[2]=a,g}function bS(b,a){return d3.range.apply(d3,fY(b,a))}function dk(b,a){return d3.format(",."+Math.max(0,-Math.floor(Math.log(fY(b,a)[2])/Math.LN10+0.01))+"f")}function cJ(f,b,g,d){var a=g(f[0],f[1]),c=d(b[0],b[1]);return function(h){return c(a(h))}}function gj(g,c,j,f){var b=[],d=[],h=0,a=Math.min(g.length,c.length)-1;g[a]<g[0]&&(g=g.slice().reverse(),c=c.slice().reverse());while(++h<=a){b.push(j(g[h-1],g[h])),d.push(f(c[h-1],c[h]))}return function(e){var k=d3.bisect(g,e,1,a)-1;return d[k](b[k](e))}}function b9(c,a){function d(e){return c(a(e))}var b=a.pow;return d.invert=function(e){return b(c.invert(e))},d.domain=function(e){return arguments.length?(a=e[0]<0?cm:bX,b=a.pow,c.domain(e.map(a)),d):c.domain().map(b)},d.nice=function(){return c.domain(dM(c.domain(),gz)),d},d.ticks=function(){var m=ad(c.domain()),h=[];if(m.every(isFinite)){var j=Math.floor(m[0]),l=Math.ceil(m[1]),g=b(m[0]),e=b(m[1]);if(a===cm){h.push(b(j));for(;j++<l;){for(var k=9;k>0;k--){h.push(b(j)*k)}}}else{for(;j<l;j++){for(var k=1;k<10;k++){h.push(b(j)*k)}}h.push(b(j))}for(j=0;h[j]<g;j++){}for(l=h.length;h[l-1]>e;l--){}h=h.slice(j,l)}return h},d.tickFormat=function(j,g){arguments.length<2&&(g=cz);if(arguments.length<1){return g}var h=Math.max(0.1,j/d.ticks().length),k=a===cm?(f=-1e-12,Math.floor):(f=1e-12,Math.ceil),f;return function(l){return l/b(k(a(l)+f))<=h?g(l):""}},d.copy=function(){return b9(c.copy(),a)},dw(d,c)}function bX(a){return Math.log(a<0?0:a)/Math.LN10}function cm(a){return -Math.log(a>0?0:-a)/Math.LN10}function cy(d,b){function f(e){return d(c(e))}var c=fg(b),a=fg(1/b);return f.invert=function(e){return a(d.invert(e))},f.domain=function(e){return arguments.length?(d.domain(e.map(c)),f):d.domain().map(a)},f.ticks=function(g){return bS(f.domain(),g)},f.tickFormat=function(g){return dk(f.domain(),g)},f.nice=function(){return f.domain(dM(f.domain(),ak))},f.exponent=function(h){if(!arguments.length){return b}var g=f.domain();return c=fg(b=h),a=fg(1/b),f.domain(g)},f.copy=function(){return cy(d.copy(),b)},dw(f,d)}function fg(a){return function(b){return b<0?-Math.pow(-b,a):Math.pow(b,a)}}function eQ(f,c){function h(e){return g[((d.get(e)||d.set(e,f.push(e)))-1)%g.length]}function b(e,j){return d3.range(f.length).map(function(k){return e+j*k})}var d,g,a;return h.domain=function(k){if(!arguments.length){return f}f=[],d=new e8;var l=-1,j=k.length,e;while(++l<j){d.has(e=k[l])||d.set(e,f.push(e))}return h[c.t].apply(h,c.a)},h.range=function(j){return arguments.length?(g=j,a=0,c={t:"range",a:arguments},h):g},h.rangePoints=function(m,k){arguments.length<2&&(k=0);var j=m[0],n=m[1],e=(n-j)/(Math.max(1,f.length-1)+k);return g=b(f.length<2?(j+n)/2:j+e*k/2,e),a=0,c={t:"rangePoints",a:arguments},h},h.rangeBands=function(n,m,j){arguments.length<2&&(m=0),arguments.length<3&&(j=m);var o=n[1]<n[0],e=n[o-0],p=n[1-o],k=(p-e)/(f.length-m+2*j);return g=b(e+k*j,k),o&&g.reverse(),a=k*(1-m),c={t:"rangeBands",a:arguments},h},h.rangeRoundBands=function(n,m,j){arguments.length<2&&(m=0),arguments.length<3&&(j=m);var o=n[1]<n[0],e=n[o-0],t=n[1-o],k=Math.floor((t-e)/(f.length-m+2*j)),q=t-e-(f.length-m)*k;return g=b(e+Math.round(q/2),k),o&&g.reverse(),a=Math.round(k*(1-m)),c={t:"rangeRoundBands",a:arguments},h},h.rangeBand=function(){return a},h.rangeExtent=function(){return ad(c.a[0])},h.copy=function(){return eQ(f,c)},h.domain(f)}function dB(d,b){function f(){var h=0,e=d.length,g=b.length;a=[];while(++h<g){a[h-1]=d3.quantile(d,h/g)}return c}function c(g){return isNaN(g=+g)?NaN:b[d3.bisect(a,g)]}var a;return c.domain=function(e){return arguments.length?(d=e.filter(function(g){return !isNaN(g)}).sort(d3.ascending),f()):d},c.range=function(g){return arguments.length?(b=g,f()):b},c.quantiles=function(){return a},c.copy=function(){return dB(d,b)},f()}function gN(f,b,h){function d(e){return h[Math.max(0,Math.min(g,Math.floor(c*(e-f))))]}function a(){return c=h.length/(b-f),g=h.length-1,d}var c,g;return d.domain=function(e){return arguments.length?(f=+e[0],b=+e[e.length-1],a()):[f,b]},d.range=function(j){return arguments.length?(h=j,a()):h},d.copy=function(){return gN(f,b,h)},a()}function bL(b,a){function c(d){return a[d3.bisect(b,d)]}return c.domain=function(d){return arguments.length?(b=d,c):b},c.range=function(d){return arguments.length?(a=d,c):a},c.copy=function(){return bL(b,a)},c}function bq(b){function a(c){return +c}return a.invert=a,a.domain=a.range=function(c){return arguments.length?(b=c.map(a),a):b},a.ticks=function(c){return bS(b,c)},a.tickFormat=function(c){return dk(b,c)},a.copy=function(){return bq(b)},a}function eE(a){return a.innerRadius}function ba(a){return a.outerRadius}function cI(a){return a.startAngle}function bK(a){return a.endAngle}function bp(k){function d(w){function f(){s.push("M",g(k(m),j))}var s=[],m=[],r=-1,n=w.length,e,q=e2(l),u=e2(h);while(++r<n){c.call(this,e=w[r],r)?m.push([+q.call(this,e,r),+u.call(this,e,r)]):m.length&&(f(),m=[])}return m.length&&f(),s.length?s.join(""):null}var l=cl,h=aY,c=fc,g=gy,b=g.key,j=0.7;return d.x=function(a){return arguments.length?(l=a,d):l},d.y=function(a){return arguments.length?(h=a,d):h},d.defined=function(a){return arguments.length?(c=a,d):c},d.interpolate=function(a){return arguments.length?(typeof a=="function"?b=g=a:b=(g=eD.get(a)||gy).key,d):b},d.tension=function(a){return arguments.length?(j=a,d):j},d}function cl(a){return a[0]}function aY(a){return a[1]}function gy(a){return a.join("L")}function ep(a){return gy(a)+"Z"}function c6(d){var b=0,f=d.length,c=d[0],a=[c[0],",",c[1]];while(++b<f){a.push("V",(c=d[b])[1],"H",c[0])}return a.join("")}function fd(d){var b=0,f=d.length,c=d[0],a=[c[0],",",c[1]];while(++b<f){a.push("H",(c=d[b])[0],"V",c[1])}return a.join("")}function dX(b,a){return b.length<4?gy(b):b[1]+aM(b.slice(1,b.length-1),cU(b,a))}function b8(b,a){return b.length<3?gy(b):b[0]+aM((b.push(b[0]),b),cU([b[b.length-2]].concat(b,[b[1]]),a))}function eP(b,a,c){return b.length<3?gy(b):b[0]+aM(b,cU(b,a))}function aM(k,q){if(q.length<1||k.length!=q.length&&k.length!=q.length+2){return gy(k)}var d=k.length!=q.length,b="",h=k[0],v=k[1],c=q[0],p=c,m=1;d&&(b+="Q"+(v[0]-c[0]*2/3)+","+(v[1]-c[1]*2/3)+","+v[0]+","+v[1],h=k[1],m=2);if(q.length>1){p=q[1],v=k[m],m++,b+="C"+(h[0]+c[0])+","+(h[1]+c[1])+","+(v[0]-p[0])+","+(v[1]-p[1])+","+v[0]+","+v[1];for(var j=2;j<q.length;j++,m++){v=k[m],p=q[j],b+="S"+(v[0]-p[0])+","+(v[1]-p[1])+","+v[0]+","+v[1]}}if(d){var g=k[m];b+="Q"+(v[0]+p[0]*2/3)+","+(v[1]+p[1]*2/3)+","+g[0]+","+g[1]}return b}function cU(g,k){var d=[],b=(1-k)/2,f,l=g[0],c=g[1],j=1,h=g.length;while(++j<h){f=l,l=c,c=g[j],d.push([b*(c[0]-f[0]),b*(c[1]-f[1])])}return d}function ea(g){if(g.length<3){return gy(g)}var k=1,d=g.length,b=g[0],f=b[0],l=b[1],c=[f,f,f,(b=g[1])[0]],j=[l,l,l,b[1]],h=[f,",",l];dc(h,c,j);while(++k<d){b=g[k],c.shift(),c.push(b[0]),j.shift(),j.push(b[1]),dc(h,c,j)}k=-1;while(++k<2){c.shift(),c.push(b[0]),j.shift(),j.push(b[1]),dc(h,c,j)}return h.join("")}function gL(f){if(f.length<4){return gy(f)}var b=[],h=-1,d=f.length,a,c=[0],g=[0];while(++h<3){a=f[h],c.push(a[0]),g.push(a[1])}b.push(aG(bJ,c)+","+aG(bJ,g)),--h;while(++h<d){a=f[h],c.shift(),c.push(a[0]),g.shift(),g.push(a[1]),dc(b,c,g)}return b.join("")}function fV(g){var c,j=-1,f=g.length,b=f+4,d,h=[],a=[];while(++j<4){d=g[j%f],h.push(d[0]),a.push(d[1])}c=[aG(bJ,h),",",aG(bJ,a)],--j;while(++j<b){d=g[j%f],h.shift(),h.push(d[0]),a.shift(),a.push(d[1]),dc(c,h,a)}return c.join("")}function aA(j,m){var d=j.length-1;if(d){var b=j[0][0],g=j[0][1],p=j[d][0]-b,c=j[d][1]-g,l=-1,k,h;while(++l<=d){k=j[l],h=l/d,k[0]=m*k[0]+(1-m)*(b+h*p),k[1]=m*k[1]+(1-m)*(g+h*c)}}return ea(j)}function aG(b,a){return b[0]*a[0]+b[1]*a[1]+b[2]*a[2]+b[3]*a[3]}function dc(b,a,c){b.push("C",aG(a9,a),",",aG(a9,c),",",aG(cH,a),",",aG(cH,c),",",aG(bJ,a),",",aG(bJ,c))}function ac(b,a){return(a[1]-b[1])/(a[0]-b[0])}function c0(f){var b=0,h=f.length-1,d=[],a=f[0],c=f[1],g=d[0]=ac(a,c);while(++b<h){d[b]=(g+(g=ac(a=c,c=f[b+1])))/2}return d[b]=g,d}function eg(g){var k=[],d,b,f,l,c=c0(g),j=-1,h=g.length-1;while(++j<h){d=ac(g[j],g[j+1]),Math.abs(d)<0.000001?c[j]=c[j+1]=0:(b=c[j]/d,f=c[j+1]/d,l=b*b+f*f,l>9&&(l=d*3/Math.sqrt(l),c[j]=l*b,c[j+1]=l*f))}j=-1;while(++j<=h){l=(g[Math.min(h,j+1)][0]-g[Math.max(0,j-1)][0])/(6*(1+c[j]*c[j])),k.push([l||0,c[j]*l||0])}return k}function a4(a){return a.length<3?gy(a):a[0]+aM(a,eg(a))}function dj(f){var b,g=-1,d=f.length,a,c;while(++g<d){b=f[g],a=b[0],c=b[1]+bM,b[0]=a*Math.cos(c),b[1]=a*Math.sin(c)}return f}function eK(q){function w(C){function a(){e.push("M",o(q(B),d),m,u(q(p.reverse()),d),"Z")}var e=[],p=[],B=[],c=-1,n=C.length,s,r=e2(g),A=e2(k),D=g===b?function(){return z}:e2(b),h=k===x?function(){return f}:e2(x),z,f;while(++c<n){v.call(this,s=C[c],c)?(p.push([z=+r.call(this,s,c),f=+A.call(this,s,c)]),B.push([+D.call(this,s,c),+h.call(this,s,c)])):p.length&&(a(),p=[],B=[])}return p.length&&a(),e.length?e.join(""):null}var g=cl,b=cl,k=0,x=aY,v=fc,o=gy,j=o.key,u=o,m="L",d=0.7;return w.x=function(a){return arguments.length?(g=b=a,w):b},w.x0=function(a){return arguments.length?(g=a,w):g},w.x1=function(a){return arguments.length?(b=a,w):b},w.y=function(a){return arguments.length?(k=x=a,w):x},w.y0=function(a){return arguments.length?(k=a,w):k},w.y1=function(a){return arguments.length?(x=a,w):x},w.defined=function(a){return arguments.length?(v=a,w):v},w.interpolate=function(a){return arguments.length?(typeof a=="function"?j=o=a:j=(o=eD.get(a)||gy).key,u=o.reverse||o,m=o.closed?"M":"L",w):j},w.tension=function(a){return arguments.length?(d=a,w):d},w}function bE(a){return a.source}function d4(a){return a.target}function ey(a){return a.radius}function aj(a){return a.startAngle}function aS(a){return a.endAngle}function dR(a){return[a.x,a.y]}function gE(a){return function(){var b=a.apply(this,arguments),d=b[0],c=b[1]+bM;return[d*Math.cos(c),d*Math.sin(c)]}}function bg(){return 64}function dA(){return"circle"}function au(b){var a=Math.sqrt(b/Math.PI);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function f9(b,a){b.attr("transform",function(c){return"translate("+a(c)+",0)"})}function bW(b,a){b.attr("transform",function(c){return"translate(0,"+a(c)+")"})}function du(j,m,d){g=[];if(d&&m.length>1){var b=ad(j.domain()),g,p=-1,c=m.length,l=(m[1]-m[0])/++d,k,h;while(++p<c){for(k=d;--k>0;){(h=+m[p]-k*l)>=b[0]&&g.push(h)}}for(--p,k=0;++k<d&&(h=+m[p]+k*l)<b[1];){g.push(h)}}return g}function cO(){em||(em=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var b=d3.event,a;try{em.scrollTop=1000,em.dispatchEvent(b),a=1000-em.scrollTop}catch(c){a=b.wheelDelta||-b.detail*5}return a}function gp(f){var b=f.source,g=f.target,d=b2(b,g),a=[b];while(b!==d){b=b.parent,a.push(b)}var c=a.length;while(g!==d){a.splice(c,0,g),g=g.parent}return a}function ce(b){var a=[],c=b.parent;while(c!=null){a.push(b),b=c,c=c.parent}return a.push(b),a}function b2(f,b){if(f===b){return f}var h=ce(f),d=ce(b),a=h.pop(),c=d.pop(),g=null;while(a===c){g=a,a=h.pop(),c=d.pop()}return g}function cw(a){a.fixed|=2}function cC(a){a.fixed&=1}function fx(a){a.fixed|=4}function eV(a){a.fixed&=3}function dG(j,m,d){var b=0,g=0;j.charge=0;if(!j.leaf){var p=j.nodes,c=p.length,l=-1,k;while(++l<c){k=p[l];if(k==null){continue}dG(k,m,d),j.charge+=k.charge,b+=k.charge*k.cx,g+=k.charge*k.cy}}if(j.point){j.leaf||(j.point.x+=Math.random()-0.5,j.point.y+=Math.random()-0.5);var h=m*d[j.point.index];j.charge+=j.pointCharge=h,b+=h*j.point.x,g+=h*j.point.y}j.cx=b/j.charge,j.cy=g/j.charge}function gR(a){return 20}function bQ(a){return 1}function by(a){return a.x}function eC(a){return a.y}function a8(b,a,c){b.y0=a,b.y=c}function cF(a){return d3.range(a.length)}function bI(c){var a=-1,d=c[0].length,b=[];while(++a<d){b[a]=0}return b}function dK(f){var b=1,g=0,d=f[0][1],a,c=f.length;for(;b<c;++b){(a=f[b][1])>d&&(g=b,d=a)}return g}function bl(a){return a.reduce(cj,0)}function cj(b,a){return b+a[1]}function aW(b,a){return gv(b,Math.ceil(Math.log(a.length)/Math.LN2+1))}function gv(f,b){var g=-1,d=+f[0],a=(f[1]-d)/b,c=[];while(++g<=b){c[g]=a*g+d}return c}function el(a){return[d3.min(a),d3.max(a)]}function c4(b,a){return d3.rebind(b,a,"sort","children","value"),b.links=eO,b.nodes=function(c){return aL=!0,(b.nodes=b)(c)},b}function e7(a){return a.children}function dV(a){return a.value}function b6(b,a){return a.value-b.value}function eO(a){return d3.merge(a.map(function(b){return(b.children||[]).map(function(c){return{source:b,target:c}})}))}function aK(b,a){return b.value-a.value}function cS(b,a){var c=b._pack_next;b._pack_next=a,a._pack_prev=b,a._pack_next=c,c._pack_prev=a}function d8(b,a){b._pack_next=a,a._pack_prev=b}function gJ(d,b){var f=b.x-d.x,c=b.y-d.y,a=d.r+b.r;return a*a-f*f-c*c>0.001}function fP(J){function w(a){z=Math.min(a.x-a.r,z),F=Math.max(a.x+a.r,F),x=Math.min(a.y-a.r,x),B=Math.max(a.y+a.r,B)}if(!(C=J.children)||!(A=C.length)){return}var C,z=Infinity,F=-Infinity,x=Infinity,B=-Infinity,q,N,I,E,L,G,A;C.forEach(ay),q=C[0],q.x=-q.r,q.y=0,w(q);if(A>1){N=C[1],N.x=N.r,N.y=0,w(N);if(A>2){I=C[2],aa(q,N,I),w(I),cS(q,I),q._pack_prev=I,cS(I,N),N=q._pack_next;for(E=3;E<A;E++){aa(q,N,I=C[E]);var K=0,k=1,D=1;for(L=N._pack_next;L!==N;L=L._pack_next,k++){if(gJ(L,I)){K=1;break}}if(K==1){for(G=q._pack_prev;G!==L._pack_prev;G=G._pack_prev,D++){if(gJ(G,I)){break}}}K?(k<D||k==D&&N.r<q.r?d8(q,N=L):d8(q=G,N),E--):(cS(q,I),N=I,w(I))}}}var H=(z+F)/2,j=(x+B)/2,M=0;for(E=0;E<A;E++){I=C[E],I.x-=H,I.y-=j,M=Math.max(M,I.r+Math.sqrt(I.x*I.x+I.y*I.y))}J.r=M,C.forEach(aE)}function ay(a){a._pack_next=a._pack_prev=a}function aE(a){delete a._pack_next,delete a._pack_prev}function c9(f,b,h,d){var a=f.children;f.x=b+=d*f.x,f.y=h+=d*f.y,f.r*=d;if(a){var c=-1,g=a.length;while(++c<g){c9(a[c],b,h,d)}}}function aa(j,m,d){var b=j.r+d.r,g=m.x-j.x,p=m.y-j.y;if(b&&(g||p)){var c=m.r+d.r,l=g*g+p*p;c*=c,b*=b;var k=0.5+(b-c)/(2*l),h=Math.sqrt(Math.max(0,2*c*(b+l)-(b-=l)*b-c*c))/(2*l);d.x=j.x+k*g+h*p,d.y=j.y+k*p-h*g}else{d.x=j.x+b,d.y=j.y}}function cX(a){return 1+d3.max(a,function(b){return b.y})}function ed(a){return a.reduce(function(c,b){return c+b.x},0)/a.length}function a2(b){var a=b.children;return a&&a.length?a2(a[0]):b}function dg(b){var a=b.children,c;return a&&(c=a.length)?dg(a[c-1]):b}function eH(b,a){return b.parent==a.parent?1:2}function bB(b){var a=b.children;return a&&a.length?a[0]:b._tree.thread}function d0(b){var a=b.children,c;return a&&(c=a.length)?a[c-1]:b._tree.thread}function ev(f,b){var g=f.children;if(g&&(a=g.length)){var d,a,c=-1;while(++c<a){b(d=ev(g[c],b),f)>0&&(f=d)}}return f}function af(b,a){return b.x-a.x}function aQ(b,a){return a.x-b.x}function dO(b,a){return b.depth-a.depth}function gB(b,a){function c(k,j){var g=k.children;if(g&&(d=g.length)){var h,l=null,f=-1,d;while(++f<d){h=g[f],c(h,l),l=h}}a(k,j)}c(b,null)}function be(f){var b=0,g=0,d=f.children,a=d.length,c;while(--a>=0){c=d[a]._tree,c.prelim+=b,c.mod+=b,b+=c.shift+(g+=c.change)}}function dy(c,a,d){c=c._tree,a=a._tree;var b=d/(a.number-c.number);c.change+=b,a.change-=b,a.shift+=d,a.prelim+=d,a.mod+=d}function am(b,a,c){return b._tree.ancestor.parent==a.parent?b._tree.ancestor:c}function f2(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function bU(f,b){var g=f.x+b[3],d=f.y+b[0],a=f.dx-b[1]-b[3],c=f.dy-b[0]-b[2];return a<0&&(g+=a/2,a=0),c<0&&(d+=c/2,c=0),{x:g,y:d,dx:a,dy:c}}function dm(g,c){function j(l,k){d3.text(l,c,function(m){k(m&&j.parse(m))})}function f(e){return e.map(b).join(g)}function b(k){return h.test(k)?'"'+k.replace(/\"/g,'""')+'"':k}var d=new RegExp("\r\n|["+g+"\r\n]","g"),h=new RegExp('["'+g+"\n]"),a=g.charCodeAt(0);return j.parse=function(l){var k;return j.parseRows(l,function(q,t){if(t){var p={},m=-1,o=k.length;while(++m<o){p[k[m]]=q[m]}return p}return k=q,null})},j.parseRows=function(v,y){function p(){if(d.lastIndex>=v.length){return s}if(q){return q=!1,k}var l=d.lastIndex;if(v.charCodeAt(l)===34){var z=l;while(z++<v.length){if(v.charCodeAt(z)===34){if(v.charCodeAt(z+1)!==34){break}z++}}d.lastIndex=z+2;var r=v.charCodeAt(z+1);return r===13?(q=!0,v.charCodeAt(z+2)===10&&d.lastIndex++):r===10&&(q=!0),v.substring(l+1,z).replace(/""/g,'"')}var e=d.exec(v);return e?(q=e[0].charCodeAt(0)!==a,v.substring(l,e.index)):(d.lastIndex=v.length,v.substring(l))}var k={},s={},m=[],x=0,u,q;d.lastIndex=0;while((u=p())!==s){var w=[];while(u!==k&&u!==s){w.push(u),u=p()}if(y&&!(w=y(w,x++))){continue}m.push(w)}return m},j.format=function(k){return k.map(f).join("\n")},j}function cL(b,a){return function(c){return c&&b.hasOwnProperty(c.type)?b[c.type](c):a}}function gl(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function cb(b,a){d9.hasOwnProperty(b.type)&&d9[b.type](b,a)}function bZ(b,a){cb(b.geometry,a)}function cq(d,b){for(var f=d.features,c=0,a=f.length;c<a;c++){cb(f[c].geometry,b)}}function cA(d,b){for(var f=d.geometries,c=0,a=f.length;c<a;c++){cb(f[c],b)}}function fl(d,b){for(var f=d.coordinates,c=0,a=f.length;c<a;c++){b.apply(null,f[c])}}function eS(g,c){for(var j=g.coordinates,f=0,b=j.length;f<b;f++){for(var d=j[f],h=0,a=d.length;h<a;h++){c.apply(null,d[h])}}}function dD(g,c){for(var j=g.coordinates,f=0,b=j.length;f<b;f++){for(var d=j[f][0],h=0,a=d.length;h<a;h++){c.apply(null,d[h])}}}function gP(b,a){a.apply(null,b.coordinates)}function bN(d,b){for(var f=d.coordinates[0],c=0,a=f.length;c<a;c++){b.apply(null,f[c])}}function bv(a){return a.source}function eI(a){return a.target}function bb(){function x(l){var f=Math.sin(l*=g)*y,o=Math.sin(g-l)*y,h=o*D+f*z,d=o*j+f*v,c=o*q+f*m;return[Math.atan2(d,h)/cT,Math.atan2(c,Math.sqrt(h*h+d*d))/cT]}var C,k,b,q,D,j,B,A,w,m,z,v,g,y;return x.distance=function(){return g==null&&(y=1/Math.sin(g=Math.acos(Math.max(-1,Math.min(1,q*m+b*w*Math.cos(B-C)))))),g},x.source=function(d){var c=Math.cos(C=d[0]*cT),e=Math.sin(C);return b=Math.cos(k=d[1]*cT),q=Math.sin(k),D=b*c,j=b*e,g=null,x},x.target=function(a){var d=Math.cos(B=a[0]*cT),c=Math.sin(B);return w=Math.cos(A=a[1]*cT),m=Math.sin(A),z=w*d,v=w*c,g=null,x},x}function cM(b,a){var c=bb().source(b).target(a);return c.distance(),c}function bO(b){var a=0,c=0;for(;;){if(b(a,c)){return[a,c]}a===0?(a=c+1,c=0):(a-=1,c+=1)}}function dP(k,q,d,b){var h,v,c,p,m,j,g;return h=b[k],v=h[0],c=h[1],h=b[q],p=h[0],m=h[1],h=b[d],j=h[0],g=h[1],(g-c)*(p-v)-(m-c)*(j-v)>0}function bw(b,a,c){return(c[0]-a[0])*(b[1]-a[1])<(c[1]-a[1])*(b[0]-a[0])}function cu(I,q,B,x){var E=I[0],w=q[0],A=B[0],k=x[0],L=I[1],H=q[1],D=B[1],K=x[1],F=E-A,z=w-E,J=k-A,j=L-D,C=H-L,G=K-D,b=(J*j-G*F)/(G*z-J*C);return[E+b*z,L+b*C]}function aZ(J,w){var C={list:J.map(function(b,a){return{index:a,x:b[0],y:b[1]}}).sort(function(b,a){return b.y<a.y?-1:b.y>a.y?1:b.x<a.x?-1:b.x>a.x?1:0}),bottomSite:null},z={list:[],leftEnd:null,rightEnd:null,init:function(){z.leftEnd=z.createHalfEdge(null,"l"),z.rightEnd=z.createHalfEdge(null,"l"),z.leftEnd.r=z.rightEnd,z.rightEnd.l=z.leftEnd,z.list.unshift(z.leftEnd,z.rightEnd)},createHalfEdge:function(b,a){return{edge:b,side:a,vertex:null,l:null,r:null}},insert:function(b,a){a.l=b,a.r=b.r,b.r.l=a,b.r=a},leftBound:function(b){var a=z.leftEnd;do{a=a.r}while(a!=z.rightEnd&&F.rightOf(a,b));return a=a.l,a},del:function(a){a.l.r=a.r,a.r.l=a.l,a.edge=null},right:function(a){return a.r},left:function(a){return a.l},leftRegion:function(a){return a.edge==null?C.bottomSite:a.edge.region[a.side]},rightRegion:function(a){return a.edge==null?C.bottomSite:a.edge.region[az[a.side]]}},F={bisect:function(f,b){var h={region:{l:f,r:b},ep:{l:null,r:null}},d=b.x-f.x,a=b.y-f.y,c=d>0?d:-d,g=a>0?a:-a;return h.c=f.x*d+f.y*a+(d*d+a*a)*0.5,c>g?(h.a=1,h.b=a/d,h.c/=d):(h.b=1,h.a=d/a,h.c/=a),h},intersect:function(v,Q){var g=v.edge,b=Q.edge;if(!g||!b||g.region.r==b.region.r){return null}var m=g.a*b.b-g.b*b.a;if(Math.abs(m)<1e-10){return null}var R=(g.c*b.b-b.c*g.b)/m,d=(b.c*g.a-g.c*b.a)/m,P=g.region.r,O=b.region.r,p,h;P.y<O.y||P.y==O.y&&P.x<O.x?(p=v,h=g):(p=Q,h=b);var y=R>=h.region.r.x;return y&&p.side==="l"||!y&&p.side==="r"?null:{x:R,y:d}},rightOf:function(Q,U){var m=Q.edge,b=m.region.r,y=U.x>b.x;if(y&&Q.side==="l"){return 1}if(!y&&Q.side==="r"){return 0}if(m.a===1){var V=U.y-b.y,g=U.x-b.x,T=0,S=0;!y&&m.b<0||y&&m.b>=0?S=T=V>=m.b*g:(S=U.x+U.y*m.b>m.c,m.b<0&&(S=!S),S||(T=1));if(!T){var P=b.x-m.region.l.x;S=m.b*(g*g-V*V)<P*V*(1+2*g/P+m.b*m.b),m.b<0&&(S=!S)}}else{var v=m.c-m.a*U.x,R=U.y-v,O=U.x-b.x,d=v-b.y;S=R*R>O*O+d*d}return Q.side==="l"?S:!S},endPoint:function(b,c,a){b.ep[c]=a;if(!b.ep[az[c]]){return}w(b)},distance:function(c,a){var d=c.x-a.x,b=c.y-a.y;return Math.sqrt(d*d+b*b)}},x={list:[],insert:function(f,c,h){f.vertex=c,f.ystar=c.y+h;for(var d=0,b=x.list,g=b.length;d<g;d++){var a=b[d];if(f.ystar>a.ystar||f.ystar==a.ystar&&c.x>a.vertex.x){continue}break}b.splice(d,0,f)},del:function(c){for(var a=0,d=x.list,b=d.length;a<b&&d[a]!=c;++a){}d.splice(a,1)},empty:function(){return x.list.length===0},nextEvent:function(c){for(var a=0,d=x.list,b=d.length;a<b;++a){if(d[a]==c){return d[a+1]}}return null},min:function(){var a=x.list[0];return{x:a.vertex.x,y:a.ystar}},extractMin:function(){return x.list.shift()}};z.init(),C.bottomSite=C.list.shift();var B=C.list.shift(),q,N,I,E,L,G,A,K,k,D,H,j,M;for(;;){x.empty()||(q=x.min());if(B&&(x.empty()||B.y<q.y||B.y==q.y&&B.x<q.x)){N=z.leftBound(B),I=z.right(N),A=z.rightRegion(N),j=F.bisect(A,B),G=z.createHalfEdge(j,"l"),z.insert(N,G),D=F.intersect(N,G),D&&(x.del(N),x.insert(N,D,F.distance(D,B))),N=G,G=z.createHalfEdge(j,"r"),z.insert(N,G),D=F.intersect(G,I),D&&x.insert(G,D,F.distance(D,B)),B=C.list.shift()}else{if(!!x.empty()){break}N=x.extractMin(),E=z.left(N),I=z.right(N),L=z.right(I),A=z.leftRegion(N),K=z.rightRegion(I),H=N.vertex,F.endPoint(N.edge,N.side,H),F.endPoint(I.edge,I.side,H),z.del(N),x.del(I),z.del(I),M="l",A.y>K.y&&(k=A,A=K,K=k,M="r"),j=F.bisect(A,K),G=z.createHalfEdge(j,M),z.insert(E,G),F.endPoint(j,az[M],H),D=F.intersect(E,G),D&&(x.del(E),x.insert(E,D,F.distance(D,A))),D=F.intersect(G,L),D&&x.insert(G,D,F.distance(D,A))}}for(N=z.right(z.leftEnd);N!=z.rightEnd;N=z.right(N)){w(N.edge)}}function gC(){return{leaf:!0,nodes:[],point:null}}function ew(g,k,d,b,f,l){if(!g(k,d,b,f,l)){var c=(d+f)*0.5,j=(b+l)*0.5,h=k.nodes;h[0]&&ew(g,h[0],d,b,c,j),h[1]&&ew(g,h[1],c,b,f,j),h[2]&&ew(g,h[2],d,j,c,l),h[3]&&ew(g,h[3],c,j,f,l)}}function da(a){return{x:a[0],y:a[1]}}function fp(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function d1(a){return a.substring(0,3)}function cc(g,k,d,b){var f,l,c=0,j=k.length,h=d.length;while(c<j){if(b>=h){return -1}f=k.charCodeAt(c++);if(f==37){l=cN[k.charAt(c++)];if(!l||(b=l(g,d,b))<0){return -1}}else{if(f!=d.charCodeAt(b++)){return -1}}}return b}function eT(a){return new RegExp("^(?:"+a.map(d3.requote).join("|")+")","i")}function aN(c){var b=new e8,d=-1,a=c.length;while(++d<a){b.set(c[d].toLowerCase(),d)}return b}function cY(c,a,d){bf.lastIndex=0;var b=bf.exec(a.substring(d));return b?d+=b[0].length:-1}function ee(c,a,d){gD.lastIndex=0;var b=gD.exec(a.substring(d));return b?d+=b[0].length:-1}function gM(c,a,d){f6.lastIndex=0;var b=f6.exec(a.substring(d));return b?(c.m=bV.get(b[0].toLowerCase()),d+=b[0].length):-1}function f4(c,a,d){dz.lastIndex=0;var b=dz.exec(a.substring(d));return b?(c.m=aq.get(b[0].toLowerCase()),d+=b[0].length):-1}function aB(b,a,c){return cc(b,dq.c.toString(),a,c)}function aH(b,a,c){return cc(b,dq.x.toString(),a,c)}function dd(b,a,c){return cc(b,dq.X.toString(),a,c)}function ag(c,a,d){gm.lastIndex=0;var b=gm.exec(a.substring(d,d+4));return b?(c.y=+b[0],d+=b[0].length):-1}function c1(c,a,d){gm.lastIndex=0;var b=gm.exec(a.substring(d,d+2));return b?(c.y=eh(+b[0]),d+=b[0].length):-1}function eh(a){return a+(a>68?1900:2000)}function a5(c,a,d){gm.lastIndex=0;var b=gm.exec(a.substring(d,d+2));return b?(c.m=b[0]-1,d+=b[0].length):-1}function dp(c,a,d){gm.lastIndex=0;var b=gm.exec(a.substring(d,d+2));return b?(c.d=+b[0],d+=b[0].length):-1}function eL(c,a,d){gm.lastIndex=0;var b=gm.exec(a.substring(d,d+2));return b?(c.H=+b[0],d+=b[0].length):-1}function bF(c,a,d){gm.lastIndex=0;var b=gm.exec(a.substring(d,d+2));return b?(c.M=+b[0],d+=b[0].length):-1}function d5(c,a,d){gm.lastIndex=0;var b=gm.exec(a.substring(d,d+2));return b?(c.S=+b[0],d+=b[0].length):-1}function ez(c,a,d){gm.lastIndex=0;var b=gm.exec(a.substring(d,d+3));return b?(c.L=+b[0],d+=b[0].length):-1}function ap(c,a,d){var b=cd.get(a.substring(d,d+=2).toLowerCase());return b==null?-1:(c.p=b,d)}function aT(d){var b=d.getTimezoneOffset(),f=b>0?"-":"+",c=~~(Math.abs(b)/60),a=Math.abs(b)%60;return f+ex(c)+ex(a)}function dS(a){return a.toISOString()}function gG(g,k,d){function b(a){var m=g(a),e=l(m,1);return a-m<e-a?m:e}function f(a){return k(a=g(new aF(a-1)),1),a}function l(a,m){return k(a=new aF(+a),m),a}function c(p,n,m){var q=f(p),a=[];if(m>1){while(q<n){d(q)%m||a.push(new Date(+q)),k(q,1)}}else{while(q<n){a.push(new Date(+q)),k(q,1)}}return a}function j(o,a,p){try{aF=fp;var m=new fp;return m._=o,c(m,a,p)}finally{aF=Date}}g.floor=g,g.round=b,g.ceil=f,g.offset=l,g.range=c;var h=g.utc=bh(g);return h.floor=h,h.round=bh(b),h.ceil=bh(f),h.offset=bh(l),h.range=j,g}function bh(a){return function(b,d){try{aF=fp;var c=new fp;return c._=b,a(c,d)._}finally{aF=Date}}}function dE(c,a,d){function b(e){return c(e)}return b.invert=function(e){return gf(c.invert(e))},b.domain=function(e){return arguments.length?(c.domain(e),b):c.domain().map(gf)},b.nice=function(f){return b.domain(dM(b.domain(),function(){return f}))},b.ticks=function(k,g){var h=av(b.domain());if(typeof k!="function"){var j=h[1]-h[0],f=j/k,e=d3.bisect(cv,f);if(e==cv.length){return a.year(h,k)}if(!e){return c.ticks(k).map(gf)}Math.log(f/cv[e-1])<Math.log(cv[e]/f)&&--e,k=a[e],g=k[1],k=k[0].range}return k(h[0],new Date(+h[1]+1),g)},b.tickFormat=function(){return d},b.copy=function(){return dE(c.copy(),a,d)},d3.rebind(b,c,"range","rangeRound","interpolate","clamp")}function av(b){var a=b[0],c=b[b.length-1];return a<c?[a,c]:[c,a]}function gf(a){return new Date(a)}function b0(a){return function(b){var d=a.length-1,c=a[d];while(!c[1](b)){c=a[--d]}return c[0](b)}}function dv(b){var a=new Date(b,0,1);return a.setFullYear(b),a}function cP(c){var a=c.getFullYear(),d=dv(a),b=dv(a+1);return a+(c-d)/(b-d)}function gw(b){var a=new Date(Date.UTC(b,0,1));return a.setUTCFullYear(b),a}function cf(c){var a=c.getUTCFullYear(),d=gw(a),b=gw(a+1);return a+(c-d)/(b-d)}Date.now||(Date.now=function(){return +(new Date)});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(b3){var cx=CSSStyleDeclaration.prototype,cG=cx.setProperty;cx.setProperty=function(b,a,c){cG.call(this,b,a+"",c)}}d3={version:"2.10.3"};var fD=fe;try{fD(document.documentElement.childNodes)[0].nodeType}catch(eW){fD=e4}var dH=[].__proto__?function(b,a){b.__proto__=a}:function(b,a){for(var c in a){b[c]=a[c]}};d3.map=function(b){var a=new e8;for(var c in b){a.set(c,b[c])}return a},fz(e8,{has:function(a){return gS+a in this},get:function(a){return this[gS+a]},set:function(b,a){return this[gS+b]=a},remove:function(a){return a=gS+a,a in this&&delete this[a]},keys:function(){var a=[];return this.forEach(function(b){a.push(b)}),a},values:function(){var a=[];return this.forEach(function(b,c){a.push(c)}),a},entries:function(){var a=[];return this.forEach(function(b,c){a.push({key:b,value:c})}),a},forEach:function(b){for(var a in this){a.charCodeAt(0)===bR&&b.call(this,a.substring(1),this[a])}}});var gS="\0",bR=gS.charCodeAt(0);d3.functor=e2,d3.rebind=function(d,b){var f=1,c=arguments.length,a;while(++f<c){d[a=arguments[f]]=fE(d,b,b[a])}return d},d3.ascending=function(b,a){return b<a?-1:b>a?1:b>=a?0:NaN},d3.descending=function(b,a){return a<b?-1:a>b?1:a>=b?0:NaN},d3.mean=function(f,b){var h=f.length,d,a=0,c=-1,g=0;if(arguments.length===1){while(++c<h){fy(d=f[c])&&(a+=(d-a)/++g)}}else{while(++c<h){fy(d=b.call(f,f[c],c))&&(a+=(d-a)/++g)}}return g?a:undefined},d3.median=function(b,a){return arguments.length>1&&(b=b.map(a)),b=b.filter(fy),b.length?d3.quantile(b.sort(d3.ascending),0.5):undefined},d3.min=function(f,b){var g=-1,d=f.length,a,c;if(arguments.length===1){while(++g<d&&((a=f[g])==null||a!=a)){a=undefined}while(++g<d){(c=f[g])!=null&&a>c&&(a=c)}}else{while(++g<d&&((a=b.call(f,f[g],g))==null||a!=a)){a=undefined}while(++g<d){(c=b.call(f,f[g],g))!=null&&a>c&&(a=c)}}return a},d3.max=function(f,b){var g=-1,d=f.length,a,c;if(arguments.length===1){while(++g<d&&((a=f[g])==null||a!=a)){a=undefined}while(++g<d){(c=f[g])!=null&&c>a&&(a=c)}}else{while(++g<d&&((a=b.call(f,f[g],g))==null||a!=a)){a=undefined}while(++g<d){(c=b.call(f,f[g],g))!=null&&c>a&&(a=c)}}return a},d3.extent=function(f,b){var h=-1,d=f.length,a,c,g;if(arguments.length===1){while(++h<d&&((a=g=f[h])==null||a!=a)){a=g=undefined}while(++h<d){(c=f[h])!=null&&(a>c&&(a=c),g<c&&(g=c))}}else{while(++h<d&&((a=g=b.call(f,f[h],h))==null||a!=a)){a=undefined}while(++h<d){(c=b.call(f,f[h],h))!=null&&(a>c&&(a=c),g<c&&(g=c))}}return[a,g]},d3.random={normal:function(b,a){var c=arguments.length;return c<2&&(a=1),c<1&&(b=0),function(){var f,e,d;do{f=Math.random()*2-1,e=Math.random()*2-1,d=f*f+e*e}while(!d||d>1);return b+a*f*Math.sqrt(-2*Math.log(d)/d)}},logNormal:function(c,a){var d=arguments.length;d<2&&(a=1),d<1&&(c=0);var b=d3.random.normal();return function(){return Math.exp(c+a*b())}},irwinHall:function(a){return function(){for(var b=0,c=0;c<a;c++){b+=Math.random()}return b/a}}},d3.sum=function(f,b){var g=0,d=f.length,a,c=-1;if(arguments.length===1){while(++c<d){isNaN(a=+f[c])||(g+=a)}}else{while(++c<d){isNaN(a=+b.call(f,f[c],c))||(g+=a)}}return g},d3.quantile=function(f,b){var g=(f.length-1)*b+1,d=Math.floor(g),a=f[d-1],c=g-d;return c?a+c*(f[d]-a):a},d3.transpose=function(a){return d3.zip.apply(d3,a)},d3.zip=function(){if(!(a=arguments.length)){return[]}for(var f=-1,b=d3.min(arguments,fj),g=new Array(b);++f<b;){for(var d=-1,a,c=g[f]=new Array(a);++d<a;){c[d]=arguments[d][f]}}return g},d3.bisector=function(a){return{left:function(c,f,e,b){arguments.length<3&&(e=0),arguments.length<4&&(b=c.length);while(e<b){var d=e+b>>>1;a.call(c,c[d],d)<f?e=d+1:b=d}return e},right:function(c,f,e,b){arguments.length<3&&(e=0),arguments.length<4&&(b=c.length);while(e<b){var d=e+b>>>1;f<a.call(c,c[d],d)?b=d:e=d+1}return e}}};var bC=d3.bisector(function(a){return a});d3.bisectLeft=bC.left,d3.bisect=d3.bisectRight=bC.right,d3.first=function(f,b){var g=0,d=f.length,a=f[0],c;arguments.length===1&&(b=d3.ascending);while(++g<d){b.call(f,a,c=f[g])>0&&(a=c)}return a},d3.last=function(f,b){var g=0,d=f.length,a=f[0],c;arguments.length===1&&(b=d3.ascending);while(++g<d){b.call(f,a,c=f[g])<=0&&(a=c)}return a},d3.nest=function(){function f(u,w){if(w>=b.length){return a?a.call(h,u):g?u.sort(g):u}var q=-1,m=u.length,j=b[w++],o,k,e=new e8,n,r={};while(++q<m){(n=e.get(o=j(k=u[q])))?n.push(k):e.set(o,[k])}return e.forEach(function(l,p){r[l]=f(p,w)}),r}function c(l,p){if(p>=b.length){return l}var k=[],m=d[p++],j;for(j in l){k.push({key:j,values:c(l[j],p)})}return m&&k.sort(function(o,n){return m(o.key,n.key)}),k}var h={},b=[],d=[],g,a;return h.map=function(e){return f(e,0)},h.entries=function(e){return c(f(e,0),0)},h.key=function(j){return b.push(j),h},h.sortKeys=function(j){return d[b.length-1]=j,h},h.sortValues=function(j){return g=j,h},h.rollup=function(j){return a=j,h},h},d3.keys=function(b){var a=[];for(var c in b){a.push(c)}return a},d3.values=function(b){var a=[];for(var c in b){a.push(b[c])}return a},d3.entries=function(b){var a=[];for(var c in b){a.push({key:c,value:b[c]})}return a},d3.permute=function(d,b){var f=[],c=-1,a=b.length;while(++c<a){f[c]=d[b[c]]}return f},d3.merge=function(a){return Array.prototype.concat.apply([],a)},d3.split=function(f,b){var h=[],d=[],a,c=-1,g=f.length;arguments.length<2&&(b=fB);while(++c<g){b.call(d,a=f[c],c)?d=[]:(d.length||h.push(d),d.push(a))}return h},d3.range=function(f,b,h){arguments.length<3&&(h=1,arguments.length<2&&(b=f,f=0));if((b-f)/h===Infinity){throw new Error("infinite range")}var d=[],a=fb(Math.abs(h)),c=-1,g;f*=a,b*=a,h*=a;if(h<0){while((g=f+h*++c)>b){d.push(g/a)}}else{while((g=f+h*++c)<b){d.push(g/a)}}return d},d3.requote=function(a){return a.replace(eB,"\\$&")};var eB=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;d3.round=function(b,a){return a?Math.round(b*(a=Math.pow(10,a)))/a:Math.round(b)},d3.xhr=function(c,a,d){var b=new XMLHttpRequest;arguments.length<3?(d=a,a=null):a&&b.overrideMimeType&&b.overrideMimeType(a),b.open("GET",c,!0),a&&b.setRequestHeader("Accept",a),b.onreadystatechange=function(){if(b.readyState===4){var f=b.status;d(!f&&b.response||f>=200&&f<300||f===304?b:null)}},b.send(null)},d3.text=function(c,a,d){function b(f){d(f&&f.responseText)}arguments.length<3&&(d=a,a=null),d3.xhr(c,a,b)},d3.json=function(b,a){d3.text(b,"application/json",function(c){a(c?JSON.parse(c):null)})},d3.html=function(b,a){d3.text(b,"text/html",function(c){if(c!=null){var d=document.createRange();d.selectNode(document.body),c=d.createContextualFragment(c)}a(c)})},d3.xml=function(c,a,d){function b(f){d(f&&f.responseXML)}arguments.length<3&&(d=a,a=null),d3.xhr(c,a,b)};var a7={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};d3.ns={prefix:a7,qualify:function(b){var a=b.indexOf(":"),c=b;return a>=0&&(c=b.substring(0,a),b=b.substring(a+1)),a7.hasOwnProperty(c)?{space:a7[c],local:b}:b}},d3.dispatch=function(){var b=new fA,a=-1,c=arguments.length;while(++a<c){b[arguments[a]]=e1(b)}return b},fA.prototype.on=function(c,a){var d=c.indexOf("."),b="";return d>0&&(b=c.substring(d+1),c=c.substring(0,d)),arguments.length<2?this[c].on(b):this[c].on(b,a)},d3.format=function(m){var w=cE.exec(m),g=w[1]||" ",b=w[3]||"",j=w[5],x=+w[6],d=w[7],v=w[8],q=w[9],k=1,h="",p=!1;v&&(v=+v.substring(1)),j&&(g="0",d&&(x-=Math.floor((x-1)/4)));switch(q){case"n":d=!0,q="g";break;case"%":k=100,h="%",q="f";break;case"p":k=100,h="%",q="r";break;case"d":p=!0,v=0;break;case"s":k=-1,q="r"}return q=="r"&&!v&&(q="g"),q=bH.get(q)||fw,function(l){if(p&&l%1){return""}var a=l<0&&(l=-l)?"-":b;if(k<0){var c=d3.formatPrefix(l,v);l=c.scale(l),h=c.symbol}else{l*=k}l=q(l,v);if(j){var f=l.length+a.length;f<x&&(l=(new Array(x-f+1)).join(g)+l),d&&(l=eY(l)),l=a+l}else{d&&(l=eY(l)),l=a+l;var f=l.length;f<x&&(l=(new Array(x-f+1)).join(g)+l)}return l+h}};var cE=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,bH=d3.map({g:function(b,a){return b.toPrecision(a)},e:function(b,a){return b.toExponential(a)},f:function(b,a){return b.toFixed(a)},r:function(b,a){return d3.round(b,a=ff(b,a)).toFixed(Math.max(0,Math.min(20,a)))}}),dJ=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(fC);d3.formatPrefix=function(b,a){var c=0;return b&&(b<0&&(b*=-1),a&&(b=d3.round(b,ff(b,a))),c=1+Math.floor(1e-12+Math.log(b)/Math.LN10),c=Math.max(-24,Math.min(24,Math.floor((c<=0?c+1:c-1)/3)*3))),dJ[8+c/3]};var bk=fO(2),ch=fO(3),aV=function(){return eZ},gu=d3.map({linear:aV,poly:fO,quad:function(){return bk},cubic:function(){return ch},sin:function(){return fX},exp:function(){return ge},circle:function(){return fk},elastic:f1,back:gh,bounce:function(){return fW}}),ek=d3.map({"in":eZ,out:gc,"in-out":fQ,"out-in":function(a){return fQ(gc(a))}});d3.ease=function(c){var a=c.indexOf("-"),d=a>=0?c.substring(0,a):c,b=a>=0?c.substring(a+1):"in";return d=gu.get(d)||aV,b=ek.get(b)||eZ,e0(b(d.apply(null,Array.prototype.slice.call(arguments,1))))},d3.event=null,d3.transform=function(b){var a=document.createElementNS(d3.ns.prefix.svg,"g");return(d3.transform=function(c){a.setAttribute("transform",c);var d=a.transform.baseVal.consolidate();return new fU(d?d.matrix:e5)})(b)},fU.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var c3=180/Math.PI,e5={a:1,b:0,c:0,d:1,e:0,f:0};d3.interpolate=function(c,a){var d=d3.interpolators.length,b;while(--d>=0&&!(b=d3.interpolators[d](c,a))){}return b},d3.interpolateNumber=function(b,a){return a-=b,function(c){return b+a*c}},d3.interpolateRound=function(b,a){return a-=b,function(c){return Math.round(b+a*c)}},d3.interpolateString=function(k,q){var d,b,h,v=0,c=0,p=[],m=[],j,g;dU.lastIndex=0;for(b=0;d=dU.exec(q);++b){d.index&&p.push(q.substring(v,c=d.index)),m.push({i:p.length,x:d[0]}),p.push(null),v=dU.lastIndex}v<q.length&&p.push(q.substring(v));for(b=0,j=m.length;(d=dU.exec(k))&&b<j;++b){g=m[b];if(g.x==d[0]){if(g.i){if(p[g.i+1]==null){p[g.i-1]+=g.x,p.splice(g.i,1);for(h=b+1;h<j;++h){m[h].i--}}else{p[g.i-1]+=g.x+p[g.i+1],p.splice(g.i,2);for(h=b+1;h<j;++h){m[h].i-=2}}}else{if(p[g.i+1]==null){p[g.i]=g.x}else{p[g.i]=g.x+p[g.i+1],p.splice(g.i+1,1);for(h=b+1;h<j;++h){m[h].i--}}}m.splice(b,1),j--,b--}else{g.x=d3.interpolateNumber(parseFloat(d[0]),parseFloat(g.x))}}while(b<j){g=m.pop(),p[g.i+1]==null?p[g.i]=g.x:(p[g.i]=g.x+p[g.i+1],p.splice(g.i+1,1)),j--}return p.length===1?p[0]==null?m[0].x:function(){return q}:function(a){for(b=0;b<j;++b){p[(g=m[b]).i]=g.x(a)}return p.join("")}},d3.interpolateTransform=function(x,C){var k=[],b=[],q,D=d3.transform(x),j=d3.transform(C),B=D.translate,A=j.translate,w=D.rotate,m=j.rotate,z=D.skew,v=j.skew,g=D.scale,y=j.scale;return B[0]!=A[0]||B[1]!=A[1]?(k.push("translate(",null,",",null,")"),b.push({i:1,x:d3.interpolateNumber(B[0],A[0])},{i:3,x:d3.interpolateNumber(B[1],A[1])})):A[0]||A[1]?k.push("translate("+A+")"):k.push(""),w!=m?(w-m>180?m+=360:m-w>180&&(w+=360),b.push({i:k.push(k.pop()+"rotate(",null,")")-2,x:d3.interpolateNumber(w,m)})):m&&k.push(k.pop()+"rotate("+m+")"),z!=v?b.push({i:k.push(k.pop()+"skewX(",null,")")-2,x:d3.interpolateNumber(z,v)}):v&&k.push(k.pop()+"skewX("+v+")"),g[0]!=y[0]||g[1]!=y[1]?(q=k.push(k.pop()+"scale(",null,",",null,")"),b.push({i:q-4,x:d3.interpolateNumber(g[0],y[0])},{i:q-2,x:d3.interpolateNumber(g[1],y[1])})):(y[0]!=1||y[1]!=1)&&k.push(k.pop()+"scale("+y+")"),q=b.length,function(d){var a=-1,c;while(++a<q){k[(c=b[a]).i]=c.x(d)}return k.join("")}},d3.interpolateRgb=function(g,c){g=d3.rgb(g),c=d3.rgb(c);var j=g.r,f=g.g,b=g.b,d=c.r-j,h=c.g-f,a=c.b-b;return function(k){return"#"+fJ(Math.round(j+d*k))+fJ(Math.round(f+h*k))+fJ(Math.round(b+a*k))}},d3.interpolateHsl=function(g,c){g=d3.hsl(g),c=d3.hsl(c);var j=g.h,f=g.s,b=g.l,d=c.h-j,h=c.s-f,a=c.l-b;return d>180?d-=360:d<-180&&(d+=360),function(k){return fH(j+d*k,f+h*k,b+a*k)+""}},d3.interpolateLab=function(g,c){g=d3.lab(g),c=d3.lab(c);var j=g.l,f=g.a,b=g.b,d=c.l-j,h=c.a-f,a=c.b-b;return function(k){return dI(j+d*k,f+h*k,b+a*k)+""}},d3.interpolateHcl=function(g,c){g=d3.hcl(g),c=d3.hcl(c);var j=g.h,f=g.c,b=g.l,d=c.h-j,h=c.c-f,a=c.l-b;return d>180?d-=360:d<-180&&(d+=360),function(k){return a6(j+d*k,f+h*k,b+a*k)+""}},d3.interpolateArray=function(g,c){var j=[],f=[],b=g.length,d=c.length,h=Math.min(g.length,c.length),a;for(a=0;a<h;++a){j.push(d3.interpolate(g[a],c[a]))}for(;a<b;++a){f[a]=g[a]}for(;a<d;++a){f[a]=c[a]}return function(k){for(a=0;a<h;++a){f[a]=j[a](k)}return f}},d3.interpolateObject=function(d,b){var f={},c={},a;for(a in d){a in b?f[a]=gb(a)(d[a],b[a]):c[a]=d[a]}for(a in b){a in d||(c[a]=b[a])}return function(g){for(a in f){c[a]=f[a](g)}return c}};var dU=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;d3.interpolators=[d3.interpolateObject,function(b,a){return a instanceof Array&&d3.interpolateArray(b,a)},function(b,a){return(typeof b=="string"||typeof a=="string")&&d3.interpolateString(b+"",a+"")},function(b,a){return(typeof a=="string"?eN.has(a)||/^(#|rgb\(|hsl\()/.test(a):a instanceof fR)&&d3.interpolateRgb(b,a)},function(b,a){return !isNaN(b=+b)&&!isNaN(a=+a)&&d3.interpolateNumber(b,a)}],fR.prototype.toString=function(){return this.rgb()+""},d3.rgb=function(b,a,c){return arguments.length===1?b instanceof eX?fN(b.r,b.g,b.b):fI(""+b,fN,fH):fN(~~b,~~a,~~c)};var b5=eX.prototype=new fR;b5.brighter=function(d){d=Math.pow(0.7,arguments.length?d:1);var b=this.r,f=this.g,c=this.b,a=30;return !b&&!f&&!c?fN(a,a,a):(b&&b<a&&(b=a),f&&f<a&&(f=a),c&&c<a&&(c=a),fN(Math.min(255,Math.floor(b/d)),Math.min(255,Math.floor(f/d)),Math.min(255,Math.floor(c/d))))},b5.darker=function(a){return a=Math.pow(0.7,arguments.length?a:1),fN(Math.floor(a*this.r),Math.floor(a*this.g),Math.floor(a*this.b))},b5.hsl=function(){return fK(this.r,this.g,this.b)},b5.toString=function(){return"#"+fJ(this.r)+fJ(this.g)+fJ(this.b)};var eN=d3.map({aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"});eN.forEach(function(b,a){eN.set(b,fI(a,fN,fH))}),d3.hsl=function(b,a,c){return arguments.length===1?b instanceof ga?fT(b.h,b.s,b.l):fI(""+b,fK,fT):fT(+b,+a,+c)};var aJ=ga.prototype=new fR;aJ.brighter=function(a){return a=Math.pow(0.7,arguments.length?a:1),fT(this.h,this.s,this.l/a)},aJ.darker=function(a){return a=Math.pow(0.7,arguments.length?a:1),fT(this.h,this.s,a*this.l)},aJ.rgb=function(){return fH(this.h,this.s,this.l)},d3.hcl=function(b,a,c){return arguments.length===1?b instanceof eA?fG(b.h,b.c,b.l):b instanceof bG?bj(b.l,b.a,b.b):bj((b=gF((b=d3.rgb(b)).r,b.g,b.b)).l,b.a,b.b):fG(+b,+a,+c)};var cR=eA.prototype=new fR;cR.brighter=function(a){return fG(this.h,this.c,Math.min(100,this.l+d7*(arguments.length?a:1)))},cR.darker=function(a){return fG(this.h,this.c,Math.max(0,this.l-d7*(arguments.length?a:1)))},cR.rgb=function(){return a6(this.h,this.c,this.l).rgb()},d3.lab=function(b,a,c){return arguments.length===1?b instanceof bG?cD(b.l,b.a,b.b):b instanceof eA?a6(b.l,b.c,b.h):gF((b=d3.rgb(b)).r,b.g,b.b):cD(+b,+a,+c)};var d7=18,gI=0.95047,fM=1,ax=1.08883,aD=bG.prototype=new fR;aD.brighter=function(a){return cD(Math.min(100,this.l+d7*(arguments.length?a:1)),this.a,this.b)},aD.darker=function(a){return cD(Math.max(0,this.l-d7*(arguments.length?a:1)),this.a,this.b)},aD.rgb=function(){return dI(this.l,this.a,this.b)};var c8=function(b,a){return a.querySelector(b)},gU=function(b,a){return a.querySelectorAll(b)},cW=document.documentElement,ec=cW.matchesSelector||cW.webkitMatchesSelector||cW.mozMatchesSelector||cW.msMatchesSelector||cW.oMatchesSelector,a1=function(b,a){return ec.call(b,a)};typeof Sizzle=="function"&&(c8=function(b,a){return Sizzle(b,a)[0]||null},gU=function(b,a){return Sizzle.uniqueSort(Sizzle(b,a))},a1=Sizzle.matchesSelector);var df=[];d3.selection=function(){return eG},d3.selection.prototype=df,df.select=function(j){var m=[],d,b,g,p;typeof j!="function"&&(j=c2(j));for(var c=-1,l=this.length;++c<l;){m.push(d=[]),d.parentNode=(g=this[c]).parentNode;for(var k=-1,h=g.length;++k<h;){(p=g[k])?(d.push(b=j.call(p,p.__data__,k)),b&&"__data__" in p&&(b.__data__=p.__data__)):d.push(null)}}return ej(m)},df.selectAll=function(g){var k=[],d,b;typeof g!="function"&&(g=e3(g));for(var f=-1,l=this.length;++f<l;){for(var c=this[f],j=-1,h=c.length;++j<h;){if(b=c[j]){k.push(d=fD(g.call(b,b.__data__,j))),d.parentNode=b}}}return ej(k)},df.attr=function(b,a){if(arguments.length<2){if(typeof b=="string"){var c=this.node();return b=d3.ns.qualify(b),b.local?c.getAttributeNS(b.space,b.local):c.getAttribute(b)}for(a in b){this.each(dT(a,b[a]))}return this}return this.each(dT(b,a))},df.classed=function(d,b){if(arguments.length<2){if(typeof d=="string"){var f=this.node(),c=(d=d.trim().split(/^|\s+/g)).length,a=-1;if(b=f.classList){while(++a<c){if(!b.contains(d[a])){return !1}}}else{b=f.className,b.baseVal!=null&&(b=b.baseVal);while(++a<c){if(!b4(d[a]).test(b)){return !1}}}return !0}for(b in d){this.each(eM(b,d[b]))}return this}return this.each(eM(d,b))},df.style=function(c,a,d){var b=arguments.length;if(b<3){if(typeof c!="string"){b<2&&(a="");for(d in c){this.each(cQ(d,c[d],a))}return this}if(b<2){return window.getComputedStyle(this.node(),null).getPropertyValue(c)}d=""}return this.each(cQ(c,a,d))},df.property=function(b,a){if(arguments.length<2){if(typeof b=="string"){return this.node()[b]}for(a in b){this.each(d6(a,b[a]))}return this}return this.each(d6(b,a))},df.text=function(a){return arguments.length<1?this.node().textContent:this.each(typeof a=="function"?function(){var b=a.apply(this,arguments);this.textContent=b==null?"":b}:a==null?function(){this.textContent=""}:function(){this.textContent=a})},df.html=function(a){return arguments.length<1?this.node().innerHTML:this.each(typeof a=="function"?function(){var b=a.apply(this,arguments);this.innerHTML=b==null?"":b}:a==null?function(){this.innerHTML=""}:function(){this.innerHTML=a})},df.append=function(b){function a(){return this.appendChild(document.createElementNS(this.namespaceURI,b))}function c(){return this.appendChild(document.createElementNS(b.space,b.local))}return b=d3.ns.qualify(b),this.select(b.local?c:a)},df.insert=function(c,a){function d(){return this.insertBefore(document.createElementNS(this.namespaceURI,c),c8(a,this))}function b(){return this.insertBefore(document.createElementNS(c.space,c.local),c8(a,this))}return c=d3.ns.qualify(c),this.select(c.local?b:d)},df.remove=function(){return this.each(function(){var a=this.parentNode;a&&a.removeChild(this)})},df.data=function(j,p){function c(A,l){var t,I=A.length,f=l.length,H=Math.min(I,f),C=Math.max(I,f),x=[],a=[],B=[],G,r;if(p){var z=new e8,E=[],D,F=l.length;for(t=-1;++t<I;){D=p.call(G=A[t],G.__data__,t),z.has(D)?B[F++]=G:z.set(D,G),E.push(D)}for(t=-1;++t<f;){D=p.call(l,r=l[t],t),z.has(D)?(x[t]=G=z.get(D),G.__data__=r,a[t]=B[t]=null):(a[t]=gH(r),x[t]=B[t]=null),z.remove(D)}for(t=-1;++t<I;){z.has(E[t])&&(B[t]=A[t])}}else{for(t=-1;++t<H;){G=A[t],r=l[t],G?(G.__data__=r,x[t]=G,a[t]=B[t]=null):(a[t]=gH(r),x[t]=B[t]=null)}for(;t<f;++t){a[t]=gH(l[t]),x[t]=B[t]=null}for(;t<C;++t){B[t]=A[t],a[t]=x[t]=null}}a.update=x,a.parentNode=x.parentNode=B.parentNode=A.parentNode,k.push(a),h.push(x),d.push(B)}var g=-1,q=this.length,b,m;if(!arguments.length){j=new Array(q=(b=this[0]).length);while(++g<q){if(m=b[g]){j[g]=m.__data__}}return j}var k=gT([]),h=ej([]),d=ej([]);if(typeof j=="function"){while(++g<q){c(b=this[g],j.call(b,b.parentNode.__data__,g))}}else{while(++g<q){c(b=this[g],j)}}return h.enter=function(){return k},h.exit=function(){return d},h},df.datum=df.map=function(a){return arguments.length<1?this.property("__data__"):this.property("__data__",a)},df.filter=function(g){var k=[],d,b,f;typeof g!="function"&&(g=fL(g));for(var l=0,c=this.length;l<c;l++){k.push(d=[]),d.parentNode=(b=this[l]).parentNode;for(var j=0,h=b.length;j<h;j++){(f=b[j])&&g.call(f,f.__data__,j)&&d.push(f)}}return ej(k)},df.order=function(){for(var f=-1,b=this.length;++f<b;){for(var g=this[f],d=g.length-1,a=g[d],c;--d>=0;){if(c=g[d]){a&&a!==c.nextSibling&&a.parentNode.insertBefore(c,a),a=c}}}return this},df.sort=function(b){b=aw.apply(this,arguments);for(var a=-1,c=this.length;++a<c;){this[a].sort(b)}return this.order()},df.on=function(c,a,d){var b=arguments.length;if(b<3){if(typeof c!="string"){b<2&&(a=!1);for(d in c){this.each(aC(d,c[d],a))}return this}if(b<2){return(b=this.node()["__on"+c])&&b._}d=!1}return this.each(aC(c,a,d))},df.each=function(a){return c7(this,function(b,d,c){a.call(b,b.__data__,d,c)})},df.call=function(a){return a.apply(this,(arguments[0]=this,arguments)),this},df.empty=function(){return !this.node()},df.node=function(f){for(var b=0,h=this.length;b<h;b++){for(var d=this[b],a=0,c=d.length;a<c;a++){var g=d[a];if(g){return g}}}return null},df.transition=function(){var g=[],c,j;for(var f=-1,b=this.length;++f<b;){g.push(c=[]);for(var d=this[f],h=-1,a=d.length;++h<a;){c.push((j=d[h])?{node:j,delay:bd,duration:dx}:null)}}return cV(g,ae||++eu,Date.now())};var eG=ej([[document]]);eG[0].parentNode=cW,d3.select=function(a){return typeof a=="string"?eG.select(a):ej([[a]])},d3.selectAll=function(a){return typeof a=="string"?eG.selectAll(a):ej([fD(a)])};var bA=[];d3.selection.enter=gT,d3.selection.enter.prototype=bA,bA.append=df.append,bA.insert=df.insert,bA.empty=df.empty,bA.node=df.node,bA.select=function(k){var q=[],d,b,h,v,c;for(var p=-1,m=this.length;++p<m;){h=(v=this[p]).update,q.push(d=[]),d.parentNode=v.parentNode;for(var j=-1,g=v.length;++j<g;){(c=v[j])?(d.push(h[j]=b=k.call(v.parentNode,c.__data__,j)),b.__data__=c.__data__):d.push(null)}}return ej(q)};var dZ=[],eu=0,ae=0,aP=0,dN=250,gA=d3.ease("cubic-in-out"),bd=aP,dx=dN,al=gA;dZ.call=df.call,d3.transition=function(a){return arguments.length?ae?a.transition():a:eG.transition()},d3.transition.prototype=dZ,dZ.select=function(j){var m=[],d,b,g;typeof j!="function"&&(j=c2(j));for(var p=-1,c=this.length;++p<c;){m.push(d=[]);for(var l=this[p],k=-1,h=l.length;++k<h;){(g=l[k])&&(b=j.call(g.node,g.node.__data__,k))?("__data__" in g.node&&(b.__data__=g.node.__data__),d.push({node:b,delay:g.delay,duration:g.duration})):d.push(null)}}return cV(m,this.id,this.time).ease(this.ease())},dZ.selectAll=function(m){var w=[],g,b,j;typeof m!="function"&&(m=e3(m));for(var x=-1,d=this.length;++x<d;){for(var v=this[x],q=-1,k=v.length;++q<k;){if(j=v[q]){b=m.call(j.node,j.node.__data__,q),w.push(g=[]);for(var h=-1,p=b.length;++h<p;){g.push({node:b[h],delay:j.delay,duration:j.duration})}}}}return cV(w,this.id,this.time).ease(this.ease())},dZ.filter=function(g){var k=[],d,b,f;typeof g!="function"&&(g=fL(g));for(var l=0,c=this.length;l<c;l++){k.push(d=[]);for(var b=this[l],j=0,h=b.length;j<h;j++){(f=b[j])&&g.call(f.node,f.node.__data__,j)&&d.push(f)}}return cV(k,this.id,this.time).ease(this.ease())},dZ.attr=function(b,a){if(arguments.length<2){for(a in b){this.attrTween(a,de(b[a],a))}return this}return this.attrTween(b,de(a,b))},dZ.attrTween=function(d,b){function f(h,j){var g=b.call(this,h,j,this.getAttribute(a));return g===fZ?(this.removeAttribute(a),null):g&&function(k){this.setAttribute(a,g(k))}}function c(h,j){var g=b.call(this,h,j,this.getAttributeNS(a.space,a.local));return g===fZ?(this.removeAttributeNS(a.space,a.local),null):g&&function(k){this.setAttributeNS(a.space,a.local,g(k))}}var a=d3.ns.qualify(d);return this.tween("attr."+d,a.local?c:f)},dZ.style=function(c,a,d){var b=arguments.length;if(b<3){if(typeof c!="string"){b<2&&(a="");for(d in c){this.styleTween(d,de(c[d],d),a)}return this}d=""}return this.styleTween(c,de(a,c),d)},dZ.styleTween=function(b,a,c){return arguments.length<3&&(c=""),this.tween("style."+b,function(f,d){var e=a.call(this,f,d,window.getComputedStyle(this,null).getPropertyValue(b));return e===fZ?(this.style.removeProperty(b),null):e&&function(g){this.style.setProperty(b,e(g),c)}})},dZ.text=function(a){return this.tween("text",function(b,c){this.textContent=typeof a=="function"?a.call(this,b,c):a})},dZ.remove=function(){return this.each("end.transition",function(){var a;!this.__transition__&&(a=this.parentNode)&&a.removeChild(this)})},dZ.delay=function(a){return c7(this,typeof a=="function"?function(b,d,c){b.delay=a.call(b=b.node,b.__data__,d,c)|0}:(a|=0,function(b){b.delay=a}))},dZ.duration=function(a){return c7(this,typeof a=="function"?function(b,d,c){b.duration=Math.max(1,a.call(b=b.node,b.__data__,d,c)|0)}:(a=Math.max(1,a|0),function(b){b.duration=a}))},dZ.transition=function(){return this.select(e6)},d3.tween=function(c,a){function d(h,g,e){var f=c.call(this,h,g);return f==null?e!=""&&fZ:e!=f&&a(e,f+"")}function b(g,f,e){return e!=c&&a(e,c)}return typeof c=="function"?d:c==null?a0:(c+="",b)};var fZ={},bT=0,dl={},cK=null,gk,ca;d3.timer=function(c,a,d){if(arguments.length<3){if(arguments.length<2){a=0}else{if(!isFinite(a)){return}}d=Date.now()}var b=dl[c.id];b&&b.callback===c?(b.then=d,b.delay=a):dl[c.id=++bT]=cK={callback:c,then:d,delay:a,next:cK},gk||(ca=clearTimeout(ca),gk=1,bY(eF))},d3.timer.flush=function(){var b,a=Date.now(),c=cK;while(c){b=a-c.then,c.delay||(c.flush=c.callback(b)),c=c.next}bz()};var bY=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,17)};d3.mouse=function(a){return dY(a,fF())};var cp=/WebKit/.test(navigator.userAgent)?-1:0;d3.touches=function(b,a){return arguments.length<2&&(a=fF().touches),a?fD(a).map(function(c){var d=dY(b,c);return d.identifier=c.identifier,d}):[]},d3.scale={},d3.scale.linear=function(){return bc([0,1],[0,1],d3.interpolate,!1)},d3.scale.log=function(){return b9(d3.scale.linear(),bX)};var cz=d3.format(".0e");bX.pow=function(a){return Math.pow(10,a)},cm.pow=function(a){return -Math.pow(10,-a)},d3.scale.pow=function(){return cy(d3.scale.linear(),1)},d3.scale.sqrt=function(){return d3.scale.pow().exponent(0.5)},d3.scale.ordinal=function(){return eQ([],{t:"range",a:[[]]})},d3.scale.category10=function(){return d3.scale.ordinal().range(fh)},d3.scale.category20=function(){return d3.scale.ordinal().range(eR)},d3.scale.category20b=function(){return d3.scale.ordinal().range(dC)},d3.scale.category20c=function(){return d3.scale.ordinal().range(gO)};var fh=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],eR=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],dC=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],gO=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];d3.scale.quantile=function(){return dB([],[])},d3.scale.quantize=function(){return gN(0,1,[0,1])},d3.scale.threshold=function(){return bL([0.5],[0,1])},d3.scale.identity=function(){return bq([0,1])},d3.svg={},d3.svg.arc=function(){function d(){var q=b.apply(this,arguments),w=f.apply(this,arguments),j=c.apply(this,arguments)+bM,v=a.apply(this,arguments)+bM,t=(v<j&&(t=j,j=v,v=t),v-j),n=t<Math.PI?"0":"1",k=Math.cos(j),r=Math.sin(j),m=Math.cos(v),g=Math.sin(v);return t>=bu?q?"M0,"+w+"A"+w+","+w+" 0 1,1 0,"+-w+"A"+w+","+w+" 0 1,1 0,"+w+"M0,"+q+"A"+q+","+q+" 0 1,0 0,"+-q+"A"+q+","+q+" 0 1,0 0,"+q+"Z":"M0,"+w+"A"+w+","+w+" 0 1,1 0,"+-w+"A"+w+","+w+" 0 1,1 0,"+w+"Z":q?"M"+w*k+","+w*r+"A"+w+","+w+" 0 "+n+",1 "+w*m+","+w*g+"L"+q*m+","+q*g+"A"+q+","+q+" 0 "+n+",0 "+q*k+","+q*r+"Z":"M"+w*k+","+w*r+"A"+w+","+w+" 0 "+n+",1 "+w*m+","+w*g+"L0,0Z"}var b=eE,f=ba,c=cI,a=bK;return d.innerRadius=function(e){return arguments.length?(b=e2(e),d):b},d.outerRadius=function(e){return arguments.length?(f=e2(e),d):f},d.startAngle=function(e){return arguments.length?(c=e2(e),d):c},d.endAngle=function(e){return arguments.length?(a=e2(e),d):a},d.centroid=function(){var h=(b.apply(this,arguments)+f.apply(this,arguments))/2,g=(c.apply(this,arguments)+a.apply(this,arguments))/2+bM;return[Math.cos(g)*h,Math.sin(g)*h]},d};var bM=-Math.PI/2,bu=2*Math.PI-0.000001;d3.svg.line=function(){return bp(fq)};var eD=d3.map({linear:gy,"linear-closed":ep,"step-before":c6,"step-after":fd,basis:ea,"basis-open":gL,"basis-closed":fV,bundle:aA,cardinal:eP,"cardinal-open":dX,"cardinal-closed":b8,monotone:a4});eD.forEach(function(b,a){a.key=b,a.closed=/-closed$/.test(b)});var a9=[0,2/3,1/3,0],cH=[0,1/3,2/3,0],bJ=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var a=bp(dj);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a},c6.reverse=fd,fd.reverse=c6,d3.svg.area=function(){return eK(fq)},d3.svg.area.radial=function(){var a=eK(dj);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a},d3.svg.chord=function(){function k(r,n){var l=p(this,q,r,n),o=p(this,c,r,n);return"M"+l.p0+b(l.r,l.p1,l.a1-l.a0)+(d(l,o)?h(l.r,l.p1,l.r,l.p0):h(l.r,l.p1,o.r,o.p0)+b(o.r,o.p1,o.a1-o.a0)+h(o.r,o.p1,l.r,l.p0))+"Z"}function p(x,l,z,w){var f=l.call(x,z,w),v=m.call(x,f,w),y=j.call(x,f,w)+bM,a=g.call(x,f,w)+bM;return{r:v,a0:y,a1:a,p0:[v*Math.cos(y),v*Math.sin(y)],p1:[v*Math.cos(a),v*Math.sin(a)]}}function d(f,a){return f.a0==a.a0&&f.a1==a.a1}function b(f,a,l){return"A"+f+","+f+" 0 "+ +(l>Math.PI)+",1 "+a}function h(l,a,o,f){return"Q 0,0 "+f}var q=bE,c=d4,m=ey,j=cI,g=bK;return k.radius=function(a){return arguments.length?(m=e2(a),k):m},k.source=function(a){return arguments.length?(q=e2(a),k):q},k.target=function(a){return arguments.length?(c=e2(a),k):c},k.startAngle=function(a){return arguments.length?(j=e2(a),k):j},k.endAngle=function(a){return arguments.length?(g=e2(a),k):g},k},d3.svg.diagonal=function(){function c(k,h){var j=a.call(this,k,h),l=d.call(this,k,h),g=(j.y+l.y)/2,f=[j,{x:j.x,y:g},{x:l.x,y:g},l];return f=f.map(b),"M"+f[0]+"C"+f[1]+" "+f[2]+" "+f[3]}var a=bE,d=d4,b=dR;return c.source=function(e){return arguments.length?(a=e2(e),c):a},c.target=function(e){return arguments.length?(d=e2(e),c):d},c.projection=function(e){return arguments.length?(b=e,c):b},c},d3.svg.diagonal.radial=function(){var b=d3.svg.diagonal(),a=dR,c=b.projection;return b.projection=function(d){return arguments.length?c(gE(a=d)):a},b},d3.svg.mouse=d3.mouse,d3.svg.touches=d3.touches,d3.svg.symbol=function(){function b(f,d){return(dL.get(a.call(this,f,d))||au)(c.call(this,f,d))}var a=dA,c=bg;return b.type=function(d){return arguments.length?(a=e2(d),b):a},b.size=function(d){return arguments.length?(c=e2(d),b):c},b};var dL=d3.map({circle:au,cross:function(b){var a=Math.sqrt(b/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(b){var a=Math.sqrt(b/(2*ck)),c=a*ck;return"M0,"+-a+"L"+c+",0 0,"+a+" "+-c+",0Z"},square:function(b){var a=Math.sqrt(b)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(b){var a=Math.sqrt(b/bm),c=a*bm/2;return"M0,"+c+"L"+a+","+-c+" "+-a+","+-c+"Z"},"triangle-up":function(b){var a=Math.sqrt(b/bm),c=a*bm/2;return"M0,"+-c+"L"+a+","+c+" "+-a+","+c+"Z"}});d3.svg.symbolTypes=dL.keys();var bm=Math.sqrt(3),ck=Math.tan(30*Math.PI/180);d3.svg.axis=function(){function k(a){a.each(function(){var Y=d3.select(this),ai=m==null?q.ticks?q.ticks.apply(q,p):q.domain():m,W=j==null?q.tickFormat?q.tickFormat.apply(q,p):String:j,R=du(q,ai,g),Z=Y.selectAll(".minor").data(R,String),G=Z.enter().insert("line","g").attr("class","tick minor").style("opacity",0.000001),U=d3.transition(Z.exit()).style("opacity",0.000001).remove(),X=d3.transition(Z).style("opacity",1),u=Y.selectAll("g").data(ai,String),an=u.enter().insert("g","path").style("opacity",0.000001),F=d3.transition(u.exit()).style("opacity",0.000001).remove(),I=d3.transition(u).style("opacity",1),l,z=aO(q),f=Y.selectAll(".domain").data([0]),r=f.enter().append("path").attr("class","domain"),K=d3.transition(f),V=q.copy(),t=this.__chart__||V;this.__chart__=V,an.append("line").attr("class","tick"),an.append("text");var Q=an.select("line"),o=I.select("line"),s=u.select("text").text(W),ao=an.select("text"),J=I.select("text");switch(d){case"bottom":l=f9,G.attr("y2",h),X.attr("x2",0).attr("y2",h),Q.attr("y2",b),ao.attr("y",Math.max(b,0)+c),o.attr("x2",0).attr("y2",b),J.attr("x",0).attr("y",Math.max(b,0)+c),s.attr("dy",".71em").attr("text-anchor","middle"),K.attr("d","M"+z[0]+","+v+"V0H"+z[1]+"V"+v);break;case"top":l=f9,G.attr("y2",-h),X.attr("x2",0).attr("y2",-h),Q.attr("y2",-b),ao.attr("y",-(Math.max(b,0)+c)),o.attr("x2",0).attr("y2",-b),J.attr("x",0).attr("y",-(Math.max(b,0)+c)),s.attr("dy","0em").attr("text-anchor","middle"),K.attr("d","M"+z[0]+","+-v+"V0H"+z[1]+"V"+-v);break;case"left":l=bW,G.attr("x2",-h),X.attr("x2",-h).attr("y2",0),Q.attr("x2",-b),ao.attr("x",-(Math.max(b,0)+c)),o.attr("x2",-b).attr("y2",0),J.attr("x",-(Math.max(b,0)+c)).attr("y",0),s.attr("dy",".32em").attr("text-anchor","end"),K.attr("d","M"+-v+","+z[0]+"H0V"+z[1]+"H"+-v);break;case"right":l=bW,G.attr("x2",h),X.attr("x2",h).attr("y2",0),Q.attr("x2",b),ao.attr("x",Math.max(b,0)+c),o.attr("x2",b).attr("y2",0),J.attr("x",Math.max(b,0)+c).attr("y",0),s.attr("dy",".32em").attr("text-anchor","start"),K.attr("d","M"+v+","+z[0]+"H0V"+z[1]+"H"+v)}if(q.ticks){an.call(l,t),I.call(l,V),F.call(l,V),G.call(l,t),X.call(l,V),U.call(l,V)}else{var n=V.rangeBand()/2,B=function(w){return V(w)+n};an.call(l,B),I.call(l,B)}})}var q=d3.scale.linear(),d="bottom",b=6,h=6,v=6,c=3,p=[10],m=null,j,g=0;return k.scale=function(a){return arguments.length?(q=a,k):q},k.orient=function(a){return arguments.length?(d=a,k):d},k.ticks=function(){return arguments.length?(p=arguments,k):p},k.tickValues=function(a){return arguments.length?(m=a,k):m},k.tickFormat=function(a){return arguments.length?(j=a,k):j},k.tickSize=function(e,l,f){if(!arguments.length){return b}var a=arguments.length-1;return b=+e,h=a>1?+l:b,v=a>0?+arguments[a]:b,k},k.tickPadding=function(a){return arguments.length?(c=+a,k):c},k.tickSubdivide=function(a){return arguments.length?(g=+a,k):g},k},d3.svg.brush=function(){function k(a){a.each(function(){var o=d3.select(this),r=o.selectAll(".background").data([0]),e=o.selectAll(".extent").data([0]),t=o.selectAll(".resize").data(m,String),n;o.style("pointer-events","all").on("mousedown.brush",h).on("touchstart.brush",h),r.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.enter().append("rect").attr("class","extent").style("cursor","move"),t.enter().append("g").attr("class",function(f){return"resize "+f}).style("cursor",function(f){return aX[f]}).append("rect").attr("x",function(f){return/[ew]$/.test(f)?-3:null}).attr("y",function(f){return/^[ns]/.test(f)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),t.style("display",k.empty()?"none":null),t.exit().remove(),c&&(n=aO(c),r.attr("x",n[0]).attr("width",n[1]-n[0]),d(o)),p&&(n=aO(p),r.attr("y",n[0]).attr("height",n[1]-n[0]),b(o)),q(o)})}function q(a){a.selectAll(".resize").attr("transform",function(f){return"translate("+j[+/e$/.test(f)][0]+","+j[+/^s/.test(f)][1]+")"})}function d(a){a.select(".extent").attr("x",j[0][0]),a.selectAll(".extent,.n>rect,.s>rect").attr("width",j[1][0]-j[0][0])}function b(a){a.select(".extent").attr("y",j[0][1]),a.selectAll(".extent,.e>rect,.w>rect").attr("height",j[1][1]-j[0][1])}function h(){function F(){var a=d3.event.changedTouches;return a?d3.touches(t,a)[0]:d3.mouse(t)}function M(){d3.event.keyCode==32&&(f||(r=null,e[0]-=j[1][0],e[1]-=j[1][1],f=2),f0())}function J(){d3.event.keyCode==32&&f==2&&(e[0]+=j[1][0],e[1]+=j[1][1],f=0,f0())}function G(){var w=F(),a=!1;l&&(w[0]+=l[0],w[1]+=l[1]),f||(d3.event.altKey?(r||(r=[(j[0][0]+j[1][0])/2,(j[0][1]+j[1][1])/2]),e[0]=j[+(w[0]<r[0])][0],e[1]=j[+(w[1]<r[1])][1]):r=null),s&&A(w,c,0)&&(d(o),a=!0),u&&A(w,p,1)&&(b(o),a=!0),a&&(q(o),H({type:"brush",mode:f?"move":"resize"}))}function A(E,P,y){var w=aO(P),C=w[0],Q=w[1],x=e[y],O=j[1][y]-j[0][y],N,L;f&&(C-=x,Q-=O+x),N=Math.max(C,Math.min(Q,E[y])),f?L=(N+=x)+O:(r&&(x=Math.max(C,Math.min(Q,2*r[y]-N))),x<N?(L=N,N=x):L=x);if(j[0][y]!==N||j[1][y]!==L){return g=null,j[0][y]=N,j[1][y]=L,!0}}function I(){G(),o.style("pointer-events","all").selectAll(".resize").style("display",k.empty()?"none":null),d3.select("body").style("cursor",null),z.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),H({type:"brushend"}),f0()}var t=this,B=d3.select(d3.event.target),H=v.of(t,arguments),o=d3.select(t),K=B.datum(),s=!/^(n|s)$/.test(K)&&c,u=!/^(e|w)$/.test(K)&&p,f=B.classed("extent"),r,e=F(),l,z=d3.select(window).on("mousemove.brush",G).on("mouseup.brush",I).on("touchmove.brush",G).on("touchend.brush",I).on("keydown.brush",M).on("keyup.brush",J);if(f){e[0]=j[0][0]-e[0],e[1]=j[0][1]-e[1]}else{if(K){var D=+/w$/.test(K),n=+/^n/.test(K);l=[j[1-D][0]-e[0],j[1-n][1]-e[1]],e[0]=j[D][0],e[1]=j[n][1]}else{d3.event.altKey&&(r=e.slice())}}o.style("pointer-events","none").selectAll(".resize").style("display",null),d3.select("body").style("cursor",B.style("cursor")),H({type:"brushstart"}),G(),f0()}var v=gd(k,"brushstart","brush","brushend"),c=null,p=null,m=gx[0],j=[[0,0],[0,0]],g;return k.x=function(a){return arguments.length?(c=a,m=gx[!c<<1|!p],k):c},k.y=function(a){return arguments.length?(p=a,m=gx[!c<<1|!p],k):p},k.extent=function(l){var w,u,f,o,e;return arguments.length?(g=[[0,0],[0,0]],c&&(w=l[0],u=l[1],p&&(w=w[0],u=u[0]),g[0][0]=w,g[1][0]=u,c.invert&&(w=c(w),u=c(u)),u<w&&(e=w,w=u,u=e),j[0][0]=w|0,j[1][0]=u|0),p&&(f=l[0],o=l[1],c&&(f=f[1],o=o[1]),g[0][1]=f,g[1][1]=o,p.invert&&(f=p(f),o=p(o)),o<f&&(e=f,f=o,o=e),j[0][1]=f|0,j[1][1]=o|0),k):(l=g||j,c&&(w=l[0][0],u=l[1][0],g||(w=j[0][0],u=j[1][0],c.invert&&(w=c.invert(w),u=c.invert(u)),u<w&&(e=w,w=u,u=e))),p&&(f=l[0][1],o=l[1][1],g||(f=j[0][1],o=j[1][1],p.invert&&(f=p.invert(f),o=p.invert(o)),o<f&&(e=f,f=o,o=e))),c&&p?[[w,f],[u,o]]:c?[w,u]:p&&[f,o])},k.clear=function(){return g=null,j[0][0]=j[0][1]=j[1][0]=j[1][1]=0,k},k.empty=function(){return c&&j[0][0]===j[1][0]||p&&j[0][1]===j[1][1]},d3.rebind(k,v,"on")};var aX={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},gx=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];d3.behavior={},d3.behavior.drag=function(){function c(){this.on("mousedown.drag",a).on("touchstart.drag",a)}function a(){function r(){var f=j.parentNode;return q?d3.touches(f).filter(function(h){return h.identifier===q})[0]:d3.mouse(f)}function y(){if(!j.parentNode){return m()}var e=r(),h=e[0]-v[0],f=e[1]-v[1];n|=h|f,v=e,f0(),x({type:"drag",x:e[0]+k[0],y:e[1]+k[1],dx:h,dy:f})}function m(){x({type:"dragend"}),n&&(f0(),d3.event.target===w&&g.on("click.drag",z,!0)),g.on(q?"touchmove.drag-"+q:"mousemove.drag",null).on(q?"touchend.drag-"+q:"mouseup.drag",null)}function z(){f0(),g.on("click.drag",null)}var j=this,x=d.of(j,arguments),w=d3.event.target,q=d3.event.touches&&d3.event.changedTouches[0].identifier,k,v=r(),n=0,g=d3.select(window).on(q?"touchmove.drag-"+q:"mousemove.drag",y).on(q?"touchend.drag-"+q:"mouseup.drag",m,!0);b?(k=b.apply(j,arguments),k=[k.x-v[0],k.y-v[1]]):k=[0,0],q||f0(),x({type:"dragstart"})}var d=gd(c,"drag","dragstart","dragend"),b=null;return c.origin=function(e){return arguments.length?(b=e,c):b},d3.rebind(c,d,"on")},d3.behavior.zoom=function(){function O(){this.on("mousedown.zoom",G).on("mousewheel.zoom",z).on("mousemove.zoom",T).on("DOMMouseScroll.zoom",z).on("dblclick.zoom",N).on("touchstart.zoom",J).on("touchmove.zoom",Q).on("touchend.zoom",J)}function B(a){return[(a[0]-L[0])/P,(a[1]-L[1])/P]}function H(a){return[a[0]*P+L[0],a[1]*P+L[1]]}function D(a){P=Math.max(I[0],Math.min(I[1],a))}function K(b,a){a=H(a),L[0]+=b[0]-a[0],L[1]+=b[1]-a[1]}function C(a){R&&R.domain(k.range().map(function(b){return(b-L[0])/P}).map(k.invert)),A&&A.domain(q.range().map(function(b){return(b-L[1])/P}).map(q.invert)),d3.event.preventDefault(),a({type:"zoom",scale:P,translate:L})}function G(){function p(){m=1,K(d3.mouse(d),s),C(v)}function g(){m&&f0(),h.on("mousemove.zoom",null).on("mouseup.zoom",null),m&&d3.event.target===t&&h.on("click.zoom",b,!0)}function b(){f0(),h.on("click.zoom",null)}var d=this,v=M.of(d,arguments),t=d3.event.target,m=0,h=d3.select(window).on("mousemove.zoom",p).on("mouseup.zoom",g),s=B(d3.mouse(d));window.focus(),f0()}function z(){F||(F=B(d3.mouse(this))),D(Math.pow(2,cO()*0.002)*P),K(d3.mouse(this),F),C(M.of(this,arguments))}function T(){F=null}function N(){var a=d3.mouse(this),b=B(a);D(d3.event.shiftKey?P/2:P*2),K(a,b),C(M.of(this,arguments))}function J(){var b=d3.touches(this),d=Date.now();x=P,F={},b.forEach(function(f){F[f.identifier]=B(f)}),f0();if(b.length===1){if(d-j<500){var c=b[0],a=B(b[0]);D(P*2),K(c,a),C(M.of(this,arguments))}j=d}}function Q(){var c=d3.touches(this),b=c[0],f=F[b.identifier];if(d=c[1]){var d,a=F[d.identifier];b=[(b[0]+d[0])/2,(b[1]+d[1])/2],f=[(f[0]+a[0])/2,(f[1]+a[1])/2],D(d3.event.scale*x)}K(b,f),j=null,C(M.of(this,arguments))}var L=[0,0],F,P=1,x,I=c5,M=gd(O,"zoom"),k,R,q,A,j;return O.translate=function(a){return arguments.length?(L=a.map(Number),O):L},O.scale=function(a){return arguments.length?(P=+a,O):P},O.scaleExtent=function(a){return arguments.length?(I=a==null?c5:a.map(Number),O):I},O.x=function(a){return arguments.length?(R=a,k=a.copy(),O):R},O.y=function(a){return arguments.length?(A=a,q=a.copy(),O):A},d3.rebind(O,M,"on")};var em,c5=[0,Infinity];d3.layout={},d3.layout.bundle=function(){return function(c){var a=[],d=-1,b=c.length;while(++d<b){a.push(gp(c[d]))}return a}},d3.layout.chord=function(){function k(){var u={},f=[],A=d3.range(c),s=[],a,z,G,l,t;b=[],h=[],a=0,l=-1;while(++l<c){z=0,t=-1;while(++t<c){z+=v[l][t]}f.push(z),s.push(d3.range(c)),a+=z}m&&A.sort(function(w,n){return m(f[w],f[n])}),j&&s.forEach(function(w,n){w.sort(function(x,y){return j(v[n][x],v[n][y])})}),a=(2*Math.PI-p*c)/a,z=0,l=-1;while(++l<c){G=z,t=-1;while(++t<c){var C=A[l],B=s[C][t],F=v[C][B],H=z,r=z+=F*a;u[C+"-"+B]={index:C,subindex:B,startAngle:H,endAngle:r,value:F}}h[C]={index:C,startAngle:G,endAngle:z,value:(z-G)/a},z+=p}l=-1;while(++l<c){t=l-1;while(++t<c){var D=u[l+"-"+t],o=u[t+"-"+l];(D.value||o.value)&&b.push(D.value<o.value?{source:o,target:D}:{source:D,target:o})}}g&&q()}function q(){b.sort(function(f,a){return g((f.source.value+f.target.value)/2,(a.source.value+a.target.value)/2)})}var d={},b,h,v,c,p=0,m,j,g;return d.matrix=function(a){return arguments.length?(c=(v=a)&&v.length,b=h=null,d):v},d.padding=function(a){return arguments.length?(p=a,b=h=null,d):p},d.sortGroups=function(a){return arguments.length?(m=a,b=h=null,d):m},d.sortSubgroups=function(a){return arguments.length?(j=a,b=null,d):j},d.sortChords=function(a){return arguments.length?(g=a,b&&q(),d):g},d.chords=function(){return b||k(),b},d.groups=function(){return h||k(),h},d},d3.layout.force=function(){function I(a){return function(m,d,b,e,p){if(m.point!==a){var c=m.cx-a.x,l=m.cy-a.y,h=1/Math.sqrt(c*c+l*l);if((e-d)*h<J){var g=m.charge*h*h;return a.px-=c*g,a.py-=l*g,!0}if(m.point&&isFinite(h)){var g=m.pointCharge*h*h;a.px-=c*g,a.py-=l*g}}return !m.charge}}function u(a){a.px=d3.event.x,a.py=d3.event.y,C.resume()}var C={},z=d3.dispatch("start","tick","end"),x=[1,1],B,M,H=0.9,E=gR,K=bQ,F=-30,A=0.1,J=0.8,q,D=[],G=[],j,L,k;return C.tick=function(){if((M*=0.99)<0.005){return z.end({type:"end",alpha:M=0}),!0}var s=D.length,b=G.length,g,a,r,e,m,h,p,w,f;for(a=0;a<b;++a){r=G[a],e=r.source,m=r.target,w=m.x-e.x,f=m.y-e.y;if(h=w*w+f*f){h=M*L[a]*((h=Math.sqrt(h))-j[a])/h,w*=h,f*=h,m.x-=w*(p=e.weight/(m.weight+e.weight)),m.y-=f*p,e.x+=w*(p=1-p),e.y+=f*p}}if(p=M*A){w=x[0]/2,f=x[1]/2,a=-1;if(p){while(++a<s){r=D[a],r.x+=(w-r.x)*p,r.y+=(f-r.y)*p}}}if(F){dG(g=d3.geom.quadtree(D),M,k),a=-1;while(++a<s){(r=D[a]).fixed||g.visit(I(r))}}a=-1;while(++a<s){r=D[a],r.fixed?(r.x=r.px,r.y=r.py):(r.x-=(r.px-(r.px=r.x))*H,r.y-=(r.py-(r.py=r.y))*H)}z.tick({type:"tick",alpha:M})},C.nodes=function(a){return arguments.length?(D=a,C):D},C.links=function(a){return arguments.length?(G=a,C):G},C.size=function(a){return arguments.length?(x=a,C):x},C.linkDistance=function(a){return arguments.length?(E=e2(a),C):E},C.distance=C.linkDistance,C.linkStrength=function(a){return arguments.length?(K=e2(a),C):K},C.friction=function(a){return arguments.length?(H=a,C):H},C.charge=function(a){return arguments.length?(F=typeof a=="function"?a:+a,C):F},C.gravity=function(a){return arguments.length?(A=a,C):A},C.theta=function(a){return arguments.length?(J=a,C):J},C.alpha=function(a){return arguments.length?(M?a>0?M=a:M=0:a>0&&(z.start({type:"start",alpha:M=a}),d3.timer(C.tick)),C):M},C.start=function(){function m(p,t){var d=w(b),f=-1,r=d.length,a;while(++f<r){if(!isNaN(a=d[f][p])){return a}}return Math.random()*t}function w(){if(!c){c=[];for(h=0;h<g;++h){c[h]=[]}for(h=0;h<v;++h){var a=G[h];c[a.source.index].push(a.target),c[a.target.index].push(a.source)}}return c[b]}var b,h,g=D.length,v=G.length,s=x[0],l=x[1],c,n;for(b=0;b<g;++b){(n=D[b]).index=b,n.weight=0}j=[],L=[];for(b=0;b<v;++b){n=G[b],typeof n.source=="number"&&(n.source=D[n.source]),typeof n.target=="number"&&(n.target=D[n.target]),j[b]=E.call(this,n,b),L[b]=K.call(this,n,b),++n.source.weight,++n.target.weight}for(b=0;b<g;++b){n=D[b],isNaN(n.x)&&(n.x=m("x",s)),isNaN(n.y)&&(n.y=m("y",l)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y)}k=[];if(typeof F=="function"){for(b=0;b<g;++b){k[b]=+F.call(this,D[b],b)}}else{for(b=0;b<g;++b){k[b]=F}}return C.resume()},C.resume=function(){return C.alpha(0.1)},C.stop=function(){return C.alpha(0)},C.drag=function(){B||(B=d3.behavior.drag().origin(fq).on("dragstart",cw).on("drag",u).on("dragend",cC)),this.on("mouseover.force",fx).on("mouseout.force",eV).call(B)},d3.rebind(C,z,"on")},d3.layout.partition=function(){function d(p,h,e,j){var q=p.children;p.x=h,p.y=p.depth*j,p.dx=e,p.dy=j;if(q&&(m=q.length)){var g=-1,m,l,k;e=p.value?e/p.value:0;while(++g<m){d(l=q[g],h,k=l.value*e,j),h+=k}}}function b(k){var l=k.children,j=0;if(l&&(h=l.length)){var g=-1,h;while(++g<h){j=Math.max(j,b(l[g]))}}return 1+j}function f(h,e){var g=c.call(this,h,e);return d(g[0],0,a[0],a[1]/b(g[0])),g}var c=d3.layout.hierarchy(),a=[1,1];return f.size=function(g){return arguments.length?(a=g,f):a},c4(f,c)},d3.layout.pie=function(){function d(j,m){var h=j.map(function(o,l){return +b.call(d,o,l)}),g=+(typeof c=="function"?c.apply(this,arguments):c),k=((typeof a=="function"?a.apply(this,arguments):a)-c)/d3.sum(h),e=d3.range(j.length);f!=null&&e.sort(f===fa?function(o,l){return h[l]-h[o]}:function(o,l){return f(j[o],j[l])});var n=[];return e.forEach(function(o){var l;n[o]={data:j[o],value:l=h[o],startAngle:g,endAngle:g+=l*k}}),n}var b=Number,f=fa,c=0,a=2*Math.PI;return d.value=function(e){return arguments.length?(b=e,d):b},d.sort=function(e){return arguments.length?(f=e,d):f},d.startAngle=function(e){return arguments.length?(c=e,d):c},d.endAngle=function(e){return arguments.length?(a=e,d):a},d};var fa={};d3.layout.stack=function(){function f(n,u){var r=n.map(function(m,l){return b.call(f,m,l)}),k=r.map(function(l,m){return l.map(function(p,v){return[g.call(f,p,v),a.call(f,p,v)]})}),t=h.call(f,k,u);r=d3.permute(r,t),k=d3.permute(k,t);var o=d.call(f,k,u),e=r.length,s=r[0].length,w,j,q;for(j=0;j<s;++j){c.call(f,r[0][j],q=o[j],k[0][j][1]);for(w=1;w<e;++w){c.call(f,r[w][j],q+=k[w-1][j][1],k[w][j][1])}}return n}var b=fq,h=cF,d=bI,c=a8,g=by,a=eC;return f.values=function(e){return arguments.length?(b=e,f):b},f.order=function(e){return arguments.length?(h=typeof e=="function"?e:dW.get(e)||cF,f):h},f.offset=function(e){return arguments.length?(d=typeof e=="function"?e:b7.get(e)||bI,f):d},f.x=function(e){return arguments.length?(g=e,f):g},f.y=function(e){return arguments.length?(a=e,f):a},f.out=function(e){return arguments.length?(c=e,f):c},f};var dW=d3.map({"inside-out":function(k){var q=k.length,d,b,h=k.map(dK),v=k.map(bl),c=d3.range(q).sort(function(f,a){return h[f]-h[a]}),p=0,m=0,j=[],g=[];for(d=0;d<q;++d){b=c[d],p<m?(p+=v[b],j.push(b)):(m+=v[b],g.push(b))}return g.reverse().concat(j)},reverse:function(a){return d3.range(a.length).reverse()},"default":cF}),b7=d3.map({silhouette:function(g){var k=g.length,d=g[0].length,b=[],f=0,l,c,j,h=[];for(c=0;c<d;++c){for(l=0,j=0;l<k;l++){j+=g[l][c][1]}j>f&&(f=j),b.push(j)}for(c=0;c<d;++c){h[c]=(f-b[c])/2}return h},wiggle:function(x){var C=x.length,k=x[0],b=k.length,q=0,D,j,B,A,w,m,z,v,g,y=[];y[0]=v=g=0;for(j=1;j<b;++j){for(D=0,A=0;D<C;++D){A+=x[D][j][1]}for(D=0,w=0,z=k[j][0]-k[j-1][0];D<C;++D){for(B=0,m=(x[D][j][1]-x[D][j-1][1])/(2*z);B<D;++B){m+=(x[B][j][1]-x[B][j-1][1])/z}w+=m*x[D][j][1]}y[j]=v-=A?w/A*z:0,v<g&&(g=v)}for(j=0;j<b;++j){y[j]-=g}return y},expand:function(g){var c=g.length,j=g[0].length,f=1/c,b,d,h,a=[];for(d=0;d<j;++d){for(b=0,h=0;b<c;b++){h+=g[b][d][1]}if(h){for(b=0;b<c;b++){g[b][d][1]/=h}}else{for(b=0;b<c;b++){g[b][d][1]=f}}}for(d=0;d<j;++d){a[d]=0}return a},zero:bI});d3.layout.histogram=function(){function d(q,x){var j=[],w=q.map(f,this),v=c.call(this,w,x),n=a.call(this,v,w,x),k,x=-1,t=w.length,m=n.length-1,g=b?1:1/t,r;while(++x<m){k=j[x]=[],k.dx=n[x+1]-(k.x=n[x]),k.y=0}if(m>0){x=-1;while(++x<t){r=w[x],r>=v[0]&&r<=v[1]&&(k=j[d3.bisect(n,r,1,m)-1],k.y+=g,k.push(q[x]))}}return j}var b=!0,f=Number,c=el,a=aW;return d.value=function(e){return arguments.length?(f=e,d):f},d.range=function(e){return arguments.length?(c=e2(e),d):c},d.bins=function(e){return arguments.length?(a=typeof e=="number"?function(g){return gv(g,e)}:e2(e),d):a},d.frequency=function(e){return arguments.length?(b=!!e,d):b},d},d3.layout.hierarchy=function(){function f(y,j,x){var s=a.call(g,y,j),n=aL?y:{data:y};n.depth=j,x.push(n);if(s&&(r=s.length)){var k=-1,r,m=n.children=[],e=0,q=j+1,w;while(++k<r){w=f(s[k],q,x),w.parent=n,m.push(w),e+=w.value}d&&m.sort(d),c&&(n.value=e)}else{c&&(n.value=+c.call(g,y,j)||0)}return n}function b(n,l){var k=n.children,p=0;if(k&&(h=k.length)){var j=-1,h,m=l+1;while(++j<h){p+=b(k[j],m)}}else{c&&(p=+c.call(g,aL?n:n.data,l)||0)}return c&&(n.value=p),p}function g(e){var h=[];return f(e,0,h),h}var d=b6,a=e7,c=dV;return g.sort=function(h){return arguments.length?(d=h,g):d},g.children=function(h){return arguments.length?(a=h,g):a},g.value=function(h){return arguments.length?(c=h,g):c},g.revalue=function(h){return b(h,0),h},g};var aL=!1;d3.layout.pack=function(){function c(p,k){var m=a.call(this,p,k),q=m[0];q.x=0,q.y=0,gB(q,function(f){f.r=Math.sqrt(f.value)}),gB(q,fP);var j=b[0],h=b[1],n=Math.max(2*q.r/j,2*q.r/h);if(d>0){var g=d*n/2;gB(q,function(f){f.r+=g}),gB(q,fP),gB(q,function(f){f.r-=g}),n=Math.max(2*q.r/j,2*q.r/h)}return c9(q,j/2,h/2,1/n),m}var a=d3.layout.hierarchy().sort(aK),d=0,b=[1,1];return c.size=function(e){return arguments.length?(b=e,c):b},c.padding=function(e){return arguments.length?(d=+e,c):d},c4(c,a)},d3.layout.cluster=function(){function c(r,m){var y=a.call(this,r,m),j=y[0],x,w=0,q,k;gB(j,function(h){var f=h.children;f&&f.length?(h.x=ed(f),h.y=cX(f)):(h.x=x?w+=d(h,x):0,h.y=0,x=h)});var v=a2(j),n=dg(j),g=v.x-d(v,n)/2,t=n.x+d(n,v)/2;return gB(j,function(f){f.x=(f.x-g)/(t-g)*b[0],f.y=(1-(j.y?f.y/j.y:1))*b[1]}),y}var a=d3.layout.hierarchy().sort(null).value(null),d=eH,b=[1,1];return c.separation=function(e){return arguments.length?(d=e,c):d},c.size=function(e){return arguments.length?(b=e,c):b},c4(c,a)},d3.layout.tree=function(){function c(r,m){function A(F,I){var s=F.children,C=F._tree;if(s&&(v=s.length)){var v,H=s[0],E,B=H,G,D=-1;while(++D<v){G=s[D],A(G,E),B=z(G,E,B),E=G}be(F);var u=0.5*(H._tree.prelim+G._tree.prelim);I?(C.prelim=I._tree.prelim+d(F,I),C.mod=C.prelim-u):C.prelim=u}else{I&&(C.prelim=I._tree.prelim+d(F,I))}}function j(o,h){o.x=o._tree.prelim+h;var p=o.children;if(p&&(f=p.length)){var l=-1,f;h+=o._tree.mod;while(++l<f){j(p[l],h)}}}function z(F,J,p){if(J){var C=F,K=F,v=J,I=F.parent.children[0],H=C._tree.mod,E=K._tree.mod,B=v._tree.mod,G=I._tree.mod,D;while(v=d0(v),C=bB(C),v&&C){I=bB(I),K=d0(K),K._tree.ancestor=F,D=v._tree.prelim+B-C._tree.prelim-H+d(v,C),D>0&&(dy(am(v,F,p),F,D),H+=D,E+=D),B+=v._tree.mod,H+=C._tree.mod,G+=I._tree.mod,E+=K._tree.mod}v&&!d0(K)&&(K._tree.thread=v,K._tree.mod+=B-E),C&&!bB(I)&&(I._tree.thread=C,I._tree.mod+=H-G,p=F)}return p}var x=a.call(this,r,m),q=x[0];gB(q,function(h,f){h._tree={ancestor:h,prelim:0,mod:0,change:0,shift:0,number:f?f._tree.number+1:0}}),A(q),j(q,-q._tree.prelim);var k=ev(q,aQ),w=ev(q,af),n=ev(q,dO),g=k.x-d(k,w)/2,t=w.x+d(w,k)/2,y=n.depth||1;return gB(q,function(f){f.x=(f.x-g)/(t-g)*b[0],f.y=f.depth/y*b[1],delete f._tree}),x}var a=d3.layout.hierarchy().sort(null).value(null),d=eH,b=[1,1];return c.separation=function(e){return arguments.length?(d=e,c):d},c.size=function(e){return arguments.length?(b=e,c):b},c4(c,a)},d3.layout.treemap=function(){function w(l,c){var o=-1,h=l.length,a,f;while(++o<h){f=(a=l[o]).value*(c<0?0:c),a.area=isNaN(f)||f<=0?0:f}}function A(r){var H=r.children;if(H&&H.length){var l=k(r),G=[],F=H.slice(),C,E=Infinity,t,e=Math.min(l.dx,l.dy),D;w(F,l.dx*l.dy/r.value),G.area=0;while((D=F.length)>0){G.push(C=F[D-1]),G.area+=C.area,(t=b(G,e))<=E?(F.pop(),E=t):(G.area-=G.pop().area,m(G,e,l,!1),e=Math.min(l.dx,l.dy),G.length=G.area=0,E=Infinity)}G.length&&(m(G,e,l,!0),G.length=G.area=0),H.forEach(A)}}function j(f){var l=f.children;if(l&&l.length){var h=k(f),n=l.slice(),e,c=[];w(n,h.dx*h.dy/f.value),c.area=0;while(e=n.pop()){c.push(e),c.area+=e.area,e.z!=null&&(m(c,e.z?h.dx:h.dy,h,!n.length),c.length=c.area=0)}l.forEach(j)}}function b(p,f){var D=p.area,l,c=0,h=Infinity,C=-1,a=p.length;while(++C<a){if(!(l=p[C].area)){continue}l<h&&(h=l),l>c&&(c=l)}return D*=D,f*=f,D?Math.max(f*c*d/D,D/(f*h*d)):Infinity}function m(E,G,p,c){var C=-1,H=E.length,h=p.x,F=p.y,D=G?z(E.area/G):0,u;if(G==p.dx){if(c||D>p.dy){D=p.dy}while(++C<H){u=E[C],u.x=h,u.y=F,u.dy=D,h+=u.dx=Math.min(p.x+p.dx-h,D?z(u.area/D):0)}u.z=!0,u.dx+=p.x+p.dx-h,p.y+=D,p.dy-=D}else{if(c||D>p.dx){D=p.dx}while(++C<H){u=E[C],u.x=h,u.y=F,u.dx=D,F+=u.dy=Math.min(p.y+p.dy-F,D?z(u.area/D):0)}u.z=!1,u.dy+=p.y+p.dy-F,p.x+=D,p.dx-=D}}function B(e){var a=q||g(e),c=a[0];return c.x=0,c.y=0,c.dx=y[0],c.dy=y[1],q&&g.revalue(c),w([c],c.dx*c.dy/c.value),(q?j:A)(c),x&&(q=a),a}var g=d3.layout.hierarchy(),z=Math.round,y=[1,1],v=null,k=f2,x=!1,q,d=0.5*(1+Math.sqrt(5));return B.size=function(a){return arguments.length?(y=a,B):y},B.padding=function(f){function a(e){var l=f.call(B,e,e.depth);return l==null?f2(e):bU(e,typeof l=="number"?[l,l,l,l]:l)}function h(e){return bU(e,f)}if(!arguments.length){return v}var c;return k=(v=f)==null?f2:(c=typeof f)==="function"?a:c==="number"?(f=[f,f,f,f],h):h,B},B.round=function(a){return arguments.length?(z=a?Math.round:Number,B):z!=Number},B.sticky=function(a){return arguments.length?(x=a,q=null,B):x},B.ratio=function(a){return arguments.length?(d=a,B):d},c4(B,g)},d3.csv=dm(",","text/csv"),d3.tsv=dm("	","text/tab-separated-values"),d3.geo={};var cT=Math.PI/180;d3.geo.azimuthal=function(){function g(y){var r=y[0]*cT-l,q=y[1]*cT,x=Math.cos(r),t=Math.sin(r),A=Math.cos(q),u=Math.sin(q),a=k!=="orthographic"?h*u+j*A*x:null,z,B=k==="stereographic"?1/(1+a):k==="gnomonic"?1/a:k==="equidistant"?(z=Math.acos(a),z?z/Math.sin(z):0):k==="equalarea"?Math.sqrt(2/(1+a)):1,s=B*A*t,w=B*(h*A*x-j*u);return[b*s+f[0],b*w+f[1]]}var k="orthographic",d,b=200,f=[480,250],l,c,j,h;return g.invert=function(q){var t=(q[0]-f[0])/b,r=(q[1]-f[1])/b,p=Math.sqrt(t*t+r*r),a=k==="stereographic"?2*Math.atan(p):k==="gnomonic"?Math.atan(p):k==="equidistant"?p:k==="equalarea"?2*Math.asin(0.5*p):Math.asin(p),s=Math.sin(a),m=Math.cos(a);return[(l+Math.atan2(t*s,p*j*m+r*h*s))/cT,Math.asin(m*h-(p?r*s*j/p:0))/cT]},g.mode=function(a){return arguments.length?(k=a+"",g):k},g.origin=function(a){return arguments.length?(d=a,l=d[0]*cT,c=d[1]*cT,j=Math.cos(c),h=Math.sin(c),g):d},g.scale=function(a){return arguments.length?(b=+a,g):b},g.translate=function(a){return arguments.length?(f=[+a[0],+a[1]],g):f},g.origin([0,0])},d3.geo.albers=function(){function j(f){var a=l*(cT*f[0]-c),o=Math.sqrt(k-2*l*Math.sin(cT*f[1]))/l;return[g*o*Math.sin(a)+p[0],g*(o*Math.cos(a)-h)+p[1]]}function m(){var f=cT*b[0],e=cT*b[1],n=cT*d[1],a=Math.sin(f),o=Math.cos(f);return c=cT*d[0],l=0.5*(a+Math.sin(e)),k=o*o+2*l*a,h=Math.sqrt(k-2*l*Math.sin(n))/l,j}var d=[-98,38],b=[29.5,45.5],g=1000,p=[480,250],c,l,k,h;return j.invert=function(q){var f=(q[0]-p[0])/g,u=(q[1]-p[1])/g,o=h+u,a=Math.atan2(f,o),s=Math.sqrt(f*f+o*o);return[(c+a/l)/cT,Math.asin((k-s*s*l*l)/(2*l))/cT]},j.origin=function(a){return arguments.length?(d=[+a[0],+a[1]],m()):d},j.parallels=function(a){return arguments.length?(b=[+a[0],+a[1]],m()):b},j.scale=function(a){return arguments.length?(g=+a,j):g},j.translate=function(a){return arguments.length?(p=[+a[0],+a[1]],j):p},m()},d3.geo.albersUsa=function(){function d(h){var g=h[0],j=h[1];return(j>50?f:g<-140?c:j<21?a:b)(h)}var b=d3.geo.albers(),f=d3.geo.albers().origin([-160,60]).parallels([55,65]),c=d3.geo.albers().origin([-160,20]).parallels([8,18]),a=d3.geo.albers().origin([-60,10]).parallels([8,18]);return d.scale=function(e){return arguments.length?(b.scale(e),f.scale(e*0.6),c.scale(e),a.scale(e*1.5),d.translate(b.translate())):b.scale()},d.translate=function(h){if(!arguments.length){return b.translate()}var j=b.scale()/1000,g=h[0],e=h[1];return b.translate(h),f.translate([g-400*j,e+170*j]),c.translate([g-190*j,e+200*j]),a.translate([g+580*j,e+430*j]),d},d.scale(b.scale())},d3.geo.bonne=function(){function f(o){var m=o[0]*cT-d,k=o[1]*cT-a;if(c){var n=g+c-k,j=m*Math.cos(k)/n;m=n*Math.sin(j),k=n*Math.cos(j)-g}else{m*=Math.cos(k),k*=-1}return[b*m+h[0],b*k+h[1]]}var b=200,h=[480,250],d,a,c,g;return f.invert=function(n){var l=(n[0]-h[0])/b,k=(n[1]-h[1])/b;if(c){var j=g+k,m=Math.sqrt(l*l+j*j);k=g+c-m,l=d+m*Math.atan2(l,j)/Math.cos(k)}else{k*=-1,l/=Math.cos(k)}return[l/cT,k/cT]},f.parallel=function(e){return arguments.length?(g=1/Math.tan(c=e*cT),f):c/cT},f.origin=function(e){return arguments.length?(d=e[0]*cT,a=e[1]*cT,f):[d/cT,a/cT]},f.scale=function(e){return arguments.length?(b=+e,f):b},f.translate=function(e){return arguments.length?(h=[+e[0],+e[1]],f):h},f.origin([0,0]).parallel(45)},d3.geo.equirectangular=function(){function b(g){var f=g[0]/360,d=-g[1]/360;return[a*f+c[0],a*d+c[1]]}var a=500,c=[480,250];return b.invert=function(g){var f=(g[0]-c[0])/a,d=(g[1]-c[1])/a;return[360*f,-360*d]},b.scale=function(d){return arguments.length?(a=+d,b):a},b.translate=function(d){return arguments.length?(c=[+d[0],+d[1]],b):c},b},d3.geo.mercator=function(){function b(g){var f=g[0]/360,d=-(Math.log(Math.tan(Math.PI/4+g[1]*cT/2))/cT)/360;return[a*f+c[0],a*Math.max(-0.5,Math.min(0.5,d))+c[1]]}var a=500,c=[480,250];return b.invert=function(g){var f=(g[0]-c[0])/a,d=(g[1]-c[1])/a;return[360*f,2*Math.atan(Math.exp(-360*d*cT))/cT-90]},b.scale=function(d){return arguments.length?(a=+d,b):a},b.translate=function(d){return arguments.length?(c=[+d[0],+d[1]],b):c},b},d3.geo.path=function(){function m(c,a){typeof x=="function"&&(d=gl(x.apply(this,arguments))),k(c);var f=q.length?q.join(""):null;return q=[],f}function w(a){return v(a).join(",")}function g(f){var a=j(f[0]),l=0,c=f.length;while(++l<c){a-=j(f[l])}return a}function b(A){var C=d3.geom.polygon(A[0].map(v)),u=C.area(),c=C.centroid(u<0?(u*=-1,1):-1),y=c[0],D=c[1],l=u,B=0,z=A.length;while(++B<z){C=d3.geom.polygon(A[B].map(v)),u=C.area(),c=C.centroid(u<0?(u*=-1,1):-1),y-=c[0],D-=c[1],l-=u}return[y,D,6*l]}function j(a){return Math.abs(d3.geom.polygon(a.map(v)).area())}var x=4.5,d=gl(x),v=d3.geo.albersUsa(),q=[],k=cL({FeatureCollection:function(f){var a=f.features,l=-1,c=a.length;while(++l<c){q.push(k(a[l].geometry))}},Feature:function(a){k(a.geometry)},Point:function(a){q.push("M",w(a.coordinates),d)},MultiPoint:function(f){var l=f.coordinates,c=-1,a=l.length;while(++c<a){q.push("M",w(l[c]),d)}},LineString:function(f){var l=f.coordinates,c=-1,a=l.length;q.push("M");while(++c<a){q.push(w(l[c]),"L")}q.pop()},MultiLineString:function(t){var z=t.coordinates,l=-1,c=z.length,f,y,a;while(++l<c){f=z[l],y=-1,a=f.length,q.push("M");while(++y<a){q.push(w(f[y]),"L")}q.pop()}},Polygon:function(t){var z=t.coordinates,l=-1,c=z.length,f,y,a;while(++l<c){f=z[l],y=-1;if((a=f.length-1)>0){q.push("M");while(++y<a){q.push(w(f[y]),"L")}q[q.length-1]="Z"}}},MultiPolygon:function(C){var y=C.coordinates,a=-1,A=y.length,F,t,E,B,z,D;while(++a<A){F=y[a],t=-1,E=F.length;while(++t<E){B=F[t],z=-1;if((D=B.length-1)>0){q.push("M");while(++z<D){q.push(w(B[z]),"L")}q[q.length-1]="Z"}}}},GeometryCollection:function(f){var a=f.geometries,l=-1,c=a.length;while(++l<c){q.push(k(a[l]))}}}),h=m.area=cL({FeatureCollection:function(l){var c=0,o=l.features,f=-1,a=o.length;while(++f<a){c+=h(o[f])}return c},Feature:function(a){return h(a.geometry)},Polygon:function(a){return g(a.coordinates)},MultiPolygon:function(n){var c=0,l=n.coordinates,a=-1,f=l.length;while(++a<f){c+=g(l[a])}return c},GeometryCollection:function(l){var c=0,o=l.geometries,f=-1,a=o.length;while(++f<a){c+=h(o[f])}return c}},0),p=m.centroid=cL({Feature:function(a){return p(a.geometry)},Polygon:function(c){var a=b(c.coordinates);return[a[0]/a[2],a[1]/a[2]]},MultiPolygon:function(z){var C=0,l=z.coordinates,r,D=0,c=0,B=0,A=-1,y=l.length;while(++A<y){r=b(l[A]),D+=r[0],c+=r[1],B+=r[2]}return[D/B,c/B]}});return m.projection=function(a){return v=a,m},m.pointRadius=function(a){return typeof a=="function"?x=a:(x=+a,d=gl(x)),m},m},d3.geo.bounds=function(d){var b=Infinity,f=Infinity,c=-Infinity,a=-Infinity;return cb(d,function(h,g){h<b&&(b=h),h>c&&(c=h),g<f&&(f=g),g>a&&(a=g)}),[[b,f],[c,a]]};var d9={Feature:bZ,FeatureCollection:cq,GeometryCollection:cA,LineString:fl,MultiLineString:eS,MultiPoint:fl,MultiPolygon:dD,Point:gP,Polygon:bN};d3.geo.circle=function(){function h(){}function l(a){return j.distance(a)<k}function d(v){var x=-1,p=v.length,r=[],y,a,u,q,w;while(++x<p){w=j.distance(u=v[x]),w<k?(a&&r.push(cM(a,u)((q-k)/(q-w))),r.push(u),y=a=null):(a=u,!y&&r.length&&(r.push(cM(r[r.length-1],a)((k-q)/(w-q))),y=a)),q=w}return y=v[0],a=r[0],a&&u[0]===y[0]&&u[1]===y[1]&&(u[0]!==a[0]||u[1]!==a[1])&&r.push(a),b(r)}function b(w){var p=0,y=w.length,v,f,q=y?[w[0]]:w,x,a=j.source();while(++p<y){x=j.source(w[p-1])(w[p]).coordinates;for(v=0,f=x.length;++v<f;){q.push(x[v])}}return j.source(a),q}var m=[0,0],c=89.99,k=c*cT,j=d3.geo.greatArc().source(m).target(fq);h.clip=function(a){return typeof m=="function"&&j.source(m.apply(this,arguments)),g(a)||null};var g=cL({FeatureCollection:function(f){var a=f.features.map(g).filter(fq);return a&&(f=Object.create(f),f.features=a,f)},Feature:function(f){var a=g(f.geometry);return a&&(f=Object.create(f),f.geometry=a,f)},Point:function(a){return l(a.coordinates)&&a},MultiPoint:function(a){var f=a.coordinates.filter(l);return f.length&&{type:a.type,coordinates:f}},LineString:function(f){var a=d(f.coordinates);return a.length&&(f=Object.create(f),f.coordinates=a,f)},MultiLineString:function(f){var a=f.coordinates.map(d).filter(function(n){return n.length});return a.length&&(f=Object.create(f),f.coordinates=a,f)},Polygon:function(f){var a=f.coordinates.map(d);return a[0].length&&(f=Object.create(f),f.coordinates=a,f)},MultiPolygon:function(f){var a=f.coordinates.map(function(n){return n.map(d)}).filter(function(n){return n[0].length});return a.length&&(f=Object.create(f),f.coordinates=a,f)},GeometryCollection:function(f){var a=f.geometries.map(g).filter(fq);return a.length&&(f=Object.create(f),f.geometries=a,f)}});return h.origin=function(a){return arguments.length?(m=a,typeof m!="function"&&j.source(m),h):m},h.angle=function(a){return arguments.length?(k=(c=+a)*cT,h):c},d3.rebind(h,j,"precision")},d3.geo.greatArc=function(){function f(){var k=f.distance.apply(this,arguments),l=0,j=c/k,e=[h];while((l+=j)<1){e.push(g(l))}return e.push(a),{type:"LineString",coordinates:e}}var b=bv,h,d=eI,a,c=6*cT,g=bb();return f.distance=function(){return typeof b=="function"&&g.source(h=b.apply(this,arguments)),typeof d=="function"&&g.target(a=d.apply(this,arguments)),g.distance()},f.source=function(e){return arguments.length?(b=e,typeof b!="function"&&g.source(h=b),f):b},f.target=function(e){return arguments.length?(d=e,typeof d!="function"&&g.target(a=d),f):d},f.precision=function(e){return arguments.length?(c=e*cT,f):c/cT},f},d3.geo.greatCircle=d3.geo.circle,d3.geom={},d3.geom.contour=function(k,q){var d=q||bO(k),b=[],h=d[0],v=d[1],c=0,p=0,m=NaN,j=NaN,g=0;do{g=0,k(h-1,v-1)&&(g+=1),k(h,v-1)&&(g+=2),k(h-1,v)&&(g+=4),k(h,v)&&(g+=8),g===6?(c=j===-1?-1:1,p=0):g===9?(c=0,p=m===1?-1:1):(c=gK[g],p=fS[g]),c!=m&&p!=j&&(b.push([h,v]),m=c,j=p),h+=c,v+=p}while(d[0]!=h||d[1]!=v);return b};var gK=[1,0,1,1,-1,0,-1,1,0,0,0,0,-1,0,-1,NaN],fS=[0,-1,0,0,0,-1,0,0,1,-1,1,1,0,-1,0,NaN];d3.geom.hull=function(A){if(A.length<3){return[]}var G=A.length,k=G-1,b=[],x=[],H,j,F=0,D,z,w,C,y,g,B,E;for(H=1;H<G;++H){A[H][1]<A[F][1]?F=H:A[H][1]==A[F][1]&&(F=A[H][0]<A[F][0]?H:F)}for(H=0;H<G;++H){if(H===F){continue}z=A[H][1]-A[F][1],D=A[H][0]-A[F][0],b.push({angle:Math.atan2(z,D),index:H})}b.sort(function(c,a){return c.angle-a.angle}),B=b[0].angle,g=b[0].index,y=0;for(H=1;H<k;++H){j=b[H].index,B==b[H].angle?(D=A[g][0]-A[F][0],z=A[g][1]-A[F][1],w=A[j][0]-A[F][0],C=A[j][1]-A[F][1],D*D+z*z>=w*w+C*C?b[H].index=-1:(b[y].index=-1,B=b[H].angle,y=H,g=j)):(B=b[H].angle,y=H,g=j)}x.push(F);for(H=0,j=0;H<2;++j){b[j].index!==-1&&(x.push(b[j].index),H++)}E=x.length;for(;j<k;++j){if(b[j].index===-1){continue}while(!dP(x[E-2],x[E-1],b[j].index,A)){--E}x[E++]=b[j].index}var q=[];for(H=0;H<E;++H){q.push(A[x[H]])}return q},d3.geom.polygon=function(a){return a.area=function(){var c=0,e=a.length,d=a[e-1][0]*a[0][1],b=a[e-1][1]*a[0][0];while(++c<e){d+=a[c-1][0]*a[c][1],b+=a[c-1][1]*a[c][0]}return(b-d)*0.5},a.centroid=function(e){var j=-1,g=a.length,d=0,f=0,h,c=a[g-1],b;arguments.length||(e=-1/(6*a.area()));while(++j<g){h=c,c=a[j],b=h[0]*c[1]-c[0]*h[1],d+=(h[0]+c[0])*b,f+=(h[1]+c[1])*b}return[d*e,f*e]},a.clip=function(m){var d,b=-1,g=a.length,p,c,k=a[g-1],j,h,e;while(++b<g){d=m.slice(),m.length=0,j=a[b],h=d[(c=d.length)-1],p=-1;while(++p<c){e=d[p],bw(e,k,j)?(bw(h,k,j)||m.push(cu(h,e,k,j)),m.push(e)):bw(h,k,j)&&m.push(cu(h,e,k,j)),h=e}k=j}return m},a},d3.geom.voronoi=function(b){var a=b.map(function(){return[]});return aZ(b,function(k){var g,c,h,p,d,m;k.a===1&&k.b>=0?(g=k.ep.r,c=k.ep.l):(g=k.ep.l,c=k.ep.r),k.a===1?(d=g?g.y:-1000000,h=k.c-k.b*d,m=c?c.y:1000000,p=k.c-k.b*m):(h=g?g.x:-1000000,d=k.c-k.a*h,p=c?c.x:1000000,m=k.c-k.a*p);var l=[h,d],j=[p,m];a[k.region.l.index].push(l,j),a[k.region.r.index].push(l,j)}),a.map(function(d,f){var e=b[f][0],c=b[f][1];return d.forEach(function(g){g.angle=Math.atan2(g[0]-e,g[1]-c)}),d.sort(function(h,g){return h.angle-g.angle}).filter(function(g,h){return !h||g.angle-d[h-1].angle>1e-10})})};var az={l:"r",r:"l"};d3.geom.delaunay=function(b){var a=b.map(function(){return[]}),c=[];return aZ(b,function(d){a[d.region.l.index].push(b[d.region.r.index])}),a.forEach(function(g,j){var f=b[j],h=f[0],k=f[1];g.forEach(function(l){l.angle=Math.atan2(l[0]-h,l[1]-k)}),g.sort(function(m,l){return m.angle-l.angle});for(var e=0,d=g.length-1;e<d;e++){c.push([f,g[e],g[e+1]])}}),c},d3.geom.quadtree=function(q,y,g,b,k){function z(o,f,A,l,c,h){if(isNaN(f.x)||isNaN(f.y)){return}if(o.leaf){var a=o.point;a?Math.abs(a.x-f.x)+Math.abs(a.y-f.y)<0.01?d(o,f,A,l,c,h):(o.point=null,d(o,a,A,l,c,h),d(o,f,A,l,c,h)):o.point=f}else{d(o,f,A,l,c,h)}}function d(E,I,A,h,C,s){var H=(A+C)*0.5,G=(h+s)*0.5,D=I.x>=H,B=I.y>=G,F=(B<<1)+D;E.leaf=!1,E=E.nodes[F]||(E.nodes[F]=gC()),D?A=H:C=H,B?h=G:s=G,z(E,I,A,h,C,s)}var x,w=-1,p=q.length;p&&isNaN(q[0].x)&&(q=q.map(da));if(arguments.length<5){if(arguments.length===3){k=b=g,g=y}else{y=g=Infinity,b=k=-Infinity;while(++w<p){x=q[w],x.x<y&&(y=x.x),x.y<g&&(g=x.y),x.x>b&&(b=x.x),x.y>k&&(k=x.y)}var j=b-y,v=k-g;j>v?k=g+j:b=y+v}}var m=gC();return m.add=function(a){z(m,a,y,g,b,k)},m.visit=function(a){ew(a,m,y,g,b,k)},q.forEach(m.add),m},d3.time={};var aF=Date,db=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];fp.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ab.setUTCDate.apply(this._,arguments)},setDay:function(){ab.setUTCDay.apply(this._,arguments)},setFullYear:function(){ab.setUTCFullYear.apply(this._,arguments)},setHours:function(){ab.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ab.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ab.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ab.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ab.setUTCSeconds.apply(this._,arguments)},setTime:function(){ab.setTime.apply(this._,arguments)}};var ab=Date.prototype,cZ="%a %b %e %H:%M:%S %Y",ef="%m/%d/%y",a3="%H:%M:%S",dh=db,eJ=dh.map(d1),bD=["January","February","March","April","May","June","July","August","September","October","November","December"],d2=bD.map(d1);d3.time.format=function(b){function a(f){var h=[],e=-1,g=0,j,d;while(++e<c){b.charCodeAt(e)==37&&(h.push(b.substring(g,e),(d=dq[j=b.charAt(++e)])?d(f):j),g=e+1)}return h.push(b.substring(g,e)),h.join("")}var c=b.length;return a.parse=function(e){var g={y:1900,m:0,d:1,H:0,M:0,S:0,L:0},f=cc(g,b,e,0);if(f!=e.length){return null}"p" in g&&(g.H=g.H%12+g.p*12);var d=new aF;return d.setFullYear(g.y,g.m,g.d),d.setHours(g.H,g.M,g.S,g.L),d},a.toString=function(){return b},a};var ex=d3.format("02d"),ah=d3.format("03d"),aR=d3.format("04d"),dQ=d3.format("2d"),gD=eT(dh),bf=eT(eJ),dz=eT(bD),aq=aN(bD),f6=eT(d2),bV=aN(d2),dq={a:function(a){return eJ[a.getDay()]},A:function(a){return dh[a.getDay()]},b:function(a){return d2[a.getMonth()]},B:function(a){return bD[a.getMonth()]},c:d3.time.format(cZ),d:function(a){return ex(a.getDate())},e:function(a){return dQ(a.getDate())},H:function(a){return ex(a.getHours())},I:function(a){return ex(a.getHours()%12||12)},j:function(a){return ah(1+d3.time.dayOfYear(a))},L:function(a){return ah(a.getMilliseconds())},m:function(a){return ex(a.getMonth()+1)},M:function(a){return ex(a.getMinutes())},p:function(a){return a.getHours()>=12?"PM":"AM"},S:function(a){return ex(a.getSeconds())},U:function(a){return ex(d3.time.sundayOfYear(a))},w:function(a){return a.getDay()},W:function(a){return ex(d3.time.mondayOfYear(a))},x:d3.time.format(ef),X:d3.time.format(a3),y:function(a){return ex(a.getFullYear()%100)},Y:function(a){return aR(a.getFullYear()%10000)},Z:aT,"%":function(a){return"%"}},cN={a:cY,A:ee,b:gM,B:f4,c:aB,d:dp,e:dp,H:eL,I:eL,L:ez,m:a5,M:bF,p:ap,S:d5,x:aH,X:dd,y:c1,Y:ag},gm=/^\s*\d+/,cd=d3.map({am:0,pm:1});d3.time.format.utc=function(b){function a(f){try{aF=fp;var d=new aF;return d._=f,c(d)}finally{aF=Date}}var c=d3.time.format(b);return a.parse=function(f){try{aF=fp;var d=c.parse(f);return d&&d._}finally{aF=Date}},a.toString=c.toString,a};var b1=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");d3.time.format.iso=Date.prototype.toISOString?dS:b1,dS.parse=function(b){var a=new Date(b);return isNaN(a)?null:a},dS.toString=b1.toString,d3.time.second=gG(function(a){return new aF(Math.floor(a/1000)*1000)},function(b,a){b.setTime(b.getTime()+Math.floor(a)*1000)},function(a){return a.getSeconds()}),d3.time.seconds=d3.time.second.range,d3.time.seconds.utc=d3.time.second.utc.range,d3.time.minute=gG(function(a){return new aF(Math.floor(a/60000)*60000)},function(b,a){b.setTime(b.getTime()+Math.floor(a)*60000)},function(a){return a.getMinutes()}),d3.time.minutes=d3.time.minute.range,d3.time.minutes.utc=d3.time.minute.utc.range,d3.time.hour=gG(function(b){var a=b.getTimezoneOffset()/60;return new aF((Math.floor(b/3600000-a)+a)*3600000)},function(b,a){b.setTime(b.getTime()+Math.floor(a)*3600000)},function(a){return a.getHours()}),d3.time.hours=d3.time.hour.range,d3.time.hours.utc=d3.time.hour.utc.range,d3.time.day=gG(function(b){var a=new aF(1970,0);return a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),a},function(b,a){b.setDate(b.getDate()+a)},function(a){return a.getDate()-1}),d3.time.days=d3.time.day.range,d3.time.days.utc=d3.time.day.utc.range,d3.time.dayOfYear=function(b){var a=d3.time.year(b);return Math.floor((b-a-(b.getTimezoneOffset()-a.getTimezoneOffset())*60000)/86400000)},db.forEach(function(b,a){b=b.toLowerCase(),a=7-a;var c=d3.time[b]=gG(function(d){return(d=d3.time.day(d)).setDate(d.getDate()-(d.getDay()+a)%7),d},function(f,d){f.setDate(f.getDate()+Math.floor(d)*7)},function(d){var f=d3.time.year(d).getDay();return Math.floor((d3.time.dayOfYear(d)+(f+a)%7)/7)-(f!==a)});d3.time[b+"s"]=c.range,d3.time[b+"s"].utc=c.utc.range,d3.time[b+"OfYear"]=function(d){var f=d3.time.year(d).getDay();return Math.floor((d3.time.dayOfYear(d)+(f+a)%7)/7)}}),d3.time.week=d3.time.sunday,d3.time.weeks=d3.time.sunday.range,d3.time.weeks.utc=d3.time.sunday.utc.range,d3.time.weekOfYear=d3.time.sundayOfYear,d3.time.month=gG(function(a){return a=d3.time.day(a),a.setDate(1),a},function(b,a){b.setMonth(b.getMonth()+a)},function(a){return a.getMonth()}),d3.time.months=d3.time.month.range,d3.time.months.utc=d3.time.month.utc.range,d3.time.year=gG(function(a){return a=d3.time.day(a),a.setMonth(0,1),a},function(b,a){b.setFullYear(b.getFullYear()+a)},function(a){return a.getFullYear()}),d3.time.years=d3.time.year.range,d3.time.years.utc=d3.time.year.utc.range;var cv=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000],cB=[[d3.time.second,1],[d3.time.second,5],[d3.time.second,15],[d3.time.second,30],[d3.time.minute,1],[d3.time.minute,5],[d3.time.minute,15],[d3.time.minute,30],[d3.time.hour,1],[d3.time.hour,3],[d3.time.hour,6],[d3.time.hour,12],[d3.time.day,1],[d3.time.day,2],[d3.time.week,1],[d3.time.month,1],[d3.time.month,3],[d3.time.year,1]],fu=[[d3.time.format("%Y"),function(a){return !0}],[d3.time.format("%B"),function(a){return a.getMonth()}],[d3.time.format("%b %d"),function(a){return a.getDate()!=1}],[d3.time.format("%a %d"),function(a){return a.getDay()&&a.getDate()!=1}],[d3.time.format("%I %p"),function(a){return a.getHours()}],[d3.time.format("%I:%M"),function(a){return a.getMinutes()}],[d3.time.format(":%S"),function(a){return a.getSeconds()}],[d3.time.format(".%L"),function(a){return a.getMilliseconds()}]],eU=d3.scale.linear(),dF=b0(fu);cB.year=function(b,a){return eU.domain(b.map(cP)).ticks(a).map(dv)},d3.time.scale=function(){return dE(d3.scale.linear(),cB,dF)};var gQ=cB.map(function(a){return[a[0].utc,a[1]]}),bP=[[d3.time.format.utc("%Y"),function(a){return !0}],[d3.time.format.utc("%B"),function(a){return a.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(a){return a.getUTCDate()!=1}],[d3.time.format.utc("%a %d"),function(a){return a.getUTCDay()&&a.getUTCDate()!=1}],[d3.time.format.utc("%I %p"),function(a){return a.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(a){return a.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(a){return a.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(a){return a.getUTCMilliseconds()}]],bx=b0(bP);gQ.year=function(b,a){return eU.domain(b.map(cf)).ticks(a).map(gw)},d3.time.scale.utc=function(){return dE(d3.scale.linear(),gQ,bx)}})();
/*!
 xCharts v0.3.0 Copyright (c) 2012, tenXer, Inc. All Rights Reserved.
 @license MIT license. http://github.com/tenXer/xcharts for details
 */
(function(){var b,d={},a={},o={};(function(){var ak=this,ae=ak._,ag={},au=Array.prototype,ad=Object.prototype,ap=Function.prototype,ay=au.push,aj=au.slice,aw=au.concat,am=ad.toString,at=ad.hasOwnProperty,af=au.forEach,ai=au.map,ac=au.reduce,aq=au.reduceRight,ar=au.filter,av=au.every,al=au.some,Z=au.indexOf,ax=au.lastIndexOf,aa=Array.isArray,az=Object.keys,ao=ap.bind,ab=function(p){return p instanceof ab?p:this instanceof ab?(this._wrapped=p,void 0):new ab(p)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=ab),exports._=ab):ak._=ab,ab.VERSION="1.4.3";var X=ab.each=ab.forEach=function(w,s,v){if(null!=w){if(af&&w.forEach===af){w.forEach(s,v)}else{if(w.length===+w.length){for(var q=0,r=w.length;r>q;q++){if(s.call(v,w[q],q,w)===ag){return}}}else{for(var p in w){if(ab.has(w,p)&&s.call(v,w[p],p,w)===ag){return}}}}}};ab.map=ab.collect=function(u,p,q){var s=[];return null==u?s:ai&&u.map===ai?u.map(p,q):(X(u,function(v,r,t){s[s.length]=p.call(q,v,r,t)}),s)};var J="Reduce of empty array with no initial value";ab.reduce=ab.foldl=ab.inject=function(w,q,s,v){var p=arguments.length>2;if(null==w&&(w=[]),ac&&w.reduce===ac){return v&&(q=ab.bind(q,v)),p?w.reduce(q,s):w.reduce(q)}if(X(w,function(u,t,r){p?s=q.call(v,s,u,t,r):(s=u,p=!0)}),!p){throw new TypeError(J)}return s},ab.reduceRight=ab.foldr=function(y,v,w,x){var q=arguments.length>2;if(null==y&&(y=[]),aq&&y.reduceRight===aq){return x&&(v=ab.bind(v,x)),q?y.reduceRight(v,w):y.reduceRight(v)}var s=y.length;if(s!==+s){var p=ab.keys(y);s=p.length}if(X(y,function(t,u,r){u=p?p[--s]:--s,q?w=v.call(x,w,y[u],u,r):(w=y[u],q=!0)}),!q){throw new TypeError(J)}return w},ab.find=ab.detect=function(u,p,q){var s;return U(u,function(v,r,t){return p.call(q,v,r,t)?(s=v,!0):void 0}),s},ab.filter=ab.select=function(u,p,q){var s=[];return null==u?s:ar&&u.filter===ar?u.filter(p,q):(X(u,function(v,r,t){p.call(q,v,r,t)&&(s[s.length]=v)}),s)},ab.reject=function(s,p,q){return ab.filter(s,function(v,t,r){return !p.call(q,v,t,r)},q)},ab.every=ab.all=function(s,q,r){q||(q=ab.identity);var p=!0;return null==s?p:av&&s.every===av?s.every(q,r):(X(s,function(v,u,t){return(p=p&&q.call(r,v,u,t))?void 0:ag}),!!p)};var U=ab.some=ab.any=function(s,q,r){q||(q=ab.identity);var p=!1;return null==s?p:al&&s.some===al?s.some(q,r):(X(s,function(v,u,t){return p||(p=q.call(r,v,u,t))?ag:void 0}),!!p)};ab.contains=ab.include=function(q,p){return null==q?!1:Z&&q.indexOf===Z?-1!=q.indexOf(p):U(q,function(r){return r===p})},ab.invoke=function(s,p){var q=aj.call(arguments,2);return ab.map(s,function(r){return(ab.isFunction(p)?p:r[p]).apply(r,q)})},ab.pluck=function(q,p){return ab.map(q,function(r){return r[p]})},ab.where=function(q,p){return ab.isEmpty(p)?[]:ab.filter(q,function(t){for(var s in p){if(p[s]!==t[s]){return !1}}return !0})},ab.max=function(u,p,q){if(!p&&ab.isArray(u)&&u[0]===+u[0]&&65535>u.length){return Math.max.apply(Math,u)}if(!p&&ab.isEmpty(u)){return -1/0}var s={computed:-1/0,value:-1/0};return X(u,function(w,t,v){var r=p?p.call(q,w,t,v):w;r>=s.computed&&(s={value:w,computed:r})}),s.value},ab.min=function(u,p,q){if(!p&&ab.isArray(u)&&u[0]===+u[0]&&65535>u.length){return Math.min.apply(Math,u)}if(!p&&ab.isEmpty(u)){return 1/0}var s={computed:1/0,value:1/0};return X(u,function(w,t,v){var r=p?p.call(q,w,t,v):w;s.computed>r&&(s={value:w,computed:r})}),s.value},ab.shuffle=function(u){var p,q=0,s=[];return X(u,function(r){p=ab.random(q++),s[q-1]=s[p],s[p]=r}),s};var Q=function(p){return ab.isFunction(p)?p:function(q){return q[p]}};ab.sortBy=function(u,p,q){var s=Q(p);return ab.pluck(ab.map(u,function(w,v,r){return{value:w,index:v,criteria:s.call(q,w,v,r)}}).sort(function(y,v){var w=y.criteria,x=v.criteria;if(w!==x){if(w>x||void 0===w){return 1}if(x>w||void 0===x){return -1}}return y.index<v.index?-1:1}),"value")};var an=function(x,s,v,w){var p={},q=Q(s||ab.identity);return X(x,function(u,r){var y=q.call(v,u,r,x);w(p,y,u)}),p};ab.groupBy=function(s,p,q){return an(s,p,q,function(w,u,v){(ab.has(w,u)?w[u]:w[u]=[]).push(v)})},ab.countBy=function(s,p,q){return an(s,p,q,function(u,r){ab.has(u,r)||(u[r]=0),u[r]++})},ab.sortedIndex=function(z,v,w,x){w=null==w?ab.identity:Q(w);for(var q=w.call(x,v),s=0,p=z.length;p>s;){var y=s+p>>>1;q>w.call(x,z[y])?s=y+1:p=y}return s},ab.toArray=function(p){return p?ab.isArray(p)?aj.call(p):p.length===+p.length?ab.map(p,ab.identity):ab.values(p):[]},ab.size=function(p){return null==p?0:p.length===+p.length?p.length:ab.keys(p).length},ab.first=ab.head=ab.take=function(s,p,q){return null==s?void 0:null==p||q?s[0]:aj.call(s,0,p)},ab.initial=function(s,p,q){return aj.call(s,0,s.length-(null==p||q?1:p))},ab.last=function(s,p,q){return null==s?void 0:null==p||q?s[s.length-1]:aj.call(s,Math.max(s.length-p,0))},ab.rest=ab.tail=ab.drop=function(s,p,q){return aj.call(s,null==p||q?1:p)},ab.compact=function(p){return ab.filter(p,ab.identity)};var H=function(s,p,q){return X(s,function(r){ab.isArray(r)?p?ay.apply(q,r):H(r,p,q):q.push(r)}),q};ab.flatten=function(q,p){return H(q,p,[])},ab.without=function(p){return ab.difference(p,aj.call(arguments,1))},ab.uniq=ab.unique=function(y,v,w,x){ab.isFunction(v)&&(x=w,w=v,v=!1);var q=w?ab.map(y,w,x):y,s=[],p=[];return X(q,function(t,u){(v?u&&p[p.length-1]===t:ab.contains(p,t))||(p.push(t),s.push(y[u]))}),s},ab.union=function(){return ab.uniq(aw.apply(au,arguments))},ab.intersection=function(q){var p=aj.call(arguments,1);return ab.filter(ab.uniq(q),function(r){return ab.every(p,function(s){return ab.indexOf(s,r)>=0})})},ab.difference=function(q){var p=aw.apply(au,aj.call(arguments,1));return ab.filter(q,function(r){return !ab.contains(p,r)})},ab.zip=function(){for(var u=aj.call(arguments),p=ab.max(ab.pluck(u,"length")),q=Array(p),s=0;p>s;s++){q[s]=ab.pluck(u,""+s)}return q},ab.object=function(w,q){if(null==w){return{}}for(var s={},v=0,p=w.length;p>v;v++){q?s[w[v]]=q[v]:s[w[v][0]]=w[v][1]}return s},ab.indexOf=function(w,q,s){if(null==w){return -1}var v=0,p=w.length;if(s){if("number"!=typeof s){return v=ab.sortedIndex(w,q),w[v]===q?v:-1}v=0>s?Math.max(0,p+s):s}if(Z&&w.indexOf===Z){return w.indexOf(q,s)}for(;p>v;v++){if(w[v]===q){return v}}return -1},ab.lastIndexOf=function(w,q,s){if(null==w){return -1}var v=null!=s;if(ax&&w.lastIndexOf===ax){return v?w.lastIndexOf(q,s):w.lastIndexOf(q)}for(var p=v?s:w.length;p--;){if(w[p]===q){return p}}return -1},ab.range=function(x,s,v){1>=arguments.length&&(s=x||0,x=0),v=arguments[2]||1;for(var w=Math.max(Math.ceil((s-x)/v),0),p=0,q=Array(w);w>p;){q[p++]=x,x+=v}return q};var P=function(){};ab.bind=function(u,p){var q,s;if(u.bind===ao&&ao){return ao.apply(u,aj.call(arguments,1))}if(!ab.isFunction(u)){throw new TypeError}return q=aj.call(arguments,2),s=function(){if(!(this instanceof s)){return u.apply(p,q.concat(aj.call(arguments)))}P.prototype=u.prototype;var r=new P;P.prototype=null;var t=u.apply(r,q.concat(aj.call(arguments)));return Object(t)===t?t:r}},ab.bindAll=function(q){var p=aj.call(arguments,1);return 0==p.length&&(p=ab.functions(q)),X(p,function(r){q[r]=ab.bind(q[r],q)}),q},ab.memoize=function(s,p){var q={};return p||(p=ab.identity),function(){var r=p.apply(this,arguments);return ab.has(q,r)?q[r]:q[r]=s.apply(this,arguments)}},ab.delay=function(s,p){var q=aj.call(arguments,2);return setTimeout(function(){return s.apply(null,q)},p)},ab.defer=function(p){return ab.delay.apply(ab,[p,1].concat(aj.call(arguments,1)))},ab.throttle=function(z,v){var w,x,q,s,p=0,y=function(){p=new Date,q=null,s=z.apply(w,x)};return function(){var t=new Date,r=v-(t-p);return w=this,x=arguments,0>=r?(clearTimeout(q),q=null,p=t,s=z.apply(w,x)):q||(q=setTimeout(y,r)),s}},ab.debounce=function(w,q,s){var v,p;return function(){var t=this,r=arguments,u=function(){v=null,s||(p=w.apply(t,r))},x=s&&!v;return clearTimeout(v),v=setTimeout(u,q),x&&(p=w.apply(t,r)),p}},ab.once=function(s){var p,q=!1;return function(){return q?p:(q=!0,p=s.apply(this,arguments),s=null,p)}},ab.wrap=function(q,p){return function(){var s=[q];return ay.apply(s,arguments),p.apply(this,s)}},ab.compose=function(){var p=arguments;return function(){for(var q=arguments,s=p.length-1;s>=0;s--){q=[p[s].apply(this,q)]}return q[0]}},ab.after=function(q,p){return 0>=q?p():function(){return 1>--q?p.apply(this,arguments):void 0}},ab.keys=az||function(s){if(s!==Object(s)){throw new TypeError("Invalid object")}var p=[];for(var q in s){ab.has(s,q)&&(p[p.length]=q)}return p},ab.values=function(s){var p=[];for(var q in s){ab.has(s,q)&&p.push(s[q])}return p},ab.pairs=function(s){var p=[];for(var q in s){ab.has(s,q)&&p.push([q,s[q]])}return p},ab.invert=function(s){var p={};for(var q in s){ab.has(s,q)&&(p[s[q]]=q)}return p},ab.functions=ab.methods=function(s){var p=[];for(var q in s){ab.isFunction(s[q])&&p.push(q)}return p.sort()},ab.extend=function(p){return X(aj.call(arguments,1),function(q){if(q){for(var s in q){p[s]=q[s]}}}),p},ab.pick=function(s){var p={},q=aw.apply(au,aj.call(arguments,1));return X(q,function(t){t in s&&(p[t]=s[t])}),p},ab.omit=function(v){var q={},s=aw.apply(au,aj.call(arguments,1));for(var p in v){ab.contains(s,p)||(q[p]=v[p])}return q},ab.defaults=function(p){return X(aj.call(arguments,1),function(q){if(q){for(var s in q){null==p[s]&&(p[s]=q[s])}}}),p},ab.clone=function(p){return ab.isObject(p)?ab.isArray(p)?p.slice():ab.extend({},p):p},ab.tap=function(q,p){return p(q),q};var G=function(v,D,p,y){if(v===D){return 0!==v||1/v==1/D}if(null==v||null==D){return v===D}v instanceof ab&&(v=v._wrapped),D instanceof ab&&(D=D._wrapped);var B=am.call(v);if(B!=am.call(D)){return !1}switch(B){case"[object String]":return v==D+"";case"[object Number]":return v!=+v?D!=+D:0==v?1/v==1/D:v==+D;case"[object Date]":case"[object Boolean]":return +v==+D;case"[object RegExp]":return v.source==D.source&&v.global==D.global&&v.multiline==D.multiline&&v.ignoreCase==D.ignoreCase}if("object"!=typeof v||"object"!=typeof D){return !1}for(var w=p.length;w--;){if(p[w]==v){return y[w]==D}}p.push(v),y.push(D);var A=0,q=!0;if("[object Array]"==B){if(A=v.length,q=A==D.length){for(;A--&&(q=G(v[A],D[A],p,y));){}}}else{var z=v.constructor,x=D.constructor;if(z!==x&&!(ab.isFunction(z)&&z instanceof z&&ab.isFunction(x)&&x instanceof x)){return !1}for(var E in v){if(ab.has(v,E)&&(A++,!(q=ab.has(D,E)&&G(v[E],D[E],p,y)))){break}}if(q){for(E in D){if(ab.has(D,E)&&!A--){break}}q=!A}}return p.pop(),y.pop(),q};ab.isEqual=function(q,p){return G(q,p,[],[])},ab.isEmpty=function(q){if(null==q){return !0}if(ab.isArray(q)||ab.isString(q)){return 0===q.length}for(var p in q){if(ab.has(q,p)){return !1}}return !0},ab.isElement=function(p){return !(!p||1!==p.nodeType)},ab.isArray=aa||function(p){return"[object Array]"==am.call(p)},ab.isObject=function(p){return p===Object(p)},X(["Arguments","Function","String","Number","Date","RegExp"],function(p){ab["is"+p]=function(q){return am.call(q)=="[object "+p+"]"}}),ab.isArguments(arguments)||(ab.isArguments=function(p){return !(!p||!ab.has(p,"callee"))}),ab.isFunction=function(p){return"function"==typeof p},ab.isFinite=function(p){return isFinite(p)&&!isNaN(parseFloat(p))},ab.isNaN=function(p){return ab.isNumber(p)&&p!=+p},ab.isBoolean=function(p){return p===!0||p===!1||"[object Boolean]"==am.call(p)},ab.isNull=function(p){return null===p},ab.isUndefined=function(p){return void 0===p},ab.has=function(q,p){return at.call(q,p)},ab.noConflict=function(){return ak._=ae,this},ab.identity=function(p){return p},ab.times=function(w,q,s){for(var v=Array(w),p=0;w>p;p++){v[p]=q.call(s,p)}return v},ab.random=function(q,p){return null==p&&(p=q,q=0),q+(0|Math.random()*(p-q+1))};var C={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};C.unescape=ab.invert(C.escape);var L={escape:RegExp("["+ab.keys(C.escape).join("")+"]","g"),unescape:RegExp("("+ab.keys(C.unescape).join("|")+")","g")};ab.each(["escape","unescape"],function(p){ab[p]=function(q){return null==q?"":(""+q).replace(L[p],function(r){return C[p][r]})}}),ab.result=function(s,p){if(null==s){return null}var q=s[p];return ab.isFunction(q)?q.call(s):q},ab.mixin=function(p){X(ab.functions(p),function(q){var s=ab[q]=p[q];ab.prototype[q]=function(){var r=[this._wrapped];return ay.apply(r,arguments),Y.call(this,s.apply(ab,r))}})};var K=0;ab.uniqueId=function(q){var p=""+ ++K;return q?q+p:p},ab.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ah=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\t|\u2028|\u2029/g;ab.template=function(s,A,p){p=ab.defaults({},p,ab.templateSettings);var w=RegExp([(p.escape||ah).source,(p.interpolate||ah).source,(p.evaluate||ah).source].join("|")+"|$","g"),z=0,v="__p+='";s.replace(w,function(B,D,E,u,F){return v+=s.slice(z,F).replace(V,function(r){return"\\"+W[r]}),D&&(v+="'+\n((__t=("+D+"))==null?'':_.escape(__t))+\n'"),E&&(v+="'+\n((__t=("+E+"))==null?'':__t)+\n'"),u&&(v+="';\n"+u+"\n__p+='"),z=F+B.length,B}),v+="';\n",p.variable||(v="with(obj||{}){\n"+v+"}\n"),v="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+v+"return __p;\n";try{var y=Function(p.variable||"obj","_",v)}catch(q){throw q.source=v,q}if(A){return y(A,ab)}var x=function(r){return y.call(this,r,ab)};return x.source="function("+(p.variable||"obj")+"){\n"+v+"}",x},ab.chain=function(p){return ab(p).chain()};var Y=function(p){return this._chain?ab(p).chain():p};ab.mixin(ab),X(["pop","push","reverse","shift","sort","splice","unshift"],function(q){var p=au[q];ab.prototype[q]=function(){var s=this._wrapped;return p.apply(s,arguments),"shift"!=q&&"splice"!=q||0!==s.length||delete s[0],Y.call(this,s)}}),X(["concat","join","slice"],function(q){var p=au[q];ab.prototype[q]=function(){return Y.call(this,p.apply(this._wrapped,arguments))}}),ab.extend(ab.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);function e(p){return _.chain(_.range(p,10)).reverse().map(function(q){return'g[data-index="'+q+'"]'}).value().join(", ")}function g(q,p){var r=q.getAttribute("class");return(r!==null?r.replace(/color\d+/g,""):"")+" color"+p}o={getInsertionPoint:e,colorClass:g};var j=this,l=0.25;function n(q,p){return _.chain(q).pluck("data").flatten().pluck(p).uniq().filter(function(r){return r!==undefined&&r!==null}).value().sort(d3.ascending)}a.ordinal=function(t,p,r,q){var s=n(t,p);return d3.scale.ordinal().domain(s).rangeRoundBands(r,l)};a.linear=function(s,p,r,q){return d3.scale.linear().domain(q).nice().rangeRound(r)};a.exponential=function(s,p,r,q){return d3.scale.pow().exponent(0.65).domain(q).nice().rangeRound(r)};a.time=function(s,p,r,q){return d3.time.scale().domain(_.map(q,function(t){return new Date(t)})).range(r)};function f(s,r){var q=s[0],p=s[1],u,t;if(q===p){t=Math.max(Math.round(q/10),4);q-=t;p+=t}u=p-q;q=q?q-u/10:q;q=s[0]>0?Math.max(q,0):q;p=p?p+u/10:p;p=s[1]<0?Math.min(p,0):p;return[q,p]}function h(q,u,t,p){var s,r=_.chain(u).pluck("data").flatten().value();s={x:d3.extent(r,function(v){return v.x}),y:d3.extent(r,function(v){return v.y})};_.each([t,p],function(y,w){var x=w?"y":"x",v;s[x]=d3.extent(r,function(z){return z[x]});if(y==="ordinal"){return}_.each([x+"Min",x+"Max"],function(z,A){if(y!=="time"){v=f(s[x])}if(q.hasOwnProperty(z)&&q[z]!==null){s[x][A]=q[z]}else{if(y!=="time"){s[x][A]=v[A]}}})});return s}a.xy=function(z,r,u,t){var q=z._options,w=h(q,r,u,t),v={},y=[q.axisPaddingLeft,z._width],s=[z._height,q.axisPaddingTop],x,p;_.each([u,t],function(D,A){var C=A===0?"x":"y",E=A===0?y:s,B=b.getScale(D);v[C]=B(r,C,E,w[C])});return v};(function(){var w=2,p="g.bar",s=o.getInsertionPoint(w);function q(y,z,x,A){y.xScale2=d3.scale.ordinal().domain(d3.range(0,x.length)).rangeRoundBands([0,y.xScale.rangeBand()],0.08)}function u(y,E,A,C,B){var D,x,z=y.yZero;D=y._g.selectAll(p+A).data(C,function(F){return F.className});D.enter().insert("g",s).attr("data-index",w).style("opacity",0).attr("class",function(H,G){var F=_.uniq((A+H.className).split(".")).join(" ");return F+" bar "+o.colorClass(this,G)}).attr("transform",function(G,F){return"translate("+y.xScale2(F)+",0)"});x=D.selectAll("rect").data(function(F){return F.data},function(F){return F.x});x.enter().append("rect").attr("width",0).attr("rx",3).attr("ry",3).attr("x",function(F){return y.xScale(F.x)+y.xScale2.rangeBand()/2}).attr("height",function(F){return Math.abs(z-y.yScale(F.y))}).attr("y",function(F){return F.y<0?z:y.yScale(F.y)}).on("mouseover",B.mouseover).on("mouseout",B.mouseout).on("click",B.click);E.barGroups=D;E.bars=x}function v(x,A,z){var y=x.yZero;A.barGroups.attr("class",function(C,B){return o.colorClass(this,B)}).transition().duration(z).style("opacity",1).attr("transform",function(C,B){return"translate("+x.xScale2(B)+",0)"});A.bars.transition().duration(z).attr("width",x.xScale2.rangeBand()).attr("x",function(B){return x.xScale(B.x)}).attr("height",function(B){return Math.abs(y-x.yScale(B.y))}).attr("y",function(B){return B.y<0?y:x.yScale(B.y)})}function r(x,z,y){z.bars.exit().transition().duration(y).attr("width",0).remove();z.barGroups.exit().transition().duration(y).style("opacity",0).remove()}function t(x,A,y){var z=x.xScale2?x.xScale2.rangeBand()/2:0;delete x.xScale2;A.bars.transition().duration(y).attr("width",0).attr("x",function(B){return x.xScale(B.x)+z})}d.bar={postUpdateScale:q,enter:u,update:v,exit:r,destroy:t}})();(function(){var v=3,p="g.line",r=o.getInsertionPoint(v);function t(J,C,F,B,D){var A=J._options.interpolation,I=function(y,x){if(!J.xScale2&&!J.xScale.rangeBand){return J.xScale(y.x)}return J.xScale(y.x)+J.xScale.rangeBand()/2},G=function(x){return J.yScale(x.y)},L=d3.svg.line().x(I).interpolate(A),z=d3.svg.area().x(I).y1(J.yZero).interpolate(A),w,E,K;function H(x){return[x.data]}w=J._g.selectAll(p+F).data(B,function(x){return x.className});w.enter().insert("g",r).attr("data-index",v).attr("class",function(M,y){var x=_.uniq((F+M.className).split(".")).join(" ");return x+" line "+o.colorClass(this,y)});E=w.selectAll("path.fill").data(H);E.enter().append("path").attr("class","fill").style("opacity",0).attr("d",z.y0(G));K=w.selectAll("path.line").data(H);K.enter().append("path").attr("class","line").style("opacity",0).attr("d",L.y(G));C.lineContainers=w;C.lineFills=E;C.linePaths=K;C.lineX=I;C.lineY=G;C.lineA=z;C.line=L}function u(w,y,x){y.lineContainers.attr("class",function(A,z){return o.colorClass(this,z)});y.lineFills.transition().duration(x).style("opacity",1).attr("d",y.lineA.y0(y.lineY));y.linePaths.transition().duration(x).style("opacity",1).attr("d",y.line.y(y.lineY))}function q(w,x){x.linePaths.exit().style("opacity",0).remove();x.lineFills.exit().style("opacity",0).remove();x.lineContainers.exit().remove()}function s(w,y,x){y.linePaths.transition().duration(x).style("opacity",0);y.lineFills.transition().duration(x).style("opacity",0)}d.line={enter:t,update:u,exit:q,destroy:s}})();(function(){var p=d.line;function s(u,z,v,x,w){var y;p.enter(u,z,v,x,w);y=z.lineContainers.selectAll("circle").data(function(A){return A.data},function(A){return A.x});y.enter().append("circle").style("opacity",0).attr("cx",z.lineX).attr("cy",z.lineY).attr("r",5).on("mouseover",w.mouseover).on("mouseout",w.mouseout).on("click",w.click);z.lineCircles=y}function t(u,w,v){p.update.apply(null,_.toArray(arguments));w.lineCircles.transition().duration(v).style("opacity",1).attr("cx",w.lineX).attr("cy",w.lineY)}function q(u,v){v.lineCircles.exit().remove();p.exit.apply(null,_.toArray(arguments))}function r(u,w,v){p.destroy.apply(null,_.toArray(arguments));if(!w.lineCircles){return}w.lineCircles.transition().duration(v).style("opacity",0)}d["line-dotted"]={enter:s,update:t,exit:q,destroy:r}})();(function(){var p=d["line-dotted"];function u(v,z,w,y,x){p.enter(v,z,w,y,x)}function s(w){function x(y,z){return y+z.y}var v=_.map(w,function(A){var y=A.data.length,z=_.clone(A.data);A=_.clone(A);while(y){y-=1;z[y]=_.clone(A.data[y]);z[y].y0=A.data[y].y;z[y].y=_.reduce(_.first(A.data,y),x,A.data[y].y)}return _.extend(A,{data:z})});return v}function t(v){if(!v.hasOwnProperty("cumulativeOMainData")){return}v._mainData=v.cumulativeOMainData;delete v.cumulativeOMainData;v._compData=v.cumulativeOCompData;delete v.cumulativeOCompData}function r(v,w){t(v);v.cumulativeOMainData=v._mainData;v._mainData=s(v._mainData);v.cumulativeOCompData=v._compData;v._compData=s(v._compData)}function q(v,x,w){t(v);p.destroy.apply(null,_.toArray(arguments))}d.cumulative={preUpdateScale:r,enter:u,update:p.update,exit:p.exit,destroy:q}})();var k=[[]],c={mouseover:function(q,p){},mouseout:function(q,p){},click:function(q,p){},axisPaddingTop:0,axisPaddingRight:0,axisPaddingBottom:5,axisPaddingLeft:20,paddingTop:0,paddingRight:0,paddingBottom:20,paddingLeft:60,tickHintX:10,tickFormatX:function(p){return p},tickHintY:10,tickFormatY:function(p){return p},xMin:null,xMax:null,yMin:null,yMax:null,dataFormatX:function(p){return p},dataFormatY:function(p){return p},unsupported:function(p){d3.select(p).text("SVG is not supported on your browser")},empty:function(q,p,r){},notempty:function(q,p){},timing:750,interpolation:"monotone",sortX:function(q,p){return !q.x&&!p.x?0:q.x<p.x?-1:1}};function m(){var p=document;return !!p.createElementNS&&!!p.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}function b(t,u,p,r){var q=this,s;q._options=r=_.defaults(r||{},c);if(m()===false){return r.unsupported(p)}q._selector=p;q._container=d3.select(p);q._drawSvg();q._mainStorage={};q._compStorage={};u=_.clone(u);if(t&&!u.type){u.type=t}q.setData(u);d3.select(window).on("resize.for."+p,function(){if(s){clearTimeout(s)}s=setTimeout(function(){s=null;q._resize()},500)})}b.setVis=function(p,q){if(d.hasOwnProperty(p)){throw'Cannot override vis type "'+p+'".'}d[p]=q};b.getVis=function(p){if(!d.hasOwnProperty(p)){throw'Vis type "'+p+'" does not exist.'}return _.clone(d[p])};b.setScale=function(p,q){if(a.hasOwnProperty(p)){throw'Scale type "'+p+'" already exists.'}a[p]=q};b.getScale=function(p){if(!a.hasOwnProperty(p)){throw'Scale type "'+p+'" does not exist.'}return a[p]};b.visutils=o;_.defaults(b.prototype,{setType:function(q,r){var p=this;if(p._type&&q===p._type){return}if(!d.hasOwnProperty(q)){throw'Vis type "'+q+'" is not defined.'}if(p._type){p._destroy(p._vis,p._mainStorage)}p._type=q;p._vis=d[q];if(!r){p._draw()}},setData:function(s){var p=this,t=p._options,q=_.clone(s);if(!s.hasOwnProperty("main")){throw'No "main" key found in given chart data.'}switch(s.type){case"bar":s.xScale="ordinal";break;case undefined:s.type=p._type;break}t.xMin=isNaN(parseInt(s.xMin,10))?t.xMin:s.xMin;t.xMax=isNaN(parseInt(s.xMax,10))?t.xMax:s.xMax;t.yMin=isNaN(parseInt(s.yMin,10))?t.yMin:s.yMin;t.yMax=isNaN(parseInt(s.yMax,10))?t.yMax:s.yMax;if(p._vis){p._destroy(p._vis,p._mainStorage)}p.setType(s.type,true);function r(v){var u=_.map(_.clone(v.data),function(x){var w=_.clone(x);if(x.hasOwnProperty("x")){w.x=t.dataFormatX(x.x)}if(x.hasOwnProperty("y")){w.y=t.dataFormatY(x.y)}return w}).sort(t.sortX);return _.extend(_.clone(v),{data:u})}q.main=_.map(q.main,r);p._mainData=q.main;p._xScaleType=q.xScale;p._yScaleType=q.yScale;if(q.hasOwnProperty("comp")){q.comp=_.map(q.comp,r);p._compData=q.comp}else{p._compData=[]}p._draw()},setScale:function(r,q){var p=this;switch(r){case"x":p._xScaleType=q;break;case"y":p._yScaleType=q;break;default:throw'Cannot change scale of unknown axis "'+r+'".'}p._draw()},_drawSvg:function(){var s=this,w=s._container,t=s._options,u=parseInt(w.style("width").replace("px",""),10),p=parseInt(w.style("height").replace("px",""),10),r,v,q;r=w.selectAll("svg").data(k);r.enter().append("svg").attr("height",p).attr("width",u).attr("class","xchart");r.transition().attr("width",u).attr("height",p);v=r.selectAll("g").data(k);v.enter().append("g").attr("transform","translate("+t.paddingLeft+","+t.paddingTop+")");q=v.selectAll("g.scale").data(k);q.enter().append("g").attr("class","scale");s._svg=r;s._g=v;s._gScale=q;s._height=p-t.paddingTop-t.paddingBottom-t.axisPaddingTop-t.axisPaddingBottom;s._width=u-t.paddingLeft-t.paddingRight-t.axisPaddingLeft-t.axisPaddingRight},_resize:function(q){var p=this;p._drawSvg();p._draw()},_drawAxes:function(){if(this._noData){return}var D=this,s=D._options,C=D._gScale.transition().duration(s.timing),v=s.tickHintX,z=s.tickHintY,p=D._height+s.axisPaddingTop+s.axisPaddingBottom,y=d3.svg.line().x(function(t){return t}),A,u,r,w,q,B,x;w=d3.svg.axis().scale(D.xScale).ticks(v).tickSize(-D._height).tickFormat(s.tickFormatX).orient("bottom");r=D._gScale.selectAll("g.axisX").data(k);r.enter().append("g").attr("class","axis axisX").attr("transform","translate(0,"+p+")");r.call(w);x=D._gScale.selectAll(".axisX g")[0];if(x.length>D._width/80){x.sort(function(E,t){var F=/translate\(([^,)]+)/;E=E.getAttribute("transform").match(F);t=t.getAttribute("transform").match(F);return parseFloat(E[1],10)-parseFloat(t[1],10)});d3.selectAll(x).filter(function(E,t){return t%(Math.ceil(x.length/v)+1)}).remove()}B=d3.svg.axis().scale(D.yScale).ticks(z).tickSize(-D._width-s.axisPaddingRight-s.axisPaddingLeft).tickFormat(s.tickFormatY).orient("left");q=D._gScale.selectAll("g.axisY").data(k);q.enter().append("g").attr("class","axis axisY").attr("transform","translate(0,0)");C.selectAll("g.axisY").call(B);A=D._gScale.selectAll("g.axisZero").data([[]]);A.enter().append("g").attr("class","axisZero");u=A.selectAll("line").data([[]]);u.enter().append("line").attr("x1",0).attr("x2",D._width+s.axisPaddingLeft+s.axisPaddingRight).attr("y1",D.yZero).attr("y2",D.yZero);u.transition().duration(s.timing).attr("y1",D.yZero).attr("y2",D.yZero)},_updateScale:function(){var p=this,s=function(){return _.union(p._mainData,p._compData)},q=s(),t=p._vis,u,r;delete p.xScale;delete p.yScale;delete p.yZero;if(t.hasOwnProperty("preUpdateScale")){t.preUpdateScale(p,q,p._mainData,p._compData)}q=s();u=a.xy(p,q,p._xScaleType,p._yScaleType);p.xScale=u.x;p.yScale=u.y;r=p.yScale.domain()[0];p.yZero=r>0?p.yScale(r):p.yScale(0);if(t.hasOwnProperty("postUpdateScale")){t.postUpdateScale(p,q,p._mainData,p._compData)}},_enter:function(t,u,s,q){var p=this,r={click:p._options.click,mouseover:p._options.mouseover,mouseout:p._options.mouseout};p._checkVisMethod(t,"enter");t.enter(p,u,q,s,r)},_update:function(q,r){var p=this;p._checkVisMethod(q,"update");q.update(p,r,p._options.timing)},_exit:function(q,r){var p=this;p._checkVisMethod(q,"exit");q.exit(p,r,p._options.timing)},_destroy:function(q,s){var p=this;p._checkVisMethod(q,"destroy");try{q.destroy(p,s,p._options.timing)}catch(r){}},_draw:function(){var q=this,s=q._options,p,r;q._noData=_.flatten(_.pluck(q._mainData,"data").concat(_.pluck(q._compData,"data"))).length===0;q._updateScale();q._drawAxes();q._enter(q._vis,q._mainStorage,q._mainData,".main");q._exit(q._vis,q._mainStorage);q._update(q._vis,q._mainStorage);p=_.chain(q._compData).groupBy(function(t){return t.type});r=p.keys();_.each(q._compStorage,function(v,t){if(-1===r.indexOf(t).value()){var u=d[t];q._enter(u,v,[],".comp."+t.replace(/\W+/g,""));q._exit(u,v)}});p.each(function(v,t){var u=d[t],w;if(!q._compStorage.hasOwnProperty(t)){q._compStorage[t]={}}w=q._compStorage[t];q._enter(u,w,v,".comp."+t.replace(/\W+/g,""));q._exit(u,w);q._update(u,w)});if(q._noData){s.empty(q,q._selector,q._mainData)}else{s.notempty(q,q._selector)}},_checkVisMethod:function(q,r){var p=this;if(!q[r]){throw'Required method "'+r+'" not found on vis type "'+p._type+'".'}}});if(typeof define==="function"&&define.amd&&typeof define.amd==="object"){define(function(){return b});return}window.xChart=b})();var wysihtml5={version:"0.3.0",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\uFEFF",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};window.rangy=(function(){var k="object",g="function",A="undefined";var l=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer","START_TO_START","START_TO_END","END_TO_START","END_TO_END"];var c=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"];var s=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"];var p=["collapse","compareEndPoints","duplicate","getBookmark","moveToBookmark","moveToElementText","parentElement","pasteHTML","select","setEndPoint","getBoundingClientRect"];function j(D,C){var B=typeof D[C];return B==g||(!!(B==k&&D[C]))||B=="unknown"}function d(C,B){return !!(typeof C[B]==k&&C[B])}function q(C,B){return typeof C[B]!=A}function m(B){return function(E,D){var C=D.length;while(C--){if(!B(E,D[C])){return false}}return true}}var o=m(j);var r=m(d);var z=m(q);function v(B){return B&&o(B,p)&&z(B,s)}var n={version:"1.2.2",initialized:false,supported:true,util:{isHostMethod:j,isHostObject:d,isHostProperty:q,areHostMethods:o,areHostObjects:r,areHostProperties:z,isTextRange:v},features:{},modules:{},config:{alertOnWarn:false,preferTextRange:false}};function f(B){window.alert("Rangy not supported in your browser. Reason: "+B);n.initialized=true;n.supported=false}n.fail=f;function u(C){var B="Rangy warning: "+C;if(n.config.alertOnWarn){window.alert(B)}else{if(typeof window.console!=A&&typeof window.console.log!=A){window.console.log(B)}}}n.warn=u;if({}.hasOwnProperty){n.util.extend=function(D,C){for(var B in C){if(C.hasOwnProperty(B)){D[B]=C[B]}}}}else{f("hasOwnProperty not supported")}var w=[];var a=[];function t(){if(n.initialized){return}var D;var H=false,I=false;if(j(document,"createRange")){D=document.createRange();if(o(D,c)&&z(D,l)){H=true}D.detach()}var C=d(document,"body")?document.body:document.getElementsByTagName("body")[0];if(C&&j(C,"createTextRange")){D=C.createTextRange();if(v(D)){I=true}}if(!H&&!I){f("Neither Range nor TextRange are implemented")}n.initialized=true;n.features={implementsDomRange:H,implementsTextRange:I};var G=a.concat(w);for(var F=0,B=G.length;F<B;++F){try{G[F](n)}catch(E){if(d(window,"console")&&j(window.console,"log")){window.console.log("Init listener threw an exception. Continuing.",E)}}}}n.init=t;n.addInitListener=function(B){if(n.initialized){B(n)}else{w.push(B)}};var x=[];n.addCreateMissingNativeApiListener=function(B){x.push(B)};function e(D){D=D||window;t();for(var C=0,B=x.length;C<B;++C){x[C](D)}}n.createMissingNativeApi=e;function y(B){this.name=B;this.initialized=false;this.supported=false}y.prototype.fail=function(B){this.initialized=true;this.supported=false;throw new Error("Module '"+this.name+"' failed to load: "+B)};y.prototype.warn=function(B){n.warn("Module "+this.name+": "+B)};y.prototype.createError=function(B){return new Error("Error in Rangy "+this.name+" module: "+B)};n.createModule=function(B,D){var C=new y(B);n.modules[B]=C;a.push(function(E){D(E,C);C.initialized=true;C.supported=true})};n.requireModules=function(D){for(var F=0,B=D.length,E,C;F<B;++F){C=D[F];E=n.modules[C];if(!E||!(E instanceof y)){throw new Error("Module '"+C+"' not found")}if(!E.supported){throw new Error("Module '"+C+"' not supported")}}};var b=false;var h=function(B){if(!b){b=true;if(!n.initialized){t()}}};if(typeof window==A){f("No window found");return}if(typeof document==A){f("No document found");return}if(j(document,"addEventListener")){document.addEventListener("DOMContentLoaded",h,false)}if(j(window,"addEventListener")){window.addEventListener("load",h,false)}else{if(j(window,"attachEvent")){window.attachEvent("onload",h)}else{f("Window does not have required addEventListener or attachEvent method")}}return n})();rangy.createModule("DomUtil",function(q,d){var u="undefined";var b=q.util;if(!b.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])){d.fail("document missing a Node creation method")}if(!b.isHostMethod(document,"getElementsByTagName")){d.fail("document missing getElementsByTagName method")}var e=document.createElement("div");if(!b.areHostMethods(e,["insertBefore","appendChild","cloneNode"]||!b.areHostObjects(e,["previousSibling","nextSibling","childNodes","parentNode"]))){d.fail("Incomplete Element implementation")}if(!b.isHostProperty(e,"innerHTML")){d.fail("Element is missing innerHTML property")}var t=document.createTextNode("test");if(!b.areHostMethods(t,["splitText","deleteData","insertData","appendData","cloneNode"]||!b.areHostObjects(e,["previousSibling","nextSibling","childNodes","parentNode"])||!b.areHostProperties(t,["data"]))){d.fail("Incomplete Text Node implementation")}var z=function(F,H){var G=F.length;while(G--){if(F[G]===H){return true}}return false};function j(G){var F;return typeof G.namespaceURI==u||((F=G.namespaceURI)===null||F=="http://www.w3.org/1999/xhtml")}function k(G){var F=G.parentNode;return(F.nodeType==1)?F:null}function a(G){var F=0;while((G=G.previousSibling)){F++}return F}function g(F){var G;return n(F)?F.length:((G=F.childNodes)?G.length:0)}function y(G,F){var H=[],I;for(I=G;I;I=I.parentNode){H.push(I)}for(I=F;I;I=I.parentNode){if(z(H,I)){return I}}return null}function D(F,G,I){var H=I?G:G.parentNode;while(H){if(H===F){return true}else{H=H.parentNode}}return false}function A(G,F,J){var H,I=J?G:G.parentNode;while(I){H=I.parentNode;if(H===F){return I}I=H}return null}function n(G){var F=G.nodeType;return F==3||F==4||F==8}function w(I,G){var F=G.nextSibling,H=G.parentNode;if(F){H.insertBefore(I,F)}else{H.appendChild(I)}return I}function x(H,F){var G=H.cloneNode(false);G.deleteData(0,F);H.deleteData(F,H.length-F);w(G,H);return G}function r(F){if(F.nodeType==9){return F}else{if(typeof F.ownerDocument!=u){return F.ownerDocument}else{if(typeof F.document!=u){return F.document}else{if(F.parentNode){return r(F.parentNode)}else{throw new Error("getDocument: no document found for node")}}}}}function m(F){var G=r(F);if(typeof G.defaultView!=u){return G.defaultView}else{if(typeof G.parentWindow!=u){return G.parentWindow}else{throw new Error("Cannot get a window object for node")}}}function C(F){if(typeof F.contentDocument!=u){return F.contentDocument}else{if(typeof F.contentWindow!=u){return F.contentWindow.document}else{throw new Error("getIframeWindow: No Document object found for iframe element")}}}function f(F){if(typeof F.contentWindow!=u){return F.contentWindow}else{if(typeof F.contentDocument!=u){return F.contentDocument.defaultView}else{throw new Error("getIframeWindow: No Window object found for iframe element")}}}function E(F){return b.isHostObject(F,"body")?F.body:F.getElementsByTagName("body")[0]}function c(G){var F;while((F=G.parentNode)){G=F}return G}function s(I,K,H,J){var F,L,N,M,G;if(I==H){return K===J?0:(K<J)?-1:1}else{if((F=A(H,I,true))){return K<=a(F)?-1:1}else{if((F=A(I,H,true))){return a(F)<J?-1:1}else{L=y(I,H);N=(I===L)?L:A(I,L,true);M=(H===L)?L:A(H,L,true);if(N===M){throw new Error("comparePoints got to case 4 and childA and childB are the same!")}else{G=L.firstChild;while(G){if(G===N){return -1}else{if(G===M){return 1}}G=G.nextSibling}throw new Error("Should not be here!")}}}}}function B(G){var F=r(G).createDocumentFragment(),H;while((H=G.firstChild)){F.appendChild(H)}return F}function p(F){if(!F){return"[No node]"}if(n(F)){return'"'+F.data+'"'}else{if(F.nodeType==1){var G=F.id?' id="'+F.id+'"':"";return"<"+F.nodeName+G+">["+F.childNodes.length+"]"}else{return F.nodeName}}}function o(F){this.root=F;this._next=F}o.prototype={_current:null,hasNext:function(){return !!this._next},next:function(){var H=this._current=this._next;var G,F;if(this._current){G=H.firstChild;if(G){this._next=G}else{F=null;while((H!==this.root)&&!(F=H.nextSibling)){H=H.parentNode}this._next=F}}return this._current},detach:function(){this._current=this._next=this.root=null}};function h(F){return new o(F)}function l(F,G){this.node=F;this.offset=G}l.prototype={equals:function(F){return this.node===F.node&this.offset==F.offset},inspect:function(){return"[DomPosition("+p(this.node)+":"+this.offset+")]"}};function v(F){this.code=this[F];this.codeName=F;this.message="DOMException: "+this.codeName}v.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11};v.prototype.toString=function(){return this.message};q.dom={arrayContains:z,isHtmlNamespace:j,parentElement:k,getNodeIndex:a,getNodeLength:g,getCommonAncestor:y,isAncestorOf:D,getClosestAncestorIn:A,isCharacterDataNode:n,insertAfter:w,splitDataNode:x,getDocument:r,getWindow:m,getIframeWindow:f,getIframeDocument:C,getBody:E,getRootContainer:c,comparePoints:s,inspectNode:p,fragmentFromNodeChildren:B,createIterator:h,DomPosition:l};q.DOMException=v});rangy.createModule("DomRange",function(j,f){j.requireModules(["DomUtil"]);var b=j.dom;var F=b.DomPosition;var U=j.DOMException;function y(am,e){return(am.nodeType!=3)&&(b.isAncestorOf(am,e.startContainer,true)||b.isAncestorOf(am,e.endContainer,true))}function n(e){return b.getDocument(e.startContainer)}function v(am,aq,an){var ap=am._listeners[aq];if(ap){for(var ao=0,e=ap.length;ao<e;++ao){ap[ao].call(am,{target:am,args:an})}}}function B(e){return new F(e.parentNode,b.getNodeIndex(e))}function X(e){return new F(e.parentNode,b.getNodeIndex(e)+1)}function k(am,ao,an){var e=am.nodeType==11?am.firstChild:am;if(b.isCharacterDataNode(ao)){if(an==ao.length){b.insertAfter(am,ao)}else{ao.parentNode.insertBefore(am,an==0?ao:b.splitDataNode(ao,an))}}else{if(an>=ao.childNodes.length){ao.appendChild(am)}else{ao.insertBefore(am,ao.childNodes[an])}}return e}function I(an){var am;for(var ao,ap=n(an.range).createDocumentFragment(),e;ao=an.next();){am=an.isPartiallySelectedSubtree();ao=ao.cloneNode(!am);if(am){e=an.getSubtreeIterator();ao.appendChild(I(e));e.detach(true)}if(ao.nodeType==10){throw new U("HIERARCHY_REQUEST_ERR")}ap.appendChild(ao)}return ap}function W(am,ap,e){var an,ar;e=e||{stop:false};for(var ao,aq;ao=am.next();){if(am.isPartiallySelectedSubtree()){if(ap(ao)===false){e.stop=true;return}else{aq=am.getSubtreeIterator();W(aq,ap,e);aq.detach(true);if(e.stop){return}}}else{an=b.createIterator(ao);while((ar=an.next())){if(ap(ar)===false){e.stop=true;return}}}}}function o(am){var e;while(am.next()){if(am.isPartiallySelectedSubtree()){e=am.getSubtreeIterator();o(e);e.detach(true)}else{am.remove()}}}function R(am){for(var an,ao=n(am.range).createDocumentFragment(),e;an=am.next();){if(am.isPartiallySelectedSubtree()){an=an.cloneNode(false);e=am.getSubtreeIterator();an.appendChild(R(e));e.detach(true)}else{am.remove()}if(an.nodeType==10){throw new U("HIERARCHY_REQUEST_ERR")}ao.appendChild(an)}return ao}function q(an,e,ao){var aq=!!(e&&e.length),ap;var ar=!!ao;if(aq){ap=new RegExp("^("+e.join("|")+")$")}var am=[];W(new g(an,false),function(at){if((!aq||ap.test(at.nodeType))&&(!ar||ao(at))){am.push(at)}});return am}function A(e){var am=(typeof e.getName=="undefined")?"Range":e.getName();return"["+am+"("+b.inspectNode(e.startContainer)+":"+e.startOffset+", "+b.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function g(an,am){this.range=an;this.clonePartiallySelectedTextNodes=am;if(!an.collapsed){this.sc=an.startContainer;this.so=an.startOffset;this.ec=an.endContainer;this.eo=an.endOffset;var e=an.commonAncestorContainer;if(this.sc===this.ec&&b.isCharacterDataNode(this.sc)){this.isSingleCharacterDataNode=true;this._first=this._last=this._next=this.sc}else{this._first=this._next=(this.sc===e&&!b.isCharacterDataNode(this.sc))?this.sc.childNodes[this.so]:b.getClosestAncestorIn(this.sc,e,true);this._last=(this.ec===e&&!b.isCharacterDataNode(this.ec))?this.ec.childNodes[this.eo-1]:b.getClosestAncestorIn(this.ec,e,true)}}}g.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:false,reset:function(){this._current=null;this._next=this._first},hasNext:function(){return !!this._next},next:function(){var e=this._current=this._next;if(e){this._next=(e!==this._last)?e.nextSibling:null;if(b.isCharacterDataNode(e)&&this.clonePartiallySelectedTextNodes){if(e===this.ec){(e=e.cloneNode(true)).deleteData(this.eo,e.length-this.eo)}if(this._current===this.sc){(e=e.cloneNode(true)).deleteData(0,this.so)}}}return e},remove:function(){var am=this._current,an,e;if(b.isCharacterDataNode(am)&&(am===this.sc||am===this.ec)){an=(am===this.sc)?this.so:0;e=(am===this.ec)?this.eo:am.length;if(an!=e){am.deleteData(an,e-an)}}else{if(am.parentNode){am.parentNode.removeChild(am)}else{}}},isPartiallySelectedSubtree:function(){var e=this._current;return y(e,this.range)},getSubtreeIterator:function(){var am;if(this.isSingleCharacterDataNode){am=this.range.cloneRange();am.collapse()}else{am=new ak(n(this.range));var aq=this._current;var ao=aq,e=0,ap=aq,an=b.getNodeLength(aq);if(b.isAncestorOf(aq,this.sc,true)){ao=this.sc;e=this.so}if(b.isAncestorOf(aq,this.ec,true)){ap=this.ec;an=this.eo}E(am,ao,e,ap,an)}return new g(am,this.clonePartiallySelectedTextNodes)},detach:function(e){if(e){this.range.detach()}this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};function P(e){this.code=this[e];this.codeName=e;this.message="RangeException: "+this.codeName}P.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2};P.prototype.toString=function(){return this.message};function x(am,e,an){this.nodes=q(am,e,an);this._next=this.nodes[0];this._position=0}x.prototype={_current:null,hasNext:function(){return !!this._next},next:function(){this._current=this._next;this._next=this.nodes[++this._position];return this._current},detach:function(){this._current=this._next=this.nodes=null}};var af=[1,3,4,5,7,8,10];var ad=[2,9,11];var C=[5,6,10,12];var N=[1,3,4,5,7,8,10,11];var G=[1,3,4,5,7,8];function Z(e){return function(an,ap){var am,ao=ap?an:an.parentNode;while(ao){am=ao.nodeType;if(b.arrayContains(e,am)){return ao}ao=ao.parentNode}return null}}var u=b.getRootContainer;var J=Z([9,11]);var L=Z(C);var c=Z([6,10,12]);function s(am,e){if(c(am,e)){throw new P("INVALID_NODE_TYPE_ERR")}}function D(e){if(!e.startContainer){throw new U("INVALID_STATE_ERR")}}function V(e,am){if(!b.arrayContains(am,e.nodeType)){throw new P("INVALID_NODE_TYPE_ERR")}}function ae(e,am){if(am<0||am>(b.isCharacterDataNode(e)?e.length:e.childNodes.length)){throw new U("INDEX_SIZE_ERR")}}function d(am,e){if(J(am,true)!==J(e,true)){throw new U("WRONG_DOCUMENT_ERR")}}function ab(e){if(L(e,true)){throw new U("NO_MODIFICATION_ALLOWED_ERR")}}function ai(am,e){if(!am){throw new U(e)}}function p(e){return !b.arrayContains(ad,e.nodeType)&&!J(e,true)}function al(e,am){return am<=(b.isCharacterDataNode(e)?e.length:e.childNodes.length)}function h(e){D(e);if(p(e.startContainer)||p(e.endContainer)||!al(e.startContainer,e.startOffset)||!al(e.endContainer,e.endOffset)){throw new Error("Range error: Range is no longer valid after DOM mutation ("+e.inspect()+")")}}var a=document.createElement("style");var Q=false;try{a.innerHTML="<b>x</b>";Q=(a.firstChild.nodeType==3)}catch(ah){}j.features.htmlParsingConforms=Q;var S=Q?function(an){var am=this.startContainer;var ao=b.getDocument(am);if(!am){throw new U("INVALID_STATE_ERR")}var e=null;if(am.nodeType==1){e=am}else{if(b.isCharacterDataNode(am)){e=b.parentElement(am)}}if(e===null||(e.nodeName=="HTML"&&b.isHtmlNamespace(b.getDocument(e).documentElement)&&b.isHtmlNamespace(e))){e=ao.createElement("body")}else{e=e.cloneNode(false)}e.innerHTML=an;return b.fragmentFromNodeChildren(e)}:function(am){D(this);var an=n(this);var e=an.createElement("body");e.innerHTML=am;return b.fragmentFromNodeChildren(e)};var M=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"];var m=0,z=1,ag=2,aa=3;var t=0,w=1,K=2,l=3;function ac(){}ac.prototype={attachListener:function(e,am){this._listeners[e].push(am)},compareBoundaryPoints:function(aq,an){h(this);d(this.startContainer,an.startContainer);var at,am,ar,e;var ap=(aq==aa||aq==m)?"start":"end";var ao=(aq==z||aq==m)?"start":"end";at=this[ap+"Container"];am=this[ap+"Offset"];ar=an[ao+"Container"];e=an[ao+"Offset"];return b.comparePoints(at,am,ar,e)},insertNode:function(am){h(this);V(am,N);ab(this.startContainer);if(b.isAncestorOf(am,this.startContainer,true)){throw new U("HIERARCHY_REQUEST_ERR")}var e=k(am,this.startContainer,this.startOffset);this.setStartBefore(e)},cloneContents:function(){h(this);var an,am;if(this.collapsed){return n(this).createDocumentFragment()}else{if(this.startContainer===this.endContainer&&b.isCharacterDataNode(this.startContainer)){an=this.startContainer.cloneNode(true);an.data=an.data.slice(this.startOffset,this.endOffset);am=n(this).createDocumentFragment();am.appendChild(an);return am}else{var e=new g(this,true);an=I(e);e.detach()}return an}},canSurroundContents:function(){h(this);ab(this.startContainer);ab(this.endContainer);var e=new g(this,true);var am=(e._first&&(y(e._first,this))||(e._last&&y(e._last,this)));e.detach();return !am},surroundContents:function(am){V(am,G);if(!this.canSurroundContents()){throw new P("BAD_BOUNDARYPOINTS_ERR")}var e=this.extractContents();if(am.hasChildNodes()){while(am.lastChild){am.removeChild(am.lastChild)}}k(am,this.startContainer,this.startOffset);am.appendChild(e);this.selectNode(am)},cloneRange:function(){h(this);var e=new ak(n(this));var am=M.length,an;while(am--){an=M[am];e[an]=this[an]}return e},toString:function(){h(this);var am=this.startContainer;if(am===this.endContainer&&b.isCharacterDataNode(am)){return(am.nodeType==3||am.nodeType==4)?am.data.slice(this.startOffset,this.endOffset):""}else{var an=[],e=new g(this,true);W(e,function(ao){if(ao.nodeType==3||ao.nodeType==4){an.push(ao.data)}});e.detach();return an.join("")}},compareNode:function(an){h(this);var am=an.parentNode;var ap=b.getNodeIndex(an);if(!am){throw new U("NOT_FOUND_ERR")}var ao=this.comparePoint(am,ap),e=this.comparePoint(am,ap+1);if(ao<0){return(e>0)?K:t}else{return(e>0)?w:l}},comparePoint:function(e,am){h(this);ai(e,"HIERARCHY_REQUEST_ERR");d(e,this.startContainer);if(b.comparePoints(e,am,this.startContainer,this.startOffset)<0){return -1}else{if(b.comparePoints(e,am,this.endContainer,this.endOffset)>0){return 1}}return 0},createContextualFragment:S,toHtml:function(){h(this);var e=n(this).createElement("div");e.appendChild(this.cloneContents());return e.innerHTML},intersectsNode:function(ao,e){h(this);ai(ao,"NOT_FOUND_ERR");if(b.getDocument(ao)!==n(this)){return false}var an=ao.parentNode,aq=b.getNodeIndex(ao);ai(an,"NOT_FOUND_ERR");var ap=b.comparePoints(an,aq,this.endContainer,this.endOffset),am=b.comparePoints(an,aq+1,this.startContainer,this.startOffset);return e?ap<=0&&am>=0:ap<0&&am>0},isPointInRange:function(e,am){h(this);ai(e,"HIERARCHY_REQUEST_ERR");d(e,this.startContainer);return(b.comparePoints(e,am,this.startContainer,this.startOffset)>=0)&&(b.comparePoints(e,am,this.endContainer,this.endOffset)<=0)},intersectsRange:function(am,e){h(this);if(n(am)!=n(this)){throw new U("WRONG_DOCUMENT_ERR")}var ao=b.comparePoints(this.startContainer,this.startOffset,am.endContainer,am.endOffset),an=b.comparePoints(this.endContainer,this.endOffset,am.startContainer,am.startOffset);return e?ao<=0&&an>=0:ao<0&&an>0},intersection:function(e){if(this.intersectsRange(e)){var ao=b.comparePoints(this.startContainer,this.startOffset,e.startContainer,e.startOffset),am=b.comparePoints(this.endContainer,this.endOffset,e.endContainer,e.endOffset);var an=this.cloneRange();if(ao==-1){an.setStart(e.startContainer,e.startOffset)}if(am==1){an.setEnd(e.endContainer,e.endOffset)}return an}return null},union:function(e){if(this.intersectsRange(e,true)){var am=this.cloneRange();if(b.comparePoints(e.startContainer,e.startOffset,this.startContainer,this.startOffset)==-1){am.setStart(e.startContainer,e.startOffset)}if(b.comparePoints(e.endContainer,e.endOffset,this.endContainer,this.endOffset)==1){am.setEnd(e.endContainer,e.endOffset)}return am}else{throw new P("Ranges do not intersect")}},containsNode:function(am,e){if(e){return this.intersectsNode(am,false)}else{return this.compareNode(am)==l}},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,b.getNodeLength(e))<=0},containsRange:function(e){return this.intersection(e).equals(e)},containsNodeText:function(ao){var ap=this.cloneRange();ap.selectNode(ao);var an=ap.getNodes([3]);if(an.length>0){ap.setStart(an[0],0);var e=an.pop();ap.setEnd(e,e.length);var am=this.containsRange(ap);ap.detach();return am}else{return this.containsNodeContents(ao)}},createNodeIterator:function(e,am){h(this);return new x(this,e,am)},getNodes:function(e,am){h(this);return q(this,e,am)},getDocument:function(){return n(this)},collapseBefore:function(e){D(this);this.setEndBefore(e);this.collapse(false)},collapseAfter:function(e){D(this);this.setStartAfter(e);this.collapse(true)},getName:function(){return"DomRange"},equals:function(e){return ak.rangesEqual(this,e)},inspect:function(){return A(this)}};function T(e){e.START_TO_START=m;e.START_TO_END=z;e.END_TO_END=ag;e.END_TO_START=aa;e.NODE_BEFORE=t;e.NODE_AFTER=w;e.NODE_BEFORE_AND_AFTER=K;e.NODE_INSIDE=l}function H(e){T(e);T(e.prototype)}function r(e,am){return function(){h(this);var at=this.startContainer,ar=this.startOffset,an=this.commonAncestorContainer;var ap=new g(this,true);var aq,au;if(at!==an){aq=b.getClosestAncestorIn(at,an,true);au=X(aq);at=au.node;ar=au.offset}W(ap,ab);ap.reset();var ao=e(ap);ap.detach();am(this,at,ar,at,ar);return ao}}function Y(ao,ar,e){function aq(au,at){return function(av){D(this);V(av,af);V(u(av),ad);var aw=(au?B:X)(av);(at?an:ap)(this,aw.node,aw.offset)}}function an(au,aw,ax){var av=au.endContainer,at=au.endOffset;if(aw!==au.startContainer||ax!==au.startOffset){if(u(aw)!=u(av)||b.comparePoints(aw,ax,av,at)==1){av=aw;at=ax}ar(au,aw,ax,av,at)}}function ap(at,au,ax){var aw=at.startContainer,av=at.startOffset;if(au!==at.endContainer||ax!==at.endOffset){if(u(au)!=u(aw)||b.comparePoints(au,ax,aw,av)==-1){aw=au;av=ax}ar(at,aw,av,au,ax)}}function am(at,au,av){if(au!==at.startContainer||av!==at.startOffset||au!==at.endContainer||av!==at.endOffset){ar(at,au,av,au,av)}}ao.prototype=new ac();j.util.extend(ao.prototype,{setStart:function(at,au){D(this);s(at,true);ae(at,au);an(this,at,au)},setEnd:function(at,au){D(this);s(at,true);ae(at,au);ap(this,at,au)},setStartBefore:aq(true,true),setStartAfter:aq(false,true),setEndBefore:aq(true,false),setEndAfter:aq(false,false),collapse:function(at){h(this);if(at){ar(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset)}else{ar(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)}},selectNodeContents:function(at){D(this);s(at,true);ar(this,at,0,at,b.getNodeLength(at))},selectNode:function(au){D(this);s(au,false);V(au,af);var av=B(au),at=X(au);ar(this,av.node,av.offset,at.node,at.offset)},extractContents:r(R,ar),deleteContents:r(o,ar),canSurroundContents:function(){h(this);ab(this.startContainer);ab(this.endContainer);var at=new g(this,true);var au=(at._first&&(y(at._first,this))||(at._last&&y(at._last,this)));at.detach();return !au},detach:function(){e(this)},splitBoundaries:function(){h(this);var ax=this.startContainer,aw=this.startOffset,au=this.endContainer,at=this.endOffset;var av=(ax===au);if(b.isCharacterDataNode(au)&&at>0&&at<au.length){b.splitDataNode(au,at)}if(b.isCharacterDataNode(ax)&&aw>0&&aw<ax.length){ax=b.splitDataNode(ax,aw);if(av){at-=aw;au=ax}else{if(au==ax.parentNode&&at>=b.getNodeIndex(ax)){at++}}aw=0}ar(this,ax,aw,au,at)},normalizeBoundaries:function(){h(this);var aA=this.startContainer,av=this.startOffset,az=this.endContainer,at=this.endOffset;var aw=function(aD){var aC=aD.nextSibling;if(aC&&aC.nodeType==aD.nodeType){az=aD;at=aD.length;aD.appendData(aC.data);aC.parentNode.removeChild(aC)}};var aB=function(aE){var aD=aE.previousSibling;if(aD&&aD.nodeType==aE.nodeType){aA=aE;var aC=aE.length;av=aD.length;aE.insertData(0,aD.data);aD.parentNode.removeChild(aD);if(aA==az){at+=av;az=aA}else{if(az==aE.parentNode){var aF=b.getNodeIndex(aE);if(at==aF){az=aE;at=aC}else{if(at>aF){at--}}}}}};var ay=true;if(b.isCharacterDataNode(az)){if(az.length==at){aw(az)}}else{if(at>0){var ax=az.childNodes[at-1];if(ax&&b.isCharacterDataNode(ax)){aw(ax)}}ay=!this.collapsed}if(ay){if(b.isCharacterDataNode(aA)){if(av==0){aB(aA)}}else{if(av<aA.childNodes.length){var au=aA.childNodes[av];if(au&&b.isCharacterDataNode(au)){aB(au)}}}}else{aA=az;av=at}ar(this,aA,av,az,at)},collapseToPoint:function(at,au){D(this);s(at,true);ae(at,au);am(this,at,au)}});H(ao)}function O(e){e.collapsed=(e.startContainer===e.endContainer&&e.startOffset===e.endOffset);e.commonAncestorContainer=e.collapsed?e.startContainer:b.getCommonAncestor(e.startContainer,e.endContainer)}function E(an,ap,am,aq,ao){var e=(an.startContainer!==ap||an.startOffset!==am);var ar=(an.endContainer!==aq||an.endOffset!==ao);an.startContainer=ap;an.startOffset=am;an.endContainer=aq;an.endOffset=ao;O(an);v(an,"boundarychange",{startMoved:e,endMoved:ar})}function aj(e){D(e);e.startContainer=e.startOffset=e.endContainer=e.endOffset=null;e.collapsed=e.commonAncestorContainer=null;v(e,"detach",null);e._listeners=null}function ak(e){this.startContainer=e;this.startOffset=0;this.endContainer=e;this.endOffset=0;this._listeners={boundarychange:[],detach:[]};O(this)}Y(ak,E,aj);j.rangePrototype=ac.prototype;ak.rangeProperties=M;ak.RangeIterator=g;ak.copyComparisonConstants=H;ak.createPrototypeRange=Y;ak.inspect=A;ak.getRangeDocument=n;ak.rangesEqual=function(am,e){return am.startContainer===e.startContainer&&am.startOffset===e.startOffset&&am.endContainer===e.endContainer&&am.endOffset===e.endOffset};j.DomRange=ak;j.RangeException=P});rangy.createModule("WrappedRange",function(j,d){j.requireModules(["DomUtil","DomRange"]);var a;var h=j.dom;var b=h.DomPosition;var k=j.DomRange;function e(r){var p=r.parentElement();var n=r.duplicate();n.collapse(true);var q=n.parentElement();n=r.duplicate();n.collapse(false);var o=n.parentElement();var m=(q==o)?q:h.getCommonAncestor(q,o);return m==p?m:h.getCommonAncestor(p,m)}function c(m){return m.compareEndPoints("StartToEnd",m)==0}function f(A,x,o,t){var B=A.duplicate();B.collapse(o);var z=B.parentElement();if(!h.isAncestorOf(x,z,true)){z=x}if(!z.canHaveHTML){return new b(z.parentNode,h.getNodeIndex(z))}var n=h.getDocument(z).createElement("span");var y,v=o?"StartToStart":"StartToEnd";var w,r,m,p;do{z.insertBefore(n,n.previousSibling);B.moveToElementText(n)}while((y=B.compareEndPoints(v,A))>0&&n.previousSibling);p=n.nextSibling;if(y==-1&&p&&h.isCharacterDataNode(p)){B.setEndPoint(o?"EndToStart":"EndToEnd",A);var s;if(/[\r\n]/.test(p.data)){var u=B.duplicate();var q=u.text.replace(/\r\n/g,"\r").length;s=u.moveStart("character",q);while((y=u.compareEndPoints("StartToEnd",u))==-1){s++;u.moveStart("character",1)}}else{s=B.text.length}m=new b(p,s)}else{w=(t||!o)&&n.previousSibling;r=(t||o)&&n.nextSibling;if(r&&h.isCharacterDataNode(r)){m=new b(r,0)}else{if(w&&h.isCharacterDataNode(w)){m=new b(w,w.length)}else{m=new b(z,h.getNodeIndex(n))}}}n.parentNode.removeChild(n);return m}function l(m,o){var p,s,q=m.offset;var t=h.getDocument(m.node);var n,u,v=t.body.createTextRange();var r=h.isCharacterDataNode(m.node);if(r){p=m.node;s=p.parentNode}else{u=m.node.childNodes;p=(q<u.length)?u[q]:null;s=m.node}n=t.createElement("span");n.innerHTML="&#feff;";if(p){s.insertBefore(n,p)}else{s.appendChild(n)}v.moveToElementText(n);v.collapse(!o);s.removeChild(n);if(r){v[o?"moveStart":"moveEnd"]("character",q)}return v}if(j.features.implementsDomRange&&(!j.features.implementsTextRange||!j.config.preferTextRange)){(function(){var o;var t=k.rangeProperties;var w;function m(x){var y=t.length,z;while(y--){z=t[y];x[z]=x.nativeRange[z]}}function p(z,B,y,C,A){var x=(z.startContainer!==B||z.startOffset!=y);var D=(z.endContainer!==C||z.endOffset!=A);if(x||D){z.setEnd(C,A);z.setStart(B,y)}}function u(x){x.nativeRange.detach();x.detached=true;var y=t.length,z;while(y--){z=t[y];x[z]=null}}var n;a=function(x){if(!x){throw new Error("Range must be specified")}this.nativeRange=x;m(this)};k.createPrototypeRange(a,p,u);o=a.prototype;o.selectNode=function(x){this.nativeRange.selectNode(x);m(this)};o.deleteContents=function(){this.nativeRange.deleteContents();m(this)};o.extractContents=function(){var x=this.nativeRange.extractContents();m(this);return x};o.cloneContents=function(){return this.nativeRange.cloneContents()};o.surroundContents=function(x){this.nativeRange.surroundContents(x);m(this)};o.collapse=function(x){this.nativeRange.collapse(x);m(this)};o.cloneRange=function(){return new a(this.nativeRange.cloneRange())};o.refresh=function(){m(this)};o.toString=function(){return this.nativeRange.toString()};var s=document.createTextNode("test");h.getBody(document).appendChild(s);var q=document.createRange();q.setStart(s,0);q.setEnd(s,0);try{q.setStart(s,1);w=true;o.setStart=function(x,y){this.nativeRange.setStart(x,y);m(this)};o.setEnd=function(x,y){this.nativeRange.setEnd(x,y);m(this)};n=function(x){return function(y){this.nativeRange[x](y);m(this)}}}catch(r){w=false;o.setStart=function(y,z){try{this.nativeRange.setStart(y,z)}catch(x){this.nativeRange.setEnd(y,z);this.nativeRange.setStart(y,z)}m(this)};o.setEnd=function(y,z){try{this.nativeRange.setEnd(y,z)}catch(x){this.nativeRange.setStart(y,z);this.nativeRange.setEnd(y,z)}m(this)};n=function(x,y){return function(A){try{this.nativeRange[x](A)}catch(z){this.nativeRange[y](A);this.nativeRange[x](A)}m(this)}}}o.setStartBefore=n("setStartBefore","setEndBefore");o.setStartAfter=n("setStartAfter","setEndAfter");o.setEndBefore=n("setEndBefore","setStartBefore");o.setEndAfter=n("setEndAfter","setStartAfter");q.selectNodeContents(s);if(q.startContainer==s&&q.endContainer==s&&q.startOffset==0&&q.endOffset==s.length){o.selectNodeContents=function(x){this.nativeRange.selectNodeContents(x);m(this)}}else{o.selectNodeContents=function(x){this.setStart(x,0);this.setEnd(x,k.getEndOffset(x))}}q.selectNodeContents(s);q.setEnd(s,3);var v=document.createRange();v.selectNodeContents(s);v.setEnd(s,4);v.setStart(s,2);if(q.compareBoundaryPoints(q.START_TO_END,v)==-1&q.compareBoundaryPoints(q.END_TO_START,v)==1){o.compareBoundaryPoints=function(y,x){x=x.nativeRange||x;if(y==x.START_TO_END){y=x.END_TO_START}else{if(y==x.END_TO_START){y=x.START_TO_END}}return this.nativeRange.compareBoundaryPoints(y,x)}}else{o.compareBoundaryPoints=function(y,x){return this.nativeRange.compareBoundaryPoints(y,x.nativeRange||x)}}if(j.util.isHostMethod(q,"createContextualFragment")){o.createContextualFragment=function(x){return this.nativeRange.createContextualFragment(x)}}h.getBody(document).removeChild(s);q.detach();v.detach()})();j.createNativeRange=function(m){m=m||document;return m.createRange()}}else{if(j.features.implementsTextRange){a=function(m){this.textRange=m;this.refresh()};a.prototype=new k(document);a.prototype.refresh=function(){var o,m;var n=e(this.textRange);if(c(this.textRange)){m=o=f(this.textRange,n,true,true)}else{o=f(this.textRange,n,true,false);m=f(this.textRange,n,false,false)}this.setStart(o.node,o.offset);this.setEnd(m.node,m.offset)};k.copyComparisonConstants(a);var g=(function(){return this})();if(typeof g.Range=="undefined"){g.Range=a}j.createNativeRange=function(m){m=m||document;return m.body.createTextRange()}}}if(j.features.implementsTextRange){a.rangeToTextRange=function(m){if(m.collapsed){var p=l(new b(m.startContainer,m.startOffset),true);return p}else{var q=l(new b(m.startContainer,m.startOffset),true);var o=l(new b(m.endContainer,m.endOffset),false);var n=h.getDocument(m.startContainer).body.createTextRange();n.setEndPoint("StartToStart",q);n.setEndPoint("EndToEnd",o);return n}}}a.prototype.getName=function(){return"WrappedRange"};j.WrappedRange=a;j.createRange=function(m){m=m||document;return new a(j.createNativeRange(m))};j.createRangyRange=function(m){m=m||document;return new k(m)};j.createIframeRange=function(m){return j.createRange(h.getIframeDocument(m))};j.createIframeRangyRange=function(m){return j.createRangyRange(h.getIframeDocument(m))};j.addCreateMissingNativeApiListener(function(n){var m=n.document;if(typeof m.createRange=="undefined"){m.createRange=function(){return j.createRange(this)}}m=n=null})});rangy.createModule("WrappedSelection",function(g,d){g.requireModules(["DomUtil","DomRange","WrappedRange"]);g.config.checkSelectionRanges=true;var E="boolean",U="_rangySelection",c=g.dom,m=g.util,R=g.DomRange,e=g.WrappedRange,O=g.DOMException,z=c.DomPosition,x,o,V="Control";function n(X){return(X||window).getSelection()}function r(X){return(X||window).document.selection}var T=g.util.isHostMethod(window,"getSelection"),N=g.util.isHostObject(document,"selection");var v=N&&(!T||g.config.preferTextRange);if(v){x=r;g.isSelectionValid=function(Y){var Z=(Y||window).document,X=Z.selection;return(X.type!="None"||c.getDocument(X.createRange().parentElement())==Z)}}else{if(T){x=n;g.isSelectionValid=function(){return true}}else{d.fail("Neither document.selection or window.getSelection() detected.")}}g.getNativeSelection=x;var M=x();var C=g.createNativeRange(document);var D=c.getBody(document);var K=m.areHostObjects(M,["anchorNode","focusNode"]&&m.areHostProperties(M,["anchorOffset","focusOffset"]));g.features.selectionHasAnchorAndFocus=K;var q=m.isHostMethod(M,"extend");g.features.selectionHasExtend=q;var W=(typeof M.rangeCount=="number");g.features.selectionHasRangeCount=W;var Q=false;var P=true;if(m.areHostMethods(M,["addRange","getRangeAt","removeAllRanges"])&&typeof M.rangeCount=="number"&&g.features.implementsDomRange){(function(){var Z=document.createElement("iframe");D.appendChild(Z);var ad=c.getIframeDocument(Z);ad.open();ad.write("<html><head></head><body>12</body></html>");ad.close();var ab=c.getIframeWindow(Z).getSelection();var ae=ad.documentElement;var aa=ae.lastChild,ac=aa.firstChild;var Y=ad.createRange();Y.setStart(ac,1);Y.collapse(true);ab.addRange(Y);P=(ab.rangeCount==1);ab.removeAllRanges();var X=Y.cloneRange();Y.setStart(ac,0);X.setEnd(ac,2);ab.addRange(Y);ab.addRange(X);Q=(ab.rangeCount==2);Y.detach();X.detach();D.removeChild(Z)})()}g.features.selectionSupportsMultipleRanges=Q;g.features.collapsedNonEditableSelectionsSupported=P;var f=false,k;if(D&&m.isHostMethod(D,"createControlRange")){k=D.createControlRange();if(m.areHostProperties(k,["item","add"])){f=true}}g.features.implementsControlRange=f;if(K){o=function(X){return X.anchorNode===X.focusNode&&X.anchorOffset===X.focusOffset}}else{o=function(X){return X.rangeCount?X.getRangeAt(X.rangeCount-1).collapsed:false}}function b(aa,Y,X){var Z=X?"end":"start",ab=X?"start":"end";aa.anchorNode=Y[Z+"Container"];aa.anchorOffset=Y[Z+"Offset"];aa.focusNode=Y[ab+"Container"];aa.focusOffset=Y[ab+"Offset"]}function w(Y){var X=Y.nativeSelection;Y.anchorNode=X.anchorNode;Y.anchorOffset=X.anchorOffset;Y.focusNode=X.focusNode;Y.focusOffset=X.focusOffset}function H(X){X.anchorNode=X.focusNode=null;X.anchorOffset=X.focusOffset=0;X.rangeCount=0;X.isCollapsed=true;X._ranges.length=0}function J(X){var Y;if(X instanceof R){Y=X._selectionNativeRange;if(!Y){Y=g.createNativeRange(c.getDocument(X.startContainer));Y.setEnd(X.endContainer,X.endOffset);Y.setStart(X.startContainer,X.startOffset);X._selectionNativeRange=Y;X.attachListener("detach",function(){this._selectionNativeRange=null})}}else{if(X instanceof e){Y=X.nativeRange}else{if(g.features.implementsDomRange&&(X instanceof c.getWindow(X.startContainer).Range)){Y=X}}}return Y}function l(Z){if(!Z.length||Z[0].nodeType!=1){return false}for(var Y=1,X=Z.length;Y<X;++Y){if(!c.isAncestorOf(Z[0],Z[Y])){return false}}return true}function L(Y){var X=Y.getNodes();if(!l(X)){throw new Error("getSingleElementFromRange: range "+Y.inspect()+" did not consist of a single element")}return X[0]}function G(X){return !!X&&typeof X.text!="undefined"}function I(Z,Y){var X=new e(Y);Z._ranges=[X];b(Z,X,false);Z.rangeCount=1;Z.isCollapsed=X.collapsed}function u(aa){aa._ranges.length=0;if(aa.docSelection.type=="None"){H(aa)}else{var Z=aa.docSelection.createRange();if(G(Z)){I(aa,Z)}else{aa.rangeCount=Z.length;var X,ab=c.getDocument(Z.item(0));for(var Y=0;Y<aa.rangeCount;++Y){X=g.createRange(ab);X.selectNode(Z.item(Y));aa._ranges.push(X)}aa.isCollapsed=aa.rangeCount==1&&aa._ranges[0].collapsed;b(aa,aa._ranges[aa.rangeCount-1],false)}}}function y(Y,ab){var Z=Y.docSelection.createRange();var X=L(ab);var af=c.getDocument(Z.item(0));var ac=c.getBody(af).createControlRange();for(var aa=0,ad=Z.length;aa<ad;++aa){ac.add(Z.item(aa))}try{ac.add(X)}catch(ae){throw new Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}ac.select();u(Y)}var p;if(m.isHostMethod(M,"getRangeAt")){p=function(Z,X){try{return Z.getRangeAt(X)}catch(Y){return null}}}else{if(K){p=function(Y){var Z=c.getDocument(Y.anchorNode);var X=g.createRange(Z);X.setStart(Y.anchorNode,Y.anchorOffset);X.setEnd(Y.focusNode,Y.focusOffset);if(X.collapsed!==this.isCollapsed){X.setStart(Y.focusNode,Y.focusOffset);X.setEnd(Y.anchorNode,Y.anchorOffset)}return X}}}function B(X,Z,Y){this.nativeSelection=X;this.docSelection=Z;this._ranges=[];this.win=Y;this.refresh()}g.getSelection=function(Z){Z=Z||window;var Y=Z[U];var X=x(Z),aa=N?r(Z):null;if(Y){Y.nativeSelection=X;Y.docSelection=aa;Y.refresh(Z)}else{Y=new B(X,aa,Z);Z[U]=Y}return Y};g.getIframeSelection=function(X){return g.getSelection(c.getIframeWindow(X))};var a=B.prototype;function j(ac,X){var ad=c.getDocument(X[0].startContainer);var aa=c.getBody(ad).createControlRange();for(var Z=0,ab;Z<rangeCount;++Z){ab=L(X[Z]);try{aa.add(ab)}catch(Y){throw new Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")}}aa.select();u(ac)}if(!v&&K&&m.areHostMethods(M,["removeAllRanges","addRange"])){a.removeAllRanges=function(){this.nativeSelection.removeAllRanges();H(this)};var h=function(Z,X){var aa=R.getRangeDocument(X);var Y=g.createRange(aa);Y.collapseToPoint(X.endContainer,X.endOffset);Z.nativeSelection.addRange(J(Y));Z.nativeSelection.extend(X.startContainer,X.startOffset);Z.refresh()};if(W){a.addRange=function(Y,X){if(f&&N&&this.docSelection.type==V){y(this,Y)}else{if(X&&q){h(this,Y)}else{var Z;if(Q){Z=this.rangeCount}else{this.removeAllRanges();Z=0}this.nativeSelection.addRange(J(Y));this.rangeCount=this.nativeSelection.rangeCount;if(this.rangeCount==Z+1){if(g.config.checkSelectionRanges){var aa=p(this.nativeSelection,this.rangeCount-1);if(aa&&!R.rangesEqual(aa,Y)){Y=new e(aa)}}this._ranges[this.rangeCount-1]=Y;b(this,Y,s(this.nativeSelection));this.isCollapsed=o(this)}else{this.refresh()}}}}}else{a.addRange=function(Y,X){if(X&&q){h(this,Y)}else{this.nativeSelection.addRange(J(Y));this.refresh()}}}a.setRanges=function(Y){if(f&&Y.length>1){j(this,Y)}else{this.removeAllRanges();for(var Z=0,X=Y.length;Z<X;++Z){this.addRange(Y[Z])}}}}else{if(m.isHostMethod(M,"empty")&&m.isHostMethod(C,"select")&&f&&v){a.removeAllRanges=function(){try{this.docSelection.empty();if(this.docSelection.type!="None"){var aa;if(this.anchorNode){aa=c.getDocument(this.anchorNode)}else{if(this.docSelection.type==V){var Y=this.docSelection.createRange();if(Y.length){aa=c.getDocument(Y.item(0)).body.createTextRange()}}}if(aa){var Z=aa.body.createTextRange();Z.select();this.docSelection.empty()}}}catch(X){}H(this)};a.addRange=function(X){if(this.docSelection.type==V){y(this,X)}else{e.rangeToTextRange(X).select();this._ranges[0]=X;this.rangeCount=1;this.isCollapsed=this._ranges[0].collapsed;b(this,X,false)}};a.setRanges=function(X){this.removeAllRanges();var Y=X.length;if(Y>1){j(this,X)}else{if(Y){this.addRange(X[0])}}}}else{d.fail("No means of selecting a Range or TextRange was found");return false}}a.getRangeAt=function(X){if(X<0||X>=this.rangeCount){throw new O("INDEX_SIZE_ERR")}else{return this._ranges[X]}};var F;if(v){F=function(Y){var X;if(g.isSelectionValid(Y.win)){X=Y.docSelection.createRange()}else{X=c.getBody(Y.win.document).createTextRange();X.collapse(true)}if(Y.docSelection.type==V){u(Y)}else{if(G(X)){I(Y,X)}else{H(Y)}}}}else{if(m.isHostMethod(M,"getRangeAt")&&typeof M.rangeCount=="number"){F=function(Z){if(f&&N&&Z.docSelection.type==V){u(Z)}else{Z._ranges.length=Z.rangeCount=Z.nativeSelection.rangeCount;if(Z.rangeCount){for(var Y=0,X=Z.rangeCount;Y<X;++Y){Z._ranges[Y]=new g.WrappedRange(Z.nativeSelection.getRangeAt(Y))}b(Z,Z._ranges[Z.rangeCount-1],s(Z.nativeSelection));Z.isCollapsed=o(Z)}else{H(Z)}}}}else{if(K&&typeof M.isCollapsed==E&&typeof C.collapsed==E&&g.features.implementsDomRange){F=function(Z){var X,Y=Z.nativeSelection;if(Y.anchorNode){X=p(Y,0);Z._ranges=[X];Z.rangeCount=1;w(Z);Z.isCollapsed=o(Z)}else{H(Z)}}}else{d.fail("No means of obtaining a Range or TextRange from the user's selection was found");return false}}}a.refresh=function(Y){var X=Y?this._ranges.slice(0):null;F(this);if(Y){var Z=X.length;if(Z!=this._ranges.length){return false}while(Z--){if(!R.rangesEqual(X[Z],this._ranges[Z])){return false}}return true}};var A=function(ab,Z){var Y=ab.getAllRanges(),ac=false;ab.removeAllRanges();for(var aa=0,X=Y.length;aa<X;++aa){if(ac||Z!==Y[aa]){ab.addRange(Y[aa])}else{ac=true}}if(!ab.rangeCount){H(ab)}};if(f){a.removeRange=function(ab){if(this.docSelection.type==V){var Z=this.docSelection.createRange();var X=L(ab);var af=c.getDocument(Z.item(0));var ad=c.getBody(af).createControlRange();var Y,ae=false;for(var aa=0,ac=Z.length;aa<ac;++aa){Y=Z.item(aa);if(Y!==X||ae){ad.add(Z.item(aa))}else{ae=true}}ad.select();u(this)}else{A(this,ab)}}}else{a.removeRange=function(X){A(this,X)}}var s;if(!v&&K&&g.features.implementsDomRange){s=function(Y){var X=false;if(Y.anchorNode){X=(c.comparePoints(Y.anchorNode,Y.anchorOffset,Y.focusNode,Y.focusOffset)==1)}return X};a.isBackwards=function(){return s(this)}}else{s=a.isBackwards=function(){return false}}a.toString=function(){var Z=[];for(var Y=0,X=this.rangeCount;Y<X;++Y){Z[Y]=""+this._ranges[Y]}return Z.join("")};function S(Y,X){if(Y.anchorNode&&(c.getDocument(Y.anchorNode)!==c.getDocument(X))){throw new O("WRONG_DOCUMENT_ERR")}}a.collapse=function(Y,Z){S(this,Y);var X=g.createRange(c.getDocument(Y));X.collapseToPoint(Y,Z);this.removeAllRanges();this.addRange(X);this.isCollapsed=true};a.collapseToStart=function(){if(this.rangeCount){var X=this._ranges[0];this.collapse(X.startContainer,X.startOffset)}else{throw new O("INVALID_STATE_ERR")}};a.collapseToEnd=function(){if(this.rangeCount){var X=this._ranges[this.rangeCount-1];this.collapse(X.endContainer,X.endOffset)}else{throw new O("INVALID_STATE_ERR")}};a.selectAllChildren=function(Y){S(this,Y);var X=g.createRange(c.getDocument(Y));X.selectNodeContents(Y);this.removeAllRanges();this.addRange(X)};a.deleteFromDocument=function(){if(f&&N&&this.docSelection.type==V){var ab=this.docSelection.createRange();var aa;while(ab.length){aa=ab.item(0);ab.remove(aa);aa.parentNode.removeChild(aa)}this.refresh()}else{if(this.rangeCount){var Y=this.getAllRanges();this.removeAllRanges();for(var Z=0,X=Y.length;Z<X;++Z){Y[Z].deleteContents()}this.addRange(Y[X-1])}}};a.getAllRanges=function(){return this._ranges.slice(0)};a.setSingleRange=function(X){this.setRanges([X])};a.containsNode=function(aa,Y){for(var Z=0,X=this._ranges.length;Z<X;++Z){if(this._ranges[Z].containsNode(aa,Y)){return true}}return false};a.toHtml=function(){var aa="";if(this.rangeCount){var Y=R.getRangeDocument(this._ranges[0]).createElement("div");for(var Z=0,X=this._ranges.length;Z<X;++Z){Y.appendChild(this._ranges[Z].cloneContents())}aa=Y.innerHTML}return aa};function t(ad){var ac=[];var aa=new z(ad.anchorNode,ad.anchorOffset);var Y=new z(ad.focusNode,ad.focusOffset);var Z=(typeof ad.getName=="function")?ad.getName():"Selection";if(typeof ad.rangeCount!="undefined"){for(var ab=0,X=ad.rangeCount;ab<X;++ab){ac[ab]=R.inspect(ad.getRangeAt(ab))}}return"["+Z+"(Ranges: "+ac.join(", ")+")(anchor: "+aa.inspect()+", focus: "+Y.inspect()+"]"}a.getName=function(){return"WrappedSelection"};a.inspect=function(){return t(this)};a.detach=function(){this.win[U]=null;this.win=this.anchorNode=this.focusNode=null};B.inspect=t;g.Selection=B;g.selectionPrototype=a;g.addCreateMissingNativeApiListener(function(X){if(typeof X.getSelection=="undefined"){X.getSelection=function(){return g.getSelection(this)}}X=null})});var Base=function(){};Base.extend=function(b,e){var f=Base.prototype.extend;Base._prototyping=true;var d=new this;f.call(d,b);d.base=function(){};delete Base._prototyping;var c=d.constructor;var a=d.constructor=function(){if(!Base._prototyping){if(this._constructing||this.constructor==a){this._constructing=true;c.apply(this,arguments);delete this._constructing}else{if(arguments[0]!=null){return(arguments[0].extend||f).call(arguments[0],d)}}}};a.ancestor=this;a.extend=this.extend;a.forEach=this.forEach;a.implement=this.implement;a.prototype=d;a.toString=this.toString;a.valueOf=function(g){return(g=="object")?a:c.valueOf()};f.call(a,e);if(typeof a.init=="function"){a.init()}return a};Base.prototype={extend:function(b,h){if(arguments.length>1){var e=this[b];if(e&&(typeof h=="function")&&(!e.valueOf||e.valueOf()!=h.valueOf())&&/\bbase\b/.test(h)){var a=h.valueOf();h=function(){var l=this.base||Base.prototype.base;this.base=e;var k=a.apply(this,arguments);this.base=l;return k};h.valueOf=function(k){return(k=="object")?h:a};h.toString=Base.toString}this[b]=h}else{if(b){var g=Base.prototype.extend;if(!Base._prototyping&&typeof this!="function"){g=this.extend||g}var d={toSource:null};var f=["constructor","toString","valueOf"];var c=Base._prototyping?0:1;while(j=f[c++]){if(b[j]!=d[j]){g.call(this,j,b[j])}}for(var j in b){if(!d[j]){g.call(this,j,b[j])}}}}return this}};Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(a,d,c){for(var b in a){if(this.prototype[b]===undefined){d.call(c,a[b],b,a)}}},implement:function(){for(var a=0;a<arguments.length;a++){if(typeof arguments[a]=="function"){arguments[a](this.prototype)}else{this.prototype.extend(arguments[a])}}return this},toString:function(){return String(this.valueOf())}});wysihtml5.browser=(function(){var f=navigator.userAgent,e=document.createElement("div"),c=f.indexOf("MSIE")!==-1&&f.indexOf("Opera")===-1,a=f.indexOf("Gecko")!==-1&&f.indexOf("KHTML")===-1,d=f.indexOf("AppleWebKit/")!==-1,g=f.indexOf("Chrome/")!==-1,b=f.indexOf("Opera/")!==-1;function h(j){return((/ipad|iphone|ipod/.test(j)&&j.match(/ os (\d+).+? like mac os x/))||[,0])[1]}return{USER_AGENT:f,supported:function(){var l=this.USER_AGENT.toLowerCase(),n="contentEditable" in e,j=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,k=document.querySelector&&document.querySelectorAll,m=(this.isIos()&&h(l)<5)||l.indexOf("opera mobi")!==-1||l.indexOf("hpwos/")!==-1;return n&&j&&k&&!m},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){var j=this.USER_AGENT.toLowerCase();return j.indexOf("webkit")!==-1&&j.indexOf("mobile")!==-1},supportsSandboxedIframes:function(){return c},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return !("querySelector" in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return !a},hasCurrentStyleProperty:function(){return"currentStyle" in e},insertsLineBreaksOnReturn:function(){return a},supportsPlaceholderAttributeOn:function(j){return"placeholder" in j},supportsEvent:function(j){return"on"+j in e||(function(){e.setAttribute("on"+j,"return;");return typeof(e["on"+j])==="function"})()},supportsEventsInIframeCorrectly:function(){return !b},firesOnDropOnlyWhenOnDragOverIsCancelled:function(){return d||a},supportsDataTransfer:function(){try{return d&&(window.Clipboard||window.DataTransfer).prototype.getData}catch(j){return false}},supportsHTML5Tags:function(l){var k=l.createElement("div"),j="<article>foo</article>";k.innerHTML=j;return k.innerHTML.toLowerCase()===j},supportsCommand:(function(){var k={formatBlock:c,insertUnorderedList:c||b||d,insertOrderedList:c||b||d};var j={insertHTML:a};return function(m,o){var p=k[o];if(!p){try{return m.queryCommandSupported(o)}catch(n){}try{return m.queryCommandEnabled(o)}catch(l){return !!j[o]}}return false}})(),doesAutoLinkingInContentEditable:function(){return c},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return a||b||d},supportsGetAttributeCorrectly:function(){var j=document.createElement("td");return j.getAttribute("rowspan")!="1"},canSelectImagesInContentEditable:function(){return a||c||b},clearsListsInContentEditableCorrectly:function(){return a||c||d},autoScrollsToCaret:function(){return !d},autoClosesUnclosedTags:function(){var l=e.cloneNode(false),j,k;l.innerHTML="<p><div></div>";k=l.innerHTML.toLowerCase();j=k==="<p></p><div></div>"||k==="<p><div></div></p>";this.autoClosesUnclosedTags=function(){return j};return j},supportsNativeGetElementsByClassName:function(){return String(document.getElementsByClassName).indexOf("[native code]")!==-1},supportsSelectionModify:function(){return"getSelection" in window&&"modify" in window.getSelection()},supportsClassList:function(){return"classList" in e},needsSpaceAfterLineBreak:function(){return b},supportsSpeechApiOn:function(j){var k=f.match(/Chrome\/(\d+)/)||[,0];return k[1]>=11&&("onwebkitspeechchange" in j||"speech" in j)},crashesWhenDefineProperty:function(j){return c&&(j==="XMLHttpRequest"||j==="XDomainRequest")},doesAsyncFocus:function(){return c},hasProblemsSettingCaretAfterImg:function(){return c},hasUndoInContextMenu:function(){return a||g||b}}})();wysihtml5.lang.array=function(a){return{contains:function(d){if(a.indexOf){return a.indexOf(d)!==-1}else{for(var b=0,c=a.length;b<c;b++){if(a[b]===d){return true}}return false}},without:function(b){b=wysihtml5.lang.array(b);var d=[],c=0,e=a.length;for(;c<e;c++){if(!b.contains(a[c])){d.push(a[c])}}return d},get:function(){var c=0,d=a.length,b=[];for(;c<d;c++){b.push(a[c])}return b}}};wysihtml5.lang.Dispatcher=Base.extend({observe:function(a,b){this.events=this.events||{};this.events[a]=this.events[a]||[];this.events[a].push(b);return this},on:function(){return this.observe.apply(this,wysihtml5.lang.array(arguments).get())},fire:function(b,d){this.events=this.events||{};var a=this.events[b]||[],c=0;for(;c<a.length;c++){a[c].call(this,d)}return this},stopObserving:function(b,d){this.events=this.events||{};var c=0,a,e;if(b){a=this.events[b]||[],e=[];for(;c<a.length;c++){if(a[c]!==d&&d){e.push(a[c])}}this.events[b]=e}else{this.events={}}return this}});wysihtml5.lang.object=function(a){return{merge:function(b){for(var c in b){a[c]=b[c]}return this},get:function(){return a},clone:function(){var b={},c;for(c in a){b[c]=a[c]}return b},isArray:function(){return Object.prototype.toString.call(a)==="[object Array]"}}};(function(){var b=/^\s+/,a=/\s+$/;wysihtml5.lang.string=function(c){c=String(c);return{trim:function(){return c.replace(b,"").replace(a,"")},interpolate:function(e){for(var d in e){c=this.replace("#{"+d+"}").by(e[d])}return c},replace:function(d){return{by:function(e){return c.split(d).join(e)}}}}}})();(function(m){var k=m.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),l=/((https?:\/\/|www\.)[^\s<]{3,})/gi,e=/([^\w\/\-](,?))$/i,c=100,f={")":"(","]":"[","}":"{"};function b(n){if(j(n)){return n}if(n===n.ownerDocument.documentElement){n=n.ownerDocument.body}return a(n)}function g(n){return n.replace(l,function(q,p){var s=(p.match(e)||[])[1]||"",o=f[s];p=p.replace(e,"");if(p.split(o).length>p.split(s).length){p=p+s;s=""}var r=p,t=p;if(p.length>c){t=t.substr(0,c)+"..."}if(r.substr(0,4)==="www."){r="http://"+r}return'<a href="'+r+'">'+t+"</a>"+s})}function d(o){var n=o._wysihtml5_tempElement;if(!n){n=o._wysihtml5_tempElement=o.createElement("div")}return n}function h(p){var o=p.parentNode,n=d(o.ownerDocument);n.innerHTML="<span></span>"+g(p.data);n.removeChild(n.firstChild);while(n.firstChild){o.insertBefore(n.firstChild,p)}o.removeChild(p)}function j(n){var o;while(n.parentNode){n=n.parentNode;o=n.nodeName;if(k.contains(o)){return true}else{if(o==="body"){return false}}}return false}function a(o){if(k.contains(o.nodeName)){return}if(o.nodeType===m.TEXT_NODE&&o.data.match(l)){h(o);return}var q=m.lang.array(o.childNodes).get(),p=q.length,n=0;for(;n<p;n++){a(q[n])}return o}m.dom.autoLink=b;m.dom.autoLink.URL_REG_EXP=l})(wysihtml5);(function(c){var b=c.browser.supportsClassList(),a=c.dom;a.addClass=function(d,e){if(b){return d.classList.add(e)}if(a.hasClass(d,e)){return}d.className+=" "+e};a.removeClass=function(d,e){if(b){return d.classList.remove(e)}d.className=d.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ")};a.hasClass=function(d,e){if(b){return d.classList.contains(e)}var f=d.className;return(f.length>0&&(f==e||new RegExp("(^|\\s)"+e+"(\\s|$)").test(f)))}})(wysihtml5);wysihtml5.dom.contains=(function(){var a=document.documentElement;if(a.contains){return function(b,c){if(c.nodeType!==wysihtml5.ELEMENT_NODE){c=c.parentNode}return b!==c&&b.contains(c)}}else{if(a.compareDocumentPosition){return function(b,c){return !!(b.compareDocumentPosition(c)&16)}}}})();wysihtml5.dom.convertToList=(function(){function b(f,e){var d=f.createElement("li");e.appendChild(d);return d}function c(e,d){return e.createElement(d)}function a(f,n){if(f.nodeName==="UL"||f.nodeName==="OL"||f.nodeName==="MENU"){return f}var p=f.ownerDocument,k=c(p,n),l=f.querySelectorAll("br"),j=l.length,r,q,d,m,h,s,g,o,e;for(e=0;e<j;e++){m=l[e];while((h=m.parentNode)&&h!==f&&h.lastChild===m){if(wysihtml5.dom.getStyle("display").from(h)==="block"){h.removeChild(m);break}wysihtml5.dom.insert(m).after(m.parentNode)}}r=wysihtml5.lang.array(f.childNodes).get();q=r.length;for(e=0;e<q;e++){o=o||b(p,k);d=r[e];s=wysihtml5.dom.getStyle("display").from(d)==="block";g=d.nodeName==="BR";if(s){o=o.firstChild?b(p,k):o;o.appendChild(d);o=null;continue}if(g){o=o.firstChild?null:o;continue}o.appendChild(d)}f.parentNode.replaceChild(k,f);return k}return a})();wysihtml5.dom.copyAttributes=function(a){return{from:function(b){return{to:function(c){var f,d=0,e=a.length;for(;d<e;d++){f=a[d];if(typeof(b[f])!=="undefined"&&b[f]!==""){c[f]=b[f]}}return{andTo:arguments.callee}}}}}};(function(b){var d=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"];var c=function(e){if(a(e)){return parseInt(b.getStyle("width").from(e),10)<e.offsetWidth}return false};var a=function(f){var e=0,g=d.length;for(;e<g;e++){if(b.getStyle(d[e]).from(f)==="border-box"){return d[e]}}};b.copyStyles=function(e){return{from:function(g){if(c(g)){e=wysihtml5.lang.array(e).without(d)}var h="",j=e.length,f=0,k;for(;f<j;f++){k=e[f];h+=k+":"+b.getStyle(k).from(g)+";"}return{to:function(l){b.setStyles(h).on(l);return{andTo:arguments.callee}}}}}}})(wysihtml5.dom);(function(a){a.dom.delegate=function(c,b,d,e){return a.dom.observe(c,d,function(g){var h=g.target,f=a.lang.array(c.querySelectorAll(b));while(h&&h!==c){if(f.contains(h)){e.call(h,g);break}h=h.parentNode}})}})(wysihtml5);wysihtml5.dom.getAsDom=(function(){var a=function(g,f){var d=f.createElement("div");d.style.display="none";f.body.appendChild(d);try{d.innerHTML=g}catch(h){}f.body.removeChild(d);return d};var c=function(e){if(e._wysihtml5_supportsHTML5Tags){return}for(var d=0,f=b.length;d<f;d++){e.createElement(b[d])}e._wysihtml5_supportsHTML5Tags=true};var b=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(f,e){e=e||document;var d;if(typeof(f)==="object"&&f.nodeType){d=e.createElement("div");d.appendChild(f)}else{if(wysihtml5.browser.supportsHTML5Tags(e)){d=e.createElement("div");d.innerHTML=f}else{c(e);d=a(f,e)}}return d}})();wysihtml5.dom.getParentElement=(function(){function a(g,f){if(!f||!f.length){return true}if(typeof(f)==="string"){return g===f}else{return wysihtml5.lang.array(f).contains(g)}}function c(f){return f.nodeType===wysihtml5.ELEMENT_NODE}function b(f,g,h){var j=(f.className||"").match(h)||[];if(!g){return !!j.length}return j[j.length-1]===g}function e(f,h,g){while(g--&&f&&f.nodeName!=="BODY"){if(a(f.nodeName,h)){return f}f=f.parentNode}return null}function d(g,k,f,j,h){while(h--&&g&&g.nodeName!=="BODY"){if(c(g)&&a(g.nodeName,k)&&b(g,f,j)){return g}g=g.parentNode}return null}return function(g,f,h){h=h||50;if(f.className||f.classRegExp){return d(g,f.nodeName,f.className,f.classRegExp,h)}else{return e(g,f.nodeName,h)}}})();wysihtml5.dom.getStyle=(function(){var b={"float":("styleFloat" in document.createElement("div").style)?"styleFloat":"cssFloat"},c=/\-[a-z]/g;function a(d){return d.replace(c,function(e){return e.charAt(1).toUpperCase()})}return function(d){return{from:function(k){if(k.nodeType!==wysihtml5.ELEMENT_NODE){return}var p=k.ownerDocument,l=b[d]||a(d),g=k.style,h=k.currentStyle,q=g[l];if(q){return q}if(h){try{return h[l]}catch(n){}}var m=p.defaultView||p.parentWindow,o=(d==="height"||d==="width")&&k.nodeName==="TEXTAREA",j,f;if(m.getComputedStyle){if(o){j=g.overflow;g.overflow="hidden"}f=m.getComputedStyle(k,null).getPropertyValue(d);if(o){g.overflow=j||""}return f}}}}})();wysihtml5.dom.hasElementWithTagName=(function(){var c={},b=1;function a(d){return d._wysihtml5_identifier||(d._wysihtml5_identifier=b++)}return function(f,e){var d=a(f)+":"+e,g=c[d];if(!g){g=c[d]=f.getElementsByTagName(e)}return g.length>0}})();(function(d){var c={},b=1;function a(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=b++)}d.dom.hasElementWithClassName=function(g,f){if(!d.browser.supportsNativeGetElementsByClassName()){return !!g.querySelector("."+f)}var e=a(g)+":"+f,h=c[e];if(!h){h=c[e]=g.getElementsByClassName(f)}return h.length>0}})(wysihtml5);wysihtml5.dom.insert=function(a){return{after:function(b){b.parentNode.insertBefore(a,b.nextSibling)},before:function(b){b.parentNode.insertBefore(a,b)},into:function(b){b.appendChild(a)}}};wysihtml5.dom.insertCSS=function(a){a=a.join("\n");return{into:function(d){var c=d.head||d.getElementsByTagName("head")[0],b=d.createElement("style");b.type="text/css";if(b.styleSheet){b.styleSheet.cssText=a}else{b.appendChild(d.createTextNode(a))}if(c){c.appendChild(b)}}}};wysihtml5.dom.observe=function(c,g,d){g=typeof(g)==="string"?[g]:g;var f,a,b=0,e=g.length;for(;b<e;b++){a=g[b];if(c.addEventListener){c.addEventListener(a,d,false)}else{f=function(h){if(!("target" in h)){h.target=h.srcElement}h.preventDefault=h.preventDefault||function(){this.returnValue=false};h.stopPropagation=h.stopPropagation||function(){this.cancelBubble=true};d.call(c,h)};c.attachEvent("on"+a,f)}}return{stop:function(){var h,j=0,k=g.length;for(;j<k;j++){h=g[j];if(c.removeEventListener){c.removeEventListener(h,d,false)}else{c.detachEvent("on"+h,f)}}}}};wysihtml5.dom.parse=(function(){var a={"1":e,"3":m},p="span",g=/\s+/,k={tags:{},classes:{}},o={};function d(v,y,q,s){wysihtml5.lang.object(o).merge(k).merge(y).get();q=q||v.ownerDocument||document;var u=q.createDocumentFragment(),r=typeof(v)==="string",t,x,w;if(r){t=wysihtml5.dom.getAsDom(v,q)}else{t=v}while(t.firstChild){w=t.firstChild;t.removeChild(w);x=f(w,s);if(x){u.appendChild(x)}}t.innerHTML="";t.appendChild(u);return r?wysihtml5.quirks.getCorrectInnerHTML(t):t}function f(w,v){var u=w.nodeType,t=w.childNodes,s=t.length,r,x=a[u],q=0;r=x&&x(w);if(!r){return null}for(q=0;q<s;q++){newChild=f(t[q],v);if(newChild){r.appendChild(newChild)}}if(v&&r.childNodes.length<=1&&r.nodeName.toLowerCase()===p&&!r.attributes.length){return r.firstChild}return r}function e(v){var u,t,s,r=o.tags,w=v.nodeName.toLowerCase(),q=v.scopeName;if(v._wysihtml5){return null}v._wysihtml5=1;if(v.className==="wysihtml5-temp"){return null}if(q&&q!="HTML"){w=q+":"+w}if("outerHTML" in v){if(!wysihtml5.browser.autoClosesUnclosedTags()&&v.nodeName==="P"&&v.outerHTML.slice(-4).toLowerCase()!=="</p>"){w="div"}}if(w in r){u=r[w];if(!u||u.remove){return null}u=typeof(u)==="string"?{rename_tag:u}:u}else{if(v.firstChild){u={rename_tag:p}}else{return null}}t=v.ownerDocument.createElement(u.rename_tag||w);b(v,t,u);v=null;return t}function b(D,q,w){var z={},K=w.set_class,B=w.add_class,G=w.set_attributes,v=w.check_attributes,u=o.classes,F=0,I=[],L=[],t=[],E=[],x,A,s,y,C,J,r;if(G){z=wysihtml5.lang.object(G).clone()}if(v){for(C in v){r=h[v[C]];if(!r){continue}J=r(j(D,C));if(typeof(J)==="string"){z[C]=J}}}if(K){I.push(K)}if(B){for(C in B){r=l[B[C]];if(!r){continue}y=r(j(D,C));if(typeof(y)==="string"){I.push(y)}}}u["_wysihtml5-temp-placeholder"]=1;E=D.getAttribute("class");if(E){I=I.concat(E.split(g))}x=I.length;for(;F<x;F++){s=I[F];if(u[s]){L.push(s)}}A=L.length;while(A--){s=L[A];if(!wysihtml5.lang.array(t).contains(s)){t.unshift(s)}}if(t.length){z["class"]=t.join(" ")}for(C in z){try{q.setAttribute(C,z[C])}catch(H){}}if(z.src){if(typeof(z.width)!=="undefined"){q.setAttribute("width",z.width)}if(typeof(z.height)!=="undefined"){q.setAttribute("height",z.height)}}}var n=!wysihtml5.browser.supportsGetAttributeCorrectly();function j(s,r){r=r.toLowerCase();var u=s.nodeName;if(u=="IMG"&&r=="src"&&c(s)===true){return s.src}else{if(n&&"outerHTML" in s){var t=s.outerHTML.toLowerCase(),q=t.indexOf(" "+r+"=")!=-1;return q?s.getAttribute(r):null}else{return s.getAttribute(r)}}}function c(q){try{return q.complete&&!q.mozMatchesSelector(":-moz-broken")}catch(r){if(q.complete&&q.readyState==="complete"){return true}}}function m(q){return q.ownerDocument.createTextNode(q.data)}var h={url:(function(){var q=/^https?:\/\//i;return function(r){if(!r||!r.match(q)){return null}return r.replace(q,function(s){return s.toLowerCase()})}})(),alt:(function(){var q=/[^ a-z0-9_\-]/gi;return function(r){if(!r){return""}return r.replace(q,"")}})(),numbers:(function(){var q=/\D/g;return function(r){r=(r||"").replace(q,"");return r||null}})()};var l={align_img:(function(){var q={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(r){return q[String(r).toLowerCase()]}})(),align_text:(function(){var q={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(r){return q[String(r).toLowerCase()]}})(),clear_br:(function(){var q={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(r){return q[String(r).toLowerCase()]}})(),size_font:(function(){var q={"1":"wysiwyg-font-size-xx-small","2":"wysiwyg-font-size-small","3":"wysiwyg-font-size-medium","4":"wysiwyg-font-size-large","5":"wysiwyg-font-size-x-large","6":"wysiwyg-font-size-xx-large","7":"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(r){return q[String(r).charAt(0)]}})()};return d})();wysihtml5.dom.removeEmptyTextNodes=function(c){var b,e=wysihtml5.lang.array(c.childNodes).get(),d=e.length,a=0;for(;a<d;a++){b=e[a];if(b.nodeType===wysihtml5.TEXT_NODE&&b.data===""){b.parentNode.removeChild(b)}}};wysihtml5.dom.renameElement=function(a,b){var d=a.ownerDocument.createElement(b),c;while(c=a.firstChild){d.appendChild(c)}wysihtml5.dom.copyAttributes(["align","className"]).from(a).to(d);a.parentNode.replaceChild(d,a);return d};wysihtml5.dom.replaceWithChildNodes=function(b){if(!b.parentNode){return}if(!b.firstChild){b.parentNode.removeChild(b);return}var a=b.ownerDocument.createDocumentFragment();while(b.firstChild){a.appendChild(b.firstChild)}b.parentNode.replaceChild(a,b);b=a=null};(function(e){function c(f){return e.getStyle("display").from(f)==="block"}function d(f){return f.nodeName==="BR"}function b(g){var f=g.ownerDocument.createElement("br");g.appendChild(f)}function a(l){if(l.nodeName!=="MENU"&&l.nodeName!=="UL"&&l.nodeName!=="OL"){return}var o=l.ownerDocument,m=o.createDocumentFragment(),g=l.previousElementSibling||l.previousSibling,n,h,j,k,f;if(g&&!c(g)){b(m)}while(f=l.firstChild){h=f.lastChild;while(n=f.firstChild){j=n===h;k=j&&!c(n)&&!d(n);m.appendChild(n);if(k){b(m)}}f.parentNode.removeChild(f)}l.parentNode.replaceChild(m,l)}e.resolveList=a})(wysihtml5.dom);(function(e){var d=document,c=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],b=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],a=["referrer","write","open","close"];e.dom.Sandbox=Base.extend({constructor:function(g,f){this.callback=g||e.EMPTY_FUNCTION;this.config=e.lang.object({}).merge(f).get();this.iframe=this._createIframe()},insertInto:function(f){if(typeof(f)==="string"){f=d.getElementById(f)}f.appendChild(this.iframe)},getIframe:function(){return this.iframe},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var f=this.getIframe();f.parentNode.removeChild(f)},_readyError:function(){throw new Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var g=this,f=d.createElement("iframe");f.className="wysihtml5-sandbox";e.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(f);if(e.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()){f.src="javascript:'<html></html>'"}f.onload=function(){f.onreadystatechange=f.onload=null;g._onLoadIframe(f)};f.onreadystatechange=function(){if(/loaded|complete/.test(f.readyState)){f.onreadystatechange=f.onload=null;g._onLoadIframe(f)}};return f},_onLoadIframe:function(h){if(!e.dom.contains(d.documentElement,h)){return}var l=this,f=h.contentWindow,m=h.contentWindow.document,n=d.characterSet||d.charset||"utf-8",k=this._getHtml({charset:n,stylesheets:this.config.stylesheets});m.open("text/html","replace");m.write(k);m.close();this.getWindow=function(){return h.contentWindow};this.getDocument=function(){return h.contentWindow.document};f.onerror=function(p,q,o){throw new Error("wysihtml5.Sandbox: "+p,q,o)};if(!e.browser.supportsSandboxedIframes()){var g,j;for(g=0,j=c.length;g<j;g++){this._unset(f,c[g])}for(g=0,j=b.length;g<j;g++){this._unset(f,b[g],e.EMPTY_FUNCTION)}for(g=0,j=a.length;g<j;g++){this._unset(m,a[g])}this._unset(m,"cookie","",true)}this.loaded=true;setTimeout(function(){l.callback(l)},0)},_getHtml:function(j){var k=j.stylesheets,g="",f=0,h;k=typeof(k)==="string"?[k]:k;if(k){h=k.length;for(;f<h;f++){g+='<link rel="stylesheet" href="'+k[f]+'">'}}j.stylesheets=g;return e.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(j)},_unset:function(g,j,h,l){try{g[j]=h}catch(k){}try{g.__defineGetter__(j,function(){return h})}catch(k){}if(l){try{g.__defineSetter__(j,function(){})}catch(k){}}if(!e.browser.crashesWhenDefineProperty(j)){try{var f={get:function(){return h}};if(l){f.set=function(){}}Object.defineProperty(g,j,f)}catch(k){}}}})})(wysihtml5);(function(){var a={className:"class"};wysihtml5.dom.setAttributes=function(b){return{on:function(d){for(var c in b){d.setAttribute(a[c]||c,b[c])}}}}})();wysihtml5.dom.setStyles=function(a){return{on:function(c){var d=c.style;if(typeof(a)==="string"){d.cssText+=";"+a;return}for(var b in a){if(b==="float"){d.cssFloat=a[b];d.styleFloat=a[b]}else{d[b]=a[b]}}}}};(function(a){a.simulatePlaceholder=function(d,b,c){var e="placeholder",f=function(){if(b.hasPlaceholderSet()){b.clear()}a.removeClass(b.element,e)},g=function(){if(b.isEmpty()){b.setValue(c);a.addClass(b.element,e)}};d.observe("set_placeholder",g).observe("unset_placeholder",f).observe("focus:composer",f).observe("paste:composer",f).observe("blur:composer",g);g()}})(wysihtml5.dom);(function(b){var a=document.documentElement;if("textContent" in a){b.setTextContent=function(c,d){c.textContent=d};b.getTextContent=function(c){return c.textContent}}else{if("innerText" in a){b.setTextContent=function(c,d){c.innerText=d};b.getTextContent=function(c){return c.innerText}}else{b.setTextContent=function(c,d){c.nodeValue=d};b.getTextContent=function(c){return c.nodeValue}}}})(wysihtml5.dom);wysihtml5.quirks.cleanPastedHTML=(function(){var a={"a u":wysihtml5.dom.replaceWithChildNodes};function b(l,m,d){m=m||a;d=d||l.ownerDocument||document;var h,e=typeof(l)==="string",c,k,n,g,f=0;if(e){h=wysihtml5.dom.getAsDom(l,d)}else{h=l}for(g in m){k=h.querySelectorAll(g);c=m[g];n=k.length;for(;f<n;f++){c(k[f])}}k=l=m=null;return e?h.innerHTML:h}return b})();(function(b){var a=b.dom;b.quirks.ensureProperClearing=(function(){var c=function(e){var d=this;setTimeout(function(){var f=d.innerHTML.toLowerCase();if(f=="<p>&nbsp;</p>"||f=="<p>&nbsp;</p><p>&nbsp;</p>"){d.innerHTML=""}},0)};return function(d){a.observe(d.element,["cut","keydown"],c)}})();b.quirks.ensureProperClearingOfLists=(function(){var d=["OL","UL","MENU"];var c=function(g,e){if(!e.firstChild||!b.lang.array(d).contains(e.firstChild.nodeName)){return}var j=a.getParentElement(g,{nodeName:d});if(!j){return}var h=j==e.firstChild;if(!h){return}var k=j.childNodes.length<=1;if(!k){return}var f=j.firstChild?j.firstChild.innerHTML==="":true;if(!f){return}j.parentNode.removeChild(j)};return function(e){a.observe(e.element,"keydown",function(g){if(g.keyCode!==b.BACKSPACE_KEY){return}var f=e.selection.getSelectedNode();c(f,e.element)})}})()})(wysihtml5);(function(b){var a="%7E";b.quirks.getCorrectInnerHTML=function(e){var j=e.innerHTML;if(j.indexOf(a)===-1){return j}var g=e.querySelectorAll("[href*='~'], [src*='~']"),c,h,f,d;for(d=0,f=g.length;d<f;d++){c=g[d].href||g[d].src;h=b.lang.string(c).replace("~").by(a);j=b.lang.string(j).replace(h).by(c)}return j}})(wysihtml5);(function(d){var c=d.dom,b=["LI","P","H1","H2","H3","H4","H5","H6"],a=["UL","OL","MENU"];d.quirks.insertLineBreakOnReturn=function(g){function e(k){var h=c.getParentElement(k,{nodeName:["P","DIV"]},2);if(!h){return}var j=document.createTextNode(d.INVISIBLE_SPACE);c.insert(j).before(h);c.replaceWithChildNodes(h);g.selection.selectNode(j)}function f(j){var l=j.keyCode;if(j.shiftKey||(l!==d.ENTER_KEY&&l!==d.BACKSPACE_KEY)){return}var h=j.target,k=g.selection.getSelectedNode(),m=c.getParentElement(k,{nodeName:b},4);if(m){if(m.nodeName==="LI"&&(l===d.ENTER_KEY||l===d.BACKSPACE_KEY)){setTimeout(function(){var o=g.selection.getSelectedNode(),n,p;if(!o){return}n=c.getParentElement(o,{nodeName:a},2);if(n){return}e(o)},0)}else{if(m.nodeName.match(/H[1-6]/)&&l===d.ENTER_KEY){setTimeout(function(){e(g.selection.getSelectedNode())},0)}}return}if(l===d.ENTER_KEY&&!d.browser.insertsLineBreaksOnReturn()){g.commands.exec("insertLineBreak");j.preventDefault()}}c.observe(g.element.ownerDocument,"keydown",f)}})(wysihtml5);(function(b){var a="wysihtml5-quirks-redraw";b.quirks.redraw=function(c){b.dom.addClass(c,a);b.dom.removeClass(c,a);try{var f=c.ownerDocument;f.execCommand("italic",false,null);f.execCommand("italic",false,null)}catch(d){}}})(wysihtml5);(function(c){var b=c.dom;function a(d){var e=0;if(d.parentNode){do{e+=d.offsetTop||0;d=d.offsetParent}while(d)}return e}c.Selection=Base.extend({constructor:function(d){window.rangy.init();this.editor=d;this.composer=d.composer;this.doc=this.composer.doc},getBookmark:function(){var d=this.getRange();return d&&d.cloneRange()},setBookmark:function(d){if(!d){return}this.setSelection(d)},setBefore:function(e){var d=rangy.createRange(this.doc);d.setStartBefore(e);d.setEndBefore(e);return this.setSelection(d)},setAfter:function(e){var d=rangy.createRange(this.doc);d.setStartAfter(e);d.setEndAfter(e);return this.setSelection(d)},selectNode:function(d){var g=rangy.createRange(this.doc),k=d.nodeType===c.ELEMENT_NODE,m="canHaveHTML" in d?d.canHaveHTML:(d.nodeName!=="IMG"),j=k?d.innerHTML:d.data,f=(j===""||j===c.INVISIBLE_SPACE),l=b.getStyle("display").from(d),n=(l==="block"||l==="list-item");if(f&&k&&m){try{d.innerHTML=c.INVISIBLE_SPACE}catch(h){}}if(m){g.selectNodeContents(d)}else{g.selectNode(d)}if(m&&f&&k){g.collapse(n)}else{if(m&&f){g.setStartAfter(d);g.setEndAfter(d)}}this.setSelection(g)},getSelectedNode:function(e){var f,d;if(e&&this.doc.selection&&this.doc.selection.type==="Control"){d=this.doc.selection.createRange();if(d&&d.length){return d.item(0)}}f=this.getSelection(this.doc);if(f.focusNode===f.anchorNode){return f.focusNode}else{d=this.getRange(this.doc);return d?d.commonAncestorContainer:this.doc.body}},executeAndRestore:function(d,o){var h=this.doc.body,f=o&&h.scrollTop,j=o&&h.scrollLeft,m="_wysihtml5-temp-placeholder",p='<span class="'+m+'">'+c.INVISIBLE_SPACE+"</span>",g=this.getRange(this.doc),n;if(!g){d(h,h);return}var e=g.createContextualFragment(p);g.insertNode(e);try{d(g.startContainer,g.endContainer)}catch(l){setTimeout(function(){throw l},0)}caretPlaceholder=this.doc.querySelector("."+m);if(caretPlaceholder){n=rangy.createRange(this.doc);n.selectNode(caretPlaceholder);n.deleteContents();this.setSelection(n)}else{h.focus()}if(o){h.scrollTop=f;h.scrollLeft=j}try{caretPlaceholder.parentNode.removeChild(caretPlaceholder)}catch(k){}},executeAndRestoreSimple:function(d){var h=this.getRange(),j=this.doc.body,q,f,g,m,k;if(!h){d(j,j);return}m=h.getNodes([3]);f=m[0]||h.startContainer;g=m[m.length-1]||h.endContainer;k={collapsed:h.collapsed,startContainer:f,startOffset:f===h.startContainer?h.startOffset:0,endContainer:g,endOffset:g===h.endContainer?h.endOffset:g.length};try{d(h.startContainer,h.endContainer)}catch(l){setTimeout(function(){throw l},0)}q=rangy.createRange(this.doc);try{q.setStart(k.startContainer,k.startOffset)}catch(p){}try{q.setEnd(k.endContainer,k.endOffset)}catch(o){}try{this.setSelection(q)}catch(n){}},insertHTML:function(e){var d=rangy.createRange(this.doc),g=d.createContextualFragment(e),f=g.lastChild;this.insertNode(g);if(f){this.setAfter(f)}},insertNode:function(e){var d=this.getRange();if(d){d.insertNode(e)}},surround:function(f){var d=this.getRange();if(!d){return}try{d.surroundContents(f);this.selectNode(f)}catch(g){f.appendChild(d.extractContents());d.insertNode(f)}},scrollIntoView:function(){var g=this.doc,f=g.documentElement.scrollHeight>g.documentElement.offsetHeight,d=g._wysihtml5ScrollIntoViewElement=g._wysihtml5ScrollIntoViewElement||(function(){var h=g.createElement("span");h.innerHTML=c.INVISIBLE_SPACE;return h})(),e;if(f){this.insertNode(d);e=a(d);d.parentNode.removeChild(d);if(e>g.body.scrollTop){g.body.scrollTop=e}}},selectLine:function(){if(c.browser.supportsSelectionModify()){this._selectLine_W3C()}else{if(this.doc.selection){this._selectLine_MSIE()}}},_selectLine_W3C:function(){var e=this.doc.defaultView,d=e.getSelection();d.modify("extend","left","lineboundary");d.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var l=this.doc.selection.createRange(),h=l.boundingTop,p=l.boundingHeight,k=this.doc.body.scrollWidth,e,d,m,g,f;if(!l.moveToPoint){return}if(h===0){m=this.doc.createElement("span");this.insertNode(m);h=m.offsetTop;m.parentNode.removeChild(m)}h+=1;for(g=-10;g<k;g+=2){try{l.moveToPoint(g,h);break}catch(o){}}e=h;d=this.doc.selection.createRange();for(f=k;f>=0;f--){try{d.moveToPoint(f,e);break}catch(n){}}l.setEndPoint("EndToEnd",d);l.select()},getText:function(){var d=this.getSelection();return d?d.toString():""},getNodes:function(d,f){var e=this.getRange();if(e){return e.getNodes([d],f)}else{return[]}},getRange:function(){var d=this.getSelection();return d&&d.rangeCount&&d.getRangeAt(0)},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(d){var f=this.doc.defaultView||this.doc.parentWindow,e=rangy.getSelection(f);return e.setSingleRange(d)}})})(wysihtml5);(function(o,k){var h="span";var f=/\s+/g;function d(r,p,q){if(!r.className){return false}var s=r.className.match(q)||[];return s[s.length-1]===p}function j(r,p,q){if(r.className){m(r,q);r.className+=" "+p}else{r.className=p}}function m(q,p){if(q.className){q.className=q.className.replace(p,"")}}function n(q,p){return q.className.replace(f," ")==p.className.replace(f," ")}function a(q){var p=q.parentNode;while(q.firstChild){p.insertBefore(q.firstChild,q)}p.removeChild(q)}function e(v,t){if(v.attributes.length!=t.attributes.length){return false}for(var u=0,p=v.attributes.length,s,q,r;u<p;++u){s=v.attributes[u];r=s.name;if(r!="class"){q=t.attributes.getNamedItem(r);if(s.specified!=q.specified){return false}if(s.specified&&s.nodeValue!==q.nodeValue){return false}}}return true}function c(p,q){if(k.dom.isCharacterDataNode(p)){if(q==0){return !!p.previousSibling}else{if(q==p.length){return !!p.nextSibling}else{return true}}}return q>0&&q<p.childNodes.length}function b(s,q,r){var p;if(k.dom.isCharacterDataNode(q)){if(r==0){r=k.dom.getNodeIndex(q);q=q.parentNode}else{if(r==q.length){r=k.dom.getNodeIndex(q)+1;q=q.parentNode}else{p=k.dom.splitDataNode(q,r)}}}if(!p){p=q.cloneNode(false);if(p.id){p.removeAttribute("id")}var t;while((t=q.childNodes[r])){p.appendChild(t)}k.dom.insertAfter(p,q)}return(q==s)?p:b(s,p.parentNode,k.dom.getNodeIndex(p))}function g(p){this.isElementMerge=(p.nodeType==o.ELEMENT_NODE);this.firstTextNode=this.isElementMerge?p.lastChild:p;this.textNodes=[this.firstTextNode]}g.prototype={doMerge:function(){var u=[],t,r,s;for(var q=0,p=this.textNodes.length;q<p;++q){t=this.textNodes[q];r=t.parentNode;u[q]=t.data;if(q){r.removeChild(t);if(!r.hasChildNodes()){r.parentNode.removeChild(r)}}}this.firstTextNode.data=s=u.join("");return s},getLength:function(){var q=this.textNodes.length,p=0;while(q--){p+=this.textNodes[q].length}return p},toString:function(){var r=[];for(var q=0,p=this.textNodes.length;q<p;++q){r[q]="'"+this.textNodes[q].data+"'"}return"[Merge("+r.join(",")+")]"}};function l(p,r,q,s){this.tagNames=p||[h];this.cssClass=r||"";this.similarClassRegExp=q;this.normalize=s;this.applyToAnyTagName=false}l.prototype={getAncestorWithClass:function(q){var p;while(q){p=this.cssClass?d(q,this.cssClass,this.similarClassRegExp):true;if(q.nodeType==o.ELEMENT_NODE&&k.dom.arrayContains(this.tagNames,q.tagName.toLowerCase())&&p){return q}q=q.parentNode}return false},postApply:function(B,x){var p=B[0],q=B[B.length-1];var s=[],C;var u=p,r=q;var z=0,D=q.length;var t,w;for(var v=0,y=B.length;v<y;++v){t=B[v];w=this.getAdjacentMergeableTextNode(t.parentNode,false);if(w){if(!C){C=new g(w);s.push(C)}C.textNodes.push(t);if(t===p){u=C.firstTextNode;z=u.length}if(t===q){r=C.firstTextNode;D=C.getLength()}}else{C=null}}var A=this.getAdjacentMergeableTextNode(q.parentNode,true);if(A){if(!C){C=new g(q);s.push(C)}C.textNodes.push(A)}if(s.length){for(v=0,y=s.length;v<y;++v){s[v].doMerge()}x.setStart(u,z);x.setEnd(r,D)}},getAdjacentMergeableTextNode:function(r,p){var t=(r.nodeType==o.TEXT_NODE);var q=t?r.parentNode:r;var u;var s=p?"nextSibling":"previousSibling";if(t){u=r[s];if(u&&u.nodeType==o.TEXT_NODE){return u}}else{u=q[s];if(u&&this.areElementsMergeable(r,u)){return u[p?"firstChild":"lastChild"]}}return null},areElementsMergeable:function(q,p){return k.dom.arrayContains(this.tagNames,(q.tagName||"").toLowerCase())&&k.dom.arrayContains(this.tagNames,(p.tagName||"").toLowerCase())&&n(q,p)&&e(q,p)},createContainer:function(q){var p=q.createElement(this.tagNames[0]);if(this.cssClass){p.className=this.cssClass}return p},applyToTextNode:function(r){var q=r.parentNode;if(q.childNodes.length==1&&k.dom.arrayContains(this.tagNames,q.tagName.toLowerCase())){if(this.cssClass){j(q,this.cssClass,this.similarClassRegExp)}}else{var p=this.createContainer(k.dom.getDocument(r));r.parentNode.insertBefore(p,r);p.appendChild(r)}},isRemovable:function(p){return k.dom.arrayContains(this.tagNames,p.tagName.toLowerCase())&&o.lang.string(p.className).trim()==this.cssClass},undoToTextNode:function(s,q,r){if(!q.containsNode(r)){var p=q.cloneRange();p.selectNode(r);if(p.isPointInRange(q.endContainer,q.endOffset)&&c(q.endContainer,q.endOffset)){b(r,q.endContainer,q.endOffset);q.setEndAfter(r)}if(p.isPointInRange(q.startContainer,q.startOffset)&&c(q.startContainer,q.startOffset)){r=b(r,q.startContainer,q.startOffset)}}if(this.similarClassRegExp){m(r,this.similarClassRegExp)}if(this.isRemovable(r)){a(r)}},applyToRange:function(q){var t=q.getNodes([o.TEXT_NODE]);if(!t.length){try{var s=this.createContainer(q.endContainer.ownerDocument);q.surroundContents(s);this.selectNode(q,s);return}catch(u){}}q.splitBoundaries();t=q.getNodes([o.TEXT_NODE]);if(t.length){var v;for(var r=0,p=t.length;r<p;++r){v=t[r];if(!this.getAncestorWithClass(v)){this.applyToTextNode(v)}}q.setStart(t[0],0);v=t[t.length-1];q.setEnd(v,v.length);if(this.normalize){this.postApply(t,q)}}},undoToRange:function(q){var t=q.getNodes([o.TEXT_NODE]),w,u;if(t.length){q.splitBoundaries();t=q.getNodes([o.TEXT_NODE])}else{var v=q.endContainer.ownerDocument,s=v.createTextNode(o.INVISIBLE_SPACE);q.insertNode(s);q.selectNode(s);t=[s]}for(var r=0,p=t.length;r<p;++r){w=t[r];u=this.getAncestorWithClass(w);if(u){this.undoToTextNode(w,q,u)}}if(p==1){this.selectNode(q,t[0])}else{q.setStart(t[0],0);w=t[t.length-1];q.setEnd(w,w.length);if(this.normalize){this.postApply(t,q)}}},selectNode:function(q,t){var s=t.nodeType===o.ELEMENT_NODE,p="canHaveHTML" in t?t.canHaveHTML:true,r=s?t.innerHTML:t.data,v=(r===""||r===o.INVISIBLE_SPACE);if(v&&s&&p){try{t.innerHTML=o.INVISIBLE_SPACE}catch(u){}}q.selectNodeContents(t);if(v&&s){q.collapse(false)}else{if(v){q.setStartAfter(t);q.setEndAfter(t)}}},getTextSelectedByRange:function(t,p){var q=p.cloneRange();q.selectNodeContents(t);var r=q.intersection(p);var s=r?r.toString():"";q.detach();return s},isAppliedToRange:function(q){var t=[],s,u=q.getNodes([o.TEXT_NODE]);if(!u.length){s=this.getAncestorWithClass(q.startContainer);return s?[s]:false}for(var r=0,p=u.length,v;r<p;++r){v=this.getTextSelectedByRange(u[r],q);s=this.getAncestorWithClass(u[r]);if(v!=""&&!s){return false}else{t.push(s)}}return t},toggleRange:function(p){if(this.isAppliedToRange(p)){this.undoToRange(p)}else{this.applyToRange(p)}}};o.selection.HTMLApplier=l})(wysihtml5,rangy);wysihtml5.Commands=Base.extend({constructor:function(a){this.editor=a;this.composer=a.composer;this.doc=this.composer.doc},support:function(a){return wysihtml5.browser.supportsCommand(this.doc,a)},exec:function(g,c){var f=wysihtml5.commands[g],b=wysihtml5.lang.array(arguments).get(),h=f&&f.exec,a=null;this.editor.fire("beforecommand:composer");if(h){b.unshift(this.composer);a=h.apply(f,b)}else{try{a=this.doc.execCommand(g,false,c)}catch(d){}}this.editor.fire("aftercommand:composer");return a},state:function(f,a){var d=wysihtml5.commands[f],b=wysihtml5.lang.array(arguments).get(),g=d&&d.state;if(g){b.unshift(this.composer);return g.apply(d,b)}else{try{return this.doc.queryCommandState(f)}catch(c){return false}}},value:function(c){var b=wysihtml5.commands[c],d=b&&b.value;if(d){return d.call(b,this.composer,c)}else{try{return this.doc.queryCommandValue(c)}catch(a){return null}}}});(function(b){var a;b.commands.bold={exec:function(c,d){return b.commands.formatInline.exec(c,d,"b")},state:function(d,e,c){return b.commands.formatInline.state(d,e,"b")},value:function(){return a}}})(wysihtml5);(function(f){var d,c="A",e=f.dom;function a(h,n){var m=n.length,j=0,g,l,k;for(;j<m;j++){g=n[j];l=e.getParentElement(g,{nodeName:"code"});k=e.getTextContent(g);if(k.match(e.autoLink.URL_REG_EXP)&&!l){l=e.renameElement(g,"code")}else{e.replaceWithChildNodes(g)}}}function b(g,m){var u=g.doc,r="_wysihtml5-temp-"+(+new Date()),w=/non-matching-class/g,q=0,k,h,p,t,o,n,s,v,l;f.commands.formatInline.exec(g,d,c,r,w);h=u.querySelectorAll(c+"."+r);k=h.length;for(;q<k;q++){p=h[q];p.removeAttribute("class");for(l in m){p.setAttribute(l,m[l])}}n=p;if(k===1){s=e.getTextContent(p);t=!!p.querySelector("*");o=s===""||s===f.INVISIBLE_SPACE;if(!t&&o){e.setTextContent(p,m.text||p.href);v=u.createTextNode(" ");g.selection.setAfter(p);g.selection.insertNode(v);n=v}}g.selection.setAfter(n)}f.commands.createLink={exec:function(g,k,j){var h=this.state(g,k);if(h){g.selection.executeAndRestore(function(){a(g,h)})}else{j=typeof(j)==="object"?j:{href:j};b(g,j)}},state:function(g,h){return f.commands.formatInline.state(g,h,"A")},value:function(){return d}}})(wysihtml5);(function(c){var b,a=/wysiwyg-font-size-[a-z\-]+/g;c.commands.fontSize={exec:function(d,f,e){return c.commands.formatInline.exec(d,f,"span","wysiwyg-font-size-"+e,a)},state:function(d,f,e){return c.commands.formatInline.state(d,f,"span","wysiwyg-font-size-"+e,a)},value:function(){return b}}})(wysihtml5);(function(c){var b,a=/wysiwyg-color-[a-z]+/g;c.commands.foreColor={exec:function(e,f,d){return c.commands.formatInline.exec(e,f,"span","wysiwyg-color-"+d,a)},state:function(e,f,d){return c.commands.formatInline.state(e,f,"span","wysiwyg-color-"+d,a)},value:function(){return b}}})(wysihtml5);(function(h){var b,p=h.dom,a="DIV",q=["H1","H2","H3","H4","H5","H6","P","BLOCKQUOTE",a];function n(t,u,v){if(t.className){g(t,v);t.className+=" "+u}else{t.className=u}}function g(t,u){t.className=t.className.replace(u,"")}function j(t){return t.nodeType===h.TEXT_NODE&&!h.lang.string(t.data).trim()}function k(u){var t=u.previousSibling;while(t&&j(t)){t=t.previousSibling}return t}function l(t){var u=t.nextSibling;while(u&&j(u)){u=u.nextSibling}return u}function f(u){var w=u.ownerDocument,v=l(u),t=k(u);if(v&&!e(v)){u.parentNode.insertBefore(w.createElement("br"),v)}if(t&&!e(t)){u.parentNode.insertBefore(w.createElement("br"),u)}}function c(u){var v=l(u),t=k(u);if(v&&m(v)){v.parentNode.removeChild(v)}if(t&&m(t)){t.parentNode.removeChild(t)}}function o(u){var t=u.lastChild;if(t&&m(t)){t.parentNode.removeChild(t)}}function m(t){return t.nodeName==="BR"}function e(t){if(m(t)){return true}if(p.getStyle("display").from(t)==="block"){return true}return false}function d(v,w,x,u){if(u){var t=p.observe(v,"DOMNodeInserted",function(z){var A=z.target,y;if(A.nodeType!==h.ELEMENT_NODE){return}y=p.getStyle("display").from(A);if(y.substr(0,6)!=="inline"){A.className+=" "+u}})}v.execCommand(w,false,x);if(t){t.stop()}}function r(t,u){t.selection.selectLine();t.selection.surround(u);c(u);o(u);t.selection.selectNode(u)}function s(t){return !!h.lang.string(t.className).trim()}h.commands.formatBlock={exec:function(t,z,A,u,w){var x=t.doc,y=this.state(t,z,A,u,w),v;A=typeof(A)==="string"?A.toUpperCase():A;if(y){t.selection.executeAndRestoreSimple(function(){if(w){g(y,w)}var B=s(y);if(!B&&y.nodeName===(A||a)){f(y);p.replaceWithChildNodes(y)}else{if(B){p.renameElement(y,a)}}});return}if(A===null||h.lang.array(q).contains(A)){v=t.selection.getSelectedNode();y=p.getParentElement(v,{nodeName:q});if(y){t.selection.executeAndRestoreSimple(function(){if(A){y=p.renameElement(y,A)}if(u){n(y,u,w)}});return}}if(t.commands.support(z)){d(x,z,A||a,u);return}y=x.createElement(A||a);if(u){y.className=u}r(t,y)},state:function(t,x,y,u,w){y=typeof(y)==="string"?y.toUpperCase():y;var v=t.selection.getSelectedNode();return p.getParentElement(v,{nodeName:y,className:u,classRegExp:w})},value:function(){return b}}})(wysihtml5);(function(f){var c,d={strong:"b",em:"i",b:"strong",i:"em"},e={};function b(h){var g=d[h];return g?[h.toLowerCase(),g.toLowerCase()]:[h.toLowerCase()]}function a(h,j,k){var g=h+":"+j;if(!e[g]){e[g]=new f.selection.HTMLApplier(b(h),j,k,true)}return e[g]}f.commands.formatInline={exec:function(h,m,j,k,l){var g=h.selection.getRange();if(!g){return false}a(j,k,l).toggleRange(g);h.selection.setSelection(g)},state:function(h,n,j,k,l){var m=h.doc,o=d[j]||j,g;if(!f.dom.hasElementWithTagName(m,j)&&!f.dom.hasElementWithTagName(m,o)){return false}if(k&&!f.dom.hasElementWithClassName(m,k)){return false}g=h.selection.getRange();if(!g){return false}return a(j,k,l).isAppliedToRange(g)},value:function(){return c}}})(wysihtml5);(function(b){var a;b.commands.insertHTML={exec:function(c,e,d){if(c.commands.support(e)){c.doc.execCommand(e,false,d)}else{c.selection.insertHTML(d)}},state:function(){return false},value:function(){return a}}})(wysihtml5);(function(b){var a="IMG";b.commands.insertImage={exec:function(c,k,f){f=typeof(f)==="object"?f:{src:f};var h=c.doc,g=this.state(c),j,d,e;if(g){c.selection.setBefore(g);e=g.parentNode;e.removeChild(g);b.dom.removeEmptyTextNodes(e);if(e.nodeName==="A"&&!e.firstChild){c.selection.setAfter(e);e.parentNode.removeChild(e)}b.quirks.redraw(c.element);return}g=h.createElement(a);for(d in f){g[d]=f[d]}c.selection.insertNode(g);if(b.browser.hasProblemsSettingCaretAfterImg()){j=h.createTextNode(b.INVISIBLE_SPACE);c.selection.insertNode(j);c.selection.setAfter(j)}else{c.selection.setAfter(g)}},state:function(d){var f=d.doc,e,g,c;if(!b.dom.hasElementWithTagName(f,a)){return false}e=d.selection.getSelectedNode();if(!e){return false}if(e.nodeName===a){return e}if(e.nodeType!==b.ELEMENT_NODE){return false}g=d.selection.getText();g=b.lang.string(g).trim();if(g){return false}c=d.selection.getNodes(b.ELEMENT_NODE,function(h){return h.nodeName==="IMG"});if(c.length!==1){return false}return c[0]},value:function(c){var d=this.state(c);return d&&d.src}}})(wysihtml5);(function(c){var b,a="<br>"+(c.browser.needsSpaceAfterLineBreak()?" ":"");c.commands.insertLineBreak={exec:function(d,e){if(d.commands.support(e)){d.doc.execCommand(e,false,null);if(!c.browser.autoScrollsToCaret()){d.selection.scrollIntoView()}}else{d.commands.exec("insertHTML",a)}},state:function(){return false},value:function(){return b}}})(wysihtml5);(function(b){var a;b.commands.insertOrderedList={exec:function(c,f){var l=c.doc,h=c.selection.getSelectedNode(),j=b.dom.getParentElement(h,{nodeName:"OL"}),k=b.dom.getParentElement(h,{nodeName:"UL"}),e="_wysihtml5-temp-"+new Date().getTime(),g,d;if(c.commands.support(f)){l.execCommand(f,false,null);return}if(j){c.selection.executeAndRestoreSimple(function(){b.dom.resolveList(j)})}else{if(k){c.selection.executeAndRestoreSimple(function(){b.dom.renameElement(k,"ol")})}else{c.commands.exec("formatBlock","div",e);d=l.querySelector("."+e);g=d.innerHTML===""||d.innerHTML===b.INVISIBLE_SPACE;c.selection.executeAndRestoreSimple(function(){j=b.dom.convertToList(d,"ol")});if(g){c.selection.selectNode(j.querySelector("li"))}}}},state:function(c){var d=c.selection.getSelectedNode();return b.dom.getParentElement(d,{nodeName:"OL"})},value:function(){return a}}})(wysihtml5);(function(b){var a;b.commands.insertUnorderedList={exec:function(c,f){var l=c.doc,h=c.selection.getSelectedNode(),j=b.dom.getParentElement(h,{nodeName:"UL"}),k=b.dom.getParentElement(h,{nodeName:"OL"}),e="_wysihtml5-temp-"+new Date().getTime(),g,d;if(c.commands.support(f)){l.execCommand(f,false,null);return}if(j){c.selection.executeAndRestoreSimple(function(){b.dom.resolveList(j)})}else{if(k){c.selection.executeAndRestoreSimple(function(){b.dom.renameElement(k,"ul")})}else{c.commands.exec("formatBlock","div",e);d=l.querySelector("."+e);g=d.innerHTML===""||d.innerHTML===b.INVISIBLE_SPACE;c.selection.executeAndRestoreSimple(function(){j=b.dom.convertToList(d,"ul")});if(g){c.selection.selectNode(j.querySelector("li"))}}}},state:function(c){var d=c.selection.getSelectedNode();return b.dom.getParentElement(d,{nodeName:"UL"})},value:function(){return a}}})(wysihtml5);(function(b){var a;b.commands.italic={exec:function(c,d){return b.commands.formatInline.exec(c,d,"i")},state:function(d,e,c){return b.commands.formatInline.state(d,e,"i")},value:function(){return a}}})(wysihtml5);(function(d){var b,c="wysiwyg-text-align-center",a=/wysiwyg-text-align-[a-z]+/g;d.commands.justifyCenter={exec:function(e,f){return d.commands.formatBlock.exec(e,"formatBlock",null,c,a)},state:function(e,f){return d.commands.formatBlock.state(e,"formatBlock",null,c,a)},value:function(){return b}}})(wysihtml5);(function(d){var b,c="wysiwyg-text-align-left",a=/wysiwyg-text-align-[a-z]+/g;d.commands.justifyLeft={exec:function(e,f){return d.commands.formatBlock.exec(e,"formatBlock",null,c,a)},state:function(e,f){return d.commands.formatBlock.state(e,"formatBlock",null,c,a)},value:function(){return b}}})(wysihtml5);(function(d){var b,c="wysiwyg-text-align-right",a=/wysiwyg-text-align-[a-z]+/g;d.commands.justifyRight={exec:function(e,f){return d.commands.formatBlock.exec(e,"formatBlock",null,c,a)},state:function(e,f){return d.commands.formatBlock.state(e,"formatBlock",null,c,a)},value:function(){return b}}})(wysihtml5);(function(b){var a;b.commands.underline={exec:function(c,d){return b.commands.formatInline.exec(c,d,"u")},state:function(c,d){return b.commands.formatInline.state(c,d,"u")},value:function(){return a}}})(wysihtml5);(function(k){var f=90,h=89,j=8,b=46,a=40,g='<span id="_wysihtml5-undo" class="_wysihtml5-temp">'+k.INVISIBLE_SPACE+"</span>",e='<span id="_wysihtml5-redo" class="_wysihtml5-temp">'+k.INVISIBLE_SPACE+"</span>",d=k.dom;function c(m){var l;while(l=m.querySelector("._wysihtml5-temp")){l.parentNode.removeChild(l)}}k.UndoManager=k.lang.Dispatcher.extend({constructor:function(l){this.editor=l;this.composer=l.composer;this.element=this.composer.element;this.history=[this.composer.getValue()];this.position=1;if(this.composer.commands.support("insertHTML")){this._observe()}},_observe:function(){var o=this,q=this.composer.sandbox.getDocument(),l;d.observe(this.element,"keydown",function(t){if(t.altKey||(!t.ctrlKey&&!t.metaKey)){return}var u=t.keyCode,r=u===f&&!t.shiftKey,s=(u===f&&t.shiftKey)||(u===h);if(r){o.undo();t.preventDefault()}else{if(s){o.redo();t.preventDefault()}}});d.observe(this.element,"keydown",function(r){var s=r.keyCode;if(s===l){return}l=s;if(s===j||s===b){o.transact()}});if(k.browser.hasUndoInContextMenu()){var m,n,p=function(){c(q);clearInterval(m)};d.observe(this.element,"contextmenu",function(){p();o.composer.selection.executeAndRestoreSimple(function(){if(o.element.lastChild){o.composer.selection.setAfter(o.element.lastChild)}q.execCommand("insertHTML",false,g);q.execCommand("insertHTML",false,e);q.execCommand("undo",false,null)});m=setInterval(function(){if(q.getElementById("_wysihtml5-redo")){p();o.redo()}else{if(!q.getElementById("_wysihtml5-undo")){p();o.undo()}}},400);if(!n){n=true;d.observe(document,"mousedown",p);d.observe(q,["mousedown","paste","cut","copy"],p)}})}this.editor.observe("newword:composer",function(){o.transact()}).observe("beforecommand:composer",function(){o.transact()})},transact:function(){var n=this.history[this.position-1],l=this.composer.getValue();if(l==n){return}var m=this.history.length=this.position;if(m>a){this.history.shift();this.position--}this.position++;this.history.push(l)},undo:function(){this.transact();if(this.position<=1){return}this.set(this.history[--this.position-1]);this.editor.fire("undo:composer")},redo:function(){if(this.position>=this.history.length){return}this.set(this.history[++this.position-1]);this.editor.fire("redo:composer")},set:function(l){this.composer.setValue(l);this.editor.focus(true)}})})(wysihtml5);wysihtml5.views.View=Base.extend({constructor:function(b,c,a){this.parent=b;this.element=c;this.config=a;this._observeViewChange()},_observeViewChange:function(){var a=this;this.parent.observe("beforeload",function(){a.parent.observe("change_view",function(b){if(b===a.name){a.parent.currentView=a;a.show();setTimeout(function(){a.focus()},0)}else{a.hide()}})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")===this.element){return}try{this.element.focus()}catch(a){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}});(function(c){var b=c.dom,a=c.browser;c.views.Composer=c.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(e,f,d){this.base(e,f,d);this.textarea=this.parent.textarea;this._initSandbox()},clear:function(){this.element.innerHTML=a.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(e){var d=this.isEmpty()?"":c.quirks.getCorrectInnerHTML(this.element);if(e){d=this.parent.parse(d)}d=c.lang.string(d).replace(c.INVISIBLE_SPACE).by("");return d},setValue:function(d,e){if(e){d=this.parent.parse(d)}this.element.innerHTML=d},show:function(){this.iframe.style.display=this._displayStyle||"";this.disable();this.enable()},hide:function(){this._displayStyle=b.getStyle("display").from(this.iframe);if(this._displayStyle==="none"){this._displayStyle=null}this.iframe.style.display="none"},disable:function(){this.element.removeAttribute("contentEditable");this.base()},enable:function(){this.element.setAttribute("contentEditable","true");this.base()},focus:function(e){if(c.browser.doesAsyncFocus()&&this.hasPlaceholderSet()){this.clear()}this.base();var d=this.element.lastChild;if(e&&d){if(d.nodeName==="BR"){this.selection.setBefore(this.element.lastChild)}else{this.selection.setAfter(this.element.lastChild)}}},getTextContent:function(){return b.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==this.textarea.element.getAttribute("placeholder")},isEmpty:function(){var e=this.element.innerHTML,d="blockquote, ul, ol, img, embed, object, table, iframe, svg, video, audio, button, input, select, textarea";return e===""||e===this.CARET_HACK||this.hasPlaceholderSet()||(this.getTextContent()===""&&!this.element.querySelector(d))},_initSandbox:function(){var e=this;this.sandbox=new b.Sandbox(function(){e._create()},{stylesheets:this.config.stylesheets});this.iframe=this.sandbox.getIframe();var d=document.createElement("input");d.type="hidden";d.name="_wysihtml5_mode";d.value=1;var f=this.textarea.element;b.insert(this.iframe).after(f);b.insert(d).after(f)},_create:function(){var f=this;this.doc=this.sandbox.getDocument();this.element=this.doc.body;this.textarea=this.parent.textarea;this.element.innerHTML=this.textarea.getValue(true);this.enable();this.selection=new c.Selection(this.parent);this.commands=new c.Commands(this.parent);b.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element);b.addClass(this.element,this.config.composerClassName);if(this.config.style){this.style()}this.observe();var e=this.config.name;if(e){b.addClass(this.element,e);b.addClass(this.iframe,e)}var d=typeof(this.config.placeholder)==="string"?this.config.placeholder:this.textarea.element.getAttribute("placeholder");if(d){b.simulatePlaceholder(this.parent,this,d)}this.commands.exec("styleWithCSS",false);this._initAutoLinking();this._initObjectResizing();this._initUndoManager();if(this.textarea.element.hasAttribute("autofocus")||document.querySelector(":focus")==this.textarea.element){setTimeout(function(){f.focus()},100)}c.quirks.insertLineBreakOnReturn(this);if(!a.clearsContentEditableCorrectly()){c.quirks.ensureProperClearing(this)}if(!a.clearsListsInContentEditableCorrectly()){c.quirks.ensureProperClearingOfLists(this)}if(this.initSync&&this.config.sync){this.initSync()}this.textarea.hide();this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var h=this,e=a.canDisableAutoLinking(),f=a.doesAutoLinkingInContentEditable();if(e){this.commands.exec("autoUrlDetect",false)}if(!this.config.autoLink){return}if(!f||(f&&e)){this.parent.observe("newword:composer",function(){h.selection.executeAndRestore(function(k,l){b.autoLink(l.parentNode)})})}var d=this.sandbox.getDocument().getElementsByTagName("a"),j=b.autoLink.URL_REG_EXP,g=function(k){var l=c.lang.string(b.getTextContent(k)).trim();if(l.substr(0,4)==="www."){l="http://"+l}return l};b.observe(this.element,"keydown",function(m){if(!d.length){return}var n=h.selection.getSelectedNode(m.target.ownerDocument),l=b.getParentElement(n,{nodeName:"A"},4),k;if(!l){return}k=g(l);setTimeout(function(){var o=g(l);if(o===k){return}if(o.match(j)){l.setAttribute("href",o)}},0)})},_initObjectResizing:function(){var f=["width","height"],e=f.length,d=this.element;this.commands.exec("enableObjectResizing",this.config.allowObjectResizing);if(this.config.allowObjectResizing){if(a.supportsEvent("resizeend")){b.observe(d,"resizeend",function(j){var l=j.target||j.srcElement,h=l.style,g=0,k;for(;g<e;g++){k=f[g];if(h[k]){l.setAttribute(k,parseInt(h[k],10));h[k]=""}}c.quirks.redraw(d)})}}else{if(a.supportsEvent("resizestart")){b.observe(d,"resizestart",function(g){g.preventDefault()})}}},_initUndoManager:function(){new c.UndoManager(this.parent)}})})(wysihtml5);(function(k){var a=k.dom,g=document,d=window,e=g.createElement("div"),b=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],h=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],c=["width","height","top","left","right","bottom"],f=["html             { height: 100%; }","body             { min-height: 100%; padding: 0; margin: 0; margin-top: -1px; padding-top: 1px; }","._wysihtml5-temp { display: none; }",k.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","body[disabled]   { background-color: #eee !important; color: #999 !important; cursor: default !important; }","img:-moz-broken  { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"];var j=function(n){if(n.setActive){try{n.setActive()}catch(p){}}else{var o=n.style,q=g.documentElement.scrollTop||g.body.scrollTop,m=g.documentElement.scrollLeft||g.body.scrollLeft,l={position:o.position,top:o.top,left:o.left,WebkitUserSelect:o.WebkitUserSelect};a.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(n);n.focus();a.setStyles(l).on(n);if(d.scrollTo){d.scrollTo(m,q)}}};k.views.Composer.prototype.style=function(){var p=this,o=g.querySelector(":focus"),r=this.textarea.element,l=r.hasAttribute("placeholder"),q=l&&r.getAttribute("placeholder");this.focusStylesHost=this.focusStylesHost||e.cloneNode(false);this.blurStylesHost=this.blurStylesHost||e.cloneNode(false);if(l){r.removeAttribute("placeholder")}if(r===o){r.blur()}a.copyStyles(h).from(r).to(this.iframe).andTo(this.blurStylesHost);a.copyStyles(b).from(r).to(this.element).andTo(this.blurStylesHost);a.insertCSS(f).into(this.element.ownerDocument);j(r);a.copyStyles(h).from(r).to(this.focusStylesHost);a.copyStyles(b).from(r).to(this.focusStylesHost);var n=k.lang.array(h).without(["display"]);if(o){o.focus()}else{r.blur()}if(l){r.setAttribute("placeholder",q)}if(!k.browser.hasCurrentStyleProperty()){var m=a.observe(d,"resize",function(){if(!a.contains(document.documentElement,p.iframe)){m.stop();return}var t=a.getStyle("display").from(r),s=a.getStyle("display").from(p.iframe);r.style.display="";p.iframe.style.display="none";a.copyStyles(c).from(r).to(p.iframe).andTo(p.focusStylesHost).andTo(p.blurStylesHost);p.iframe.style.display=s;r.style.display=t})}this.parent.observe("focus:composer",function(){a.copyStyles(n).from(p.focusStylesHost).to(p.iframe);a.copyStyles(b).from(p.focusStylesHost).to(p.element)});this.parent.observe("blur:composer",function(){a.copyStyles(n).from(p.blurStylesHost).to(p.iframe);a.copyStyles(b).from(p.blurStylesHost).to(p.element)});return this}})(wysihtml5);(function(d){var c=d.dom,b=d.browser,a={"66":"bold","73":"italic","85":"underline"};d.views.Composer.prototype.observe=function(){var j=this,l=this.getValue(),h=this.sandbox.getIframe(),g=this.element,f=b.supportsEventsInIframeCorrectly()?g:this.sandbox.getWindow(),e=b.supportsEvent("drop")?["drop","paste"]:["dragdrop","paste"];c.observe(h,"DOMNodeRemoved",function(){clearInterval(k);j.parent.fire("destroy:composer")});var k=setInterval(function(){if(!c.contains(document.documentElement,h)){clearInterval(k);j.parent.fire("destroy:composer")}},250);c.observe(f,"focus",function(){j.parent.fire("focus").fire("focus:composer");setTimeout(function(){l=j.getValue()},0)});c.observe(f,"blur",function(){if(l!==j.getValue()){j.parent.fire("change").fire("change:composer")}j.parent.fire("blur").fire("blur:composer")});if(d.browser.isIos()){c.observe(g,"blur",function(){var o=g.ownerDocument.createElement("input"),q=document.documentElement.scrollTop||document.body.scrollTop,n=document.documentElement.scrollLeft||document.body.scrollLeft;try{j.selection.insertNode(o)}catch(p){g.appendChild(o)}o.focus();o.parentNode.removeChild(o);window.scrollTo(n,q)})}c.observe(g,"dragenter",function(){j.parent.fire("unset_placeholder")});if(b.firesOnDropOnlyWhenOnDragOverIsCancelled()){c.observe(g,["dragover","dragenter"],function(n){n.preventDefault()})}c.observe(g,e,function(n){var p=n.dataTransfer,o;console.log("PASTED",n);if(p&&b.supportsDataTransfer()){o=p.getData("text/html")||p.getData("text/plain")}if(o){g.focus();j.commands.exec("insertHTML",o);j.parent.fire("paste").fire("paste:composer");n.stopPropagation();n.preventDefault()}else{setTimeout(function(){j.parent.fire("paste").fire("paste:composer")},0)}});c.observe(g,"keyup",function(n){var o=n.keyCode;if(o===d.SPACE_KEY||o===d.ENTER_KEY){j.parent.fire("newword:composer")}});this.parent.observe("paste:composer",function(){setTimeout(function(){j.parent.fire("newword:composer")},0)});if(!b.canSelectImagesInContentEditable()){c.observe(g,"mousedown",function(n){var o=n.target;if(o.nodeName==="IMG"){j.selection.selectNode(o);n.preventDefault()}})}c.observe(g,"keydown",function(n){var o=n.keyCode,p=a[o];if((n.ctrlKey||n.metaKey)&&!n.altKey&&p){j.commands.exec(p);n.preventDefault()}});c.observe(g,"keydown",function(o){var q=j.selection.getSelectedNode(true),p=o.keyCode,n;if(q&&q.nodeName==="IMG"&&(p===d.BACKSPACE_KEY||p===d.DELETE_KEY)){n=q.parentNode;n.removeChild(q);if(n.nodeName==="A"&&!n.firstChild){n.parentNode.removeChild(n)}setTimeout(function(){d.quirks.redraw(g)},0);o.preventDefault()}});var m={IMG:"Image: ",A:"Link: "};c.observe(g,"mouseover",function(o){var p=o.target,r=p.nodeName,q;if(r!=="A"&&r!=="IMG"){return}var n=p.hasAttribute("title");if(!n){q=m[r]+(p.getAttribute("href")||p.getAttribute("src"));p.setAttribute("title",q)}})}})(wysihtml5);(function(b){var a=400;b.views.Synchronizer=Base.extend({constructor:function(e,c,d){this.editor=e;this.textarea=c;this.composer=d;this._observe()},fromComposerToTextarea:function(c){this.textarea.setValue(b.lang.string(this.composer.getValue()).trim(),c)},fromTextareaToComposer:function(d){var c=this.textarea.getValue();if(c){this.composer.setValue(c,d)}else{this.composer.clear();this.editor.fire("set_placeholder")}},sync:function(c){if(this.editor.currentView.name==="textarea"){this.fromTextareaToComposer(c)}else{this.fromComposerToTextarea(c)}},_observe:function(){var c,e=this,d=this.textarea.element.form,g=function(){c=setInterval(function(){e.fromComposerToTextarea()},a)},f=function(){clearInterval(c);c=null};g();if(d){b.dom.observe(d,"submit",function(){e.sync(true)});b.dom.observe(d,"reset",function(){setTimeout(function(){e.fromTextareaToComposer()},0)})}this.editor.observe("change_view",function(h){if(h==="composer"&&!c){e.fromTextareaToComposer(true);g()}else{if(h==="textarea"){e.fromComposerToTextarea(true);f()}}});this.editor.observe("destroy:composer",f)}})})(wysihtml5);wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(b,c,a){this.base(b,c,a);this._observe()},clear:function(){this.element.value=""},getValue:function(b){var a=this.isEmpty()?"":this.element.value;if(b){a=this.parent.parse(a)}return a},setValue:function(a,b){if(b){a=this.parent.parse(a)}this.element.value=a},hasPlaceholderSet:function(){var d=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),a=this.element.getAttribute("placeholder")||null,b=this.element.value,c=!b;return(d&&c)||(b===a)},isEmpty:function(){return !wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var c=this.element,d=this.parent,a={focusin:"focus",focusout:"blur"},b=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];d.observe("beforeload",function(){wysihtml5.dom.observe(c,b,function(f){var e=a[f.type]||f.type;d.fire(e).fire(e+":textarea")});wysihtml5.dom.observe(c,["paste","drop"],function(){setTimeout(function(){d.fire("paste").fire("paste:textarea")},0)})})}});(function(f){var e=f.dom,a="wysihtml5-command-dialog-opened",d="input, select, textarea",b="[data-wysihtml5-dialog-field]",c="data-wysihtml5-dialog-field";f.toolbar.Dialog=f.lang.Dispatcher.extend({constructor:function(h,g){this.link=h;this.container=g},_observe:function(){if(this._observed){return}var k=this,l=function(o){var n=k._serialize();if(n==k.elementToChange){k.fire("edit",n)}else{k.fire("save",n)}k.hide();o.preventDefault();o.stopPropagation()};e.observe(k.link,"click",function(n){if(e.hasClass(k.link,a)){setTimeout(function(){k.hide()},0)}});e.observe(this.container,"keydown",function(n){var o=n.keyCode;if(o===f.ENTER_KEY){l(n)}if(o===f.ESCAPE_KEY){k.hide()}});e.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",l);e.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(n){k.fire("cancel");k.hide();n.preventDefault();n.stopPropagation()});var h=this.container.querySelectorAll(d),g=0,j=h.length,m=function(){clearInterval(k.interval)};for(;g<j;g++){e.observe(h[g],"change",m)}this._observed=true},_serialize:function(){var k=this.elementToChange||{},g=this.container.querySelectorAll(b),j=g.length,h=0;for(;h<j;h++){k[g[h].getAttribute(c)]=g[h].value}return k},_interpolate:function(m){var l,o,k,n=document.querySelector(":focus"),g=this.container.querySelectorAll(b),j=g.length,h=0;for(;h<j;h++){l=g[h];if(l===n){continue}if(m&&l.type==="hidden"){continue}o=l.getAttribute(c);k=this.elementToChange?(this.elementToChange[o]||""):l.defaultValue;l.value=k}},show:function(k){var h=this,g=this.container.querySelector(d);this.elementToChange=k;this._observe();this._interpolate();if(k){this.interval=setInterval(function(){h._interpolate(true)},500)}e.addClass(this.link,a);this.container.style.display="";this.fire("show");if(g&&!k){try{g.focus()}catch(j){}}},hide:function(){clearInterval(this.interval);this.elementToChange=null;e.removeClass(this.link,a);this.container.style.display="none";this.fire("hide")}})})(wysihtml5);(function(f){var e=f.dom;var d={position:"relative"};var c={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1};var b={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"};var a={"x-webkit-speech":"",speech:""};f.toolbar.Speech=function(j,k){var h=document.createElement("input");if(!f.browser.supportsSpeechApiOn(h)){k.style.display="none";return}var l=document.createElement("div");f.lang.object(c).merge({width:k.offsetWidth+"px",height:k.offsetHeight+"px"});e.insert(h).into(l);e.insert(l).into(k);e.setStyles(b).on(h);e.setAttributes(a).on(h);e.setStyles(c).on(l);e.setStyles(d).on(k);var g="onwebkitspeechchange" in h?"webkitspeechchange":"speechchange";e.observe(h,g,function(){j.execCommand("insertText",h.value);h.value=""});e.observe(h,"click",function(m){if(e.hasClass(k,"wysihtml5-command-disabled")){m.preventDefault()}m.stopPropagation()})}})(wysihtml5);(function(f){var a="wysihtml5-command-disabled",b="wysihtml5-commands-disabled",c="wysihtml5-command-active",d="wysihtml5-action-active",e=f.dom;f.toolbar.Toolbar=Base.extend({constructor:function(k,g){this.editor=k;this.container=typeof(g)==="string"?document.getElementById(g):g;this.composer=k.composer;this._getLinks("command");this._getLinks("action");this._observe();this.show();var h=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),l=h.length,j=0;for(;j<l;j++){new f.toolbar.Speech(this,h[j])}},_getLinks:function(m){var q=this[m+"Links"]=f.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+m+"]")).get(),j=q.length,k=0,g=this[m+"Mapping"]={},n,p,h,o,l;for(;k<j;k++){n=q[k];h=n.getAttribute("data-wysihtml5-"+m);o=n.getAttribute("data-wysihtml5-"+m+"-value");p=this.container.querySelector("[data-wysihtml5-"+m+"-group='"+h+"']");l=this._getDialog(n,h);g[h+":"+o]={link:n,group:p,name:h,value:o,dialog:l,state:false}}},_getDialog:function(l,m){var k=this,j=this.container.querySelector("[data-wysihtml5-dialog='"+m+"']"),h,g;if(j){h=new f.toolbar.Dialog(l,j);h.observe("show",function(){g=k.composer.selection.getBookmark();k.editor.fire("show:dialog",{command:m,dialogContainer:j,commandLink:l})});h.observe("save",function(n){if(g){k.composer.selection.setBookmark(g)}k._execCommand(m,n);k.editor.fire("save:dialog",{command:m,dialogContainer:j,commandLink:l})});h.observe("cancel",function(){k.editor.focus(false);k.editor.fire("cancel:dialog",{command:m,dialogContainer:j,commandLink:l})})}return h},execCommand:function(j,g){if(this.commandsDisabled){return}var h=this.commandMapping[j+":"+g];if(h&&h.dialog&&!h.state){h.dialog.show()}else{this._execCommand(j,g)}},_execCommand:function(h,g){this.editor.focus(false);this.composer.commands.exec(h,g);this._updateLinkStates()},execAction:function(h){var g=this.editor;switch(h){case"change_view":if(g.currentView===g.textarea){g.fire("change_view","composer")}else{g.fire("change_view","textarea")}break}},_observe:function(){var m=this,k=this.editor,g=this.container,h=this.commandLinks.concat(this.actionLinks),l=h.length,j=0;for(;j<l;j++){e.setAttributes({href:"javascript:;",unselectable:"on"}).on(h[j])}e.delegate(g,"[data-wysihtml5-command]","mousedown",function(n){n.preventDefault()});e.delegate(g,"[data-wysihtml5-command]","click",function(p){var o=this,q=o.getAttribute("data-wysihtml5-command"),n=o.getAttribute("data-wysihtml5-command-value");m.execCommand(q,n);p.preventDefault()});e.delegate(g,"[data-wysihtml5-action]","click",function(n){var o=this.getAttribute("data-wysihtml5-action");m.execAction(o);n.preventDefault()});k.observe("focus:composer",function(){m.bookmark=null;clearInterval(m.interval);m.interval=setInterval(function(){m._updateLinkStates()},500)});k.observe("blur:composer",function(){clearInterval(m.interval)});k.observe("destroy:composer",function(){clearInterval(m.interval)});k.observe("change_view",function(n){setTimeout(function(){m.commandsDisabled=(n!=="composer");m._updateLinkStates();if(m.commandsDisabled){e.addClass(g,b)}else{e.removeClass(g,b)}},0)})},_updateLinkStates:function(){var j=this.composer.element,h=this.commandMapping,m=this.actionMapping,g,l,k,n;for(g in h){n=h[g];if(this.commandsDisabled){l=false;e.removeClass(n.link,c);if(n.group){e.removeClass(n.group,c)}if(n.dialog){n.dialog.hide()}}else{l=this.composer.commands.state(n.name,n.value);if(f.lang.object(l).isArray()){l=l.length===1?l[0]:true}e.removeClass(n.link,a);if(n.group){e.removeClass(n.group,a)}}if(n.state===l){continue}n.state=l;if(l){e.addClass(n.link,c);if(n.group){e.addClass(n.group,c)}if(n.dialog){if(typeof(l)==="object"){n.dialog.show(l)}else{n.dialog.hide()}}}else{e.removeClass(n.link,c);if(n.group){e.removeClass(n.group,c)}if(n.dialog){n.dialog.hide()}}}for(g in m){k=m[g];if(k.name==="change_view"){k.state=this.editor.currentView===this.editor.textarea;if(k.state){e.addClass(k.link,d)}else{e.removeClass(k.link,d)}}}},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})})(wysihtml5);(function(c){var b;var a={name:b,style:true,toolbar:b,autoLink:true,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:c.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",stylesheets:[],placeholderText:b,allowObjectResizing:true,supportTouchDevices:true};c.Editor=c.lang.Dispatcher.extend({constructor:function(h,d){this.textareaElement=typeof(h)==="string"?document.getElementById(h):h;this.config=c.lang.object({}).merge(a).merge(d).get();this.textarea=new c.views.Textarea(this,this.textareaElement,this.config);this.currentView=this.textarea;this._isCompatible=c.browser.supported();if(!this._isCompatible||(!this.config.supportTouchDevices&&c.browser.isTouchDevice())){var f=this;setTimeout(function(){f.fire("beforeload").fire("load")},0);return}c.dom.addClass(document.body,this.config.bodyClassName);this.composer=new c.views.Composer(this,this.textareaElement,this.config);this.currentView=this.composer;if(typeof(this.config.parser)==="function"){this._initParser()}this.observe("beforeload",function(){this.synchronizer=new c.views.Synchronizer(this,this.textarea,this.composer);if(this.config.toolbar){this.toolbar=new c.toolbar.Toolbar(this,this.config.toolbar)}});try{console.log("Heya! This page is using wysihtml5 for rich text editing. Check out https://github.com/xing/wysihtml5")}catch(g){}},isCompatible:function(){return this._isCompatible},clear:function(){this.currentView.clear();return this},getValue:function(d){return this.currentView.getValue(d)},setValue:function(d,e){if(!d){return this.clear()}this.currentView.setValue(d,e);return this},focus:function(d){this.currentView.focus(d);return this},disable:function(){this.currentView.disable();return this},enable:function(){this.currentView.enable();return this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(d){var e=this.config.parser(d,this.config.parserRules,this.composer.sandbox.getDocument(),true);if(typeof(d)==="object"){c.quirks.redraw(d)}return e},_initParser:function(){this.observe("paste:composer",function(){var d=true,e=this;e.composer.selection.executeAndRestore(function(){c.quirks.cleanPastedHTML(e.composer.element);e.parse(e.composer.element)},d)});this.observe("paste:textarea",function(){var d=this.textarea.getValue(),e;e=this.parse(d);this.textarea.setValue(e)})}})})(wysihtml5);!function(f,h){var d={"font-styles":function(j,k){var l=(k&&k.size)?" btn-"+k.size:"";return"<li class='dropdown'><a class='btn btn-default dropdown-toggle"+l+"' data-toggle='dropdown' href='#'><i class='icon-font'></i>&nbsp;<span class='current-font'>"+j.font_styles.normal+"</span>&nbsp;<b class='caret'></b></a><ul class='dropdown-menu'><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='div' tabindex='-1'>"+j.font_styles.normal+"</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h1' tabindex='-1'>"+j.font_styles.h1+"</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h2' tabindex='-1'>"+j.font_styles.h2+"</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h3' tabindex='-1'>"+j.font_styles.h3+"</a></li></ul></li>"},emphasis:function(j,k){var l=(k&&k.size)?" btn-"+k.size:"";return"<li><div class='btn-group'><a class='btn btn-default"+l+"' data-wysihtml5-command='bold' title='CTRL+B' tabindex='-1'>"+j.emphasis.bold+"</a><a class='btn btn-default"+l+"' data-wysihtml5-command='italic' title='CTRL+I' tabindex='-1'>"+j.emphasis.italic+"</a><a class='btn btn-default"+l+"' data-wysihtml5-command='underline' title='CTRL+U' tabindex='-1'>"+j.emphasis.underline+"</a></div></li>"},lists:function(j,k){var l=(k&&k.size)?" btn-"+k.size:"";return"<li><div class='btn-group'><a class='btn btn-default"+l+"' data-wysihtml5-command='insertUnorderedList' title='"+j.lists.unordered+"' tabindex='-1'><i class='icon-list'></i></a><a class='btn btn-default"+l+"' data-wysihtml5-command='insertOrderedList' title='"+j.lists.ordered+"' tabindex='-1'><i class='icon-th-list'></i></a><a class='btn btn-default"+l+"' data-wysihtml5-command='Outdent' title='"+j.lists.outdent+"' tabindex='-1'><i class='icon-indent-right'></i></a><a class='btn btn-default"+l+"' data-wysihtml5-command='Indent' title='"+j.lists.indent+"' tabindex='-1'><i class='icon-indent-left'></i></a></div></li>"},link:function(j,k){var l=(k&&k.size)?" btn-"+k.size:"";return"<li><div class='bootstrap-wysihtml5-insert-link-modal modal hide fade'><div class='modal-header'><a class='close' data-dismiss='modal'>&times;</a><h3>"+j.link.insert+"</h3></div><div class='modal-body'><input value='http://' class='bootstrap-wysihtml5-insert-link-url input-xlarge'></div><div class='modal-footer'><a href='#' class='btn btn-default' data-dismiss='modal'>"+j.link.cancel+"</a><a href='#' class='btn btn-blue' data-dismiss='modal'>"+j.link.insert+"</a></div></div><a class='btn btn-default"+l+"' data-wysihtml5-command='createLink' title='"+j.link.insert+"' tabindex='-1'><i class='icon-share'></i></a></li>"},image:function(j,k){var l=(k&&k.size)?" btn-"+k.size:"";return"<li><div class='bootstrap-wysihtml5-insert-image-modal modal hide fade'><div class='modal-header'><a class='close' data-dismiss='modal'>&times;</a><h3>"+j.image.insert+"</h3></div><div class='modal-body'><input value='http://' class='bootstrap-wysihtml5-insert-image-url input-xlarge'></div><div class='modal-footer'><a href='#' class='btn btn-default' data-dismiss='modal'>"+j.image.cancel+"</a><a href='#' class='btn btn-blue' data-dismiss='modal'>"+j.image.insert+"</a></div></div><a class='btn btn-default"+l+"' data-wysihtml5-command='insertImage' title='"+j.image.insert+"' tabindex='-1'><i class='icon-picture'></i></a></li>"},html:function(j,k){var l=(k&&k.size)?" btn-"+k.size:"";return"<li><div class='btn-group'><a class='btn btn-default"+l+"' data-wysihtml5-action='change_view' title='"+j.html.edit+"' tabindex='-1'><i class='icon-pencil'></i></a></div></li>"},color:function(j,k){var l=(k&&k.size)?" btn-"+k.size:"";return"<li class='dropdown'><a class='btn btn-default dropdown-toggle"+l+"' data-toggle='dropdown' href='#' tabindex='-1'><span class='current-color'>"+j.colours.black+"</span>&nbsp;<b class='caret'></b></a><ul class='dropdown-menu'><li><div class='wysihtml5-colors' data-wysihtml5-command-value='black'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='black'>"+j.colours.black+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='silver'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='silver'>"+j.colours.silver+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='gray'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='gray'>"+j.colours.gray+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='maroon'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='maroon'>"+j.colours.maroon+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='red'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='red'>"+j.colours.red+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='purple'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='purple'>"+j.colours.purple+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='green'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='green'>"+j.colours.green+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='olive'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='olive'>"+j.colours.olive+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='navy'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='navy'>"+j.colours.navy+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='blue'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='blue'>"+j.colours.blue+"</a></li><li><div class='wysihtml5-colors' data-wysihtml5-command-value='orange'></div><a class='wysihtml5-colors-title' data-wysihtml5-command='foreColor' data-wysihtml5-command-value='orange'>"+j.colours.orange+"</a></li></ul></li>"}};var e=function(l,j,k){return d[l](j,k)};var g=function(l,j){this.el=l;var m=j||b;for(var k in m.customTemplates){d[k]=m.customTemplates[k]}this.toolbar=this.createToolbar(l,m);this.editor=this.createEditor(j);window.editor=this.editor;f("iframe.wysihtml5-sandbox").each(function(n,o){f(o.contentWindow).off("focus.wysihtml5").on({"focus.wysihtml5":function(){f("li.dropdown").removeClass("open")}})})};g.prototype={constructor:g,createEditor:function(k){k=k||{};k=f.extend(true,{},k);k.toolbar=this.toolbar[0];var l=new h.Editor(this.el[0],k);if(k&&k.events){for(var j in k.events){l.on(j,k.events[j])}}return l},createToolbar:function(n,l){var k=this;var o=f("<ul/>",{"class":"wysihtml5-toolbar",style:"display:none"});var j=l.locale||b.locale||"en";for(var m in b){var p=false;if(l[m]!==undefined){if(l[m]===true){p=true}}else{p=b[m]}if(p===true){o.append(e(m,a[j],l));if(m==="html"){this.initHtml(o)}if(m==="link"){this.initInsertLink(o)}if(m==="image"){this.initInsertImage(o)}}}if(l.toolbar){for(m in l.toolbar){o.append(l.toolbar[m])}}o.find("a[data-wysihtml5-command='formatBlock']").click(function(s){var r=s.target||s.srcElement;var q=f(r);k.toolbar.find(".current-font").text(q.html())});o.find("a[data-wysihtml5-command='foreColor']").click(function(s){var r=s.target||s.srcElement;var q=f(r);k.toolbar.find(".current-color").text(q.html())});this.el.before(o);return o},initHtml:function(j){var k="a[data-wysihtml5-action='change_view']";j.find(k).click(function(l){j.find("a.btn").not(k).toggleClass("disabled")})},initInsertImage:function(q){var l=this;var p=q.find(".bootstrap-wysihtml5-insert-image-modal");var n=p.find(".bootstrap-wysihtml5-insert-image-url");var k=p.find("a.btn-blue");var j=n.val();var m;var o=function(){var r=n.val();n.val(j);l.editor.currentView.element.focus();if(m){l.editor.composer.selection.setBookmark(m);m=null}l.editor.composer.commands.exec("insertImage",r)};n.keypress(function(r){if(r.which==13){o();p.modal("hide")}});k.click(o);p.on("shown",function(){n.focus()});p.on("hide",function(){l.editor.currentView.element.focus()});q.find("a[data-wysihtml5-command=insertImage]").click(function(){var r=f(this).hasClass("wysihtml5-command-active");if(!r){l.editor.currentView.element.focus(false);m=l.editor.composer.selection.getBookmark();p.appendTo("body").modal("show");p.on("click.dismiss.modal",'[data-dismiss="modal"]',function(s){s.stopPropagation()});return false}else{return true}})},initInsertLink:function(o){var r=this;var k=o.find(".bootstrap-wysihtml5-insert-link-modal");var m=k.find(".bootstrap-wysihtml5-insert-link-url");var l=k.find("a.btn-blue");var q=m.val();var j;var p=function(){var s=m.val();m.val(q);r.editor.currentView.element.focus();if(j){r.editor.composer.selection.setBookmark(j);j=null}r.editor.composer.commands.exec("createLink",{href:s,target:"_blank",rel:"nofollow"})};var n=false;m.keypress(function(s){if(s.which==13){p();k.modal("hide")}});l.click(p);k.on("shown",function(){m.focus()});k.on("hide",function(){r.editor.currentView.element.focus()});o.find("a[data-wysihtml5-command=createLink]").click(function(){var s=f(this).hasClass("wysihtml5-command-active");if(!s){r.editor.currentView.element.focus(false);j=r.editor.composer.selection.getBookmark();k.appendTo("body").modal("show");k.on("click.dismiss.modal",'[data-dismiss="modal"]',function(t){t.stopPropagation()});return false}else{return true}})}};var c={resetDefaults:function(){f.fn.wysihtml5.defaultOptions=f.extend(true,{},f.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(j){return this.each(function(){var k=f(this);k.data("wysihtml5",new g(k,j))})},shallowExtend:function(j){var k=f.extend({},f.fn.wysihtml5.defaultOptions,j||{});var l=this;return c.bypassDefaults.apply(l,[k])},deepExtend:function(j){var k=f.extend(true,{},f.fn.wysihtml5.defaultOptions,j||{});var l=this;return c.bypassDefaults.apply(l,[k])},init:function(j){var k=this;return c.shallowExtend.apply(k,[j])}};f.fn.wysihtml5=function(j){if(c[j]){return c[j].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof j==="object"||!j){return c.init.apply(this,arguments)}else{f.error("Method "+j+" does not exist on jQuery.wysihtml5")}}};f.fn.wysihtml5.Constructor=g;var b=f.fn.wysihtml5.defaultOptions={"font-styles":true,color:false,emphasis:true,lists:true,html:false,link:true,image:true,events:{},parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{set_attributes:{target:"_blank",rel:"nofollow"},check_attributes:{href:"url"}},span:1,div:1,code:1,pre:1}},stylesheets:["./lib/css/wysiwyg-color.css"],locale:"en"};if(typeof f.fn.wysihtml5.defaultOptionsCache==="undefined"){f.fn.wysihtml5.defaultOptionsCache=f.extend(true,{},f.fn.wysihtml5.defaultOptions)}var a=f.fn.wysihtml5.locale={en:{font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}}(window.jQuery,window.wysihtml5);(function(v){var u="0.3.4",t="hasOwnProperty",s=/[\.\/]/,r="*",q=function(){},p=function(d,c){return d-c},o,n,m={n:{}},l=function(E,D){var C=m,B=n,A=Array.prototype.slice.call(arguments,2),z=l.listeners(E),y=0,x=!1,w,k=[],j={},h=[],g=o,H=[];o=E,n=0;for(var G=0,F=z.length;G<F;G++){"zIndex" in z[G]&&(k.push(z[G].zIndex),z[G].zIndex<0&&(j[z[G].zIndex]=z[G]))}k.sort(p);while(k[y]<0){w=j[k[y++]],h.push(w.apply(D,A));if(n){n=B;return h}}for(G=0;G<F;G++){w=z[G];if("zIndex" in w){if(w.zIndex==k[y]){h.push(w.apply(D,A));if(n){break}do{y++,w=j[k[y]],w&&h.push(w.apply(D,A));if(n){break}}while(w)}else{j[w.zIndex]=w}}else{h.push(w.apply(D,A));if(n){break}}}n=B,o=g;return h.length?h:null};l.listeners=function(F){var E=F.split(s),D=m,C,B,A,z,y,x,w,j,e=[D],d=[];for(z=0,y=E.length;z<y;z++){j=[];for(x=0,w=e.length;x<w;x++){D=e[x].n,B=[D[E[z]],D[r]],A=2;while(A--){C=B[A],C&&(j.push(C),d=d.concat(C.f||[]))}}e=j}return d},l.on=function(f,d){var x=f.split(s),w=m;for(var k=0,j=x.length;k<j;k++){w=w.n,!w[x[k]]&&(w[x[k]]={n:{}}),w=w[x[k]]}w.f=w.f||[];for(k=0,j=w.f.length;k<j;k++){if(w.f[k]==d){return q}}w.f.push(d);return function(b){+b==+b&&(d.zIndex=+b)}},l.stop=function(){n=1},l.nt=function(b){if(b){return(new RegExp("(?:\\.|\\/|^)"+b+"(?:\\.|\\/|$)")).test(o)}return o},l.off=l.unbind=function(D,C){var B=D.split(s),A,z,y,x,w,j,e,d=[m];for(x=0,w=B.length;x<w;x++){for(j=0;j<d.length;j+=y.length-2){y=[j,1],A=d[j].n;if(B[x]!=r){A[B[x]]&&y.push(A[B[x]])}else{for(z in A){A[t](z)&&y.push(A[z])}}d.splice.apply(d,y)}}for(x=0,w=d.length;x<w;x++){A=d[x];while(A.n){if(C){if(A.f){for(j=0,e=A.f.length;j<e;j++){if(A.f[j]==C){A.f.splice(j,1);break}}!A.f.length&&delete A.f}for(z in A.n){if(A.n[t](z)&&A.n[z].f){var c=A.n[z].f;for(j=0,e=c.length;j<e;j++){if(c[j]==C){c.splice(j,1);break}}!c.length&&delete A.n[z].f}}}else{delete A.f;for(z in A.n){A.n[t](z)&&A.n[z].f&&delete A.n[z].f}}A=A.n}}},l.once=function(e,d){var f=function(){var a=d.apply(this,arguments);l.unbind(e,f);return a};return l.on(e,f)},l.version=u,l.toString=function(){return"You are running Eve "+u},typeof module!="undefined"&&module.exports?module.exports=l:typeof define!="undefined"?define("eve",[],function(){return l}):v.eve=l})(this),function(){function cX(d){for(var c=0;c<ab.length;c++){ab[c].el.paper==d&&ab.splice(c--,1)}}function c0(br,bq,bp,bo,bn,bm){bp=c4(bp);var bl,bk,bj,bi=[],bh,bg,be,bb=br.ms,Z={},X={},V={};if(bo){for(Q=0,C=ab.length;Q<C;Q++){var T=ab[Q];if(T.el.id==bq.id&&T.anim==br){T.percent!=bp?(ab.splice(Q,1),bj=1):bk=T,bq.attr(T.totalOrigin);break}}}else{bo=+X}for(var Q=0,C=br.percents.length;Q<C;Q++){if(br.percents[Q]==bp||br.percents[Q]>bo*br.top){bp=br.percents[Q],bg=br.percents[Q-1]||0,bb=bb/br.top*(bp-bg),bh=br.percents[Q+1],bl=br.anim[bp];break}bo&&bq.attr(br.anim[br.percents[Q]])}if(!!bl){if(!bk){for(var bf in bl){if(bl[aV](bf)){if(cS[aV](bf)||bq.paper.customAttributes[aV](bf)){Z[bf]=bq.attr(bf),Z[bf]==null&&(Z[bf]=cV[bf]),X[bf]=bl[bf];switch(cS[bf]){case dv:V[bf]=(X[bf]-Z[bf])/bb;break;case"colour":Z[bf]=a8.getRGB(Z[bf]);var bd=a8.getRGB(X[bf]);V[bf]={r:(bd.r-Z[bf].r)/bb,g:(bd.g-Z[bf].g)/bb,b:(bd.b-Z[bf].b)/bb};break;case"path":var bc=dA(Z[bf],X[bf]),ba=bc[1];Z[bf]=bc[0],V[bf]=[];for(Q=0,C=Z[bf].length;Q<C;Q++){V[bf][Q]=[0];for(var Y=1,W=Z[bf][Q].length;Y<W;Y++){V[bf][Q][Y]=(ba[Q][Y]-Z[bf][Q][Y])/bb}}break;case"transform":var U=bq._,S=aM(U[bf],X[bf]);if(S){Z[bf]=S.from,X[bf]=S.to,V[bf]=[],V[bf].real=!0;for(Q=0,C=Z[bf].length;Q<C;Q++){V[bf][Q]=[Z[bf][Q][0]];for(Y=1,W=Z[bf][Q].length;Y<W;Y++){V[bf][Q][Y]=(X[bf][Q][Y]-Z[bf][Q][Y])/bb}}}else{var N=bq.matrix||new aL,s={_:{transform:U.transform},getBBox:function(){return bq.getBBox(1)}};Z[bf]=[N.a,N.b,N.c,N.d,N.e,N.f],dT(s,X[bf]),X[bf]=s._.transform,V[bf]=[(s.matrix.a-N.a)/bb,(s.matrix.b-N.b)/bb,(s.matrix.c-N.c)/bb,(s.matrix.d-N.d)/bb,(s.matrix.e-N.e)/bb,(s.matrix.f-N.f)/bb]}break;case"csv":var r=aF(bl[bf])[aD](a3),n=aF(Z[bf])[aD](a3);if(bf=="clip-rect"){Z[bf]=n,V[bf]=[],Q=n.length;while(Q--){V[bf][Q]=(r[Q]-Z[bf][Q])/bb}}X[bf]=r;break;default:r=[][aN](bl[bf]),n=[][aN](Z[bf]),V[bf]=[],Q=bq.paper.customAttributes[bf].length;while(Q--){V[bf][Q]=((r[Q]||0)-(n[Q]||0))/bb}}}}}var g=bl.easing,c=a8.easing_formulas[g];if(!c){c=aF(g).match(dc);if(c&&c.length==5){var a=c;c=function(b){return c6(b,+a[1],+a[2],+a[3],+a[4],bb)}}else{c=cU}}be=bl.start||br.start||+(new Date),T={anim:br,percent:bp,timestamp:be,start:be+(br.del||0),status:0,initstatus:bo||0,stop:!1,ms:bb,easing:c,from:Z,diff:V,to:X,el:bq,callback:bl.callback,prev:bg,next:bh,repeat:bm||br.times,origin:bq.attr(),totalOrigin:bn},ab.push(T);if(bo&&!bk&&!bj){T.stop=!0,T.start=new Date-bb*bo;if(ab.length==1){return db()}}bj&&(T.start=new Date-T.ms*bo),ab.length==1&&aa(db)}else{bk.initstatus=bo,bk.start=new Date-bk.ms*bo}eve("raphael.anim.start."+bq.id,bq,br)}}function c3(g,f){var k=[],j={};this.ms=f,this.times=1;if(g){for(var h in g){g[aV](h)&&(j[c4(h)]=g[h],k.push(c4(h)))}k.sort(cZ)}this.anim=j,this.top=k[k.length-1],this.percents=k}function c6(D,C,B,A,z,y){function p(h,g){var F,E,o,n,m,l;for(o=h,l=0;l<8;l++){n=r(o)-h;if(ao(n)<g){return o}m=(3*v*o+2*w)*o+x;if(ao(m)<0.000001){break}o=o-n/m}F=0,E=1,o=h;if(o<F){return F}if(o>E){return E}while(F<E){n=r(o);if(ao(n-h)<g){return o}h>n?F=o:E=o,o=(E-F)/2+F}return o}function q(e,d){var f=p(e,d);return((s*f+t)*f+u)*f}function r(b){return((v*b+w)*b+x)*b}var x=3*C,w=3*(A-C)-x,v=1-x-w,u=3*B,t=3*(z-B)-u,s=1-u-t;return q(D,1/(200*y))}function aj(){return this.x+aH+this.y+aH+this.width+"  "+this.height}function ak(){return this.x+aH+this.y}function aL(h,g,m,l,k,j){h!=null?(this.a=+h,this.b=+g,this.c=+m,this.d=+l,this.e=+k,this.f=+j):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function dK(T,S,R){T=a8._path2curve(T),S=a8._path2curve(S);var Q,P,O,N,M,L,K,J,I,H,G=R?0:[];for(var F=0,E=T.length;F<E;F++){var D=T[F];if(D[0]=="M"){Q=M=D[1],P=L=D[2]}else{D[0]=="C"?(I=[Q,P].concat(D.slice(1)),Q=I[6],P=I[7]):(I=[Q,P,Q,P,M,L,M,L],Q=M,P=L);for(var C=0,B=S.length;C<B;C++){var A=S[C];if(A[0]=="M"){O=K=A[1],N=J=A[2]}else{A[0]=="C"?(H=[O,N].concat(A.slice(1)),O=H[6],N=H[7]):(H=[O,N,O,N,K,J,K,J],O=K,N=J);var z=dL(I,H,R);if(R){G+=z}else{for(var y=0,a=z.length;y<a;y++){z[y].segment1=F,z[y].segment2=C,z[y].bez1=I,z[y].bez2=H}G=G.concat(z)}}}}}return G}function dL(X,W,V){var U=a8.bezierBBox(X),T=a8.bezierBBox(W);if(!a8.isBBoxIntersect(U,T)){return V?0:[]}var S=dQ.apply(0,X),R=dQ.apply(0,W),Q=~~(S/5),P=~~(R/5),O=[],N=[],M={},L=V?0:[];for(var K=0;K<Q+1;K++){var J=a8.findDotsAtSegment.apply(a8,X.concat(K/Q));O.push({x:J.x,y:J.y,t:K/Q})}for(K=0;K<P+1;K++){J=a8.findDotsAtSegment.apply(a8,W.concat(K/P)),N.push({x:J.x,y:J.y,t:K/P})}for(K=0;K<Q;K++){for(var H=0;H<P;H++){var G=O[K],F=O[K+1],E=N[H],D=N[H+1],C=ao(F.x-G.x)<0.001?"y":"x",B=ao(D.x-E.x)<0.001?"y":"x",z=dO(G.x,G.y,F.x,F.y,E.x,E.y,D.x,D.y);if(z){if(M[z.x.toFixed(4)]==z.y.toFixed(4)){continue}M[z.x.toFixed(4)]=z.y.toFixed(4);var a=G.t+ao((z[C]-G[C])/(F[C]-G[C]))*(F.t-G.t),I=E.t+ao((z[B]-E[B])/(D[B]-E[B]))*(D.t-E.t);a>=0&&a<=1&&I>=0&&I<=1&&(V?L++:L.push({x:z.x,y:z.y,t1:a,t2:I}))}}}return L}function dM(d,c){return dL(d,c,1)}function dN(d,c){return dL(d,c)}function dO(D,C,B,A,z,y,x,w){if(!(at(D,B)<aq(z,x)||aq(D,B)>at(z,x)||at(C,A)<aq(y,w)||aq(C,A)>at(y,w))){var v=(D*A-C*B)*(z-x)-(D-B)*(z*w-y*x),u=(D*A-C*B)*(y-w)-(C-A)*(z*w-y*x),t=(D-B)*(y-w)-(C-A)*(z-x);if(!t){return}var s=v/t,r=u/t,q=+s.toFixed(2),p=+r.toFixed(2);if(q<+aq(D,B).toFixed(2)||q>+at(D,B).toFixed(2)||q<+aq(z,x).toFixed(2)||q>+at(z,x).toFixed(2)||p<+aq(C,A).toFixed(2)||p>+at(C,A).toFixed(2)||p<+aq(y,w).toFixed(2)||p>+at(y,w).toFixed(2)){return}return{x:s,y:r}}}function dP(B,A,z,y,x,w,v,u,t){if(!(t<0||dQ(B,A,z,y,x,w,v,u)<t)){var s=1,r=s/2,q=s-r,p,o=0.01;p=dQ(B,A,z,y,x,w,v,u,q);while(ao(p-t)>o){r/=2,q+=(p<t?1:-1)*r,p=dQ(B,A,z,y,x,w,v,u,q)}return q}}function dQ(L,K,J,I,H,G,F,E,D){D==null&&(D=1),D=D>1?1:D<0?0:D;var C=D/2,B=12,A=[-0.1252,0.1252,-0.3678,0.3678,-0.5873,0.5873,-0.7699,0.7699,-0.9041,0.9041,-0.9816,0.9816],z=[0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],y=0;for(var x=0;x<B;x++){var w=C*A[x]+C,v=dR(w,L,J,H,F),u=dR(w,K,I,G,E),t=v*v+u*u;y+=z[x]*av.sqrt(t)}return C*y}function dR(j,h,o,n,m){var l=-3*h+9*o-9*n+3*m,k=j*l+6*h-12*o+6*n;return j*k-3*h+3*o}function aW(h,g){var m=[];for(var l=0,k=h.length;k-2*!g>l;l+=2){var j=[{x:+h[l-2],y:+h[l-1]},{x:+h[l],y:+h[l+1]},{x:+h[l+2],y:+h[l+3]},{x:+h[l+4],y:+h[l+5]}];g?l?k-4==l?j[3]={x:+h[0],y:+h[1]}:k-2==l&&(j[2]={x:+h[0],y:+h[1]},j[3]={x:+h[2],y:+h[3]}):j[0]={x:+h[k-2],y:+h[k-1]}:k-4==l?j[3]=j[2]:l||(j[0]={x:+h[l],y:+h[l+1]}),m.push(["C",(-j[0].x+6*j[1].x+j[2].x)/6,(-j[0].y+6*j[1].y+j[2].y)/6,(j[1].x+6*j[2].x-j[3].x)/6,(j[1].y+6*j[2].y-j[3].y)/6,j[2].x,j[2].y])}return m}function aY(){return this.hex}function a2(f,e,h){function g(){var d=Array.prototype.slice.call(arguments,0),c=d.join("?"),b=g.cache=g.cache||{},a=g.count=g.count||[];if(b[aV](c)){a4(a,c);return h?h(b[c]):b[c]}a.length>=1000&&delete b[a.shift()],a.push(c),b[c]=f[aO](e,d);return h?h(b[c]):b[c]}return g}function a4(f,e){for(var h=0,g=f.length;h<g;h++){if(f[h]===e){return f.push(f.splice(h,1)[0])}}}function b5(e){if(Object(e)!==e){return e}var d=new e.constructor;for(var f in e){e[aV](f)&&(d[f]=b5(e[f]))}return d}function a8(f){if(a8.is(f,"function")){return a6?f():eve.on("raphael.DOMload",f)}if(a8.is(f,dr)){return a8._engine.create[aO](a8,f.splice(0,3+a8.is(f[0],dv))).add(f)}var b=Array.prototype.slice.call(arguments,0);if(a8.is(b[b.length-1],"function")){var a=b.pop();return a6?a.call(a8._engine.create[aO](a8,b)):eve.on("raphael.DOMload",function(){a.call(a8._engine.create[aO](a8,b))})}return a8._engine.create[aO](a8,arguments)}a8.version="2.1.0",a8.eve=eve;var a6,a3=/[, ]+/,a1={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},a0=/\{(\d+)\}/g,aX="prototype",aV="hasOwnProperty",aU={doc:document,win:window},aS={was:Object.prototype[aV].call(aU.win,"Raphael"),is:aU.win.Raphael},aR=function(){this.ca=this.customAttributes={}},aQ,aP="appendChild",aO="apply",aN="concat",aK="createTouch" in aU.doc,aJ="",aH=" ",aF=String,aD="split",aB="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[aD](aH),az={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},ax=aF.prototype.toLowerCase,av=Math,at=av.max,aq=av.min,ao=av.abs,dz=av.pow,dx=av.PI,dv="number",dt="string",dr="array",dp="toString",dm="fill",dk=Object.prototype.toString,di={},dh="push",dg=a8._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,df=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,de={NaN:1,Infinity:1,"-Infinity":1},dc=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,da=av.round,c7="setAttribute",c4=parseFloat,c1=parseInt,cY=aF.prototype.toUpperCase,cV=a8._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},cS=a8._availableAnimAttrs={blur:dv,"clip-rect":"csv",cx:dv,cy:dv,fill:"colour","fill-opacity":dv,"font-size":dv,height:dv,opacity:dv,path:"path",r:dv,rx:dv,ry:dv,stroke:"colour","stroke-opacity":dv,"stroke-width":dv,transform:"transform",width:dv,x:dv,y:dv},cP=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]/g,cM=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,cK={hs:1,rg:1},b9=/,?([achlmqrstvxz]),?/gi,b7=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,dS=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,b1=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/ig,c9=a8._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,c5={},c2=function(d,c){return d.key-c.key},cZ=function(d,c){return c4(d)-c4(c)},cW=function(){},cU=function(b){return b},cR=a8._rectPath=function(g,f,k,j,h){if(h){return[["M",g+h,f],["l",k-h*2,0],["a",h,h,0,0,1,h,h],["l",0,j-h*2],["a",h,h,0,0,1,-h,h],["l",h*2-k,0],["a",h,h,0,0,1,-h,-h],["l",0,h*2-j],["a",h,h,0,0,1,h,-h],["z"]]}return[["M",g,f],["l",k,0],["l",0,j],["l",-k,0],["z"]]},cO=function(f,e,h,g){g==null&&(g=h);return[["M",f,e],["m",0,-g],["a",h,g,0,1,1,0,2*g],["a",h,g,0,1,1,0,-2*g],["z"]]},cL=a8._getPath={path:function(b){return b.attr("path")},circle:function(d){var c=d.attrs;return cO(c.cx,c.cy,c.r)},ellipse:function(d){var c=d.attrs;return cO(c.cx,c.cy,c.rx,c.ry)},rect:function(d){var c=d.attrs;return cR(c.x,c.y,c.width,c.height,c.r)},image:function(d){var c=d.attrs;return cR(c.x,c.y,c.width,c.height)},text:function(d){var c=d._getBBox();return cR(c.x,c.y,c.width,c.height)}},cJ=a8.mapPath=function(r,q){if(!q){return r}var p,o,n,m,l,k,j;r=dA(r);for(n=0,l=r.length;n<l;n++){j=r[n];for(m=1,k=j.length;m<k;m+=2){p=q.x(j[m],j[m+1]),o=q.y(j[m],j[m+1]),j[m]=p,j[m+1]=o}}return r};a8._g=aU,a8.type=aU.win.SVGAngle||aU.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(a8.type=="VML"){var b8=aU.doc.createElement("div"),b6;b8.innerHTML='<v:shape adj="1"/>',b6=b8.firstChild,b6.style.behavior="url(#default#VML)";if(!b6||typeof b6.adj!="object"){return a8.type=aJ}b8=null}a8.svg=!(a8.vml=a8.type=="VML"),a8._Paper=aR,a8.fn=aQ=aR.prototype=a8.prototype,a8._id=0,a8._oid=0,a8.is=function(d,c){c=ax.call(c);if(c=="finite"){return !de[aV](+d)}if(c=="array"){return d instanceof Array}return c=="null"&&d===null||c==typeof d&&d!==null||c=="object"&&d===Object(d)||c=="array"&&Array.isArray&&Array.isArray(d)||dk.call(d).slice(8,-1).toLowerCase()==c},a8.angle=function(a,p,o,n,m,l){if(m==null){var k=a-o,j=p-n;if(!k&&!j){return 0}return(180+av.atan2(-j,-k)*180/dx+360)%360}return a8.angle(a,p,m,l)-a8.angle(o,n,m,l)},a8.rad=function(b){return b%360*dx/180},a8.deg=function(b){return b*180/dx%360},a8.snapTo=function(a,k,j){j=a8.is(j,"finite")?j:10;if(a8.is(a,dr)){var h=a.length;while(h--){if(ao(a[h]-k)<=j){return a[h]}}}else{a=+a;var g=k%a;if(g<j){return k-g}if(g>a-j){return k-g+a}}return k};var b4=a8.createUUID=function(d,c){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(d,c).toUpperCase()}}(/[xy]/g,function(e){var d=av.random()*16|0,f=e=="x"?d:d&3|8;return f.toString(16)});a8.setWindow=function(a){eve("raphael.setWindow",a8,aU.win,a),aU.win=a,aU.doc=aU.win.document,a8._engine.initWin&&a8._engine.initWin(aU.win)};var b3=function(a){if(a8.vml){var n=/^\s+|\s+$/g,m;try{var l=new ActiveXObject("htmlfile");l.write("<body>"),l.close(),m=l.body}catch(k){m=createPopup().document.body}var j=m.createTextRange();b3=a2(function(d){try{m.style.color=aF(d).replace(n,aJ);var c=j.queryCommandValue("ForeColor");c=(c&255)<<16|c&65280|(c&16711680)>>>16;return"#"+("000000"+c.toString(16)).slice(-6)}catch(f){return"none"}})}else{var h=aU.doc.createElement("i");h.title="Raphal Colour Picker",h.style.display="none",aU.doc.body.appendChild(h),b3=a2(function(b){h.style.color=b;return aU.doc.defaultView.getComputedStyle(h,aJ).getPropertyValue("color")})}return b3(a)},b2=function(){return"hsb("+[this.h,this.s,this.b]+")"},b0=function(){return"hsl("+[this.h,this.s,this.l]+")"},a9=function(){return this.hex},a7=function(a,h,g){h==null&&a8.is(a,"object")&&"r" in a&&"g" in a&&"b" in a&&(g=a.b,h=a.g,a=a.r);if(h==null&&a8.is(a,dt)){var f=a8.getRGB(a);a=f.r,h=f.g,g=f.b}if(a>1||h>1||g>1){a/=255,h/=255,g/=255}return[a,h,g]},a5=function(a,k,j,h){a*=255,k*=255,j*=255;var g={r:a,g:k,b:j,hex:a8.rgb(a,k,j),toString:a9};a8.is(h,"finite")&&(g.opacity=h);return g};a8.color=function(a){var d;a8.is(a,"object")&&"h" in a&&"s" in a&&"b" in a?(d=a8.hsb2rgb(a),a.r=d.r,a.g=d.g,a.b=d.b,a.hex=d.hex):a8.is(a,"object")&&"h" in a&&"s" in a&&"l" in a?(d=a8.hsl2rgb(a),a.r=d.r,a.g=d.g,a.b=d.b,a.hex=d.hex):(a8.is(a,"string")&&(a=a8.getRGB(a)),a8.is(a,"object")&&"r" in a&&"g" in a&&"b" in a?(d=a8.rgb2hsl(a),a.h=d.h,a.s=d.s,a.l=d.l,d=a8.rgb2hsb(a),a.v=d.b):(a={hex:"none"},a.r=a.g=a.b=a.h=a.s=a.v=a.l=-1)),a.toString=a9;return a},a8.hsb2rgb=function(r,q,p,o){this.is(r,"object")&&"h" in r&&"s" in r&&"b" in r&&(p=r.b,q=r.s,r=r.h,o=r.o),r*=360;var n,m,l,k,j;r=r%360/60,j=p*q,k=j*(1-ao(r%2-1)),n=m=l=p-j,r=~~r,n+=[j,k,0,0,k,j][r],m+=[k,j,j,k,0,0][r],l+=[0,0,k,j,j,k][r];return a5(n,m,l,o)},a8.hsl2rgb=function(r,q,p,o){this.is(r,"object")&&"h" in r&&"s" in r&&"l" in r&&(p=r.l,q=r.s,r=r.h);if(r>1||q>1||p>1){r/=360,q/=100,p/=100}r*=360;var n,m,l,k,j;r=r%360/60,j=2*q*(p<0.5?p:1-p),k=j*(1-ao(r%2-1)),n=m=l=p-j/2,r=~~r,n+=[j,k,0,0,k,j][r],m+=[k,j,j,k,0,0][r],l+=[0,0,k,j,j,k][r];return a5(n,m,l,o)},a8.rgb2hsb=function(j,h,o){o=a7(j,h,o),j=o[0],h=o[1],o=o[2];var n,m,l,k;l=at(j,h,o),k=l-aq(j,h,o),n=k==0?null:l==j?(h-o)/k:l==h?(o-j)/k+2:(j-h)/k+4,n=(n+360)%6*60/360,m=k==0?0:k/l;return{h:n,s:m,b:l,toString:b2}},a8.rgb2hsl=function(r,q,p){p=a7(r,q,p),r=p[0],q=p[1],p=p[2];var o,n,m,l,k,j;l=at(r,q,p),k=aq(r,q,p),j=l-k,o=j==0?null:l==r?(q-p)/j:l==q?(p-r)/j+2:(r-q)/j+4,o=(o+360)%6*60/360,m=(l+k)/2,n=j==0?0:m<0.5?j/(2*m):j/(2-2*m);return{h:o,s:n,l:m,toString:b0}},a8._path2string=function(){return this.join(",").replace(b9,"$1")};var aZ=a8._preload=function(e,d){var f=aU.doc.createElement("img");f.style.cssText="position:absolute;left:-9999em;top:-9999em",f.onload=function(){d.call(this),this.onload=null,aU.doc.body.removeChild(this)},f.onerror=function(){aU.doc.body.removeChild(this)},aU.doc.body.appendChild(f),f.src=e};a8.getRGB=a2(function(r){if(!r||!!((r=aF(r)).indexOf("-")+1)){return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:aY}}if(r=="none"){return{r:-1,g:-1,b:-1,hex:"none",toString:aY}}!cK[aV](r.toLowerCase().substring(0,2))&&r.charAt()!="#"&&(r=b3(r));var q,p,o,n,m,l,g,a=r.match(df);if(a){a[2]&&(n=c1(a[2].substring(5),16),o=c1(a[2].substring(3,5),16),p=c1(a[2].substring(1,3),16)),a[3]&&(n=c1((l=a[3].charAt(3))+l,16),o=c1((l=a[3].charAt(2))+l,16),p=c1((l=a[3].charAt(1))+l,16)),a[4]&&(g=a[4][aD](cM),p=c4(g[0]),g[0].slice(-1)=="%"&&(p*=2.55),o=c4(g[1]),g[1].slice(-1)=="%"&&(o*=2.55),n=c4(g[2]),g[2].slice(-1)=="%"&&(n*=2.55),a[1].toLowerCase().slice(0,4)=="rgba"&&(m=c4(g[3])),g[3]&&g[3].slice(-1)=="%"&&(m/=100));if(a[5]){g=a[5][aD](cM),p=c4(g[0]),g[0].slice(-1)=="%"&&(p*=2.55),o=c4(g[1]),g[1].slice(-1)=="%"&&(o*=2.55),n=c4(g[2]),g[2].slice(-1)=="%"&&(n*=2.55),(g[0].slice(-3)=="deg"||g[0].slice(-1)=="")&&(p/=360),a[1].toLowerCase().slice(0,4)=="hsba"&&(m=c4(g[3])),g[3]&&g[3].slice(-1)=="%"&&(m/=100);return a8.hsb2rgb(p,o,n,m)}if(a[6]){g=a[6][aD](cM),p=c4(g[0]),g[0].slice(-1)=="%"&&(p*=2.55),o=c4(g[1]),g[1].slice(-1)=="%"&&(o*=2.55),n=c4(g[2]),g[2].slice(-1)=="%"&&(n*=2.55),(g[0].slice(-3)=="deg"||g[0].slice(-1)=="")&&(p/=360),a[1].toLowerCase().slice(0,4)=="hsla"&&(m=c4(g[3])),g[3]&&g[3].slice(-1)=="%"&&(m/=100);return a8.hsl2rgb(p,o,n,m)}a={r:p,g:o,b:n,toString:aY},a.hex="#"+(16777216|n|o<<8|p<<16).toString(16).slice(1),a8.is(m,"finite")&&(a.opacity=m);return a}return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:aY}},a8),a8.hsb=a2(function(a,f,e){return a8.hsb2rgb(a,f,e).hex}),a8.hsl=a2(function(a,f,e){return a8.hsl2rgb(a,f,e).hex}),a8.rgb=a2(function(e,d,f){return"#"+(16777216|f|d<<8|e<<16).toString(16).slice(1)}),a8.getColor=function(e){var d=this.getColor.start=this.getColor.start||{h:0,s:1,b:e||0.75},f=this.hsb2rgb(d.h,d.s,d.b);d.h+=0.075,d.h>1&&(d.h=0,d.s-=0.2,d.s<=0&&(this.getColor.start={h:0,s:1,b:d.b}));return f.hex},a8.getColor.reset=function(){delete this.start},a8.parsePathString=function(a){if(!a){return null}var h=aT(a);if(h.arr){return dI(h.arr)}var g={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},f=[];a8.is(a,dr)&&a8.is(a[0],dr)&&(f=dI(a)),f.length||aF(a).replace(b7,function(e,d,l){var k=[],j=d.toLowerCase();l.replace(b1,function(m,c){c&&k.push(+c)}),j=="m"&&k.length>2&&(f.push([d][aN](k.splice(0,2))),j="l",d=d=="m"?"l":"L");if(j=="r"){f.push([d][aN](k))}else{while(k.length>=g[j]){f.push([d][aN](k.splice(0,g[j])));if(!g[j]){break}}}}),f.toString=a8._path2string,h.arr=dI(f);return f},a8.parseTransformString=a2(function(a){if(!a){return null}var f={r:3,s:4,t:2,m:6},e=[];a8.is(a,dr)&&a8.is(a[0],dr)&&(e=dI(a)),e.length||aF(a).replace(dS,function(g,d,k){var j=[],h=ax.call(d);k.replace(b1,function(l,c){c&&j.push(+c)}),e.push([d][aN](j))}),e.toString=a8._path2string;return e});var aT=function(d){var c=aT.ps=aT.ps||{};c[d]?c[d].sleep=100:c[d]={sleep:100},setTimeout(function(){for(var a in c){c[aV](a)&&a!=d&&(c[a].sleep--,!c[a].sleep&&delete c[a])}});return c[d]};a8.findDotsAtSegment=function(X,W,V,U,T,S,R,Q,P){var O=1-P,N=dz(O,3),M=dz(O,2),L=P*P,K=L*P,J=N*X+M*3*P*V+O*3*P*P*T+K*R,I=N*W+M*3*P*U+O*3*P*P*S+K*Q,H=X+2*P*(V-X)+L*(T-2*V+X),G=W+2*P*(U-W)+L*(S-2*U+W),F=V+2*P*(T-V)+L*(R-2*T+V),E=U+2*P*(S-U)+L*(Q-2*S+U),D=O*X+P*V,C=O*W+P*U,B=O*T+P*R,A=O*S+P*Q,w=90-av.atan2(H-F,G-E)*180/dx;(H>F||G<E)&&(w+=180);return{x:J,y:I,m:{x:H,y:G},n:{x:F,y:E},start:{x:D,y:C},end:{x:B,y:A},alpha:w}},a8.bezierBBox=function(r,q,p,o,n,m,l,k){a8.is(r,"array")||(r=[r,q,p,o,n,m,l,k]);var a=dB.apply(null,r);return{x:a.min.x,y:a.min.y,x2:a.max.x,y2:a.max.y,width:a.max.x-a.min.x,height:a.max.y-a.min.y}},a8.isPointInsideBBox=function(e,d,f){return d>=e.x&&d<=e.x2&&f>=e.y&&f<=e.y2},a8.isBBoxIntersect=function(a,f){var e=a8.isPointInsideBBox;return e(f,a.x,a.y)||e(f,a.x2,a.y)||e(f,a.x,a.y2)||e(f,a.x2,a.y2)||e(a,f.x,f.y)||e(a,f.x2,f.y)||e(a,f.x,f.y2)||e(a,f.x2,f.y2)||(a.x<f.x2&&a.x>f.x||f.x<a.x2&&f.x>a.x)&&(a.y<f.y2&&a.y>f.y||f.y<a.y2&&f.y>a.y)},a8.pathIntersection=function(d,c){return dK(d,c)},a8.pathIntersectionNumber=function(d,c){return dK(d,c,1)},a8.isPointInsidePath=function(a,h,g){var f=a8.pathBBox(a);return a8.isPointInsideBBox(f,h,g)&&dK(a,[["M",h,g],["H",f.x2+10]],1)%2==1},a8._removedFactory=function(b){return function(){eve("raphael.log",null,"Raphal: you are calling to method "+b+" of removed object",b)}};var dJ=a8.pathBBox=function(D){var C=aT(D);if(C.bbox){return C.bbox}if(!D){return{x:0,y:0,width:0,height:0,x2:0,y2:0}}D=dA(D);var B=0,A=0,z=[],y=[],x;for(var w=0,v=D.length;w<v;w++){x=D[w];if(x[0]=="M"){B=x[1],A=x[2],z.push(B),y.push(A)}else{var u=dB(B,A,x[1],x[2],x[3],x[4],x[5],x[6]);z=z[aN](u.min.x,u.max.x),y=y[aN](u.min.y,u.max.y),B=x[5],A=x[6]}}var t=aq[aO](0,z),s=aq[aO](0,y),r=at[aO](0,z),n=at[aO](0,y),m={x:t,y:s,x2:r,y2:n,width:r-t,height:n-s};C.bbox=b5(m);return m},dI=function(a){var d=b5(a);d.toString=a8._path2string;return d},dH=a8._pathToRelative=function(H){var G=aT(H);if(G.rel){return dI(G.rel)}if(!a8.is(H,dr)||!a8.is(H&&H[0],dr)){H=a8.parsePathString(H)}var F=[],E=0,D=0,C=0,B=0,A=0;H[0][0]=="M"&&(E=H[0][1],D=H[0][2],C=E,B=D,A++,F.push(["M",E,D]));for(var z=A,y=H.length;z<y;z++){var x=F[z]=[],w=H[z];if(w[0]!=ax.call(w[0])){x[0]=ax.call(w[0]);switch(x[0]){case"a":x[1]=w[1],x[2]=w[2],x[3]=w[3],x[4]=w[4],x[5]=w[5],x[6]=+(w[6]-E).toFixed(3),x[7]=+(w[7]-D).toFixed(3);break;case"v":x[1]=+(w[1]-D).toFixed(3);break;case"m":C=w[1],B=w[2];default:for(var v=1,u=w.length;v<u;v++){x[v]=+(w[v]-(v%2?E:D)).toFixed(3)}}}else{x=F[z]=[],w[0]=="m"&&(C=w[1]+E,B=w[2]+D);for(var t=0,s=w.length;t<s;t++){F[z][t]=w[t]}}var a=F[z].length;switch(F[z][0]){case"z":E=C,D=B;break;case"h":E+=+F[z][a-1];break;case"v":D+=+F[z][a-1];break;default:E+=+F[z][a-2],D+=+F[z][a-1]}}F.toString=a8._path2string,G.rel=dI(F);return F},dG=a8._pathToAbsolute=function(J){var I=aT(J);if(I.abs){return dI(I.abs)}if(!a8.is(J,dr)||!a8.is(J&&J[0],dr)){J=a8.parsePathString(J)}if(!J||!J.length){return[["M",0,0]]}var H=[],G=0,F=0,E=0,D=0,C=0;J[0][0]=="M"&&(G=+J[0][1],F=+J[0][2],E=G,D=F,C++,H[0]=["M",G,F]);var B=J.length==3&&J[0][0]=="M"&&J[1][0].toUpperCase()=="R"&&J[2][0].toUpperCase()=="Z";for(var A,z,y=C,x=J.length;y<x;y++){H.push(A=[]),z=J[y];if(z[0]!=cY.call(z[0])){A[0]=cY.call(z[0]);switch(A[0]){case"A":A[1]=z[1],A[2]=z[2],A[3]=z[3],A[4]=z[4],A[5]=z[5],A[6]=+(z[6]+G),A[7]=+(z[7]+F);break;case"V":A[1]=+z[1]+F;break;case"H":A[1]=+z[1]+G;break;case"R":var w=[G,F][aN](z.slice(1));for(var v=2,u=w.length;v<u;v++){w[v]=+w[v]+G,w[++v]=+w[v]+F}H.pop(),H=H[aN](aW(w,B));break;case"M":E=+z[1]+G,D=+z[2]+F;default:for(v=1,u=z.length;v<u;v++){A[v]=+z[v]+(v%2?G:F)}}}else{if(z[0]=="R"){w=[G,F][aN](z.slice(1)),H.pop(),H=H[aN](aW(w,B)),A=["R"][aN](z.slice(-2))}else{for(var n=0,a=z.length;n<a;n++){A[n]=z[n]}}}switch(A[0]){case"Z":G=E,F=D;break;case"H":G=A[1];break;case"V":F=A[1];break;case"M":E=A[A.length-2],D=A[A.length-1];default:G=A[A.length-2],F=A[A.length-1]}}H.toString=a8._path2string,I.abs=dI(H);return H},dF=function(f,e,h,g){return[f,e,h,g,h,g]},dE=function(k,j,q,p,o,n){var m=1/3,l=2/3;return[m*k+l*q,m*j+l*p,m*o+l*q,m*n+l*p,o,n]},dD=function(bL,bK,bJ,bI,bH,bG,bF,bE,bD,bC){var bB=dx*120/180,bA=dx/180*(+bH||0),bz=[],by,bx=a2(function(g,f,k){var j=g*av.cos(k)-f*av.sin(k),h=g*av.sin(k)+f*av.cos(k);return{x:j,y:h}});if(!bC){by=bx(bL,bK,-bA),bL=by.x,bK=by.y,by=bx(bE,bD,-bA),bE=by.x,bD=by.y;var bw=av.cos(dx/180*bH),bv=av.sin(dx/180*bH),bu=(bL-bE)/2,bt=(bK-bD)/2,bs=bu*bu/(bJ*bJ)+bt*bt/(bI*bI);bs>1&&(bs=av.sqrt(bs),bJ=bs*bJ,bI=bs*bI);var br=bJ*bJ,bq=bI*bI,bp=(bG==bF?-1:1)*av.sqrt(ao((br*bq-br*bt*bt-bq*bu*bu)/(br*bt*bt+bq*bu*bu))),bo=bp*bJ*bt/bI+(bL+bE)/2,bn=bp*-bI*bu/bJ+(bK+bD)/2,bm=av.asin(((bK-bn)/bI).toFixed(9)),bl=av.asin(((bD-bn)/bI).toFixed(9));bm=bL<bo?dx-bm:bm,bl=bE<bo?dx-bl:bl,bm<0&&(bm=dx*2+bm),bl<0&&(bl=dx*2+bl),bF&&bm>bl&&(bm=bm-dx*2),!bF&&bl>bm&&(bl=bl-dx*2)}else{bm=bC[0],bl=bC[1],bo=bC[2],bn=bC[3]}var bk=bl-bm;if(ao(bk)>bB){var bj=bl,bi=bE,bh=bD;bl=bm+bB*(bF&&bl>bm?1:-1),bE=bo+bJ*av.cos(bl),bD=bn+bI*av.sin(bl),bz=dD(bE,bD,bJ,bI,bH,0,bF,bi,bh,[bl,bj,bo,bn])}bk=bl-bm;var bg=av.cos(bm),bf=av.sin(bm),be=av.cos(bl),bd=av.sin(bl),bc=av.tan(bk/4),bb=4/3*bJ*bc,ba=4/3*bI*bc,Z=[bL,bK],Y=[bL+bb*bf,bK-ba*bg],B=[bE+bb*bd,bD-ba*be],z=[bE,bD];Y[0]=2*Z[0]-Y[0],Y[1]=2*Z[1]-Y[1];if(bC){return[Y,B,z][aN](bz)}bz=[Y,B,z][aN](bz).join()[aD](",");var w=[];for(var s=0,n=bz.length;s<n;s++){w[s]=s%2?bx(bz[s-1],bz[s],bA).y:bx(bz[s],bz[s+1],bA).x}return w},dC=function(t,s,r,q,p,o,n,m,l){var k=1-l;return{x:dz(k,3)*t+dz(k,2)*3*l*r+k*3*l*l*p+dz(l,3)*n,y:dz(k,3)*s+dz(k,2)*3*l*q+k*3*l*l*o+dz(l,3)*m}},dB=a2(function(F,E,D,C,B,A,z,y){var x=B-2*D+F-(z-2*B+D),w=2*(D-F)-2*(B-D),v=F-D,u=(-w+av.sqrt(w*w-4*x*v))/2/x,t=(-w-av.sqrt(w*w-4*x*v))/2/x,s=[E,y],r=[F,z],m;ao(u)>"1e12"&&(u=0.5),ao(t)>"1e12"&&(t=0.5),u>0&&u<1&&(m=dC(F,E,D,C,B,A,z,y,u),r.push(m.x),s.push(m.y)),t>0&&t<1&&(m=dC(F,E,D,C,B,A,z,y,t),r.push(m.x),s.push(m.y)),x=A-2*C+E-(y-2*A+C),w=2*(C-E)-2*(A-C),v=E-C,u=(-w+av.sqrt(w*w-4*x*v))/2/x,t=(-w-av.sqrt(w*w-4*x*v))/2/x,ao(u)>"1e12"&&(u=0.5),ao(t)>"1e12"&&(t=0.5),u>0&&u<1&&(m=dC(F,E,D,C,B,A,z,y,u),r.push(m.x),s.push(m.y)),t>0&&t<1&&(m=dC(F,E,D,C,B,A,z,y,t),r.push(m.x),s.push(m.y));return{min:{x:aq[aO](0,r),y:aq[aO](0,s)},max:{x:at[aO](0,r),y:at[aO](0,s)}}}),dA=a8._path2curve=a2(function(F,E){var D=!E&&aT(F);if(!E&&D.curve){return dI(D.curve)}var C=dG(F),B=E&&dG(E),A={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},z={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},y=function(f,e){var h,g;if(!f){return["C",e.x,e.y,e.x,e.y,e.x,e.y]}!(f[0] in {T:1,Q:1})&&(e.qx=e.qy=null);switch(f[0]){case"M":e.X=f[1],e.Y=f[2];break;case"A":f=["C"][aN](dD[aO](0,[e.x,e.y][aN](f.slice(1))));break;case"S":h=e.x+(e.x-(e.bx||e.x)),g=e.y+(e.y-(e.by||e.y)),f=["C",h,g][aN](f.slice(1));break;case"T":e.qx=e.x+(e.x-(e.qx||e.x)),e.qy=e.y+(e.y-(e.qy||e.y)),f=["C"][aN](dE(e.x,e.y,e.qx,e.qy,f[1],f[2]));break;case"Q":e.qx=f[1],e.qy=f[2],f=["C"][aN](dE(e.x,e.y,f[1],f[2],f[3],f[4]));break;case"L":f=["C"][aN](dF(e.x,e.y,f[1],f[2]));break;case"H":f=["C"][aN](dF(e.x,e.y,f[1],e.y));break;case"V":f=["C"][aN](dF(e.x,e.y,e.x,f[1]));break;case"Z":f=["C"][aN](dF(e.x,e.y,e.X,e.Y))}return f},x=function(e,d){if(e[d].length>7){e[d].shift();var f=e[d];while(f.length){e.splice(d++,0,["C"][aN](f.splice(0,6)))}e.splice(d,1),u=at(C.length,B&&B.length||0)}},w=function(e,d,k,j,h){e&&d&&e[h][0]=="M"&&d[h][0]!="M"&&(d.splice(h,0,["M",j.x,j.y]),k.bx=0,k.by=0,k.x=e[h][1],k.y=e[h][2],u=at(C.length,B&&B.length||0))};for(var v=0,u=at(C.length,B&&B.length||0);v<u;v++){C[v]=y(C[v],A),x(C,v),B&&(B[v]=y(B[v],z)),B&&x(B,v),w(C,B,A,z,v),w(B,C,z,A,v);var t=C[v],s=B&&B[v],n=t.length,m=B&&s.length;A.x=t[n-2],A.y=t[n-1],A.bx=c4(t[n-4])||A.x,A.by=c4(t[n-3])||A.y,z.bx=B&&(c4(s[m-4])||z.x),z.by=B&&(c4(s[m-3])||z.y),z.x=B&&s[m-2],z.y=B&&s[m-1]}B||(D.curve=dI(C));return B?[C,B]:C},null,dI),dy=a8._parseDots=a2(function(t){var s=[];for(var r=0,q=t.length;r<q;r++){var p={},o=t[r].match(/^([^:]*):?([\d\.]*)/);p.color=a8.getRGB(o[1]);if(p.color.error){return null}p.color=p.color.hex,o[2]&&(p.offset=o[2]+"%"),s.push(p)}for(r=1,q=s.length-1;r<q;r++){if(!s[r].offset){var n=c4(s[r-1].offset||0),m=0;for(var l=r+1;l<q;l++){if(s[l].offset){m=s[l].offset;break}}m||(m=100,l=q),m=c4(m);var a=(m-n)/(l-r+1);for(;r<l;r++){n+=a,s[r].offset=n+"%"}}}return s}),dw=a8._tear=function(d,c){d==c.top&&(c.top=d.prev),d==c.bottom&&(c.bottom=d.next),d.next&&(d.next.prev=d.prev),d.prev&&(d.prev.next=d.next)},du=a8._tofront=function(d,c){c.top!==d&&(dw(d,c),d.next=null,d.prev=c.top,c.top.next=d,c.top=d)},ds=a8._toback=function(d,c){c.bottom!==d&&(dw(d,c),d.next=c.bottom,d.prev=null,c.bottom.prev=d,c.bottom=d)},dq=a8._insertafter=function(e,d,f){dw(e,f),d==f.top&&(f.top=e),d.next&&(d.next.prev=e),e.next=d.next,e.prev=d,d.next=e},dn=a8._insertbefore=function(e,d,f){dw(e,f),d==f.bottom&&(f.bottom=e),d.prev&&(d.prev.next=e),e.prev=d.prev,d.prev=e,e.next=d},dl=a8.toMatrix=function(f,e){var h=dJ(f),g={_:{transform:aJ},getBBox:function(){return h}};dT(g,e);return g.matrix},dj=a8.transformPath=function(d,c){return cJ(d,dl(d,c))},dT=a8._extractTransform=function(R,Q){if(Q==null){return R._.transform}Q=aF(Q).replace(/\.{3}|\u2026/g,R._.transform||aJ);var P=a8.parseTransformString(Q),O=0,N=0,M=0,L=1,K=1,J=R._,I=new aL;J.transform=P||[];if(P){for(var H=0,G=P.length;H<G;H++){var F=P[H],E=F.length,D=aF(F[0]).toLowerCase(),C=F[0]!=D,B=C?I.invert():0,A,z,r,p,a;D=="t"&&E==3?C?(A=B.x(0,0),z=B.y(0,0),r=B.x(F[1],F[2]),p=B.y(F[1],F[2]),I.translate(r-A,p-z)):I.translate(F[1],F[2]):D=="r"?E==2?(a=a||R.getBBox(1),I.rotate(F[1],a.x+a.width/2,a.y+a.height/2),O+=F[1]):E==4&&(C?(r=B.x(F[2],F[3]),p=B.y(F[2],F[3]),I.rotate(F[1],r,p)):I.rotate(F[1],F[2],F[3]),O+=F[1]):D=="s"?E==2||E==3?(a=a||R.getBBox(1),I.scale(F[1],F[E-1],a.x+a.width/2,a.y+a.height/2),L*=F[1],K*=F[E-1]):E==5&&(C?(r=B.x(F[3],F[4]),p=B.y(F[3],F[4]),I.scale(F[1],F[2],r,p)):I.scale(F[1],F[2],F[3],F[4]),L*=F[1],K*=F[2]):D=="m"&&E==7&&I.add(F[1],F[2],F[3],F[4],F[5],F[6]),J.dirtyT=1,R.matrix=I}}R.matrix=I,J.sx=L,J.sy=K,J.deg=O,J.dx=N=I.e,J.dy=M=I.f,L==1&&K==1&&!O&&J.bbox?(J.bbox.x+=+N,J.bbox.y+=+M):J.dirtyT=1},dd=function(d){var c=d[0];switch(c.toLowerCase()){case"t":return[c,0,0];case"m":return[c,1,0,0,1,0,0];case"r":return d.length==4?[c,0,d[2],d[3]]:[c,0];case"s":return d.length==5?[c,1,1,d[3],d[4]]:d.length==3?[c,1,1]:[c,1]}},aM=a8._equaliseTransform=function(t,s){s=aF(s).replace(/\.{3}|\u2026/g,t),t=a8.parseTransformString(t)||[],s=a8.parseTransformString(s)||[];var r=at(t.length,s.length),q=[],p=[],o=0,n,m,l,a;for(;o<r;o++){l=t[o]||dd(s[o]),a=s[o]||dd(l);if(l[0]!=a[0]||l[0].toLowerCase()=="r"&&(l[2]!=a[2]||l[3]!=a[3])||l[0].toLowerCase()=="s"&&(l[3]!=a[3]||l[4]!=a[4])){return}q[o]=[],p[o]=[];for(n=0,m=at(l.length,a.length);n<m;n++){n in l&&(q[o][n]=l[n]),n in a&&(p[o][n]=a[n])}}return{from:q,to:p}};a8._getContainer=function(a,k,j,h){var g;g=h==null&&!a8.is(a,"object")?aU.doc.getElementById(a):a;if(g!=null){if(g.tagName){return k==null?{container:g,width:g.style.pixelWidth||g.offsetWidth,height:g.style.pixelHeight||g.offsetHeight}:{container:g,width:k,height:j}}return{container:1,x:a,y:k,width:j,height:h}}},a8.pathToRelative=dH,a8._engine={},a8.path2curve=dA,a8.matrix=function(h,g,m,l,k,j){return new aL(h,g,m,l,k,j)},function(a){function e(d){var c=av.sqrt(f(d));d[0]&&(d[0]/=c),d[1]&&(d[1]/=c)}function f(b){return b[0]*b[0]+b[1]*b[1]}a.add=function(z,y,x,w,v,u){var t=[[],[],[]],s=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],r=[[z,x,v],[y,w,u],[0,0,1]],q,p,o,n;z&&z instanceof aL&&(r=[[z.a,z.c,z.e],[z.b,z.d,z.f],[0,0,1]]);for(q=0;q<3;q++){for(p=0;p<3;p++){n=0;for(o=0;o<3;o++){n+=s[q][o]*r[o][p]}t[q][p]=n}}this.a=t[0][0],this.b=t[1][0],this.c=t[0][1],this.d=t[1][1],this.e=t[0][2],this.f=t[1][2]},a.invert=function(){var d=this,c=d.a*d.d-d.b*d.c;return new aL(d.d/c,-d.b/c,-d.c/c,d.a/c,(d.c*d.f-d.d*d.e)/c,(d.b*d.e-d.a*d.f)/c)},a.clone=function(){return new aL(this.a,this.b,this.c,this.d,this.e,this.f)},a.translate=function(d,c){this.add(1,0,0,1,d,c)},a.scale=function(h,g,k,j){g==null&&(g=h),(k||j)&&this.add(1,0,0,1,k,j),this.add(h,0,0,g,0,0),(k||j)&&this.add(1,0,0,1,-k,-j)},a.rotate=function(g,l,k){g=a8.rad(g),l=l||0,k=k||0;var j=+av.cos(g).toFixed(9),h=+av.sin(g).toFixed(9);this.add(j,h,-h,j,l,k),this.add(1,0,0,1,-l,-k)},a.x=function(d,c){return d*this.a+c*this.c+this.e},a.y=function(d,c){return d*this.b+c*this.d+this.f},a.get=function(b){return +this[aF.fromCharCode(97+b)].toFixed(4)},a.toString=function(){return a8.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},a.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},a.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},a.split=function(){var c={};c.dx=this.e,c.dy=this.f;var j=[[this.a,this.c],[this.b,this.d]];c.scalex=av.sqrt(f(j[0])),e(j[0]),c.shear=j[0][0]*j[1][0]+j[0][1]*j[1][1],j[1]=[j[1][0]-j[0][0]*c.shear,j[1][1]-j[0][1]*c.shear],c.scaley=av.sqrt(f(j[1])),e(j[1]),c.shear/=c.scaley;var h=-j[0][1],d=j[1][1];d<0?(c.rotate=a8.deg(av.acos(d)),h<0&&(c.rotate=360-c.rotate)):c.rotate=a8.deg(av.asin(h)),c.isSimple=!+c.shear.toFixed(9)&&(c.scalex.toFixed(9)==c.scaley.toFixed(9)||!c.rotate),c.isSuperSimple=!+c.shear.toFixed(9)&&c.scalex.toFixed(9)==c.scaley.toFixed(9)&&!c.rotate,c.noRotation=!+c.shear.toFixed(9)&&!c.rotate;return c},a.toTransformString=function(d){var c=d||this[aD]();if(c.isSimple){c.scalex=+c.scalex.toFixed(4),c.scaley=+c.scaley.toFixed(4),c.rotate=+c.rotate.toFixed(4);return(c.dx||c.dy?"t"+[c.dx,c.dy]:aJ)+(c.scalex!=1||c.scaley!=1?"s"+[c.scalex,c.scaley,0,0]:aJ)+(c.rotate?"r"+[c.rotate,0,0]:aJ)}return"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(aL.prototype);var aI=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);navigator.vendor=="Apple Computer, Inc."&&(aI&&aI[1]<4||navigator.platform.slice(0,2)=="iP")||navigator.vendor=="Google Inc."&&aI&&aI[1]<8?aQ.safari=function(){var b=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){b.remove()})}:aQ.safari=cW;var aG=function(){this.returnValue=!1},aE=function(){return this.originalEvent.preventDefault()},aC=function(){this.cancelBubble=!0},aA=function(){return this.originalEvent.stopPropagation()},ay=function(){if(aU.doc.addEventListener){return function(h,g,m,l){var k=aK&&az[g]?az[g]:g,j=function(q){var p=aU.doc.documentElement.scrollTop||aU.doc.body.scrollTop,o=aU.doc.documentElement.scrollLeft||aU.doc.body.scrollLeft,d=q.clientX+o,c=q.clientY+p;if(aK&&az[aV](g)){for(var b=0,a=q.targetTouches&&q.targetTouches.length;b<a;b++){if(q.targetTouches[b].target==h){var r=q;q=q.targetTouches[b],q.originalEvent=r,q.preventDefault=aE,q.stopPropagation=aA;break}}}return m.call(l,q,d,c)};h.addEventListener(k,j,!1);return function(){h.removeEventListener(k,j,!1);return !0}}}if(aU.doc.attachEvent){return function(h,g,m,l){var k=function(d){d=d||aU.win.event;var c=aU.doc.documentElement.scrollTop||aU.doc.body.scrollTop,p=aU.doc.documentElement.scrollLeft||aU.doc.body.scrollLeft,o=d.clientX+p,n=d.clientY+c;d.preventDefault=d.preventDefault||aG,d.stopPropagation=d.stopPropagation||aC;return m.call(l,d,o,n)};h.attachEvent("on"+g,k);var j=function(){h.detachEvent("on"+g,k);return !0};return j}}}(),aw=[],au=function(B){var A=B.clientX,z=B.clientY,y=aU.doc.documentElement.scrollTop||aU.doc.body.scrollTop,x=aU.doc.documentElement.scrollLeft||aU.doc.body.scrollLeft,w,v=aw.length;while(v--){w=aw[v];if(aK){var u=B.touches.length,t;while(u--){t=B.touches[u];if(t.identifier==w.el._drag.id){A=t.clientX,z=t.clientY,(B.originalEvent?B.originalEvent:B).preventDefault();break}}}else{B.preventDefault()}var s=w.el.node,r,q=s.nextSibling,o=s.parentNode,h=s.style.display;aU.win.opera&&o.removeChild(s),s.style.display="none",r=w.el.paper.getElementByPoint(A,z),s.style.display=h,aU.win.opera&&(q?o.insertBefore(s,q):o.appendChild(s)),r&&eve("raphael.drag.over."+w.el.id,w.el,r),A+=x,z+=y,eve("raphael.drag.move."+w.el.id,w.move_scope||w.el,A-w.el._drag.x,z-w.el._drag.y,A,z,B)}},ar=function(a){a8.unmousemove(au).unmouseup(ar);var f=aw.length,e;while(f--){e=aw[f],e.el._drag={},eve("raphael.drag.end."+e.el.id,e.end_scope||e.start_scope||e.move_scope||e.el,a)}aw=[]},ap=a8.el={};for(var an=aB.length;an--;){(function(a){a8[a]=ap[a]=function(e,b){a8.is(e,"function")&&(this.events=this.events||[],this.events.push({name:a,f:e,unbind:ay(this.shape||this.node||aU.doc,a,e,b||this)}));return this},a8["un"+a]=ap["un"+a]=function(b){var f=this.events||[],e=f.length;while(e--){if(f[e].name==a&&f[e].f==b){f[e].unbind(),f.splice(e,1),!f.length&&delete this.events;return this}}return this}})(aB[an])}ap.data=function(a,h){var g=c5[this.id]=c5[this.id]||{};if(arguments.length==1){if(a8.is(a,"object")){for(var f in a){a[aV](f)&&this.data(f,a[f])}return this}eve("raphael.data.get."+this.id,this,g[a],a);return g[a]}g[a]=h,eve("raphael.data.set."+this.id,this,h,a);return this},ap.removeData=function(b){b==null?c5[this.id]={}:c5[this.id]&&delete c5[this.id][b];return this},ap.hover=function(f,e,h,g){return this.mouseover(f,h).mouseout(e,g||h)},ap.unhover=function(d,c){return this.unmouseover(d).unmouseout(c)};var am=[];ap.drag=function(a,n,m,l,k,j){function h(d){(d.originalEvent||d).preventDefault();var c=aU.doc.documentElement.scrollTop||aU.doc.body.scrollTop,b=aU.doc.documentElement.scrollLeft||aU.doc.body.scrollLeft;this._drag.x=d.clientX+b,this._drag.y=d.clientY+c,this._drag.id=d.identifier,!aw.length&&a8.mousemove(au).mouseup(ar),aw.push({el:this,move_scope:l,start_scope:k,end_scope:j}),n&&eve.on("raphael.drag.start."+this.id,n),a&&eve.on("raphael.drag.move."+this.id,a),m&&eve.on("raphael.drag.end."+this.id,m),eve("raphael.drag.start."+this.id,k||l||this,d.clientX+b,d.clientY+c,d)}this._drag={},am.push({el:this,start:h}),this.mousedown(h);return this},ap.onDragOver=function(b){b?eve.on("raphael.drag.over."+this.id,b):eve.unbind("raphael.drag.over."+this.id)},ap.undrag=function(){var a=am.length;while(a--){am[a].el==this&&(this.unmousedown(am[a].start),am.splice(a,1),eve.unbind("raphael.drag.*."+this.id))}!am.length&&a8.unmousemove(au).unmouseup(ar)},aQ.circle=function(a,h,g){var f=a8._engine.circle(this,a||0,h||0,g||0);this.__set__&&this.__set__.push(f);return f},aQ.rect=function(a,m,l,k,j){var h=a8._engine.rect(this,a||0,m||0,l||0,k||0,j||0);this.__set__&&this.__set__.push(h);return h},aQ.ellipse=function(a,k,j,h){var g=a8._engine.ellipse(this,a||0,k||0,j||0,h||0);this.__set__&&this.__set__.push(g);return g},aQ.path=function(a){a&&!a8.is(a,dt)&&!a8.is(a[0],dr)&&(a+=aJ);var d=a8._engine.path(a8.format[aO](a8,arguments),this);this.__set__&&this.__set__.push(d);return d},aQ.image=function(a,m,l,k,j){var h=a8._engine.image(this,a||"about:blank",m||0,l||0,k||0,j||0);this.__set__&&this.__set__.push(h);return h},aQ.text=function(a,h,g){var f=a8._engine.text(this,a||0,h||0,aF(g));this.__set__&&this.__set__.push(f);return f},aQ.set=function(a){!a8.is(a,"array")&&(a=Array.prototype.splice.call(arguments,0,arguments.length));var d=new cT(a);this.__set__&&this.__set__.push(d);return d},aQ.setStart=function(b){this.__set__=b||this.set()},aQ.setFinish=function(d){var c=this.__set__;delete this.__set__;return c},aQ.setSize=function(a,d){return a8._engine.setSize.call(this,a,d)},aQ.setViewBox=function(a,k,j,h,g){return a8._engine.setViewBox.call(this,a,k,j,h,g)},aQ.top=aQ.bottom=null,aQ.raphael=a8;var al=function(r){var q=r.getBoundingClientRect(),p=r.ownerDocument,o=p.body,n=p.documentElement,m=n.clientTop||o.clientTop||0,l=n.clientLeft||o.clientLeft||0,k=q.top+(aU.win.pageYOffset||n.scrollTop||o.scrollTop)-m,h=q.left+(aU.win.pageXOffset||n.scrollLeft||o.scrollLeft)-l;return{y:k,x:h}};aQ.getElementByPoint=function(j,h){var p=this,o=p.canvas,n=aU.doc.elementFromPoint(j,h);if(aU.win.opera&&n.tagName=="svg"){var m=al(o),l=o.createSVGRect();l.x=j-m.x,l.y=h-m.y,l.width=l.height=1;var k=o.getIntersectionList(l,null);k.length&&(n=k[k.length-1])}if(!n){return null}while(n.parentNode&&n!=o.parentNode&&!n.raphael){n=n.parentNode}n==p.canvas.parentNode&&(n=o),n=n&&n.raphael?p.getById(n.raphaelid):null;return n},aQ.getById=function(d){var c=this.bottom;while(c){if(c.id==d){return c}c=c.next}return null},aQ.forEach=function(e,d){var f=this.bottom;while(f){if(e.call(d,f)===!1){return this}f=f.next}return this},aQ.getElementsByPoint=function(e,d){var f=this.set();this.forEach(function(a){a.isPointInside(e,d)&&f.push(a)});return f},ap.isPointInside=function(a,f){var e=this.realPath=this.realPath||cL[this.type](this);return a8.isPointInsidePath(e,a,f)},ap.getBBox=function(d){if(this.removed){return{}}var c=this._;if(d){if(c.dirty||!c.bboxwt){this.realPath=cL[this.type](this),c.bboxwt=dJ(this.realPath),c.bboxwt.toString=aj,c.dirty=0}return c.bboxwt}if(c.dirty||c.dirtyT||!c.bbox){if(c.dirty||!this.realPath){c.bboxwt=0,this.realPath=cL[this.type](this)}c.bbox=dJ(cJ(this.realPath,this.matrix)),c.bbox.toString=aj,c.dirty=c.dirtyT=0}return c.bbox},ap.clone=function(){if(this.removed){return null}var b=this.paper[this.type]().attr(this.attr());this.__set__&&this.__set__.push(b);return b},ap.glow=function(j){if(this.type=="text"){return null}j=j||{};var h={width:(j.width||10)+(+this.attr("stroke-width")||1),fill:j.fill||!1,opacity:j.opacity||0.5,offsetx:j.offsetx||0,offsety:j.offsety||0,color:j.color||"#000"},o=h.width/2,n=this.paper,m=n.set(),l=this.realPath||cL[this.type](this);l=this.matrix?cJ(l,this.matrix):l;for(var k=1;k<o+1;k++){m.push(n.path(l).attr({stroke:h.color,fill:h.fill?h.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(h.width/o*k).toFixed(3),opacity:+(h.opacity/o).toFixed(3)}))}return m.insertBefore(this).translate(h.offsetx,h.offsety)};var ai={},ah=function(r,q,p,o,n,m,l,k,a){return a==null?dQ(r,q,p,o,n,m,l,k):a8.findDotsAtSegment(r,q,p,o,n,m,l,k,dP(r,q,p,o,n,m,l,k,a))},ag=function(a,d){return function(A,z,y){A=dA(A);var x,w,v,u,t="",s={},r,q=0;for(var c=0,b=A.length;c<b;c++){v=A[c];if(v[0]=="M"){x=+v[1],w=+v[2]}else{u=ah(x,w,v[1],v[2],v[3],v[4],v[5],v[6]);if(q+u>z){if(d&&!s.start){r=ah(x,w,v[1],v[2],v[3],v[4],v[5],v[6],z-q),t+=["C"+r.start.x,r.start.y,r.m.x,r.m.y,r.x,r.y];if(y){return t}s.start=t,t=["M"+r.x,r.y+"C"+r.n.x,r.n.y,r.end.x,r.end.y,v[5],v[6]].join(),q+=u,x=+v[5],w=+v[6];continue}if(!a&&!d){r=ah(x,w,v[1],v[2],v[3],v[4],v[5],v[6],z-q);return{x:r.x,y:r.y,alpha:r.alpha}}}q+=u,x=+v[5],w=+v[6]}t+=v.shift()+v}s.end=t,r=a?q:d?s:a8.findDotsAtSegment(x,w,v[0],v[1],v[2],v[3],v[4],v[5],1),r.alpha&&(r={x:r.x,y:r.y,alpha:r.alpha});return r}},af=ag(1),ae=ag(),ad=ag(0,1);a8.getTotalLength=af,a8.getPointAtLength=ae,a8.getSubpath=function(f,e,h){if(this.getTotalLength(f)-h<0.000001){return ad(f,e).end}var g=ad(f,h,1);return e?ad(g,e).end:g},ap.getTotalLength=function(){if(this.type=="path"){if(this.node.getTotalLength){return this.node.getTotalLength()}return af(this.attrs.path)}},ap.getPointAtLength=function(b){if(this.type=="path"){return ae(this.attrs.path,b)}},ap.getSubpath=function(a,d){if(this.type=="path"){return a8.getSubpath(this.attrs.path,a,d)}};var ac=a8.easing_formulas={linear:function(b){return b},"<":function(b){return dz(b,1.7)},">":function(b){return dz(b,0.48)},"<>":function(k){var j=0.48-k/1.04,q=av.sqrt(0.1734+j*j),p=q-j,o=dz(ao(p),1/3)*(p<0?-1:1),n=-q-j,m=dz(ao(n),1/3)*(n<0?-1:1),l=o+m+0.5;return(1-l)*3*l*l+l*l*l},backIn:function(d){var c=1.70158;return d*d*((c+1)*d-c)},backOut:function(d){d=d-1;var c=1.70158;return d*d*((c+1)*d+c)+1},elastic:function(b){if(b==!!b){return b}return dz(2,-10*b)*av.sin((b-0.075)*2*dx/0.3)+1},bounce:function(f){var e=7.5625,h=2.75,g;f<1/h?g=e*f*f:f<2/h?(f-=1.5/h,g=e*f*f+0.75):f<2.5/h?(f-=2.25/h,g=e*f*f+0.9375):(f-=2.625/h,g=e*f*f+0.984375);return g}};ac.easeIn=ac["ease-in"]=ac["<"],ac.easeOut=ac["ease-out"]=ac[">"],ac.easeInOut=ac["ease-in-out"]=ac["<>"],ac["back-in"]=ac.backIn,ac["back-out"]=ac.backOut;var ab=[],aa=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){setTimeout(b,16)},db=function(){var T=+(new Date),S=0;for(;S<ab.length;S++){var R=ab[S];if(R.el.removed||R.paused){continue}var Q=T-R.start,P=R.ms,O=R.easing,N=R.from,M=R.diff,L=R.to,K=R.t,J=R.el,I={},H,F={},E;R.initstatus?(Q=(R.initstatus*R.anim.top-R.prev)/(R.percent-R.prev)*P,R.status=R.initstatus,delete R.initstatus,R.stop&&ab.splice(S--,1)):R.status=(R.prev+(R.percent-R.prev)*(Q/P))/R.anim.top;if(Q<0){continue}if(Q<P){var D=O(Q/P);for(var C in N){if(N[aV](C)){switch(cS[C]){case dv:H=+N[C]+D*P*M[C];break;case"colour":H="rgb("+[c8(da(N[C].r+D*P*M[C].r)),c8(da(N[C].g+D*P*M[C].g)),c8(da(N[C].b+D*P*M[C].b))].join(",")+")";break;case"path":H=[];for(var B=0,q=N[C].length;B<q;B++){H[B]=[N[C][B][0]];for(var n=1,g=N[C][B].length;n<g;n++){H[B][n]=+N[C][B][n]+D*P*M[C][B][n]}H[B]=H[B].join(aH)}H=H.join(aH);break;case"transform":if(M[C].real){H=[];for(B=0,q=N[C].length;B<q;B++){H[B]=[N[C][B][0]];for(n=1,g=N[C][B].length;n<g;n++){H[B][n]=N[C][B][n]+D*P*M[C][B][n]}}}else{var a=function(b){return +N[C][b]+D*P*M[C][b]};H=[["m",a(0),a(1),a(2),a(3),a(4),a(5)]]}break;case"csv":if(C=="clip-rect"){H=[],B=4;while(B--){H[B]=+N[C][B]+D*P*M[C][B]}}break;default:var G=[][aN](N[C]);H=[],B=J.paper.customAttributes[C].length;while(B--){H[B]=+G[B]+D*P*M[C][B]}}I[C]=H}}J.attr(I),function(e,d,f){setTimeout(function(){eve("raphael.anim.frame."+e,d,f)})}(J.id,J,R.anim)}else{(function(e,h,f){setTimeout(function(){eve("raphael.anim.frame."+h.id,h,f),eve("raphael.anim.finish."+h.id,h,f),a8.is(e,"function")&&e.call(h)})})(R.callback,J,R.anim),J.attr(L),ab.splice(S--,1);if(R.repeat>1&&!R.next){for(E in L){L[aV](E)&&(F[E]=R.totalOrigin[E])}R.el.attr(F),c0(R.anim,R.el,R.anim.percents[0],null,R.totalOrigin,R.repeat-1)}R.next&&!R.stop&&c0(R.anim,R.el,R.next,null,R.totalOrigin,R.repeat)}}a8.svg&&J&&J.paper&&J.paper.safari(),ab.length&&aa(db)},c8=function(b){return b>255?255:b<0?0:b};ap.animateWith=function(x,w,v,u,t,s){var r=this;if(r.removed){s&&s.call(r);return r}var q=v instanceof c3?v:a8.animation(v,u,t,s),p,o;c0(q,r,q.percents[0],null,r.attr());for(var n=0,a=ab.length;n<a;n++){if(ab[n].anim==w&&ab[n].el==x){ab[a-1].start=ab[n].start;break}}return r},ap.onAnimation=function(b){b?eve.on("raphael.anim.frame."+this.id,b):eve.unbind("raphael.anim.frame."+this.id);return this},c3.prototype.delay=function(d){var c=new c3(this.anim,this.ms);c.times=this.times,c.del=+d||0;return c},c3.prototype.repeat=function(d){var c=new c3(this.anim,this.ms);c.del=this.del,c.times=av.floor(at(d,0))||1;return c},a8.animation=function(a,n,m,l){if(a instanceof c3){return a}if(a8.is(m,"function")||!m){l=l||m||null,m=null}a=Object(a),n=+n||0;var k={},j,g;for(g in a){a[aV](g)&&c4(g)!=g&&c4(g)+"%"!=g&&(j=!0,k[g]=a[g])}if(!j){return new c3(a,n)}m&&(k.easing=m),l&&(k.callback=l);return new c3({100:k},n)},ap.animate=function(a,m,l,k){var j=this;if(j.removed){k&&k.call(j);return j}var h=a instanceof c3?a:a8.animation(a,m,l,k);c0(h,j,h.percents[0],null,j.attr());return j},ap.setTime=function(d,c){d&&c!=null&&this.status(d,aq(c,d.ms)/d.ms);return this},ap.status=function(h,g){var m=[],l=0,k,j;if(g!=null){c0(h,this,-1,aq(g,1));return this}k=ab.length;for(;l<k;l++){j=ab[l];if(j.el.id==this.id&&(!h||j.anim==h)){if(h){return j.status}m.push({anim:j.anim,status:j.status})}}if(h){return 0}return m},ap.pause=function(d){for(var c=0;c<ab.length;c++){ab[c].el.id==this.id&&(!d||ab[c].anim==d)&&eve("raphael.anim.pause."+this.id,this,ab[c].anim)!==!1&&(ab[c].paused=!0)}return this},ap.resume=function(e){for(var d=0;d<ab.length;d++){if(ab[d].el.id==this.id&&(!e||ab[d].anim==e)){var f=ab[d];eve("raphael.anim.resume."+this.id,this,f.anim)!==!1&&(delete f.paused,this.status(f.anim,f.status))}}return this},ap.stop=function(d){for(var c=0;c<ab.length;c++){ab[c].el.id==this.id&&(!d||ab[c].anim==d)&&eve("raphael.anim.stop."+this.id,this,ab[c].anim)!==!1&&ab.splice(c--,1)}return this},eve.on("raphael.remove",cX),eve.on("raphael.clear",cX),ap.toString=function(){return"Raphals object"};var cT=function(e){this.items=[],this.length=0,this.type="set";if(e){for(var d=0,f=e.length;d<f;d++){e[d]&&(e[d].constructor==ap.constructor||e[d].constructor==cT)&&(this[this.items.length]=this.items[this.items.length]=e[d],this.length++)}}},cQ=cT.prototype;cQ.push=function(){var f,e;for(var h=0,g=arguments.length;h<g;h++){f=arguments[h],f&&(f.constructor==ap.constructor||f.constructor==cT)&&(e=this.items.length,this[e]=this.items[e]=f,this.length++)}return this},cQ.pop=function(){this.length&&delete this[this.length--];return this.items.pop()},cQ.forEach=function(f,e){for(var h=0,g=this.items.length;h<g;h++){if(f.call(e,this.items[h],h)===!1){return this}}return this};for(var cN in ap){ap[aV](cN)&&(cQ[cN]=function(b){return function(){var a=arguments;return this.forEach(function(d){d[b][aO](d,a)})}}(cN))}cQ.attr=function(a,m){if(a&&a8.is(a,dr)&&a8.is(a[0],"object")){for(var l=0,k=a.length;l<k;l++){this.items[l].attr(a[l])}}else{for(var j=0,h=this.items.length;j<h;j++){this.items[j].attr(a,m)}}return this},cQ.clear=function(){while(this.length){this.pop()}},cQ.splice=function(k,j,q){k=k<0?at(this.length+k,0):k,j=at(0,aq(this.length-k,j));var p=[],o=[],n=[],m;for(m=2;m<arguments.length;m++){n.push(arguments[m])}for(m=0;m<j;m++){o.push(this[k+m])}for(;m<this.length-k;m++){p.push(this[k+m])}var l=n.length;for(m=0;m<l+p.length;m++){this.items[k+m]=this[k+m]=m<l?n[m]:p[m-l]}m=this.items.length=this.length-=j-l;while(this[m]){delete this[m++]}return new cT(o)},cQ.exclude=function(e){for(var d=0,f=this.length;d<f;d++){if(this[d]==e){this.splice(d,1);return !0}}},cQ.animate=function(t,s,r,q){(a8.is(r,"function")||!r)&&(q=r||null);var p=this.items.length,o=p,n,m=this,l;if(!p){return this}q&&(l=function(){!--p&&q.call(m)}),r=a8.is(r,dt)?r:l;var a=a8.animation(t,s,r,l);n=this.items[--o].animate(a);while(o--){this.items[o]&&!this.items[o].removed&&this.items[o].animateWith(n,a,a)}return this},cQ.insertAfter=function(d){var c=this.items.length;while(c--){this.items[c].insertAfter(d)}return this},cQ.getBBox=function(){var h=[],g=[],m=[],l=[];for(var k=this.items.length;k--;){if(!this.items[k].removed){var j=this.items[k].getBBox();h.push(j.x),g.push(j.y),m.push(j.x+j.width),l.push(j.y+j.height)}}h=aq[aO](0,h),g=aq[aO](0,g),m=at[aO](0,m),l=at[aO](0,l);return{x:h,y:g,x2:m,y2:l,width:m-h,height:l-g}},cQ.clone=function(e){e=new cT;for(var d=0,f=this.items.length;d<f;d++){e.push(this.items[d].clone())}return e},cQ.toString=function(){return"Raphals set"},a8.registerFont=function(j){if(!j.face){return j}this.fonts=this.fonts||{};var g={w:j.w,face:{},glyphs:{}},o=j.face["font-family"];for(var n in j.face){j.face[aV](n)&&(g.face[n]=j.face[n])}this.fonts[o]?this.fonts[o].push(g):this.fonts[o]=[g];if(!j.svg){g.face["units-per-em"]=c1(j.face["units-per-em"],10);for(var m in j.glyphs){if(j.glyphs[aV](m)){var l=j.glyphs[m];g.glyphs[m]={w:l.w,k:{},d:l.d&&"M"+l.d.replace(/[mlcxtrv]/g,function(b){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[b]||"M"})+"z"};if(l.k){for(var k in l.k){l[aV](k)&&(g.glyphs[m].k[k]=l.k[k])}}}}}return j},aQ.getFont=function(t,s,r,q){q=q||"normal",r=r||"normal",s=+s||{normal:400,bold:700,lighter:300,bolder:800}[s]||400;if(!!a8.fonts){var p=a8.fonts[t];if(!p){var o=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,aJ)+"(\\s|$)","i");for(var n in a8.fonts){if(a8.fonts[aV](n)&&o.test(n)){p=a8.fonts[n];break}}}var m;if(p){for(var g=0,a=p.length;g<a;g++){m=p[g];if(m.face["font-weight"]==s&&(m.face["font-style"]==r||!m.face["font-style"])&&m.face["font-stretch"]==q){break}}}return m}},aQ.print=function(P,O,N,M,L,K,J){K=K||"middle",J=at(aq(J||0,1),-1);var I=aF(N)[aD](aJ),H=0,G=0,F=aJ,E;a8.is(M,N)&&(M=this.getFont(M));if(M){E=(L||16)/M.face["units-per-em"];var D=M.face.bbox[aD](a3),y=+D[0],s=D[3]-D[1],r=0,p=+D[1]+(K=="baseline"?s+ +M.face.descent:s/2);for(var c=0,a=I.length;c<a;c++){if(I[c]=="\n"){H=0,x=0,G=0,r+=s}else{var C=G&&M.glyphs[I[c-1]]||{},x=M.glyphs[I[c]];H+=G?(C.w||M.w)+(C.k&&C.k[I[c]]||0)+M.w*J:0,G=1}x&&x.d&&(F+=a8.transformPath(x.d,["t",H*E,r*E,"s",E,E,y,p,"t",(P-y)/E,(O-p)/E]))}}return this.path(F).attr({fill:"#000",stroke:"none"})},aQ.add=function(a){if(a8.is(a,"array")){var k=this.set(),j=0,g=a.length,d;for(;j<g;j++){d=a[j]||{},a1[aV](d.type)&&k.push(this[d.type]().attr(d))}}return k},a8.format=function(a,f){var e=a8.is(f,dr)?[0][aN](f):arguments;a&&a8.is(a,dt)&&e.length-1&&(a=a.replace(a0,function(d,c){return e[++c]==null?aJ:e[c]}));return a||aJ},a8.fullfill=function(){var e=/\{([^\}]+)\}/g,d=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,f=function(b,j,h){var g=h;j.replace(d,function(l,k,o,n,m){k=k||n,g&&(k in g&&(g=g[k]),typeof g=="function"&&m&&(g=g()))}),g=(g==null||g==h?b:g)+"";return g};return function(a,c){return String(a).replace(e,function(h,g){return f(h,g,c)})}}(),a8.ninja=function(){aS.was?aU.win.Raphael=aS.is:delete Raphael;return a8},a8.st=cQ,function(a,h,g){function f(){/in/.test(a.readyState)?setTimeout(f,9):a8.eve("raphael.DOMload")}a.readyState==null&&a.addEventListener&&(a.addEventListener(h,g=function(){a.removeEventListener(h,g,!1),a.readyState="complete"},!1),a.readyState="loading"),f()}(document,"DOMContentLoaded"),aS.was?aU.win.Raphael=a8:Raphael=a8,eve.on("raphael.DOMload",function(){a6=!0})}(),window.Raphael.svg&&function(af){var ae="hasOwnProperty",ad=String,ac=parseFloat,ab=parseInt,aa=Math,Z=aa.max,Y=aa.abs,X=aa.pow,W=/[, ]+/,V=af.eve,U="",T=" ",S="http://www.w3.org/1999/xlink",R={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},Q={};af.toString=function(){return"Your browser supports SVG.\nYou are running Raphal "+this.version};var O=function(c,b){if(b){typeof c=="string"&&(c=O(c));for(var a in b){b[ae](a)&&(a.substring(0,6)=="xlink:"?c.setAttributeNS(S,a.substring(6),ad(b[a])):c.setAttribute(a,ad(b[a])))}}else{c=af._g.doc.createElementNS("http://www.w3.org/2000/svg",c),c.style&&(c.style.webkitTapHighlightColor="rgba(0,0,0,0)")}return c},M=function(A,q){var l="linear",h=A.id+q,g=0.5,f=0.5,d=A.node,c=A.paper,a=d.style,aj=af._g.doc.getElementById(h);if(!aj){q=ad(q).replace(af._radial_gradient,function(k,j,n){l="radial";if(j&&n){g=ac(j),f=ac(n);var m=(f>0.5)*2-1;X(g-0.5,2)+X(f-0.5,2)>0.25&&(f=aa.sqrt(0.25-X(g-0.5,2))*m+0.5)&&f!=0.5&&(f=f.toFixed(5)-0.00001*m)}return U}),q=q.split(/\s*\-\s*/);if(l=="linear"){var ai=q.shift();ai=-ac(ai);if(isNaN(ai)){return null}var ah=[0,0,aa.cos(af.rad(ai)),aa.sin(af.rad(ai))],ag=1/(Z(Y(ah[2]),Y(ah[3]))||1);ah[2]*=ag,ah[3]*=ag,ah[2]<0&&(ah[0]=-ah[2],ah[2]=0),ah[3]<0&&(ah[1]=-ah[3],ah[3]=0)}var C=af._parseDots(q);if(!C){return null}h=h.replace(/[\(\)\s,\xb0#]/g,"_"),A.gradient&&h!=A.gradient.id&&(c.defs.removeChild(A.gradient),delete A.gradient);if(!A.gradient){aj=O(l+"Gradient",{id:h}),A.gradient=aj,O(aj,l=="radial"?{fx:g,fy:f}:{x1:ah[0],y1:ah[1],x2:ah[2],y2:ah[3],gradientTransform:A.matrix.invert()}),c.defs.appendChild(aj);for(var B=0,z=C.length;B<z;B++){aj.appendChild(O("stop",{offset:C[B].offset?C[B].offset:B?"100%":"0%","stop-color":C[B].color||"#fff"}))}}}O(d,{fill:"url(#"+h+")",opacity:1,"fill-opacity":1}),a.fill=U,a.opacity=1,a.fillOpacity=1;return 1},K=function(d){var c=d.getBBox(1);O(d.pattern,{patternTransform:d.matrix.invert()+" translate("+c.x+","+c.y+")"})},J=function(ay,ax,aw){if(ay.type=="path"){var av=ad(ax).toLowerCase().split("-"),au=ay.paper,at=aw?"end":"start",ar=ay.node,aq=ay.attrs,ap=aq["stroke-width"],ao=av.length,al="classic",aj,ah,ag,p,l,c=3,b=3,a=5;while(ao--){switch(av[ao]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":al=av[ao];break;case"wide":b=5;break;case"narrow":b=2;break;case"long":c=5;break;case"short":c=2}}al=="open"?(c+=2,b+=2,a+=2,ag=1,p=aw?4:1,l={fill:"none",stroke:aq.stroke}):(p=ag=c/2,l={fill:aq.stroke,stroke:"none"}),ay._.arrows?aw?(ay._.arrows.endPath&&Q[ay._.arrows.endPath]--,ay._.arrows.endMarker&&Q[ay._.arrows.endMarker]--):(ay._.arrows.startPath&&Q[ay._.arrows.startPath]--,ay._.arrows.startMarker&&Q[ay._.arrows.startMarker]--):ay._.arrows={};if(al!="none"){var an="raphael-marker-"+al,am="raphael-marker-"+at+al+c+b;af._g.doc.getElementById(an)?Q[an]++:(au.defs.appendChild(O(O("path"),{"stroke-linecap":"round",d:R[al],id:an})),Q[an]=1);var ak=af._g.doc.getElementById(am),ai;ak?(Q[am]++,ai=ak.getElementsByTagName("use")[0]):(ak=O(O("marker"),{id:am,markerHeight:b,markerWidth:c,orient:"auto",refX:p,refY:b/2}),ai=O(O("use"),{"xlink:href":"#"+an,transform:(aw?"rotate(180 "+c/2+" "+b/2+") ":U)+"scale("+c/a+","+b/a+")","stroke-width":(1/((c/a+b/a)/2)).toFixed(4)}),ak.appendChild(ai),au.defs.appendChild(ak),Q[am]=1),O(ai,l);var q=ag*(al!="diamond"&&al!="oval");aw?(aj=ay._.arrows.startdx*ap||0,ah=af.getTotalLength(aq.path)-q*ap):(aj=q*ap,ah=af.getTotalLength(aq.path)-(ay._.arrows.enddx*ap||0)),l={},l["marker-"+at]="url(#"+am+")";if(ah||aj){l.d=Raphael.getSubpath(aq.path,aj,ah)}O(ar,l),ay._.arrows[at+"Path"]=an,ay._.arrows[at+"Marker"]=am,ay._.arrows[at+"dx"]=q,ay._.arrows[at+"Type"]=al,ay._.arrows[at+"String"]=ax}else{aw?(aj=ay._.arrows.startdx*ap||0,ah=af.getTotalLength(aq.path)-aj):(aj=0,ah=af.getTotalLength(aq.path)-(ay._.arrows.enddx*ap||0)),ay._.arrows[at+"Path"]&&O(ar,{d:Raphael.getSubpath(aq.path,aj,ah)}),delete ay._.arrows[at+"Path"],delete ay._.arrows[at+"Marker"],delete ay._.arrows[at+"dx"],delete ay._.arrows[at+"Type"],delete ay._.arrows[at+"String"]}for(l in Q){if(Q[ae](l)&&!Q[l]){var o=af._g.doc.getElementById(l);o&&o.parentNode.removeChild(o)}}}},I={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},H=function(j,c,o){c=I[ad(c).toLowerCase()];if(c){var n=j.attrs["stroke-width"]||"1",m={round:n,square:n,butt:0}[j.attrs["stroke-linecap"]||o["stroke-linecap"]]||0,l=[],k=c.length;while(k--){l[k]=c[k]*n+(k%2?1:-1)*m}O(j.node,{"stroke-dasharray":l.join(",")})}},G=function(ak,aj){var ai=ak.node,ah=ak.attrs,ag=ai.style.visibility;ai.style.visibility="hidden";for(var y in aj){if(aj[ae](y)){if(!af._availableAttrs[ae](y)){continue}var v=aj[y];ah[y]=v;switch(y){case"blur":ak.blur(v);break;case"href":case"title":case"target":var n=ai.parentNode;if(n.tagName.toLowerCase()!="a"){var h=O("a");n.insertBefore(h,ai),h.appendChild(ai),n=h}y=="target"?n.setAttributeNS(S,"show",v=="blank"?"new":v):n.setAttributeNS(S,y,v);break;case"cursor":ai.style.cursor=v;break;case"transform":ak.transform(v);break;case"arrow-start":J(ak,v);break;case"arrow-end":J(ak,v,1);break;case"clip-rect":var e=ad(v).split(W);if(e.length==4){ak.clip&&ak.clip.parentNode.parentNode.removeChild(ak.clip.parentNode);var a=O("clipPath"),t=O("rect");a.id=af.createUUID(),O(t,{x:e[0],y:e[1],width:e[2],height:e[3]}),a.appendChild(t),ak.paper.defs.appendChild(a),O(ai,{"clip-path":"url(#"+a.id+")"}),ak.clip=t}if(!v){var s=ai.getAttribute("clip-path");if(s){var r=af._g.doc.getElementById(s.replace(/(^url\(#|\)$)/g,U));r&&r.parentNode.removeChild(r),O(ai,{"clip-path":U}),delete ak.clip}}break;case"path":ak.type=="path"&&(O(ai,{d:v?ah.path=af._pathToAbsolute(v):"M0,0"}),ak._.dirty=1,ak._.arrows&&("startString" in ak._.arrows&&J(ak,ak._.arrows.startString),"endString" in ak._.arrows&&J(ak,ak._.arrows.endString,1)));break;case"width":ai.setAttribute(y,v),ak._.dirty=1;if(ah.fx){y="x",v=ah.x}else{break}case"x":ah.fx&&(v=-ah.x-(ah.width||0));case"rx":if(y=="rx"&&ak.type=="rect"){break}case"cx":ai.setAttribute(y,v),ak.pattern&&K(ak),ak._.dirty=1;break;case"height":ai.setAttribute(y,v),ak._.dirty=1;if(ah.fy){y="y",v=ah.y}else{break}case"y":ah.fy&&(v=-ah.y-(ah.height||0));case"ry":if(y=="ry"&&ak.type=="rect"){break}case"cy":ai.setAttribute(y,v),ak.pattern&&K(ak),ak._.dirty=1;break;case"r":ak.type=="rect"?O(ai,{rx:v,ry:v}):ai.setAttribute(y,v),ak._.dirty=1;break;case"src":ak.type=="image"&&ai.setAttributeNS(S,"href",v);break;case"stroke-width":if(ak._.sx!=1||ak._.sy!=1){v/=Z(Y(ak._.sx),Y(ak._.sy))||1}ak.paper._vbSize&&(v*=ak.paper._vbSize),ai.setAttribute(y,v),ah["stroke-dasharray"]&&H(ak,ah["stroke-dasharray"],aj),ak._.arrows&&("startString" in ak._.arrows&&J(ak,ak._.arrows.startString),"endString" in ak._.arrows&&J(ak,ak._.arrows.endString,1));break;case"stroke-dasharray":H(ak,v,aj);break;case"fill":var q=ad(v).match(af._ISURL);if(q){a=O("pattern");var l=O("image");a.id=af.createUUID(),O(a,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),O(l,{x:0,y:0,"xlink:href":q[1]}),a.appendChild(l),function(d){af._preload(q[1],function(){var f=this.offsetWidth,k=this.offsetHeight;O(d,{width:f,height:k}),O(l,{width:f,height:k}),ak.paper.safari()})}(a),ak.paper.defs.appendChild(a),O(ai,{fill:"url(#"+a.id+")"}),ak.pattern=a,ak.pattern&&K(ak);break}var j=af.getRGB(v);if(!j.error){delete aj.gradient,delete ah.gradient,!af.is(ah.opacity,"undefined")&&af.is(aj.opacity,"undefined")&&O(ai,{opacity:ah.opacity}),!af.is(ah["fill-opacity"],"undefined")&&af.is(aj["fill-opacity"],"undefined")&&O(ai,{"fill-opacity":ah["fill-opacity"]})}else{if((ak.type=="circle"||ak.type=="ellipse"||ad(v).charAt()!="r")&&M(ak,v)){if("opacity" in ah||"fill-opacity" in ah){var g=af._g.doc.getElementById(ai.getAttribute("fill").replace(/^url\(#|\)$/g,U));if(g){var c=g.getElementsByTagName("stop");O(c[c.length-1],{"stop-opacity":("opacity" in ah?ah.opacity:1)*("fill-opacity" in ah?ah["fill-opacity"]:1)})}}ah.gradient=v,ah.fill="none";break}}j[ae]("opacity")&&O(ai,{"fill-opacity":j.opacity>1?j.opacity/100:j.opacity});case"stroke":j=af.getRGB(v),ai.setAttribute(y,j.hex),y=="stroke"&&j[ae]("opacity")&&O(ai,{"stroke-opacity":j.opacity>1?j.opacity/100:j.opacity}),y=="stroke"&&ak._.arrows&&("startString" in ak._.arrows&&J(ak,ak._.arrows.startString),"endString" in ak._.arrows&&J(ak,ak._.arrows.endString,1));break;case"gradient":(ak.type=="circle"||ak.type=="ellipse"||ad(v).charAt()!="r")&&M(ak,v);break;case"opacity":ah.gradient&&!ah[ae]("stroke-opacity")&&O(ai,{"stroke-opacity":v>1?v/100:v});case"fill-opacity":if(ah.gradient){g=af._g.doc.getElementById(ai.getAttribute("fill").replace(/^url\(#|\)$/g,U)),g&&(c=g.getElementsByTagName("stop"),O(c[c.length-1],{"stop-opacity":v}));break}default:y=="font-size"&&(v=ab(v,10)+"px");var b=y.replace(/(\-.)/g,function(d){return d.substring(1).toUpperCase()});ai.style[b]=v,ak._.dirty=1,ai.setAttribute(y,v)}}}E(ak,aj),ai.style.visibility=ag},F=1.2,E=function(x,w){if(x.type=="text"&&!!(w[ae]("text")||w[ae]("font")||w[ae]("font-size")||w[ae]("x")||w[ae]("y"))){var v=x.attrs,u=x.node,t=u.firstChild?ab(af._g.doc.defaultView.getComputedStyle(u.firstChild,U).getPropertyValue("font-size"),10):10;if(w[ae]("text")){v.text=w.text;while(u.firstChild){u.removeChild(u.firstChild)}var s=ad(w.text).split("\n"),q=[],l;for(var e=0,c=s.length;e<c;e++){l=O("tspan"),e&&O(l,{dy:t*F,x:v.x}),l.appendChild(af._g.doc.createTextNode(s[e])),u.appendChild(l),q[e]=l}}else{q=u.getElementsByTagName("tspan");for(e=0,c=q.length;e<c;e++){e?O(q[e],{dy:t*F,x:v.x}):O(q[0],{dy:0})}}O(u,{x:v.x,y:v.y}),x._.dirty=1;var b=x._getBBox(),a=v.y-(b.y+b.height/2);a&&af.is(a,"finite")&&O(q[0],{dy:a})}},D=function(a,h){var g=0,f=0;this[0]=this.node=a,a.raphael=!0,this.id=af._oid++,a.raphaelid=this.id,this.matrix=af.matrix(),this.realPath=null,this.paper=h,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!h.bottom&&(h.bottom=this),this.prev=h.top,h.top&&(h.top.next=this),h.top=this,this.next=null},P=af.el;D.prototype=P,P.constructor=D,af._engine.path=function(f,e){var h=O("path");e.canvas&&e.canvas.appendChild(h);var g=new D(h,e);g.type="path",G(g,{fill:"none",stroke:"#000",path:f});return g},P.rotate=function(d,c,h){if(this.removed){return this}d=ad(d).split(W),d.length-1&&(c=ac(d[1]),h=ac(d[2])),d=ac(d[0]),h==null&&(c=h);if(c==null||h==null){var g=this.getBBox(1);c=g.x+g.width/2,h=g.y+g.height/2}this.transform(this._.transform.concat([["r",d,c,h]]));return this},P.scale=function(d,c,k,j){if(this.removed){return this}d=ad(d).split(W),d.length-1&&(c=ac(d[1]),k=ac(d[2]),j=ac(d[3])),d=ac(d[0]),c==null&&(c=d),j==null&&(k=j);if(k==null||j==null){var h=this.getBBox(1)}k=k==null?h.x+h.width/2:k,j=j==null?h.y+h.height/2:j,this.transform(this._.transform.concat([["s",d,c,k,j]]));return this},P.translate=function(d,c){if(this.removed){return this}d=ad(d).split(W),d.length-1&&(c=ac(d[1])),d=ac(d[0])||0,c=+c||0,this.transform(this._.transform.concat([["t",d,c]]));return this},P.transform=function(f){var b=this._;if(f==null){return b.transform}af._extractTransform(this,f),this.clip&&O(this.clip,{transform:this.matrix.invert()}),this.pattern&&K(this),this.node&&O(this.node,{transform:this.matrix});if(b.sx!=1||b.sy!=1){var a=this.attrs[ae]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":a})}return this},P.hide=function(){!this.removed&&this.paper.safari(this.node.style.display="none");return this},P.show=function(){!this.removed&&this.paper.safari(this.node.style.display="");return this},P.remove=function(){if(!this.removed&&!!this.node.parentNode){var a=this.paper;a.__set__&&a.__set__.exclude(this),V.unbind("raphael.*.*."+this.id),this.gradient&&a.defs.removeChild(this.gradient),af._tear(this,a),this.node.parentNode.tagName.toLowerCase()=="a"?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var d in this){this[d]=typeof this[d]=="function"?af._removedFactory(d):null}this.removed=!0}},P._getBBox=function(){if(this.node.style.display=="none"){this.show();var e=!0}var d={};try{d=this.node.getBBox()}catch(f){}finally{d=d||{}}e&&this.hide();return d},P.attr=function(x,w){if(this.removed){return this}if(x==null){var v={};for(var u in this.attrs){this.attrs[ae](u)&&(v[u]=this.attrs[u])}v.gradient&&v.fill=="none"&&(v.fill=v.gradient)&&delete v.gradient,v.transform=this._.transform;return v}if(w==null&&af.is(x,"string")){if(x=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}if(x=="transform"){return this._.transform}var t=x.split(W),s={};for(var r=0,q=t.length;r<q;r++){x=t[r],x in this.attrs?s[x]=this.attrs[x]:af.is(this.paper.customAttributes[x],"function")?s[x]=this.paper.customAttributes[x].def:s[x]=af._availableAttrs[x]}return q-1?s:s[t[0]]}if(w==null&&af.is(x,"array")){s={};for(r=0,q=x.length;r<q;r++){s[x[r]]=this.attr(x[r])}return s}if(w!=null){var k={};k[x]=w}else{x!=null&&af.is(x,"object")&&(k=x)}for(var j in k){V("raphael.attr."+j+"."+this.id,this,k[j])}for(j in this.paper.customAttributes){if(this.paper.customAttributes[ae](j)&&k[ae](j)&&af.is(this.paper.customAttributes[j],"function")){var b=this.paper.customAttributes[j].apply(this,[].concat(k[j]));this.attrs[j]=k[j];for(var a in b){b[ae](a)&&(k[a]=b[a])}}}G(this,k);return this},P.toFront=function(){if(this.removed){return this}this.node.parentNode.tagName.toLowerCase()=="a"?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var a=this.paper;a.top!=this&&af._tofront(this,a);return this},P.toBack=function(){if(this.removed){return this}var a=this.node.parentNode;a.tagName.toLowerCase()=="a"?a.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):a.firstChild!=this.node&&a.insertBefore(this.node,this.node.parentNode.firstChild),af._toback(this,this.paper);var d=this.paper;return this},P.insertAfter=function(a){if(this.removed){return this}var d=a.node||a[a.length-1].node;d.nextSibling?d.parentNode.insertBefore(this.node,d.nextSibling):d.parentNode.appendChild(this.node),af._insertafter(this,a,this.paper);return this},P.insertBefore=function(a){if(this.removed){return this}var d=a.node||a[0].node;d.parentNode.insertBefore(this.node,d),af._insertbefore(this,a,this.paper);return this},P.blur=function(a){var h=this;if(+a!==0){var g=O("filter"),f=O("feGaussianBlur");h.attrs.blur=a,g.id=af.createUUID(),O(f,{stdDeviation:+a||1.5}),g.appendChild(f),h.paper.defs.appendChild(g),h._blur=g,O(h.node,{filter:"url(#"+g.id+")"})}else{h._blur&&(h._blur.parentNode.removeChild(h._blur),delete h._blur,delete h.attrs.blur),h.node.removeAttribute("filter")}},af._engine.circle=function(h,g,m,l){var k=O("circle");h.canvas&&h.canvas.appendChild(k);var j=new D(k,h);j.attrs={cx:g,cy:m,r:l,fill:"none",stroke:"#000"},j.type="circle",O(k,j.attrs);return j},af._engine.rect=function(k,j,q,p,o,n){var m=O("rect");k.canvas&&k.canvas.appendChild(m);var l=new D(m,k);l.attrs={x:j,y:q,width:p,height:o,r:n||0,rx:n||0,ry:n||0,fill:"none",stroke:"#000"},l.type="rect",O(m,l.attrs);return l},af._engine.ellipse=function(j,h,o,n,m){var l=O("ellipse");j.canvas&&j.canvas.appendChild(l);var k=new D(l,j);k.attrs={cx:h,cy:o,rx:n,ry:m,fill:"none",stroke:"#000"},k.type="ellipse",O(l,k.attrs);return k},af._engine.image=function(k,j,q,p,o,n){var m=O("image");O(m,{x:q,y:p,width:o,height:n,preserveAspectRatio:"none"}),m.setAttributeNS(S,"href",j),k.canvas&&k.canvas.appendChild(m);var l=new D(m,k);l.attrs={x:q,y:p,width:o,height:n,src:j},l.type="image";return l},af._engine.text=function(a,m,l,k){var j=O("text");a.canvas&&a.canvas.appendChild(j);var h=new D(j,a);h.attrs={x:m,y:l,"text-anchor":"middle",text:k,font:af._availableAttrs.font,stroke:"none",fill:"#000"},h.type="text",G(h,h.attrs);return h},af._engine.setSize=function(d,c){this.width=d||this.width,this.height=c||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox);return this},af._engine.create=function(){var r=af._getContainer.apply(0,arguments),q=r&&r.container,p=r.x,o=r.y,n=r.width,m=r.height;if(!q){throw new Error("SVG container not found.")}var l=O("svg"),k="overflow:hidden;",a;p=p||0,o=o||0,n=n||512,m=m||342,O(l,{height:m,version:1.1,width:n,xmlns:"http://www.w3.org/2000/svg"}),q==1?(l.style.cssText=k+"position:absolute;left:"+p+"px;top:"+o+"px",af._g.doc.body.appendChild(l),a=1):(l.style.cssText=k+"position:relative",q.firstChild?q.insertBefore(l,q.firstChild):q.appendChild(l)),q=new af._Paper,q.width=n,q.height=m,q.canvas=l,q.clear(),q._left=q._top=0,a&&(q.renderfix=function(){}),q.renderfix();return q},af._engine.setViewBox=function(t,s,r,q,p){V("raphael.setViewBox",this,this._viewBox,[t,s,r,q,p]);var o=Z(r/this.width,q/this.height),n=this.top,m=p?"meet":"xMinYMin",k,g;t==null?(this._vbSize&&(o=1),delete this._vbSize,k="0 0 "+this.width+T+this.height):(this._vbSize=o,k=t+T+s+T+r+T+q),O(this.canvas,{viewBox:k,preserveAspectRatio:m});while(o&&n){g="stroke-width" in n.attrs?n.attrs["stroke-width"]:1,n.attr({"stroke-width":g}),n._.dirty=1,n._.dirtyT=1,n=n.prev}this._viewBox=[t,s,r,q,!!p];return this},af.prototype.renderfix=function(){var h=this.canvas,g=h.style,m;try{m=h.getScreenCTM()||h.createSVGMatrix()}catch(l){m=h.createSVGMatrix()}var k=-m.e%1,j=-m.f%1;if(k||j){k&&(this._left=(this._left+k)%1,g.left=this._left+"px"),j&&(this._top=(this._top+j)%1,g.top=this._top+"px")}},af.prototype.clear=function(){af.eve("raphael.clear",this);var a=this.canvas;while(a.firstChild){a.removeChild(a.firstChild)}this.bottom=this.top=null,(this.desc=O("desc")).appendChild(af._g.doc.createTextNode("Created with Raphal "+af.version)),a.appendChild(this.desc),a.appendChild(this.defs=O("defs"))},af.prototype.remove=function(){V("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var a in this){this[a]=typeof this[a]=="function"?af._removedFactory(a):null}};var N=af.st;for(var L in P){P[ae](L)&&!N[ae](L)&&(N[L]=function(b){return function(){var a=arguments;return this.forEach(function(d){d[b].apply(d,a)})}}(L))}}(window.Raphael),window.Raphael.vml&&function(ap){var ao="hasOwnProperty",an=String,am=parseFloat,al=Math,ak=al.round,aj=al.max,ai=al.min,ah=al.abs,ag="fill",af=/[, ]+/,ae=ap.eve,ad=" progid:DXImageTransform.Microsoft",ac=" ",ab="",aa={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Y=/([clmz]),?([^clmz]*)/gi,W=/ progid:\S+Blur\([^\)]+\)/g,U=/-?[^,\s-]+/g,S="position:absolute;left:0;top:0;width:1px;height:1px",Q=21600,O={path:1,rect:1,image:1},M={circle:1,ellipse:1},K=function(v){var u=/[ahqstv]/ig,t=ap._pathToAbsolute;an(v).match(u)&&(t=ap._path2curve),u=/[clmz]/g;if(t==ap._pathToAbsolute&&!an(v).match(u)){var s=an(v).replace(Y,function(j,h,r){var m=[],l=h.toLowerCase()=="m",k=aa[h];r.replace(U,function(b){l&&m.length==2&&(k+=m+aa[h=="m"?"l":"L"],m=[]),m.push(ak(b*Q))});return k+m});return s}var q=t(v),p,o;s=[];for(var n=0,f=q.length;n<f;n++){p=q[n],o=q[n][0].toLowerCase(),o=="z"&&(o="x");for(var c=1,a=p.length;c<a;c++){o+=ak(p[c]*Q)+(c!=a-1?",":ab)}s.push(o)}return s.join(ac)},J=function(a,h,g){var f=ap.matrix();f.rotate(-a,0.5,0.5);return{dx:f.x(h,g),dy:f.y(h,g)}},I=function(at,ar,aq,H,G,F){var E=at._,D=at.matrix,C=E.fillpos,B=at.node,A=B.style,z=1,y="",x,w=Q/ar,u=Q/aq;A.visibility="hidden";if(!!ar&&!!aq){B.coordsize=ah(w)+ac+ah(u),A.rotation=F*(ar*aq<0?-1:1);if(F){var n=J(F,H,G);H=n.dx,G=n.dy}ar<0&&(y+="x"),aq<0&&(y+=" y")&&(z=-1),A.flip=y,B.coordorigin=H*-w+ac+G*-u;if(C||E.fillsize){var j=B.getElementsByTagName(ag);j=j&&j[0],B.removeChild(j),C&&(n=J(F,D.x(C[0],C[1]),D.y(C[0],C[1])),j.position=n.dx*z+ac+n.dy*z),E.fillsize&&(j.size=E.fillsize[0]*ah(ar)+ac+E.fillsize[1]*ah(aq)),B.appendChild(j)}A.visibility="visible"}};ap.toString=function(){return"Your browser doesnt support SVG. Falling down to VML.\nYou are running Raphal "+this.version};var Z=function(t,s,r){var q=an(s).toLowerCase().split("-"),p=r?"end":"start",o=q.length,n="classic",m="medium",l="medium";while(o--){switch(q[o]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":n=q[o];break;case"wide":case"narrow":l=q[o];break;case"long":case"short":m=q[o]}}var c=t.node.getElementsByTagName("stroke")[0];c[p+"arrow"]=n,c[p+"arrowlength"]=m,c[p+"arrowwidth"]=l},X=function(aF,aE){aF.attrs=aF.attrs||{};var aD=aF.node,aC=aF.attrs,aB=aD.style,aA,ay=O[aF.type]&&(aE.x!=aC.x||aE.y!=aC.y||aE.width!=aC.width||aE.height!=aC.height||aE.cx!=aC.cx||aE.cy!=aC.cy||aE.rx!=aC.rx||aE.ry!=aC.ry||aE.r!=aC.r),aw=M[aF.type]&&(aC.cx!=aE.cx||aC.cy!=aE.cy||aC.r!=aE.r||aC.rx!=aE.rx||aC.ry!=aE.ry),av=aF;for(var F in aE){aE[ao](F)&&(aC[F]=aE[F])}ay&&(aC.path=ap._getPath[aF.type](aF),aF._.dirty=1),aE.href&&(aD.href=aE.href),aE.title&&(aD.title=aE.title),aE.target&&(aD.target=aE.target),aE.cursor&&(aB.cursor=aE.cursor),"blur" in aE&&aF.blur(aE.blur);if(aE.path&&aF.type=="path"||ay){aD.path=K(~an(aC.path).toLowerCase().indexOf("r")?ap._pathToAbsolute(aC.path):aC.path),aF.type=="image"&&(aF._.fillpos=[aC.x,aC.y],aF._.fillsize=[aC.width,aC.height],I(aF,1,1,0,0,0))}"transform" in aE&&aF.transform(aE.transform);if(aw){var az=+aC.cx,ax=+aC.cy,au=+aC.rx||+aC.r||0,at=+aC.ry||+aC.r||0;aD.path=ap.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",ak((az-au)*Q),ak((ax-at)*Q),ak((az+au)*Q),ak((ax+at)*Q),ak(az*Q))}if("clip-rect" in aE){var ar=an(aE["clip-rect"]).split(af);if(ar.length==4){ar[2]=+ar[2]+ +ar[0],ar[3]=+ar[3]+ +ar[1];var aq=aD.clipRect||ap._g.doc.createElement("div"),C=aq.style;C.clip=ap.format("rect({1}px {2}px {3}px {0}px)",ar),aD.clipRect||(C.position="absolute",C.top=0,C.left=0,C.width=aF.paper.width+"px",C.height=aF.paper.height+"px",aD.parentNode.insertBefore(aq,aD),aq.appendChild(aD),aD.clipRect=aq)}aE["clip-rect"]||aD.clipRect&&(aD.clipRect.style.clip="auto")}if(aF.textpath){var A=aF.textpath.style;aE.font&&(A.font=aE.font),aE["font-family"]&&(A.fontFamily='"'+aE["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,ab)+'"'),aE["font-size"]&&(A.fontSize=aE["font-size"]),aE["font-weight"]&&(A.fontWeight=aE["font-weight"]),aE["font-style"]&&(A.fontStyle=aE["font-style"])}"arrow-start" in aE&&Z(av,aE["arrow-start"]),"arrow-end" in aE&&Z(av,aE["arrow-end"],1);if(aE.opacity!=null||aE["stroke-width"]!=null||aE.fill!=null||aE.src!=null||aE.stroke!=null||aE["stroke-width"]!=null||aE["stroke-opacity"]!=null||aE["fill-opacity"]!=null||aE["stroke-dasharray"]!=null||aE["stroke-miterlimit"]!=null||aE["stroke-linejoin"]!=null||aE["stroke-linecap"]!=null){var z=aD.getElementsByTagName(ag),x=!1;z=z&&z[0],!z&&(x=z=P(ag)),aF.type=="image"&&aE.src&&(z.src=aE.src),aE.fill&&(z.on=!0);if(z.on==null||aE.fill=="none"||aE.fill===null){z.on=!1}if(z.on&&aE.fill){var w=an(aE.fill).match(ap._ISURL);if(w){z.parentNode==aD&&aD.removeChild(z),z.rotate=!0,z.src=w[1],z.type="tile";var v=aF.getBBox(1);z.position=v.x+ac+v.y,aF._.fillpos=[v.x,v.y],ap._preload(w[1],function(){aF._.fillsize=[this.offsetWidth,this.offsetHeight]})}else{z.color=ap.getRGB(aE.fill).hex,z.src=ab,z.type="solid",ap.getRGB(aE.fill).error&&(av.type in {circle:1,ellipse:1}||an(aE.fill).charAt()!="r")&&V(av,aE.fill,z)&&(aC.fill="none",aC.gradient=aE.fill,z.rotate=!1)}}if("fill-opacity" in aE||"opacity" in aE){var u=((+aC["fill-opacity"]+1||2)-1)*((+aC.opacity+1||2)-1)*((+ap.getRGB(aE.fill).o+1||2)-1);u=ai(aj(u,0),1),z.opacity=u,z.src&&(z.color="none")}aD.appendChild(z);var n=aD.getElementsByTagName("stroke")&&aD.getElementsByTagName("stroke")[0],h=!1;!n&&(h=n=P("stroke"));if(aE.stroke&&aE.stroke!="none"||aE["stroke-width"]||aE["stroke-opacity"]!=null||aE["stroke-dasharray"]||aE["stroke-miterlimit"]||aE["stroke-linejoin"]||aE["stroke-linecap"]){n.on=!0}(aE.stroke=="none"||aE.stroke===null||n.on==null||aE.stroke==0||aE["stroke-width"]==0)&&(n.on=!1);var g=ap.getRGB(aE.stroke);n.on&&aE.stroke&&(n.color=g.hex),u=((+aC["stroke-opacity"]+1||2)-1)*((+aC.opacity+1||2)-1)*((+g.o+1||2)-1);var f=(am(aE["stroke-width"])||1)*0.75;u=ai(aj(u,0),1),aE["stroke-width"]==null&&(f=aC["stroke-width"]),aE["stroke-width"]&&(n.weight=f),f&&f<1&&(u*=f)&&(n.weight=1),n.opacity=u,aE["stroke-linejoin"]&&(n.joinstyle=aE["stroke-linejoin"]||"miter"),n.miterlimit=aE["stroke-miterlimit"]||8,aE["stroke-linecap"]&&(n.endcap=aE["stroke-linecap"]=="butt"?"flat":aE["stroke-linecap"]=="square"?"square":"round");if(aE["stroke-dasharray"]){var d={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};n.dashstyle=d[ao](aE["stroke-dasharray"])?d[aE["stroke-dasharray"]]:ab}h&&aD.appendChild(n)}if(av.type=="text"){av.paper.canvas.style.display=ab;var c=av.paper.span,b=100,a=aC.font&&aC.font.match(/\d+(?:\.\d*)?(?=px)/);aB=c.style,aC.font&&(aB.font=aC.font),aC["font-family"]&&(aB.fontFamily=aC["font-family"]),aC["font-weight"]&&(aB.fontWeight=aC["font-weight"]),aC["font-style"]&&(aB.fontStyle=aC["font-style"]),a=am(aC["font-size"]||a&&a[0])||10,aB.fontSize=a*b+"px",av.textpath.string&&(c.innerHTML=an(av.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var j=c.getBoundingClientRect();av.W=aC.w=(j.right-j.left)/b,av.H=aC.h=(j.bottom-j.top)/b,av.X=aC.x,av.Y=aC.y+av.H/2,("x" in aE||"y" in aE)&&(av.path.v=ap.format("m{0},{1}l{2},{1}",ak(aC.x*Q),ak(aC.y*Q),ak(aC.x*Q)+1));var aG=["x","y","text","font","font-family","font-weight","font-style","font-size"];for(var o=0,k=aG.length;o<k;o++){if(aG[o] in aE){av._.dirty=1;break}}switch(aC["text-anchor"]){case"start":av.textpath.style["v-text-align"]="left",av.bbx=av.W/2;break;case"end":av.textpath.style["v-text-align"]="right",av.bbx=-av.W/2;break;default:av.textpath.style["v-text-align"]="center",av.bbx=0}av.textpath.style["v-text-kern"]=!0}},V=function(z,y,x){z.attrs=z.attrs||{};var w=z.attrs,v=Math.pow,u,o,n="linear",e=".5 .5";z.attrs.gradient=y,y=an(y).replace(ap._radial_gradient,function(g,f,h){n="radial",f&&h&&(f=am(f),h=am(h),v(f-0.5,2)+v(h-0.5,2)>0.25&&(h=al.sqrt(0.25-v(f-0.5,2))*((h>0.5)*2-1)+0.5),e=f+ac+h);return ab}),y=y.split(/\s*\-\s*/);if(n=="linear"){var d=y.shift();d=-am(d);if(isNaN(d)){return null}}var c=ap._parseDots(y);if(!c){return null}z=z.shape||z.node;if(c.length){z.removeChild(x),x.on=!0,x.method="none",x.color=c[0].color,x.color2=c[c.length-1].color;var a=[];for(var B=0,A=c.length;B<A;B++){c[B].offset&&a.push(c[B].offset+ac+c[B].color)}x.colors=a.length?a.join():"0% "+x.color,n=="radial"?(x.type="gradientTitle",x.focus="100%",x.focussize="0 0",x.focusposition=e,x.angle=0):(x.type="gradient",x.angle=(270-d)%360),z.appendChild(x)}return 1},T=function(a,d){this[0]=this.node=a,a.raphael=!0,this.id=ap._oid++,a.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=d,this.matrix=ap.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!d.bottom&&(d.bottom=this),this.prev=d.top,d.top&&(d.top.next=this),d.top=this,this.next=null},R=ap.el;T.prototype=R,R.constructor=T,R.transform=function(B){if(B==null){return this._.transform}var A=this.paper._viewBoxShift,z=A?"s"+[A.scale,A.scale]+"-1-1t"+[A.dx,A.dy]:ab,y;A&&(y=B=an(B).replace(/\.{3}|\u2026/g,this._.transform||ab)),ap._extractTransform(this,z+B);var x=this.matrix.clone(),w=this.skew,v=this.node,u,t=~an(this.attrs.fill).indexOf("-"),s=!an(this.attrs.fill).indexOf("url(");x.translate(-0.5,-0.5);if(s||t||this.type=="image"){w.matrix="1 0 0 1",w.offset="0 0",u=x.split();if(t&&u.noRotation||!u.isSimple){v.style.filter=x.toFilter();var o=this.getBBox(),n=this.getBBox(1),c=o.x-n.x,a=o.y-n.y;v.coordorigin=c*-Q+ac+a*-Q,I(this,1,1,c,a,0)}else{v.style.filter=ab,I(this,u.scalex,u.scaley,u.dx,u.dy,u.rotate)}}else{v.style.filter=ab,w.matrix=an(x),w.offset=x.offset()}y&&(this._.transform=y);return this},R.rotate=function(d,c,h){if(this.removed){return this}if(d!=null){d=an(d).split(af),d.length-1&&(c=am(d[1]),h=am(d[2])),d=am(d[0]),h==null&&(c=h);if(c==null||h==null){var g=this.getBBox(1);c=g.x+g.width/2,h=g.y+g.height/2}this._.dirtyT=1,this.transform(this._.transform.concat([["r",d,c,h]]));return this}},R.translate=function(d,c){if(this.removed){return this}d=an(d).split(af),d.length-1&&(c=am(d[1])),d=am(d[0])||0,c=+c||0,this._.bbox&&(this._.bbox.x+=d,this._.bbox.y+=c),this.transform(this._.transform.concat([["t",d,c]]));return this},R.scale=function(d,c,k,j){if(this.removed){return this}d=an(d).split(af),d.length-1&&(c=am(d[1]),k=am(d[2]),j=am(d[3]),isNaN(k)&&(k=null),isNaN(j)&&(j=null)),d=am(d[0]),c==null&&(c=d),j==null&&(k=j);if(k==null||j==null){var h=this.getBBox(1)}k=k==null?h.x+h.width/2:k,j=j==null?h.y+h.height/2:j,this.transform(this._.transform.concat([["s",d,c,k,j]])),this._.dirtyT=1;return this},R.hide=function(){!this.removed&&(this.node.style.display="none");return this},R.show=function(){!this.removed&&(this.node.style.display=ab);return this},R._getBBox=function(){if(this.removed){return{}}return{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},R.remove=function(){if(!this.removed&&!!this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),ap.eve.unbind("raphael.*.*."+this.id),ap._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var a in this){this[a]=typeof this[a]=="function"?ap._removedFactory(a):null}this.removed=!0}},R.attr=function(x,w){if(this.removed){return this}if(x==null){var v={};for(var u in this.attrs){this.attrs[ao](u)&&(v[u]=this.attrs[u])}v.gradient&&v.fill=="none"&&(v.fill=v.gradient)&&delete v.gradient,v.transform=this._.transform;return v}if(w==null&&ap.is(x,"string")){if(x==ag&&this.attrs.fill=="none"&&this.attrs.gradient){return this.attrs.gradient}var t=x.split(af),s={};for(var r=0,l=t.length;r<l;r++){x=t[r],x in this.attrs?s[x]=this.attrs[x]:ap.is(this.paper.customAttributes[x],"function")?s[x]=this.paper.customAttributes[x].def:s[x]=ap._availableAttrs[x]}return l-1?s:s[t[0]]}if(this.attrs&&w==null&&ap.is(x,"array")){s={};for(r=0,l=x.length;r<l;r++){s[x[r]]=this.attr(x[r])}return s}var k;w!=null&&(k={},k[x]=w),w==null&&ap.is(x,"object")&&(k=x);for(var j in k){ae("raphael.attr."+j+"."+this.id,this,k[j])}if(k){for(j in this.paper.customAttributes){if(this.paper.customAttributes[ao](j)&&k[ao](j)&&ap.is(this.paper.customAttributes[j],"function")){var b=this.paper.customAttributes[j].apply(this,[].concat(k[j]));this.attrs[j]=k[j];for(var a in b){b[ao](a)&&(k[a]=b[a])}}}k.text&&this.type=="text"&&(this.textpath.string=k.text),X(this,k)}return this},R.toFront=function(){!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&ap._tofront(this,this.paper);return this},R.toBack=function(){if(this.removed){return this}this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),ap._toback(this,this.paper));return this},R.insertAfter=function(a){if(this.removed){return this}a.constructor==ap.st.constructor&&(a=a[a.length-1]),a.node.nextSibling?a.node.parentNode.insertBefore(this.node,a.node.nextSibling):a.node.parentNode.appendChild(this.node),ap._insertafter(this,a,this.paper);return this},R.insertBefore=function(a){if(this.removed){return this}a.constructor==ap.st.constructor&&(a=a[0]),a.node.parentNode.insertBefore(this.node,a.node),ap._insertbefore(this,a,this.paper);return this},R.blur=function(a){var f=this.node.runtimeStyle,e=f.filter;e=e.replace(W,ab),+a!==0?(this.attrs.blur=a,f.filter=e+ac+ad+".Blur(pixelradius="+(+a||1.5)+")",f.margin=ap.format("-{0}px 0 0 -{0}px",ak(+a||1.5))):(f.filter=e,f.margin=0,delete this.attrs.blur)},ap._engine.path=function(h,g){var m=P("shape");m.style.cssText=S,m.coordsize=Q+ac+Q,m.coordorigin=g.coordorigin;var l=new T(m,g),k={fill:"none",stroke:"#000"};h&&(k.path=h),l.type="path",l.path=[],l.Path=ab,X(l,k),g.canvas.appendChild(m);var j=P("skew");j.on=!0,m.appendChild(j),l.skew=j,l.transform(ab);return l},ap._engine.rect=function(r,q,p,o,n,m){var l=ap._rectPath(q,p,o,n,m),k=r.path(l),a=k.attrs;k.X=a.x=q,k.Y=a.y=p,k.W=a.width=o,k.H=a.height=n,a.r=m,a.path=l,k.type="rect";return k},ap._engine.ellipse=function(j,h,o,n,m){var l=j.path(),k=l.attrs;l.X=h-n,l.Y=o-m,l.W=n*2,l.H=m*2,l.type="ellipse",X(l,{cx:h,cy:o,rx:n,ry:m});return l},ap._engine.circle=function(h,g,m,l){var k=h.path(),j=k.attrs;k.X=g-l,k.Y=m-l,k.W=k.H=l*2,k.type="circle",X(k,{cx:g,cy:m,r:l});return k},ap._engine.image=function(v,u,t,s,r,q){var p=ap._rectPath(t,s,r,q),o=v.path(p).attr({stroke:"none"}),n=o.attrs,j=o.node,a=j.getElementsByTagName(ag)[0];n.src=u,o.X=n.x=t,o.Y=n.y=s,o.W=n.width=r,o.H=n.height=q,n.path=p,o.type="image",a.parentNode==j&&j.removeChild(a),a.rotate=!0,a.src=u,a.type="tile",o._.fillpos=[t,s],o._.fillsize=[r,q],j.appendChild(a),I(o,1,1,0,0,0);return o},ap._engine.text=function(t,s,r,q){var p=P("shape"),o=P("path"),n=P("textpath");s=s||0,r=r||0,q=q||"",o.v=ap.format("m{0},{1}l{2},{1}",ak(s*Q),ak(r*Q),ak(s*Q)+1),o.textpathok=!0,n.string=an(q),n.on=!0,p.style.cssText=S,p.coordsize=Q+ac+Q,p.coordorigin="0 0";var f=new T(p,t),c={fill:"#000",stroke:"none",font:ap._availableAttrs.font,text:q};f.shape=p,f.path=o,f.textpath=n,f.type="text",f.attrs.text=an(q),f.attrs.x=s,f.attrs.y=r,f.attrs.w=1,f.attrs.h=1,X(f,c),p.appendChild(n),p.appendChild(o),t.canvas.appendChild(p);var a=P("skew");a.on=!0,p.appendChild(a),f.skew=a,f.transform(ab);return f},ap._engine.setSize=function(a,f){var e=this.canvas.style;this.width=a,this.height=f,a==+a&&(a+="px"),f==+f&&(f+="px"),e.width=a,e.height=f,e.clip="rect(0 "+a+" "+f+" 0)",this._viewBox&&ap._engine.setViewBox.apply(this,this._viewBox);return this},ap._engine.setViewBox=function(t,s,r,q,p){ap.eve("raphael.setViewBox",this,this._viewBox,[t,s,r,q,p]);var o=this.width,n=this.height,m=1/aj(r/o,q/n),g,a;p&&(g=n/q,a=o/r,r*g<o&&(t-=(o-r*g)/2/g),q*a<n&&(s-=(n-q*a)/2/a)),this._viewBox=[t,s,r,q,!!p],this._viewBoxShift={dx:-t,dy:-s,scale:m},this.forEach(function(b){b.transform("...")});return this};var P;ap._engine.initWin=function(e){var d=e.document;d.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!d.namespaces.rvml&&d.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),P=function(b){return d.createElement("<rvml:"+b+' class="rvml">')}}catch(f){P=function(b){return d.createElement("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},ap._engine.initWin(ap._g.win),ap._engine.create=function(){var t=ap._getContainer.apply(0,arguments),s=t.container,r=t.height,q,p=t.width,o=t.x,n=t.y;if(!s){throw new Error("VML container not found.")}var m=new ap._Paper,l=m.canvas=ap._g.doc.createElement("div"),a=l.style;o=o||0,n=n||0,p=p||512,r=r||342,m.width=p,m.height=r,p==+p&&(p+="px"),r==+r&&(r+="px"),m.coordsize=Q*1000+ac+Q*1000,m.coordorigin="0 0",m.span=ap._g.doc.createElement("span"),m.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(m.span),a.cssText=ap.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",p,r),s==1?(ap._g.doc.body.appendChild(l),a.left=o+"px",a.top=n+"px",a.position="absolute"):s.firstChild?s.insertBefore(l,s.firstChild):s.appendChild(l),m.renderfix=function(){};return m},ap.prototype.clear=function(){ap.eve("raphael.clear",this),this.canvas.innerHTML=ab,this.span=ap._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},ap.prototype.remove=function(){ap.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var a in this){this[a]=typeof this[a]=="function"?ap._removedFactory(a):null}return !0};var N=ap.st;for(var L in R){R[ao](L)&&!N[ao](L)&&(N[L]=function(b){return function(){var a=arguments;return this.forEach(function(d){d[b].apply(d,a)})}}(L))}}(window.Raphael);JustGage=function(y){if(!y.id){alert("Missing id parameter for gauge!");return false}if(!document.getElementById(y.id)){alert('No element with id: "'+y.id+'" found!');return false}this.config={id:y.id,title:(y.title)?y.title:"Title",titleFontColor:(y.titleFontColor)?y.titleFontColor:"#999999",value:(y.value)?y.value:0,valueFontColor:(y.valueFontColor)?y.valueFontColor:"#010101",min:(y.min)?y.min:0,max:(y.max)?y.max:100,showMinMax:(y.showMinMax!=null)?y.showMinMax:true,gaugeWidthScale:(y.gaugeWidthScale)?y.gaugeWidthScale:1,gaugeColor:(y.gaugeColor)?y.gaugeColor:"#edebeb",label:(y.label)?y.label:"",showInnerShadow:(y.showInnerShadow!=null)?y.showInnerShadow:true,shadowOpacity:(y.shadowOpacity)?y.shadowOpacity:0.2,shadowSize:(y.shadowSize)?y.shadowSize:5,shadowVerticalOffset:(y.shadowVerticalOffset)?y.shadowVerticalOffset:3,levelColors:(y.levelColors)?y.levelColors:percentColors,levelColorsGradient:(y.levelColorsGradient!=null)?y.levelColorsGradient:true,labelFontColor:(y.labelFontColor)?y.labelFontColor:"#b3b3b3",startAnimationTime:(y.startAnimationTime)?y.startAnimationTime:700,startAnimationType:(y.startAnimationType)?y.startAnimationType:">",refreshAnimationTime:(y.refreshAnimationTime)?y.refreshAnimationTime:700,refreshAnimationType:(y.refreshAnimationType)?y.refreshAnimationType:">"};if(y.value>this.config.max){this.config.value=this.config.max}if(y.value<this.config.min){this.config.value=this.config.min}this.originalValue=y.value;this.canvas=Raphael(this.config.id,"100%","100%");var d=getStyle(document.getElementById(this.config.id),"width").slice(0,-2)*1;var r=getStyle(document.getElementById(this.config.id),"height").slice(0,-2)*1;var c,m;if((d/r)>1.25){c=1.25*r;m=r}else{c=d;m=d/1.25}var j=(d-c)/2;var g=(r-m)/2;var t=((m/8)>10)?(m/10):10;var o=j+c/2;var n=g+m/6.5;var l=((m/6.4)>16)?(m/6.4):16;var s=j+c/2;var q=g+m/1.4;var b=((m/16)>10)?(m/16):10;var f=j+c/2;var e=q+l/2+6;var k=((m/16)>10)?(m/16):10;var x=j+(c/10)+(c/6.666666666666667*this.config.gaugeWidthScale)/2;var w=g+m/1.126760563380282;var h=((m/16)>10)?(m/16):10;var v=j+c-(c/10)-(c/6.666666666666667*this.config.gaugeWidthScale)/2;var u=g+m/1.126760563380282;this.params={canvasW:d,canvasH:r,widgetW:c,widgetH:m,dx:j,dy:g,titleFontSize:t,titleX:o,titleY:n,valueFontSize:l,valueX:s,valueY:q,labelFontSize:b,labelX:f,labelY:e,minFontSize:k,minX:x,minY:w,maxFontSize:h,maxX:v,maxY:u};this.canvas.customAttributes.pki=function(L,M,O,F,P,G,E,z){var C=(1-(L-M)/(O-M))*Math.PI,H=F/2-F/10,K=H-F/6.666666666666667*z,D=F/2+G,B=P/1.25+E,I=F/2+G+H*Math.cos(C),Q=P-(P-B)+E-H*Math.sin(C),N=F/2+G+K*Math.cos(C),A=P-(P-B)+E-K*Math.sin(C),J;J+="M"+(D-K)+","+B+" ";J+="L"+(D-H)+","+B+" ";J+="A"+H+","+H+" 0 0,1 "+I+","+Q+" ";J+="L"+N+","+A+" ";J+="A"+K+","+K+" 0 0,0 "+(D-K)+","+B+" ";J+="z ";return{path:J}};this.gauge=this.canvas.path().attr({stroke:"none",fill:this.config.gaugeColor,pki:[this.config.max,this.config.min,this.config.max,this.params.widgetW,this.params.widgetH,this.params.dx,this.params.dy,this.config.gaugeWidthScale]});this.gauge.id=this.config.id+"-gauge";this.level=this.canvas.path().attr({stroke:"none",fill:getColorForPercentage((this.config.value-this.config.min)/(this.config.max-this.config.min),this.config.levelColors,this.config.levelColorsGradient),pki:[this.config.min,this.config.min,this.config.max,this.params.widgetW,this.params.widgetH,this.params.dx,this.params.dy,this.config.gaugeWidthScale]});this.level.id=this.config.id+"-level";this.txtTitle=this.canvas.text(this.params.titleX,this.params.titleY,this.config.title);this.txtTitle.attr({"font-size":this.params.titleFontSize,"font-weight":"bold","font-family":"Arial",fill:this.config.titleFontColor,"fill-opacity":"1"});this.txtTitle.id=this.config.id+"-txttitle";this.txtValue=this.canvas.text(this.params.valueX,this.params.valueY,this.originalValue);this.txtValue.attr({"font-size":this.params.valueFontSize,"font-weight":"bold","font-family":"Arial",fill:this.config.valueFontColor,"fill-opacity":"0"});this.txtValue.id=this.config.id+"-txtvalue";this.txtLabel=this.canvas.text(this.params.labelX,this.params.labelY,this.config.label);this.txtLabel.attr({"font-size":this.params.labelFontSize,"font-weight":"normal","font-family":"Arial",fill:this.config.labelFontColor,"fill-opacity":"0"});this.txtLabel.id=this.config.id+"-txtlabel";this.txtMin=this.canvas.text(this.params.minX,this.params.minY,this.config.min);this.txtMin.attr({"font-size":this.params.minFontSize,"font-weight":"normal","font-family":"Arial",fill:this.config.labelFontColor,"fill-opacity":(this.config.showMinMax==true)?"1":"0"});this.txtMin.id=this.config.id+"-txtmin";this.txtMax=this.canvas.text(this.params.maxX,this.params.maxY,this.config.max);this.txtMax.attr({"font-size":this.params.maxFontSize,"font-weight":"normal","font-family":"Arial",fill:this.config.labelFontColor,"fill-opacity":(this.config.showMinMax==true)?"1":"0"});this.txtMax.id=this.config.id+"-txtmax";var a=this.canvas.canvas.childNodes[1];var p="http://www.w3.org/2000/svg";if(ie<9){onCreateElementNsReady(function(){this.generateShadow()})}else{this.generateShadow(p,a)}this.level.animate({pki:[this.config.value,this.config.min,this.config.max,this.params.widgetW,this.params.widgetH,this.params.dx,this.params.dy,this.config.gaugeWidthScale]},this.config.startAnimationTime,this.config.startAnimationType);this.txtValue.animate({"fill-opacity":"1"},this.config.startAnimationTime,this.config.startAnimationType);this.txtLabel.animate({"fill-opacity":"1"},this.config.startAnimationTime,this.config.startAnimationType)};JustGage.prototype.refresh=function(b){originalVal=b;if(b>this.config.max){b=this.config.max}if(b<this.config.min){b=this.config.min}var a=getColorForPercentage((b-this.config.min)/(this.config.max-this.config.min),this.config.levelColors,this.config.levelColorsGradient);this.canvas.getById(this.config.id+"-txtvalue").attr({text:originalVal});this.canvas.getById(this.config.id+"-level").animate({pki:[b,this.config.min,this.config.max,this.params.widgetW,this.params.widgetH,this.params.dx,this.params.dy,this.config.gaugeWidthScale],fill:a},this.config.refreshAnimationTime,this.config.refreshAnimationType)};var percentColors=["#a9d70b","#f9c802","#ff0000"];JustGage.prototype.generateShadow=function(f,e){var h=document.createElementNS(f,"filter");h.setAttribute("id",this.config.id+"-inner-shadow");e.appendChild(h);var j=document.createElementNS(f,"feOffset");j.setAttribute("dx",0);j.setAttribute("dy",this.config.shadowVerticalOffset);h.appendChild(j);var g=document.createElementNS(f,"feGaussianBlur");g.setAttribute("result","offset-blur");g.setAttribute("stdDeviation",this.config.shadowSize);h.appendChild(g);var d=document.createElementNS(f,"feComposite");d.setAttribute("operator","out");d.setAttribute("in","SourceGraphic");d.setAttribute("in2","offset-blur");d.setAttribute("result","inverse");h.appendChild(d);var c=document.createElementNS(f,"feFlood");c.setAttribute("flood-color","black");c.setAttribute("flood-opacity",this.config.shadowOpacity);c.setAttribute("result","color");h.appendChild(c);var b=document.createElementNS(f,"feComposite");b.setAttribute("operator","in");b.setAttribute("in","color");b.setAttribute("in2","inverse");b.setAttribute("result","shadow");h.appendChild(b);var a=document.createElementNS(f,"feComposite");a.setAttribute("operator","over");a.setAttribute("in","shadow");a.setAttribute("in2","SourceGraphic");h.appendChild(a);if(this.config.showInnerShadow==true){this.canvas.canvas.childNodes[2].setAttribute("filter","url(#"+this.config.id+"-inner-shadow)");this.canvas.canvas.childNodes[3].setAttribute("filter","url(#"+this.config.id+"-inner-shadow)")}};var getColorForPercentage=function(b,c,d){var a=c.length;if(a===1){return c[0]}var f=(d)?(1/(a-1)):(1/a);var g=new Array();for(var n=0;n<c.length;n++){var h=(d)?(f*n):(f*(n+1));var r=parseInt((cutHex(c[n])).substring(0,2),16);var e=parseInt((cutHex(c[n])).substring(2,4),16);var k=parseInt((cutHex(c[n])).substring(4,6),16);g[n]={pct:h,color:{r:r,g:e,b:k}}}if(b==0){return"rgb("+[g[0].color.r,g[0].color.g,g[0].color.b].join(",")+")"}for(var n=0;n<g.length;n++){if(b<=g[n].pct){if(d==true){var q=g[n-1];var o=g[n];var j=o.pct-q.pct;var m=(b-q.pct)/j;var s=1-m;var p=m;var l={r:Math.floor(q.color.r*s+o.color.r*p),g:Math.floor(q.color.g*s+o.color.g*p),b:Math.floor(q.color.b*s+o.color.b*p)};return"rgb("+[l.r,l.g,l.b].join(",")+")"}else{return"rgb("+[g[n].color.r,g[n].color.g,g[n].color.b].join(",")+")"}}}};function getRandomInt(b,a){return Math.floor(Math.random()*(a-b+1))+b}function cutHex(a){return(a.charAt(0)=="#")?a.substring(1,7):a}function getStyle(a,b){var c="";if(document.defaultView&&document.defaultView.getComputedStyle){c=document.defaultView.getComputedStyle(a,"").getPropertyValue(b)}else{if(a.currentStyle){b=b.replace(/\-(\w)/g,function(d,e){return e.toUpperCase()});c=a.currentStyle[b]}}return c}function onCreateElementNsReady(a){if(document.createElementNS!=undefined){a()}else{setTimeout(function(){onCreateElementNsReady(a)},100)}}var ie=(function(){var c,a=3,d=document.createElement("div"),b=d.getElementsByTagName("i");while(d.innerHTML="<!--[if gt IE "+(++a)+"]><i></i><![endif]-->",b[0]){}return a>4?a:c}());(function(a){a.fn.wizard=function(b){return new Wizard(this,b)};a.fn.wizard.logging=false;WizardCard=function(f,c,b,e,d){this.wizard=f;this.index=b;this.prev=e;this.next=d;this.el=c;this.title=c.find("h3").first().text();this.name=c.data("cardname")||this.title;this.nav=this._createNavElement(this.title,b);this._disabled=false;this._loaded=false;this._events={}};WizardCard.prototype={select:function(){this.log("selecting");if(!this.isSelected()){this.nav.addClass("active");this.el.show();if(!this._loaded){this.trigger("loaded");this.reload()}this.trigger("selected")}var b=this.wizard;if(this.index>=b._cards.length-1){this.log("on last card, changing next button to submit");b.changeNextButton(b.args.buttons.submitText,"btn-green");b._readyToSubmit=true;b.trigger("readySubmit")}else{b._readyToSubmit=false;if(this.index==0){b.backButton.toggleClass("disabled",true)}else{b.backButton.toggleClass("disabled",false)}b.changeNextButton(b.args.buttons.nextText,"btn-blue")}return this},_createNavElement:function(d,e){var b=a('<li class="wizard-nav-item"></li>');var c=a('<a class="wizard-nav-link"></a>');c.data("navindex",e);b.append(c);c.append('<i class="icon-chevron-right"></i>');c.append(d);return b},markVisited:function(){this.log("marking as visited");this.nav.addClass("already-visited");this.trigger("markVisited");return this},unmarkVisited:function(){this.log("unmarking as visited");this.nav.removeClass("already-visited");this.trigger("unmarkVisited");return this},deselect:function(){this.nav.removeClass("active");this.el.hide();this.trigger("deselect");return this},enable:function(){this.log("enabling");this.nav.addClass("active");this._disabled=false;this.trigger("enabled");return this},disable:function(b){this.log("disabling");this._disabled=true;this.nav.removeClass("active already-visited");if(b){this.el.hide()}this.trigger("disabled");return this},isDisabled:function(){return this._disabled},alreadyVisited:function(){return this.nav.hasClass("already-visited")},isSelected:function(){return this.nav.hasClass("active")},reload:function(){this._loaded=true;this.trigger("reload");return this},on:function(){return this.wizard.on.apply(this,arguments)},trigger:function(){this.callListener("on"+arguments[0]);return this.wizard.trigger.apply(this,arguments)},toggleAlert:function(d,b){this.log("toggling alert to: "+b);b=typeof(b)=="undefined"?true:b;if(b){this.trigger("showAlert")}else{this.trigger("hideAlert")}var e;var c=this.el.children("h3").first().next("div.alert");if(c.length==0){if(!b){return this}this.log("couldn't find existing alert div, creating one");e=a("<div />");e.addClass("alert");e.addClass("hide");e.insertAfter(this.el.find("h3").first())}else{this.log("found existing alert div");e=c.first()}if(b){if(d!=null){this.log("setting alert msg to",d);e.html(d)}e.show()}else{e.hide()}return this},callListener:function(c){c=c.toLowerCase();this.log("looking for listener "+c);var f=window[this.el.data(c)];if(f){this.log("calling listener "+c);var d=this.wizard;try{var b=f(this)}catch(g){this.log("exception calling listener "+c+": ",g)}}else{this.log("didn't find listener "+c)}},problem:function(b){this.nav.find("a").toggleClass("wizard-step-error",b)},validate:function(){var e=false;var d=this;this.el.find("[data-validate]").each(function(l,m){d.log("validating individiual inputs");m=a(m);var j=m.data("validate");if(!j){return}var k={status:true,title:"Error",msg:""};var h=window[j](m);a.extend(k,h);if(!k.status){e=true;m.parent(".control-group").toggleClass("error",true);d.wizard.errorPopover(m,k.msg)}else{m.parent(".control-group").toggleClass("error",false);try{m.popover("destroy")}catch(n){m.popover("hide")}}});this.log("after validating inputs, failures is",e);var c=window[this.el.data("validate")];if(c){this.log("running html-embedded card validator");var f=c(this);if(typeof(f)=="undefined"||f==null){f=true}if(!f){e=true}this.log("after running html-embedded card validator, failures is",e)}this.log("running listener validator");var b=this.trigger("validate");if(typeof(b)=="undefined"||b==null){b=true}if(!b){e=true}this.log("after running listener validator, failures is",e);var g=!e;if(g){this.log("validated, calling listeners");this.trigger("validated")}else{this.log("invalid");this.trigger("invalid")}return g},log:function(){if(!window.console||!a.fn.wizard.logging){return}var b="card '"+this.name+"': ";var c=[b];c.push.apply(c,arguments);console.log.apply(console,c)},isActive:function(){return this.nav.hasClass("active")}};Wizard=function(j,g){var c=['<div class="modal" role="dialog">','<div class="modal-dialog">','<div class="modal-content wizard-modal">','<div class="wizard-modal-header modal-header">','<button class="wizard-close close" type="button">x</button>','<h3 class="wizard-title"></h3>','<span class="wizard-subtitle"></span>',"</div>",'<div class="pull-left wizard-steps">','<div class="wizard-nav-container">','<ul class="nav nav-list" style="padding-bottom:30px;">',"</ul>","</div>",'<div class="wizard-progress-container">',,'<div class="progress">','<div class="progress-bar"></div>',"</div>","</div>","</div>","<form>",'<div class="wizard-cards">','<div class="wizard-card-container">',"</div>",'<div class="wizard-modal-footer">','<div class="wizard-buttons-container">','<button class="btn btn-default wizard-back" type="button">Back</button>','<button class="btn btn-blue wizard-next" type="button">Next</button>',"</div>","</div>","</div>","</form>","</div>","</div>","</div>"];this.args={submitUrl:"",width:750,progressBarCurrent:false,increaseHeight:0,buttons:{nextText:"Next",backText:"Back",submitText:"Submit",submittingText:"Submitting..."}};a.extend(this.args,g||{});this.markup=a(j);this.submitCards=this.markup.find(".wizard-error,.wizard-failure,.wizard-success,.wizard-loading");this.el=a(c.join("\n"));this.el.find(".wizard-card-container").append(this.markup.find(".wizard-card")).append(this.submitCards);a("body").append(this.el);this.closeButton=this.el.find("button.wizard-close");this.footer=this.el.find(".wizard-modal-footer");this.backButton=this.footer.find(".wizard-back");this.nextButton=this.footer.find(".wizard-next");this.progress=this.el.find(".progress");this._cards=[];this.cards={};this._readyToSubmit=false;this.percentComplete=0;this._submitting=false;this._events={};this._firstShow=true;this._createCards();this.nextButton.click(this,this._handleNextClick);this.backButton.click(this,this._handleBackClick);this.backButton.text(this.args.buttons.backText);this.nextButton.text(this.args.buttons.nextText);var d=360;var b=d+this.args.increaseHeight;this.el.find(".wizard-nav-container").css("height",b);this.el.find(".wizard-steps").css("height",(b+65)+"px");this.el.find(".wizard-card").css("height",(b-60)+"px");this.submitCards.css("height",(b-60)+"px");var e=this.el.find(".wizard-steps").height();this.el.find("form").css("min-height",e);this.el.find(".wizard-card-container").css("min-height",e-65);if(a.fn.slimScroll&&false){var f={position:"left",height:"360px",size:"8px",distance:"5px",railVisible:true,disableFadeOut:true};a.extend(f,this.args.slimScroll||{});this.el.find(".wizard-nav-container").slimScroll(f)}var k=this;this.closeButton.click(function(){k.reset();k.close()});this.el.find(".wizard-steps").on("click","li.already-visited a.wizard-nav-link",this,function(m){var l=parseInt(a(m.target).data("navindex"));m.data.setCard(l)});var h=this.markup.children("h1").first();if(h.length){this.setTitle(h.text())}this.on("submit",this._defaultSubmit)};Wizard.prototype={errorPopover:function(b,d){this.log("launching popover on",b);var c=b.popover({content:d,trigger:"manual"}).popover("show").next(".popover");c.addClass("error-popover");return c},eachCard:function(b){a.each(this._cards,b);return this},getActiveCard:function(){this.log("getting active card");var b=null;a.each(this._cards,function(d,c){if(c.isActive()){b=c;return false}});if(b){this.log("found active card",b)}else{this.log("couldn't find an active card")}return b},setTitle:function(b){this.log("setting title to",b);this.el.find(".wizard-title").first().text(b);return this},setSubtitle:function(b){this.log("setting subtitle to",b);this.el.find(".wizard-subtitle").first().text(b);return this},changeNextButton:function(c,b){this.log("changing next button, text: "+c,"class: "+b);if(typeof(b)!="undefined"){this.nextButton.removeClass("btn-green btn-blue")}if(b){this.nextButton.addClass(b)}this.nextButton.text(c);return this},hide:function(){this.log("hiding");this.el.modal("hide");return this},close:function(){this.log("closing");this.el.modal("hide");return this},show:function(){this.log("showing");if(this._firstShow){this.setCard(0);this._firstShow=false}this.el.modal();return this},on:function(b,c){this.log("adding listener to event "+b);this._events[b]=c;return this},trigger:function(){var d=arguments[0];var c=Array.prototype.slice.call(arguments);c.shift();c.unshift(this);this.log("firing event "+d);var f=this._events[d];var b=null;if(typeof(f)=="function"){this.log("found event handler, calling "+d);try{b=f.apply(this,c)}catch(g){this.log("event handler "+d+" had an exception")}}else{this.log("couldn't find an event handler for "+d)}return b},reset:function(){this.log("resetting");this.updateProgressBar(0);this.hideSubmitCards();this.setCard(0);this.lockCards();this.enableNextButton();this.showButtons();this.trigger("reset");return this},log:function(){if(!window.console||!a.fn.wizard.logging){return}var b="wizard "+this.el.id+": ";var c=[b];c.push.apply(c,arguments);console.log.apply(console,c)},_abstractIncrementStep:function(d,e){var c=this.getActiveCard();var b;if(c){this.log("searching for valid next card");while(true){b=e(c);if(b){this.log("looking at card",b.index);if(b.isDisabled()){this.log("card "+b.index+" is disabled/locked, continuing");c=b;continue}else{return this.setCard(c.index+d)}}else{this.log("next card is not defined, breaking");break}}}else{this.log("current card is undefined")}},incrementCard:function(){this.log("incrementing card");var b=this._abstractIncrementStep(1,function(c){return c.next});this.trigger("incrementCard");return b},decrementCard:function(){this.log("decrementing card");var b=this._abstractIncrementStep(-1,function(c){return c.prev});this.trigger("decrementCard");return b},setCard:function(g){this.log("setting card to "+g);this.hideSubmitCards();var c=this.getActiveCard();if(this._submitting){this.log("we're submitting the wizard already, can't change cards");return c}var b=this._cards[g];if(b){if(b.isDisabled()){this.log("new card is currently disabled, returning");return c}if(c){if(g>c.index){var d=c;var f=false;while(d.index!=b.index){if(d.index!=c.index){d.prev.deselect();d.prev.markVisited();d.select()}f=d.validate();if(!f){return d}d=d.next}d.prev.deselect();d.prev.markVisited()}c.deselect();c.markVisited()}b.select();if(this.args.progressBarCurrent){var e=this.percentComplete;this.percentComplete=g*100/this._cards.length;this.updateProgressBar(this.percentComplete)}else{var e=this.percentComplete;this.percentComplete=g*100/this._cards.length;this.percentComplete=Math.max(e,this.percentComplete);this.updateProgressBar(this.percentComplete)}return b}else{this.log("couldn't find card "+g)}},updateProgressBar:function(b){this.log("updating progress to "+b+"%");this.progress.find(".progress-bar").css({width:b+"%"});this.percentComplete=b;this.trigger("progressBar",b);if(b==100){this.log("progress is 100, animating progress bar");this.progress.addClass("active")}else{if(b==0){this.log("progress is 0, disabling animation");this.progress.removeClass("active")}}},getNextCard:function(){var b=this.getActiveCard();if(b){return b.next}},lockCards:function(){this.log("locking nav cards");this.eachCard(function(c,b){b.unmarkVisited()});return this},disableCards:function(){this.log("disabling all nav cards");this.eachCard(function(c,b){b.disable()});return this},enableCards:function(){this.log("enabling all nav cards");this.eachCard(function(c,b){b.enable()});return this},hideCards:function(){this.log("hiding cards");this.eachCard(function(c,b){b.deselect()});this.hideSubmitCards();return this},hideButtons:function(){this.log("hiding buttons");this.nextButton.hide();this.backButton.hide();return this},showButtons:function(){this.log("showing buttons");this.nextButton.show();this.backButton.show();return this},getCard:function(c){var b=a(c).parents(".wizard-card").first()[0];if(b){var d=null;this.eachCard(function(f,e){if(b==e.el[0]){d=e;return false}return true});return d}else{return null}},_createCards:function(){var f=null;var d=null;var e=0;var b=null;var g=this;var c=this;var h=this.el.find(".wizard-cards .wizard-card");a.each(h,function(k,j){j=a(j);f=b;b=new WizardCard(g,j,k,f,d);c._cards.push(b);if(b.name){c.cards[b.name]=b}if(f){f.next=b}c.el.find(".wizard-steps .nav-list").append(b.nav)})},showSubmitCard:function(c){this.log("showing "+c+" submit card");var b=this.el.find(".wizard-"+c);if(b.length){this.hideCards();this.el.find(".wizard-"+c).show()}else{this.log("couldn't find submit card "+c)}},hideSubmitCard:function(b){this.log("hiding "+b+" submit card");this.el.find(".wizard-"+b).hide()},hideSubmitCards:function(){var b=this;a.each(["success","error","failure","loading"],function(d,c){b.hideSubmitCard(c)})},enableNextButton:function(){this.log("enabling next button");this.nextButton.removeAttr("disabled");return this},disableNextButton:function(){this.log("disabling next button");this.nextButton.attr("disabled","disabled");return this},serializeArray:function(){var b=this.el.children("form").first();return b.serializeArray()},serialize:function(){var b=this.el.children("form").first();return b.serialize()},submitSuccess:function(){this.log("submit success");this._submitting=false;this.showSubmitCard("success");this.trigger("submitSuccess")},submitFailure:function(){this.log("submit failure");this._submitting=false;this.showSubmitCard("failure");this.trigger("submitFailure")},submitError:function(){this.log("submit error");this._submitting=false;this.showSubmitCard("error");this.trigger("submitError")},_submit:function(){this.log("submitting wizard");this._submitting=true;this.lockCards();this.backButton.hide();this.showSubmitCard("loading");this.updateProgressBar(100);this.changeNextButton(this.args.buttons.submittingText,false);this.disableNextButton();var b=this.trigger("submit");this.trigger("loading")},_onNextClick:function(){this.log("handling 'next' button click");if(this._readyToSubmit){this._submit()}else{var b=this.incrementCard()}},_onBackClick:function(){this.log("handling 'back' button click");var b=this.decrementCard()},_handleNextClick:function(b){var c=b.data;c._onNextClick.call(c)},_handleBackClick:function(b){var c=b.data;c._onBackClick.call(c)},_defaultSubmit:function(b){a.ajax({type:"POST",url:b.args.submitUrl,data:b.serialize(),dataType:"json",success:function(c){b.submitSuccess();b.hideButtons();b.updateProgressBar(0)},error:function(){b.submitFailure();b.hideButtons()}})}}}(window.jQuery));function setServerName(c){var d=$("#new-server-fqdn").val();var b=$("#new-server-name").val();var a=d;if(b){a=b+" ("+d+")"}c.wizard.setSubtitle(a);c.wizard.el.find(".create-server-name").text(a)}function validateIP(c){c=c.replace(/\s/g,"");var b=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;if(b.test(c)){var d=c.split(".");if(parseInt(parseFloat(d[0]))==0){return false}if(parseInt(parseFloat(d[3]))==0){return false}for(var a=0;a<d.length;a++){if(parseInt(parseFloat(d[a]))>255){return false}}return true}else{return false}}function validateFQDN(a){return/^[a-z0-9-_]+(\.[a-z0-9-_]+)*\.([a-z]{2,4})$/.test(a)}function fqdn_or_ip(a){var b=a.val();ret={status:true};if(!validateFQDN(b)){if(!validateIP(b)){ret.status=false;ret.msg="Invalid IP address or FQDN"}}return ret}$(function(){$.fn.wizard.logging=true;if($("#wizard-demo").length>0){var a=$("#wizard-demo").wizard();a.el.find(".wizard-ns-select").change(function(){a.el.find(".wizard-ns-detail").show()});a.el.find(".create-server-service-list").change(function(){var b=$(this).find("option:selected").length==0;a.getCard(this).toggleAlert(null,b)});a.cards.name.on("validated",function(c){var b=c.el.find("#new-server-fqdn").val()});a.on("submit",function(c){var b={hostname:$("#new-server-fqdn").val()};setTimeout(function(){c.trigger("success");c.hideButtons();c._submitting=false;c.showSubmitCard("success");c._updateProgressBar(0)},2000)});a.on("reset",function(b){b.setSubtitle("");b.el.find("#new-server-fqdn").val("");b.el.find("#new-server-name").val("")});a.el.find(".wizard-success .im-done").click(function(){a.reset().close()});a.el.find(".wizard-success .create-another-server").click(function(){a.reset()});$(".wizard-group-list").click(function(){alert("Disabled for demo.")});$("#open-wizard").click(function(){a.show()});a.show()}});(function(){(function(a){a.easyPieChart=function(c,l){var e,f,h,j,k,d,b,g=this;this.el=c;this.$el=a(c);this.$el.data("easyPieChart",this);this.init=function(){var n,m;g.options=a.extend({},a.easyPieChart.defaultOptions,l);n=parseInt(g.$el.data("percent"),10);g.percentage=0;g.canvas=a("<canvas width='"+g.options.size+"' height='"+g.options.size+"'></canvas>").get(0);g.$el.append(g.canvas);if(typeof G_vmlCanvasManager!=="undefined"&&G_vmlCanvasManager!==null){G_vmlCanvasManager.initElement(g.canvas)}g.ctx=g.canvas.getContext("2d");if(window.devicePixelRatio>1){m=window.devicePixelRatio;a(g.canvas).css({width:g.options.size,height:g.options.size});g.canvas.width*=m;g.canvas.height*=m;g.ctx.scale(m,m)}g.ctx.translate(g.options.size/2,g.options.size/2);g.$el.addClass("easyPieChart");g.$el.css({width:g.options.size,height:g.options.size,lineHeight:""+g.options.size+"px"});g.update(n);return g};this.update=function(m){if(g.options.animate===false){return h(m)}else{return f(g.percentage,m)}};d=function(){var n,o,m;g.ctx.fillStyle=g.options.scaleColor;g.ctx.lineWidth=1;m=[];for(n=o=0;o<=24;n=++o){m.push(e(n))}return m};e=function(m){var n;n=m%6===0?0:g.options.size*0.017;g.ctx.save();g.ctx.rotate(m*Math.PI/12);g.ctx.fillRect(g.options.size/2-n,0,-g.options.size*0.05+n,1);return g.ctx.restore()};b=function(){var m;m=g.options.size/2-g.options.lineWidth/2;if(g.options.scaleColor!==false){m-=g.options.size*0.08}g.ctx.beginPath();g.ctx.arc(0,0,m,0,Math.PI*2,true);g.ctx.closePath();g.ctx.strokeStyle=g.options.trackColor;g.ctx.lineWidth=g.options.lineWidth;return g.ctx.stroke()};k=function(){if(g.options.scaleColor!==false){d()}if(g.options.trackColor!==false){return b()}};h=function(m){var n;k();g.ctx.strokeStyle=a.isFunction(g.options.barColor)?g.options.barColor(m):g.options.barColor;g.ctx.lineCap=g.options.lineCap;g.ctx.lineWidth=g.options.lineWidth;n=g.options.size/2-g.options.lineWidth/2;if(g.options.scaleColor!==false){n-=g.options.size*0.08}g.ctx.save();g.ctx.rotate(-Math.PI/2);g.ctx.beginPath();g.ctx.arc(0,0,n,0,Math.PI*2*m/100,false);g.ctx.stroke();return g.ctx.restore()};f=function(q,p){var n,o,m;o=30;m=o*g.options.animate/1000;n=0;g.options.onStart.call(g);g.percentage=p;if(g.animation){clearInterval(g.animation);g.animation=false}return g.animation=setInterval(function(){g.ctx.clearRect(-g.options.size/2,-g.options.size/2,g.options.size,g.options.size);k.call(g);h.call(g,[j(n,q,p-q,m)]);n++;if((n/m)>1){clearInterval(g.animation);g.animation=false;return g.options.onStop.call(g)}},1000/o)};j=function(o,n,r,p){var m,q;m=function(s){return Math.pow(s,2)};q=function(s){if(s<1){return m(s)}else{return 2-m((s/2)*-2+2)}};o/=p/2;return r/2*q(o)+n};return this.init()};a.easyPieChart.defaultOptions={barColor:"#ef1e25",trackColor:"#f2f2f2",scaleColor:"#dfe0e0",lineCap:"round",size:110,lineWidth:3,animate:false,onStart:a.noop,onStop:a.noop};a.fn.easyPieChart=function(b){return a.each(this,function(d,e){var c;c=a(e);if(!c.data("easyPieChart")){return c.data("easyPieChart",new a.easyPieChart(e,b))}})};return void 0})(jQuery)}).call(this);(function(){var b=$('<div id="galleryOverlay">'),d=$('<div id="gallerySlider">'),e=$('<a id="prevArrow"><i class="icon-angle-left icon-4x"></i></a>'),c=$('<a id="nextArrow"><i class="icon-angle-right icon-4x"></i></a>'),a=false;$.fn.touchTouch=function(){var o=$([]),m=0,n=this;b.hide().appendTo("body");d.appendTo(b);n.each(function(){o=o.add($('<div class="placeholder">'))});d.append(o).on("click",function(r){if(!$(r.target).is("img")){g()}});$("body").on("touchstart","#gallerySlider img",function(s){var t=s.originalEvent,r=t.changedTouches[0].pageX;d.on("touchmove",function(u){u.preventDefault();t=u.originalEvent.touches[0]||u.originalEvent.changedTouches[0];if(t.pageX-r>10){d.off("touchmove");f()}else{if(t.pageX-r<-10){d.off("touchmove");j()}}});return false}).on("touchend",function(){d.off("touchmove")});n.on("click",function(r){r.preventDefault();m=n.index(this);k(m);q(m);p(m+1);p(m-1)});if(!("ontouchstart" in window)){b.append(e).append(c);e.click(function(r){r.preventDefault();f()});c.click(function(r){r.preventDefault();j()})}$(window).bind("keydown",function(r){if(r.keyCode==37){f()}else{if(r.keyCode==39){j()}}});function k(r){if(a){return false}b.show();setTimeout(function(){b.addClass("visible")},100);l(r);a=true}function g(){if(!a){return false}b.hide().removeClass("visible");a=false}function l(r){d.css("left",(-r*100)+"%")}function p(r){setTimeout(function(){q(r)},1000)}function q(r){if(r<0||r>=n.length){return false}h(n.eq(r).attr("href"),function(){o.eq(r).html(this)})}function h(s,t){var r=$("<img>").on("load",function(){t.call(r)});r.attr("src",s)}function j(){if(m+1<n.length){m++;l(m);p(m+1)}else{d.addClass("rightSpring");setTimeout(function(){d.removeClass("rightSpring")},500)}}function f(){if(m>0){m--;l(m);p(m-1)}else{d.addClass("leftSpring");setTimeout(function(){d.removeClass("leftSpring")},500)}}}})(jQuery);(function(X,l,n){var L=function(h){var j=function(e){function o(a,b){var c=j.defaults.columns,d=a.aoColumns.length,c=h.extend({},j.models.oColumn,c,{sSortingClass:a.oClasses.sSortable,sSortingClassJUI:a.oClasses.sSortJUI,nTh:b?b:l.createElement("th"),sTitle:c.sTitle?c.sTitle:b?b.innerHTML:"",aDataSort:c.aDataSort?c.aDataSort:[d],mData:c.mData?c.oDefaults:d});a.aoColumns.push(c);if(a.aoPreSearchCols[d]===n||null===a.aoPreSearchCols[d]){a.aoPreSearchCols[d]=h.extend({},j.models.oSearch)}else{if(c=a.aoPreSearchCols[d],c.bRegex===n&&(c.bRegex=!0),c.bSmart===n&&(c.bSmart=!0),c.bCaseInsensitive===n){c.bCaseInsensitive=!0}}m(a,d,null)}function m(a,b,c){var d=a.aoColumns[b];c!==n&&null!==c&&(c.mDataProp&&!c.mData&&(c.mData=c.mDataProp),c.sType!==n&&(d.sType=c.sType,d._bAutoType=!1),h.extend(d,c),p(d,c,"sWidth","sWidthOrig"),c.iDataSort!==n&&(d.aDataSort=[c.iDataSort]),p(d,c,"aDataSort"));var i=d.mRender?Q(d.mRender):null,f=Q(d.mData);d.fnGetData=function(a,b){var c=f(a,b);return d.mRender&&b&&""!==b?i(c,b,a):c};d.fnSetData=L(d.mData);a.oFeatures.bSort||(d.bSortable=!1);!d.bSortable||-1==h.inArray("asc",d.asSorting)&&-1==h.inArray("desc",d.asSorting)?(d.sSortingClass=a.oClasses.sSortableNone,d.sSortingClassJUI=""):-1==h.inArray("asc",d.asSorting)&&-1==h.inArray("desc",d.asSorting)?(d.sSortingClass=a.oClasses.sSortable,d.sSortingClassJUI=a.oClasses.sSortJUI):-1!=h.inArray("asc",d.asSorting)&&-1==h.inArray("desc",d.asSorting)?(d.sSortingClass=a.oClasses.sSortableAsc,d.sSortingClassJUI=a.oClasses.sSortJUIAscAllowed):-1==h.inArray("asc",d.asSorting)&&-1!=h.inArray("desc",d.asSorting)&&(d.sSortingClass=a.oClasses.sSortableDesc,d.sSortingClassJUI=a.oClasses.sSortJUIDescAllowed)}function k(a){if(!1===a.oFeatures.bAutoWidth){return !1}da(a);for(var b=0,c=a.aoColumns.length;b<c;b++){a.aoColumns[b].nTh.style.width=a.aoColumns[b].sWidth}}function G(a,b){var c=r(a,"bVisible");return"number"===typeof c[b]?c[b]:null}function R(a,b){var c=r(a,"bVisible"),c=h.inArray(b,c);return -1!==c?c:null}function t(a){return r(a,"bVisible").length}function r(a,b){var c=[];h.map(a.aoColumns,function(a,i){a[b]&&c.push(i)});return c}function B(a){for(var b=j.ext.aTypes,c=b.length,d=0;d<c;d++){var i=b[d](a);if(null!==i){return i}}return"string"}function u(a,b){for(var c=b.split(","),d=[],i=0,f=a.aoColumns.length;i<f;i++){for(var g=0;g<f;g++){if(a.aoColumns[i].sName==c[g]){d.push(g);break}}}return d}function M(a){for(var b="",c=0,d=a.aoColumns.length;c<d;c++){b+=a.aoColumns[c].sName+","}return b.length==d?"":b.slice(0,-1)}function ta(a,b,c,d){var i,f,g,e,w;if(b){for(i=b.length-1;0<=i;i--){var j=b[i].aTargets;h.isArray(j)||D(a,1,"aTargets must be an array of targets, not a "+typeof j);f=0;for(g=j.length;f<g;f++){if("number"===typeof j[f]&&0<=j[f]){for(;a.aoColumns.length<=j[f];){o(a)}d(j[f],b[i])}else{if("number"===typeof j[f]&&0>j[f]){d(a.aoColumns.length+j[f],b[i])}else{if("string"===typeof j[f]){e=0;for(w=a.aoColumns.length;e<w;e++){("_all"==j[f]||h(a.aoColumns[e].nTh).hasClass(j[f]))&&d(e,b[i])}}}}}}}if(c){i=0;for(a=c.length;i<a;i++){d(i,c[i])}}}function H(a,b){var c;c=h.isArray(b)?b.slice():h.extend(!0,{},b);var d=a.aoData.length,i=h.extend(!0,{},j.models.oRow);i._aData=c;a.aoData.push(i);for(var f,i=0,g=a.aoColumns.length;i<g;i++){c=a.aoColumns[i],"function"===typeof c.fnRender&&c.bUseRendered&&null!==c.mData?F(a,d,i,S(a,d,i)):F(a,d,i,v(a,d,i)),c._bAutoType&&"string"!=c.sType&&(f=v(a,d,i,"type"),null!==f&&""!==f&&(f=B(f),null===c.sType?c.sType=f:c.sType!=f&&"html"!=c.sType&&(c.sType="string")))}a.aiDisplayMaster.push(d);a.oFeatures.bDeferRender||ea(a,d);return d}function ua(a){var b,c,d,i,f,g,e;if(a.bDeferLoading||null===a.sAjaxSource){for(b=a.nTBody.firstChild;b;){if("TR"==b.nodeName.toUpperCase()){c=a.aoData.length;b._DT_RowIndex=c;a.aoData.push(h.extend(!0,{},j.models.oRow,{nTr:b}));a.aiDisplayMaster.push(c);f=b.firstChild;for(d=0;f;){g=f.nodeName.toUpperCase();if("TD"==g||"TH"==g){F(a,c,d,h.trim(f.innerHTML)),d++}f=f.nextSibling}}b=b.nextSibling}}i=T(a);d=[];b=0;for(c=i.length;b<c;b++){for(f=i[b].firstChild;f;){g=f.nodeName.toUpperCase(),("TD"==g||"TH"==g)&&d.push(f),f=f.nextSibling}}c=0;for(i=a.aoColumns.length;c<i;c++){e=a.aoColumns[c];null===e.sTitle&&(e.sTitle=e.nTh.innerHTML);var w=e._bAutoType,o="function"===typeof e.fnRender,k=null!==e.sClass,n=e.bVisible,m,p;if(w||o||k||!n){g=0;for(b=a.aoData.length;g<b;g++){f=a.aoData[g],m=d[g*i+c],w&&"string"!=e.sType&&(p=v(a,g,c,"type"),""!==p&&(p=B(p),null===e.sType?e.sType=p:e.sType!=p&&"html"!=e.sType&&(e.sType="string"))),e.mRender?m.innerHTML=v(a,g,c,"display"):e.mData!==c&&(m.innerHTML=v(a,g,c,"display")),o&&(p=S(a,g,c),m.innerHTML=p,e.bUseRendered&&F(a,g,c,p)),k&&(m.className+=" "+e.sClass),n?f._anHidden[c]=null:(f._anHidden[c]=m,m.parentNode.removeChild(m)),e.fnCreatedCell&&e.fnCreatedCell.call(a.oInstance,m,v(a,g,c,"display"),f._aData,g,c)}}}if(0!==a.aoRowCreatedCallback.length){b=0;for(c=a.aoData.length;b<c;b++){f=a.aoData[b],A(a,"aoRowCreatedCallback",null,[f.nTr,f._aData,b])}}}function I(a,b){return b._DT_RowIndex!==n?b._DT_RowIndex:null}function fa(a,b,c){for(var b=J(a,b),d=0,a=a.aoColumns.length;d<a;d++){if(b[d]===c){return d}}return -1}function Y(a,b,c,d){for(var i=[],f=0,g=d.length;f<g;f++){i.push(v(a,b,d[f],c))}return i}function v(a,b,c,d){var i=a.aoColumns[c];if((c=i.fnGetData(a.aoData[b]._aData,d))===n){return a.iDrawError!=a.iDraw&&null===i.sDefaultContent&&(D(a,0,"Requested unknown parameter "+("function"==typeof i.mData?"{mData function}":"'"+i.mData+"'")+" from the data source for row "+b),a.iDrawError=a.iDraw),i.sDefaultContent}if(null===c&&null!==i.sDefaultContent){c=i.sDefaultContent}else{if("function"===typeof c){return c()}}return"display"==d&&null===c?"":c}function F(a,b,c,d){a.aoColumns[c].fnSetData(a.aoData[b]._aData,d)}function Q(a){if(null===a){return function(){return null}}if("function"===typeof a){return function(b,d,i){return a(b,d,i)}}if("string"===typeof a&&(-1!==a.indexOf(".")||-1!==a.indexOf("["))){var b=function(a,d,i){var f=i.split("."),g;if(""!==i){var e=0;for(g=f.length;e<g;e++){if(i=f[e].match(U)){f[e]=f[e].replace(U,"");""!==f[e]&&(a=a[f[e]]);g=[];f.splice(0,e+1);for(var f=f.join("."),e=0,h=a.length;e<h;e++){g.push(b(a[e],d,f))}a=i[0].substring(1,i[0].length-1);a=""===a?g:g.join(a);break}if(null===a||a[f[e]]===n){return n}a=a[f[e]]}}return a};return function(c,d){return b(c,d,a)}}return function(b){return b[a]}}function L(a){if(null===a){return function(){}}if("function"===typeof a){return function(b,d){a(b,"set",d)}}if("string"===typeof a&&(-1!==a.indexOf(".")||-1!==a.indexOf("["))){var b=function(a,d,i){var i=i.split("."),f,g,e=0;for(g=i.length-1;e<g;e++){if(f=i[e].match(U)){i[e]=i[e].replace(U,"");a[i[e]]=[];f=i.slice();f.splice(0,e+1);g=f.join(".");for(var h=0,j=d.length;h<j;h++){f={},b(f,d[h],g),a[i[e]].push(f)}return}if(null===a[i[e]]||a[i[e]]===n){a[i[e]]={}}a=a[i[e]]}a[i[i.length-1].replace(U,"")]=d};return function(c,d){return b(c,d,a)}}return function(b,d){b[a]=d}}function Z(a){for(var b=[],c=a.aoData.length,d=0;d<c;d++){b.push(a.aoData[d]._aData)}return b}function ga(a){a.aoData.splice(0,a.aoData.length);a.aiDisplayMaster.splice(0,a.aiDisplayMaster.length);a.aiDisplay.splice(0,a.aiDisplay.length);y(a)}function ha(a,b){for(var c=-1,d=0,i=a.length;d<i;d++){a[d]==b?c=d:a[d]>b&&a[d]--}-1!=c&&a.splice(c,1)}function S(a,b,c){var d=a.aoColumns[c];return d.fnRender({iDataRow:b,iDataColumn:c,oSettings:a,aData:a.aoData[b]._aData,mDataProp:d.mData},v(a,b,c,"display"))}function ea(a,b){var c=a.aoData[b],d;if(null===c.nTr){c.nTr=l.createElement("tr");c.nTr._DT_RowIndex=b;c._aData.DT_RowId&&(c.nTr.id=c._aData.DT_RowId);c._aData.DT_RowClass&&(c.nTr.className=c._aData.DT_RowClass);for(var i=0,f=a.aoColumns.length;i<f;i++){var g=a.aoColumns[i];d=l.createElement(g.sCellType);d.innerHTML="function"===typeof g.fnRender&&(!g.bUseRendered||null===g.mData)?S(a,b,i):v(a,b,i,"display");null!==g.sClass&&(d.className=g.sClass);g.bVisible?(c.nTr.appendChild(d),c._anHidden[i]=null):c._anHidden[i]=d;g.fnCreatedCell&&g.fnCreatedCell.call(a.oInstance,d,v(a,b,i,"display"),c._aData,b,i)}A(a,"aoRowCreatedCallback",null,[c.nTr,c._aData,b])}}function va(a){var b,c,d;if(0!==h("th, td",a.nTHead).length){b=0;for(d=a.aoColumns.length;b<d;b++){if(c=a.aoColumns[b].nTh,c.setAttribute("role","columnheader"),a.aoColumns[b].bSortable&&(c.setAttribute("tabindex",a.iTabIndex),c.setAttribute("aria-controls",a.sTableId)),null!==a.aoColumns[b].sClass&&h(c).addClass(a.aoColumns[b].sClass),a.aoColumns[b].sTitle!=c.innerHTML){c.innerHTML=a.aoColumns[b].sTitle}}}else{var i=l.createElement("tr");b=0;for(d=a.aoColumns.length;b<d;b++){c=a.aoColumns[b].nTh,c.innerHTML=a.aoColumns[b].sTitle,c.setAttribute("tabindex","0"),null!==a.aoColumns[b].sClass&&h(c).addClass(a.aoColumns[b].sClass),i.appendChild(c)}h(a.nTHead).html("")[0].appendChild(i);V(a.aoHeader,a.nTHead)}h(a.nTHead).children("tr").attr("role","row");if(a.bJUI){b=0;for(d=a.aoColumns.length;b<d;b++){c=a.aoColumns[b].nTh;i=l.createElement("div");i.className=a.oClasses.sSortJUIWrapper;h(c).contents().appendTo(i);var f=l.createElement("span");f.className=a.oClasses.sSortIcon;i.appendChild(f);c.appendChild(i)}}if(a.oFeatures.bSort){for(b=0;b<a.aoColumns.length;b++){!1!==a.aoColumns[b].bSortable?ia(a,a.aoColumns[b].nTh,b):h(a.aoColumns[b].nTh).addClass(a.oClasses.sSortableNone)}}""!==a.oClasses.sFooterTH&&h(a.nTFoot).children("tr").children("th").addClass(a.oClasses.sFooterTH);if(null!==a.nTFoot){c=N(a,null,a.aoFooter);b=0;for(d=a.aoColumns.length;b<d;b++){c[b]&&(a.aoColumns[b].nTf=c[b],a.aoColumns[b].sClass&&h(c[b]).addClass(a.aoColumns[b].sClass))}}}function W(a,b,c){var d,i,f,g=[],e=[],h=a.aoColumns.length,j;c===n&&(c=!1);d=0;for(i=b.length;d<i;d++){g[d]=b[d].slice();g[d].nTr=b[d].nTr;for(f=h-1;0<=f;f--){!a.aoColumns[f].bVisible&&!c&&g[d].splice(f,1)}e.push([])}d=0;for(i=g.length;d<i;d++){if(a=g[d].nTr){for(;f=a.firstChild;){a.removeChild(f)}}f=0;for(b=g[d].length;f<b;f++){if(j=h=1,e[d][f]===n){a.appendChild(g[d][f].cell);for(e[d][f]=1;g[d+h]!==n&&g[d][f].cell==g[d+h][f].cell;){e[d+h][f]=1,h++}for(;g[d][f+j]!==n&&g[d][f].cell==g[d][f+j].cell;){for(c=0;c<h;c++){e[d+c][f+j]=1}j++}g[d][f].cell.rowSpan=h;g[d][f].cell.colSpan=j}}}}function x(a){var b=A(a,"aoPreDrawCallback","preDraw",[a]);if(-1!==h.inArray(!1,b)){E(a,!1)}else{var c,d,b=[],i=0,f=a.asStripeClasses.length;c=a.aoOpenRows.length;a.bDrawing=!0;a.iInitDisplayStart!==n&&-1!=a.iInitDisplayStart&&(a._iDisplayStart=a.oFeatures.bServerSide?a.iInitDisplayStart:a.iInitDisplayStart>=a.fnRecordsDisplay()?0:a.iInitDisplayStart,a.iInitDisplayStart=-1,y(a));if(a.bDeferLoading){a.bDeferLoading=!1,a.iDraw++}else{if(a.oFeatures.bServerSide){if(!a.bDestroying&&!wa(a)){return}}else{a.iDraw++}}if(0!==a.aiDisplay.length){var g=a._iDisplayStart;d=a._iDisplayEnd;a.oFeatures.bServerSide&&(g=0,d=a.aoData.length);for(;g<d;g++){var e=a.aoData[a.aiDisplay[g]];null===e.nTr&&ea(a,a.aiDisplay[g]);var j=e.nTr;if(0!==f){var o=a.asStripeClasses[i%f];e._sRowStripe!=o&&(h(j).removeClass(e._sRowStripe).addClass(o),e._sRowStripe=o)}A(a,"aoRowCallback",null,[j,a.aoData[a.aiDisplay[g]]._aData,i,g]);b.push(j);i++;if(0!==c){for(e=0;e<c;e++){if(j==a.aoOpenRows[e].nParent){b.push(a.aoOpenRows[e].nTr);break}}}}}else{b[0]=l.createElement("tr"),a.asStripeClasses[0]&&(b[0].className=a.asStripeClasses[0]),c=a.oLanguage,f=c.sZeroRecords,1==a.iDraw&&null!==a.sAjaxSource&&!a.oFeatures.bServerSide?f=c.sLoadingRecords:c.sEmptyTable&&0===a.fnRecordsTotal()&&(f=c.sEmptyTable),c=l.createElement("td"),c.setAttribute("valign","top"),c.colSpan=t(a),c.className=a.oClasses.sRowEmpty,c.innerHTML=ja(a,f),b[i].appendChild(c)}A(a,"aoHeaderCallback","header",[h(a.nTHead).children("tr")[0],Z(a),a._iDisplayStart,a.fnDisplayEnd(),a.aiDisplay]);A(a,"aoFooterCallback","footer",[h(a.nTFoot).children("tr")[0],Z(a),a._iDisplayStart,a.fnDisplayEnd(),a.aiDisplay]);i=l.createDocumentFragment();c=l.createDocumentFragment();if(a.nTBody){f=a.nTBody.parentNode;c.appendChild(a.nTBody);if(!a.oScroll.bInfinite||!a._bInitComplete||a.bSorted||a.bFiltered){for(;c=a.nTBody.firstChild;){a.nTBody.removeChild(c)}}c=0;for(d=b.length;c<d;c++){i.appendChild(b[c])}a.nTBody.appendChild(i);null!==f&&f.appendChild(a.nTBody)}A(a,"aoDrawCallback","draw",[a]);a.bSorted=!1;a.bFiltered=!1;a.bDrawing=!1;a.oFeatures.bServerSide&&(E(a,!1),a._bInitComplete||$(a))}}function aa(a){a.oFeatures.bSort?O(a,a.oPreviousSearch):a.oFeatures.bFilter?K(a,a.oPreviousSearch):(y(a),x(a))}function xa(a){var b=h("<div></div>")[0];a.nTable.parentNode.insertBefore(b,a.nTable);a.nTableWrapper=h('<div id="'+a.sTableId+'_wrapper" class="'+a.oClasses.sWrapper+'" role="grid"></div>')[0];a.nTableReinsertBefore=a.nTable.nextSibling;for(var c=a.nTableWrapper,d=a.sDom.split(""),i,f,g,e,w,o,k,m=0;m<d.length;m++){f=0;g=d[m];if("<"==g){e=h("<div></div>")[0];w=d[m+1];if("'"==w||'"'==w){o="";for(k=2;d[m+k]!=w;){o+=d[m+k],k++}"H"==o?o=a.oClasses.sJUIHeader:"F"==o&&(o=a.oClasses.sJUIFooter);-1!=o.indexOf(".")?(w=o.split("."),e.id=w[0].substr(1,w[0].length-1),e.className=w[1]):"#"==o.charAt(0)?e.id=o.substr(1,o.length-1):e.className=o;m+=k}c.appendChild(e);c=e}else{if(">"==g){c=c.parentNode}else{if("l"==g&&a.oFeatures.bPaginate&&a.oFeatures.bLengthChange){i=ya(a),f=1}else{if("f"==g&&a.oFeatures.bFilter){i=za(a),f=1}else{if("r"==g&&a.oFeatures.bProcessing){i=Aa(a),f=1}else{if("t"==g){i=Ba(a),f=1}else{if("i"==g&&a.oFeatures.bInfo){i=Ca(a),f=1}else{if("p"==g&&a.oFeatures.bPaginate){i=Da(a),f=1}else{if(0!==j.ext.aoFeatures.length){e=j.ext.aoFeatures;k=0;for(w=e.length;k<w;k++){if(g==e[k].cFeature){(i=e[k].fnInit(a))&&(f=1);break}}}}}}}}}}}1==f&&null!==i&&("object"!==typeof a.aanFeatures[g]&&(a.aanFeatures[g]=[]),a.aanFeatures[g].push(i),c.appendChild(i))}b.parentNode.replaceChild(a.nTableWrapper,b)}function V(a,b){var c=h(b).children("tr"),d,i,f,g,e,j,o,k,m,p;a.splice(0,a.length);f=0;for(j=c.length;f<j;f++){a.push([])}f=0;for(j=c.length;f<j;f++){d=c[f];for(i=d.firstChild;i;){if("TD"==i.nodeName.toUpperCase()||"TH"==i.nodeName.toUpperCase()){k=1*i.getAttribute("colspan");m=1*i.getAttribute("rowspan");k=!k||0===k||1===k?1:k;m=!m||0===m||1===m?1:m;g=0;for(e=a[f];e[g];){g++}o=g;p=1===k?!0:!1;for(e=0;e<k;e++){for(g=0;g<m;g++){a[f+g][o+e]={cell:i,unique:p},a[f+g].nTr=d}}}i=i.nextSibling}}}function N(a,b,c){var d=[];c||(c=a.aoHeader,b&&(c=[],V(c,b)));for(var b=0,i=c.length;b<i;b++){for(var f=0,g=c[b].length;f<g;f++){if(c[b][f].unique&&(!d[f]||!a.bSortCellsTop)){d[f]=c[b][f].cell}}}return d}function wa(a){if(a.bAjaxDataGet){a.iDraw++;E(a,!0);var b=Ea(a);ka(a,b);a.fnServerData.call(a.oInstance,a.sAjaxSource,b,function(b){Fa(a,b)},a);return !1}return !0}function Ea(a){var b=a.aoColumns.length,c=[],d,i,f,g;c.push({name:"sEcho",value:a.iDraw});c.push({name:"iColumns",value:b});c.push({name:"sColumns",value:M(a)});c.push({name:"iDisplayStart",value:a._iDisplayStart});c.push({name:"iDisplayLength",value:!1!==a.oFeatures.bPaginate?a._iDisplayLength:-1});for(f=0;f<b;f++){d=a.aoColumns[f].mData,c.push({name:"mDataProp_"+f,value:"function"===typeof d?"function":d})}if(!1!==a.oFeatures.bFilter){c.push({name:"sSearch",value:a.oPreviousSearch.sSearch});c.push({name:"bRegex",value:a.oPreviousSearch.bRegex});for(f=0;f<b;f++){c.push({name:"sSearch_"+f,value:a.aoPreSearchCols[f].sSearch}),c.push({name:"bRegex_"+f,value:a.aoPreSearchCols[f].bRegex}),c.push({name:"bSearchable_"+f,value:a.aoColumns[f].bSearchable})}}if(!1!==a.oFeatures.bSort){var e=0;d=null!==a.aaSortingFixed?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice();for(f=0;f<d.length;f++){i=a.aoColumns[d[f][0]].aDataSort;for(g=0;g<i.length;g++){c.push({name:"iSortCol_"+e,value:i[g]}),c.push({name:"sSortDir_"+e,value:d[f][1]}),e++}}c.push({name:"iSortingCols",value:e});for(f=0;f<b;f++){c.push({name:"bSortable_"+f,value:a.aoColumns[f].bSortable})}}return c}function ka(a,b){A(a,"aoServerParams","serverParams",[b])}function Fa(a,b){if(b.sEcho!==n){if(1*b.sEcho<a.iDraw){return}a.iDraw=1*b.sEcho}(!a.oScroll.bInfinite||a.oScroll.bInfinite&&(a.bSorted||a.bFiltered))&&ga(a);a._iRecordsTotal=parseInt(b.iTotalRecords,10);a._iRecordsDisplay=parseInt(b.iTotalDisplayRecords,10);var c=M(a),c=b.sColumns!==n&&""!==c&&b.sColumns!=c,d;c&&(d=u(a,b.sColumns));for(var i=Q(a.sAjaxDataProp)(b),f=0,g=i.length;f<g;f++){if(c){for(var e=[],h=0,j=a.aoColumns.length;h<j;h++){e.push(i[f][d[h]])}H(a,e)}else{H(a,i[f])}}a.aiDisplay=a.aiDisplayMaster.slice();a.bAjaxDataGet=!1;x(a);a.bAjaxDataGet=!0;E(a,!1)}function za(a){var b=a.oPreviousSearch,c=a.oLanguage.sSearch,c=-1!==c.indexOf("_INPUT_")?c.replace("_INPUT_",'<input type="text" />'):""===c?'<input type="text" />':c+' <input type="text" />',d=l.createElement("div");d.className=a.oClasses.sFilter;d.innerHTML="<label>"+c+"</label>";a.aanFeatures.f||(d.id=a.sTableId+"_filter");c=h('input[type="text"]',d);d._DT_Input=c[0];c.val(b.sSearch.replace('"',"&quot;"));c.bind("keyup.DT",function(){for(var c=a.aanFeatures.f,d=this.value===""?"":this.value,g=0,e=c.length;g<e;g++){c[g]!=h(this).parents("div.dataTables_filter")[0]&&h(c[g]._DT_Input).val(d)}d!=b.sSearch&&K(a,{sSearch:d,bRegex:b.bRegex,bSmart:b.bSmart,bCaseInsensitive:b.bCaseInsensitive})});c.attr("aria-controls",a.sTableId).bind("keypress.DT",function(a){if(a.keyCode==13){return false}});return d}function K(a,b,c){var d=a.oPreviousSearch,i=a.aoPreSearchCols,f=function(a){d.sSearch=a.sSearch;d.bRegex=a.bRegex;d.bSmart=a.bSmart;d.bCaseInsensitive=a.bCaseInsensitive};if(a.oFeatures.bServerSide){f(b)}else{Ga(a,b.sSearch,c,b.bRegex,b.bSmart,b.bCaseInsensitive);f(b);for(b=0;b<a.aoPreSearchCols.length;b++){Ha(a,i[b].sSearch,b,i[b].bRegex,i[b].bSmart,i[b].bCaseInsensitive)}Ia(a)}a.bFiltered=!0;h(a.oInstance).trigger("filter",a);a._iDisplayStart=0;y(a);x(a);la(a,0)}function Ia(a){for(var b=j.ext.afnFiltering,c=r(a,"bSearchable"),d=0,i=b.length;d<i;d++){for(var f=0,g=0,e=a.aiDisplay.length;g<e;g++){var h=a.aiDisplay[g-f];b[d](a,Y(a,h,"filter",c),h)||(a.aiDisplay.splice(g-f,1),f++)}}}function Ha(a,b,c,d,i,f){if(""!==b){for(var g=0,b=ma(b,d,i,f),d=a.aiDisplay.length-1;0<=d;d--){i=Ja(v(a,a.aiDisplay[d],c,"filter"),a.aoColumns[c].sType),b.test(i)||(a.aiDisplay.splice(d,1),g++)}}}function Ga(a,b,c,d,i,f){d=ma(b,d,i,f);i=a.oPreviousSearch;c||(c=0);0!==j.ext.afnFiltering.length&&(c=1);if(0>=b.length){a.aiDisplay.splice(0,a.aiDisplay.length),a.aiDisplay=a.aiDisplayMaster.slice()}else{if(a.aiDisplay.length==a.aiDisplayMaster.length||i.sSearch.length>b.length||1==c||0!==b.indexOf(i.sSearch)){a.aiDisplay.splice(0,a.aiDisplay.length);la(a,1);for(b=0;b<a.aiDisplayMaster.length;b++){d.test(a.asDataSearch[b])&&a.aiDisplay.push(a.aiDisplayMaster[b])}}else{for(b=c=0;b<a.asDataSearch.length;b++){d.test(a.asDataSearch[b])||(a.aiDisplay.splice(b-c,1),c++)}}}}function la(a,b){if(!a.oFeatures.bServerSide){a.asDataSearch=[];for(var c=r(a,"bSearchable"),d=1===b?a.aiDisplayMaster:a.aiDisplay,i=0,f=d.length;i<f;i++){a.asDataSearch[i]=na(a,Y(a,d[i],"filter",c))}}}function na(a,b){var c=b.join("  ");-1!==c.indexOf("&")&&(c=h("<div>").html(c).text());return c.replace(/[\n\r]/g," ")}function ma(a,b,c,d){if(c){return a=b?a.split(" "):oa(a).split(" "),a="^(?=.*?"+a.join(")(?=.*?")+").*$",RegExp(a,d?"i":"")}a=b?a:oa(a);return RegExp(a,d?"i":"")}function Ja(a,b){return"function"===typeof j.ext.ofnSearch[b]?j.ext.ofnSearch[b](a):null===a?"":"html"==b?a.replace(/[\r\n]/g," ").replace(/<.*?>/g,""):"string"===typeof a?a.replace(/[\r\n]/g," "):a}function oa(a){return a.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),"\\$1")}function Ca(a){var b=l.createElement("div");b.className=a.oClasses.sInfo;a.aanFeatures.i||(a.aoDrawCallback.push({fn:Ka,sName:"information"}),b.id=a.sTableId+"_info");a.nTable.setAttribute("aria-describedby",a.sTableId+"_info");return b}function Ka(a){if(a.oFeatures.bInfo&&0!==a.aanFeatures.i.length){var b=a.oLanguage,c=a._iDisplayStart+1,d=a.fnDisplayEnd(),i=a.fnRecordsTotal(),f=a.fnRecordsDisplay(),g;g=0===f?b.sInfoEmpty:b.sInfo;f!=i&&(g+=" "+b.sInfoFiltered);g+=b.sInfoPostFix;g=ja(a,g);null!==b.fnInfoCallback&&(g=b.fnInfoCallback.call(a.oInstance,a,c,d,i,f,g));a=a.aanFeatures.i;b=0;for(c=a.length;b<c;b++){h(a[b]).html(g)}}}function ja(a,b){var c=a.fnFormatNumber(a._iDisplayStart+1),d=a.fnDisplayEnd(),d=a.fnFormatNumber(d),i=a.fnRecordsDisplay(),i=a.fnFormatNumber(i),f=a.fnRecordsTotal(),f=a.fnFormatNumber(f);a.oScroll.bInfinite&&(c=a.fnFormatNumber(1));return b.replace(/_START_/g,c).replace(/_END_/g,d).replace(/_TOTAL_/g,i).replace(/_MAX_/g,f)}function ba(a){var b,c,d=a.iInitDisplayStart;if(!1===a.bInitialised){setTimeout(function(){ba(a)},200)}else{xa(a);va(a);W(a,a.aoHeader);a.nTFoot&&W(a,a.aoFooter);E(a,!0);a.oFeatures.bAutoWidth&&da(a);b=0;for(c=a.aoColumns.length;b<c;b++){null!==a.aoColumns[b].sWidth&&(a.aoColumns[b].nTh.style.width=q(a.aoColumns[b].sWidth))}a.oFeatures.bSort?O(a):a.oFeatures.bFilter?K(a,a.oPreviousSearch):(a.aiDisplay=a.aiDisplayMaster.slice(),y(a),x(a));null!==a.sAjaxSource&&!a.oFeatures.bServerSide?(c=[],ka(a,c),a.fnServerData.call(a.oInstance,a.sAjaxSource,c,function(c){var f=a.sAjaxDataProp!==""?Q(a.sAjaxDataProp)(c):c;for(b=0;b<f.length;b++){H(a,f[b])}a.iInitDisplayStart=d;if(a.oFeatures.bSort){O(a)}else{a.aiDisplay=a.aiDisplayMaster.slice();y(a);x(a)}E(a,false);$(a,c)},a)):a.oFeatures.bServerSide||(E(a,!1),$(a))}}function $(a,b){a._bInitComplete=!0;A(a,"aoInitComplete","init",[a,b])}function pa(a){var b=j.defaults.oLanguage;!a.sEmptyTable&&(a.sZeroRecords&&"No data available in table"===b.sEmptyTable)&&p(a,a,"sZeroRecords","sEmptyTable");!a.sLoadingRecords&&(a.sZeroRecords&&"Loading..."===b.sLoadingRecords)&&p(a,a,"sZeroRecords","sLoadingRecords")}function ya(a){if(a.oScroll.bInfinite){return null}var b='<select size="1" '+('name="'+a.sTableId+'_length"')+">",c,d,i=a.aLengthMenu;if(2==i.length&&"object"===typeof i[0]&&"object"===typeof i[1]){c=0;for(d=i[0].length;c<d;c++){b+='<option value="'+i[0][c]+'">'+i[1][c]+"</option>"}}else{c=0;for(d=i.length;c<d;c++){b+='<option value="'+i[c]+'">'+i[c]+"</option>"}}b+="</select>";i=l.createElement("div");a.aanFeatures.l||(i.id=a.sTableId+"_length");i.className=a.oClasses.sLength;i.innerHTML="<label>"+a.oLanguage.sLengthMenu.replace("_MENU_",b)+"</label>";h('select option[value="'+a._iDisplayLength+'"]',i).attr("selected",!0);h("select",i).bind("change.DT",function(){var b=h(this).val(),i=a.aanFeatures.l;c=0;for(d=i.length;c<d;c++){i[c]!=this.parentNode&&h("select",i[c]).val(b)}a._iDisplayLength=parseInt(b,10);y(a);if(a.fnDisplayEnd()==a.fnRecordsDisplay()){a._iDisplayStart=a.fnDisplayEnd()-a._iDisplayLength;if(a._iDisplayStart<0){a._iDisplayStart=0}}if(a._iDisplayLength==-1){a._iDisplayStart=0}x(a)});h("select",i).attr("aria-controls",a.sTableId);return i}function y(a){a._iDisplayEnd=!1===a.oFeatures.bPaginate?a.aiDisplay.length:a._iDisplayStart+a._iDisplayLength>a.aiDisplay.length||-1==a._iDisplayLength?a.aiDisplay.length:a._iDisplayStart+a._iDisplayLength}function Da(a){if(a.oScroll.bInfinite){return null}var b=l.createElement("div");b.className=a.oClasses.sPaging+a.sPaginationType;j.ext.oPagination[a.sPaginationType].fnInit(a,b,function(a){y(a);x(a)});a.aanFeatures.p||a.aoDrawCallback.push({fn:function(a){j.ext.oPagination[a.sPaginationType].fnUpdate(a,function(a){y(a);x(a)})},sName:"pagination"});return b}function qa(a,b){var c=a._iDisplayStart;if("number"===typeof b){a._iDisplayStart=b*a._iDisplayLength,a._iDisplayStart>a.fnRecordsDisplay()&&(a._iDisplayStart=0)}else{if("first"==b){a._iDisplayStart=0}else{if("previous"==b){a._iDisplayStart=0<=a._iDisplayLength?a._iDisplayStart-a._iDisplayLength:0,0>a._iDisplayStart&&(a._iDisplayStart=0)}else{if("next"==b){0<=a._iDisplayLength?a._iDisplayStart+a._iDisplayLength<a.fnRecordsDisplay()&&(a._iDisplayStart+=a._iDisplayLength):a._iDisplayStart=0}else{if("last"==b){if(0<=a._iDisplayLength){var d=parseInt((a.fnRecordsDisplay()-1)/a._iDisplayLength,10)+1;a._iDisplayStart=(d-1)*a._iDisplayLength}else{a._iDisplayStart=0}}else{D(a,0,"Unknown paging action: "+b)}}}}}h(a.oInstance).trigger("page",a);return c!=a._iDisplayStart}function Aa(a){var b=l.createElement("div");a.aanFeatures.r||(b.id=a.sTableId+"_processing");b.innerHTML=a.oLanguage.sProcessing;b.className=a.oClasses.sProcessing;a.nTable.parentNode.insertBefore(b,a.nTable);return b}function E(a,b){if(a.oFeatures.bProcessing){for(var c=a.aanFeatures.r,d=0,i=c.length;d<i;d++){c[d].style.visibility=b?"visible":"hidden"}}h(a.oInstance).trigger("processing",[a,b])}function Ba(a){if(""===a.oScroll.sX&&""===a.oScroll.sY){return a.nTable}var b=l.createElement("div"),c=l.createElement("div"),d=l.createElement("div"),i=l.createElement("div"),f=l.createElement("div"),g=l.createElement("div"),e=a.nTable.cloneNode(!1),j=a.nTable.cloneNode(!1),o=a.nTable.getElementsByTagName("thead")[0],k=0===a.nTable.getElementsByTagName("tfoot").length?null:a.nTable.getElementsByTagName("tfoot")[0],m=a.oClasses;c.appendChild(d);f.appendChild(g);i.appendChild(a.nTable);b.appendChild(c);b.appendChild(i);d.appendChild(e);e.appendChild(o);null!==k&&(b.appendChild(f),g.appendChild(j),j.appendChild(k));b.className=m.sScrollWrapper;c.className=m.sScrollHead;d.className=m.sScrollHeadInner;i.className=m.sScrollBody;f.className=m.sScrollFoot;g.className=m.sScrollFootInner;a.oScroll.bAutoCss&&(c.style.overflow="hidden",c.style.position="relative",f.style.overflow="hidden",i.style.overflow="auto");c.style.border="0";c.style.width="100%";f.style.border="0";d.style.width=""!==a.oScroll.sXInner?a.oScroll.sXInner:"100%";e.removeAttribute("id");e.style.marginLeft="0";a.nTable.style.marginLeft="0";null!==k&&(j.removeAttribute("id"),j.style.marginLeft="0");d=h(a.nTable).children("caption");0<d.length&&(d=d[0],"top"===d._captionSide?e.appendChild(d):"bottom"===d._captionSide&&k&&j.appendChild(d));""!==a.oScroll.sX&&(c.style.width=q(a.oScroll.sX),i.style.width=q(a.oScroll.sX),null!==k&&(f.style.width=q(a.oScroll.sX)),h(i).scroll(function(){c.scrollLeft=this.scrollLeft;if(k!==null){f.scrollLeft=this.scrollLeft}}));""!==a.oScroll.sY&&(i.style.height=q(a.oScroll.sY));a.aoDrawCallback.push({fn:La,sName:"scrolling"});a.oScroll.bInfinite&&h(i).scroll(function(){if(!a.bDrawing&&h(this).scrollTop()!==0&&h(this).scrollTop()+h(this).height()>h(a.nTable).height()-a.oScroll.iLoadGap&&a.fnDisplayEnd()<a.fnRecordsDisplay()){qa(a,"next");y(a);x(a)}});a.nScrollHead=c;a.nScrollFoot=f;return b}function La(a){var b=a.nScrollHead.getElementsByTagName("div")[0],c=b.getElementsByTagName("table")[0],d=a.nTable.parentNode,i,f,g,e,j,o,k,m,p=[],n=[],l=null!==a.nTFoot?a.nScrollFoot.getElementsByTagName("div")[0]:null,R=null!==a.nTFoot?l.getElementsByTagName("table")[0]:null,r=a.oBrowser.bScrollOversize,s=function(a){k=a.style;k.paddingTop="0";k.paddingBottom="0";k.borderTopWidth="0";k.borderBottomWidth="0";k.height=0};h(a.nTable).children("thead, tfoot").remove();i=h(a.nTHead).clone()[0];a.nTable.insertBefore(i,a.nTable.childNodes[0]);g=a.nTHead.getElementsByTagName("tr");e=i.getElementsByTagName("tr");null!==a.nTFoot&&(j=h(a.nTFoot).clone()[0],a.nTable.insertBefore(j,a.nTable.childNodes[1]),o=a.nTFoot.getElementsByTagName("tr"),j=j.getElementsByTagName("tr"));""===a.oScroll.sX&&(d.style.width="100%",b.parentNode.style.width="100%");var t=N(a,i);i=0;for(f=t.length;i<f;i++){m=G(a,i),t[i].style.width=a.aoColumns[m].sWidth}null!==a.nTFoot&&C(function(a){a.style.width=""},j);a.oScroll.bCollapse&&""!==a.oScroll.sY&&(d.style.height=d.offsetHeight+a.nTHead.offsetHeight+"px");i=h(a.nTable).outerWidth();if(""===a.oScroll.sX){if(a.nTable.style.width="100%",r&&(h("tbody",d).height()>d.offsetHeight||"scroll"==h(d).css("overflow-y"))){a.nTable.style.width=q(h(a.nTable).outerWidth()-a.oScroll.iBarWidth)}}else{""!==a.oScroll.sXInner?a.nTable.style.width=q(a.oScroll.sXInner):i==h(d).width()&&h(d).height()<h(a.nTable).height()?(a.nTable.style.width=q(i-a.oScroll.iBarWidth),h(a.nTable).outerWidth()>i-a.oScroll.iBarWidth&&(a.nTable.style.width=q(i))):a.nTable.style.width=q(i)}i=h(a.nTable).outerWidth();C(s,e);C(function(a){p.push(q(h(a).width()))},e);C(function(a,b){a.style.width=p[b]},g);h(e).height(0);null!==a.nTFoot&&(C(s,j),C(function(a){n.push(q(h(a).width()))},j),C(function(a,b){a.style.width=n[b]},o),h(j).height(0));C(function(a,b){a.innerHTML="";a.style.width=p[b]},e);null!==a.nTFoot&&C(function(a,b){a.innerHTML="";a.style.width=n[b]},j);if(h(a.nTable).outerWidth()<i){g=d.scrollHeight>d.offsetHeight||"scroll"==h(d).css("overflow-y")?i+a.oScroll.iBarWidth:i;if(r&&(d.scrollHeight>d.offsetHeight||"scroll"==h(d).css("overflow-y"))){a.nTable.style.width=q(g-a.oScroll.iBarWidth)}d.style.width=q(g);a.nScrollHead.style.width=q(g);null!==a.nTFoot&&(a.nScrollFoot.style.width=q(g));""===a.oScroll.sX?D(a,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width."):""!==a.oScroll.sXInner&&D(a,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")}else{d.style.width=q("100%"),a.nScrollHead.style.width=q("100%"),null!==a.nTFoot&&(a.nScrollFoot.style.width=q("100%"))}""===a.oScroll.sY&&r&&(d.style.height=q(a.nTable.offsetHeight+a.oScroll.iBarWidth));""!==a.oScroll.sY&&a.oScroll.bCollapse&&(d.style.height=q(a.oScroll.sY),r=""!==a.oScroll.sX&&a.nTable.offsetWidth>d.offsetWidth?a.oScroll.iBarWidth:0,a.nTable.offsetHeight<d.offsetHeight&&(d.style.height=q(a.nTable.offsetHeight+r)));r=h(a.nTable).outerWidth();c.style.width=q(r);b.style.width=q(r);c=h(a.nTable).height()>d.clientHeight||"scroll"==h(d).css("overflow-y");b.style.paddingRight=c?a.oScroll.iBarWidth+"px":"0px";null!==a.nTFoot&&(R.style.width=q(r),l.style.width=q(r),l.style.paddingRight=c?a.oScroll.iBarWidth+"px":"0px");h(d).scroll();if(a.bSorted||a.bFiltered){d.scrollTop=0}}function C(a,b,c){for(var d=0,i=0,f=b.length,g,e;i<f;){g=b[i].firstChild;for(e=c?c[i].firstChild:null;g;){1===g.nodeType&&(c?a(g,e,d):a(g,d),d++),g=g.nextSibling,e=c?e.nextSibling:null}i++}}function Ma(a,b){if(!a||null===a||""===a){return 0}b||(b=l.body);var c,d=l.createElement("div");d.style.width=q(a);b.appendChild(d);c=d.offsetWidth;b.removeChild(d);return c}function da(a){var b=0,c,d=0,i=a.aoColumns.length,f,e,j=h("th",a.nTHead),o=a.nTable.getAttribute("width");e=a.nTable.parentNode;for(f=0;f<i;f++){a.aoColumns[f].bVisible&&(d++,null!==a.aoColumns[f].sWidth&&(c=Ma(a.aoColumns[f].sWidthOrig,e),null!==c&&(a.aoColumns[f].sWidth=q(c)),b++))}if(i==j.length&&0===b&&d==i&&""===a.oScroll.sX&&""===a.oScroll.sY){for(f=0;f<a.aoColumns.length;f++){c=h(j[f]).width(),null!==c&&(a.aoColumns[f].sWidth=q(c))}}else{b=a.nTable.cloneNode(!1);f=a.nTHead.cloneNode(!0);d=l.createElement("tbody");c=l.createElement("tr");b.removeAttribute("id");b.appendChild(f);null!==a.nTFoot&&(b.appendChild(a.nTFoot.cloneNode(!0)),C(function(a){a.style.width=""},b.getElementsByTagName("tr")));b.appendChild(d);d.appendChild(c);d=h("thead th",b);0===d.length&&(d=h("tbody tr:eq(0)>td",b));j=N(a,f);for(f=d=0;f<i;f++){var k=a.aoColumns[f];k.bVisible&&null!==k.sWidthOrig&&""!==k.sWidthOrig?j[f-d].style.width=q(k.sWidthOrig):k.bVisible?j[f-d].style.width="":d++}for(f=0;f<i;f++){a.aoColumns[f].bVisible&&(d=Na(a,f),null!==d&&(d=d.cloneNode(!0),""!==a.aoColumns[f].sContentPadding&&(d.innerHTML+=a.aoColumns[f].sContentPadding),c.appendChild(d)))}e.appendChild(b);""!==a.oScroll.sX&&""!==a.oScroll.sXInner?b.style.width=q(a.oScroll.sXInner):""!==a.oScroll.sX?(b.style.width="",h(b).width()<e.offsetWidth&&(b.style.width=q(e.offsetWidth))):""!==a.oScroll.sY?b.style.width=q(e.offsetWidth):o&&(b.style.width=q(o));b.style.visibility="hidden";Oa(a,b);i=h("tbody tr:eq(0)",b).children();0===i.length&&(i=N(a,h("thead",b)[0]));if(""!==a.oScroll.sX){for(f=d=e=0;f<a.aoColumns.length;f++){a.aoColumns[f].bVisible&&(e=null===a.aoColumns[f].sWidthOrig?e+h(i[d]).outerWidth():e+(parseInt(a.aoColumns[f].sWidth.replace("px",""),10)+(h(i[d]).outerWidth()-h(i[d]).width())),d++)}b.style.width=q(e);a.nTable.style.width=q(e)}for(f=d=0;f<a.aoColumns.length;f++){a.aoColumns[f].bVisible&&(e=h(i[d]).width(),null!==e&&0<e&&(a.aoColumns[f].sWidth=q(e)),d++)}i=h(b).css("width");a.nTable.style.width=-1!==i.indexOf("%")?i:q(h(b).outerWidth());b.parentNode.removeChild(b)}o&&(a.nTable.style.width=q(o))}function Oa(a,b){""===a.oScroll.sX&&""!==a.oScroll.sY?(h(b).width(),b.style.width=q(h(b).outerWidth()-a.oScroll.iBarWidth)):""!==a.oScroll.sX&&(b.style.width=q(h(b).outerWidth()))}function Na(a,b){var c=Pa(a,b);if(0>c){return null}if(null===a.aoData[c].nTr){var d=l.createElement("td");d.innerHTML=v(a,c,b,"");return d}return J(a,c)[b]}function Pa(a,b){for(var c=-1,d=-1,i=0;i<a.aoData.length;i++){var e=v(a,i,b,"display")+"",e=e.replace(/<.*?>/g,"");e.length>c&&(c=e.length,d=i)}return d}function q(a){if(null===a){return"0px"}if("number"==typeof a){return 0>a?"0px":a+"px"}var b=a.charCodeAt(a.length-1);return 48>b||57<b?a:a+"px"}function Qa(){var a=l.createElement("p"),b=a.style;b.width="100%";b.height="200px";b.padding="0px";var c=l.createElement("div"),b=c.style;b.position="absolute";b.top="0px";b.left="0px";b.visibility="hidden";b.width="200px";b.height="150px";b.padding="0px";b.overflow="hidden";c.appendChild(a);l.body.appendChild(c);b=a.offsetWidth;c.style.overflow="scroll";a=a.offsetWidth;b==a&&(a=c.clientWidth);l.body.removeChild(c);return b-a}function O(a,b){var c,d,i,e,g,k,o=[],m=[],p=j.ext.oSort,l=a.aoData,q=a.aoColumns,G=a.oLanguage.oAria;if(!a.oFeatures.bServerSide&&(0!==a.aaSorting.length||null!==a.aaSortingFixed)){o=null!==a.aaSortingFixed?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice();for(c=0;c<o.length;c++){if(d=o[c][0],i=R(a,d),e=a.aoColumns[d].sSortDataType,j.ext.afnSortData[e]){if(g=j.ext.afnSortData[e].call(a.oInstance,a,d,i),g.length===l.length){i=0;for(e=l.length;i<e;i++){F(a,i,d,g[i])}}else{D(a,0,"Returned data sort array (col "+d+") is the wrong length")}}}c=0;for(d=a.aiDisplayMaster.length;c<d;c++){m[a.aiDisplayMaster[c]]=c}var r=o.length,s;c=0;for(d=l.length;c<d;c++){for(i=0;i<r;i++){s=q[o[i][0]].aDataSort;g=0;for(k=s.length;g<k;g++){e=q[s[g]].sType,e=p[(e?e:"string")+"-pre"],l[c]._aSortData[s[g]]=e?e(v(a,c,s[g],"sort")):v(a,c,s[g],"sort")}}}a.aiDisplayMaster.sort(function(a,b){var c,d,e,i,f;for(c=0;c<r;c++){f=q[o[c][0]].aDataSort;d=0;for(e=f.length;d<e;d++){if(i=q[f[d]].sType,i=p[(i?i:"string")+"-"+o[c][1]](l[a]._aSortData[f[d]],l[b]._aSortData[f[d]]),0!==i){return i}}}return p["numeric-asc"](m[a],m[b])})}(b===n||b)&&!a.oFeatures.bDeferRender&&P(a);c=0;for(d=a.aoColumns.length;c<d;c++){e=q[c].sTitle.replace(/<.*?>/g,""),i=q[c].nTh,i.removeAttribute("aria-sort"),i.removeAttribute("aria-label"),q[c].bSortable?0<o.length&&o[0][0]==c?(i.setAttribute("aria-sort","asc"==o[0][1]?"ascending":"descending"),i.setAttribute("aria-label",e+("asc"==(q[c].asSorting[o[0][2]+1]?q[c].asSorting[o[0][2]+1]:q[c].asSorting[0])?G.sSortAscending:G.sSortDescending))):i.setAttribute("aria-label",e+("asc"==q[c].asSorting[0]?G.sSortAscending:G.sSortDescending)):i.setAttribute("aria-label",e)}a.bSorted=!0;h(a.oInstance).trigger("sort",a);a.oFeatures.bFilter?K(a,a.oPreviousSearch,1):(a.aiDisplay=a.aiDisplayMaster.slice(),a._iDisplayStart=0,y(a),x(a))}function ia(a,b,c,d){Ra(b,{},function(b){if(!1!==a.aoColumns[c].bSortable){var e=function(){var d,e;if(b.shiftKey){for(var f=!1,h=0;h<a.aaSorting.length;h++){if(a.aaSorting[h][0]==c){f=!0;d=a.aaSorting[h][0];e=a.aaSorting[h][2]+1;a.aoColumns[d].asSorting[e]?(a.aaSorting[h][1]=a.aoColumns[d].asSorting[e],a.aaSorting[h][2]=e):a.aaSorting.splice(h,1);break}}!1===f&&a.aaSorting.push([c,a.aoColumns[c].asSorting[0],0])}else{1==a.aaSorting.length&&a.aaSorting[0][0]==c?(d=a.aaSorting[0][0],e=a.aaSorting[0][2]+1,a.aoColumns[d].asSorting[e]||(e=0),a.aaSorting[0][1]=a.aoColumns[d].asSorting[e],a.aaSorting[0][2]=e):(a.aaSorting.splice(0,a.aaSorting.length),a.aaSorting.push([c,a.aoColumns[c].asSorting[0],0]))}O(a)};a.oFeatures.bProcessing?(E(a,!0),setTimeout(function(){e();a.oFeatures.bServerSide||E(a,!1)},0)):e();"function"==typeof d&&d(a)}})}function P(a){var b,c,d,e,f,g=a.aoColumns.length,j=a.oClasses;for(b=0;b<g;b++){a.aoColumns[b].bSortable&&h(a.aoColumns[b].nTh).removeClass(j.sSortAsc+" "+j.sSortDesc+" "+a.aoColumns[b].sSortingClass)}c=null!==a.aaSortingFixed?a.aaSortingFixed.concat(a.aaSorting):a.aaSorting.slice();for(b=0;b<a.aoColumns.length;b++){if(a.aoColumns[b].bSortable){f=a.aoColumns[b].sSortingClass;e=-1;for(d=0;d<c.length;d++){if(c[d][0]==b){f="asc"==c[d][1]?j.sSortAsc:j.sSortDesc;e=d;break}}h(a.aoColumns[b].nTh).addClass(f);a.bJUI&&(f=h("span."+j.sSortIcon,a.aoColumns[b].nTh),f.removeClass(j.sSortJUIAsc+" "+j.sSortJUIDesc+" "+j.sSortJUI+" "+j.sSortJUIAscAllowed+" "+j.sSortJUIDescAllowed),f.addClass(-1==e?a.aoColumns[b].sSortingClassJUI:"asc"==c[e][1]?j.sSortJUIAsc:j.sSortJUIDesc))}else{h(a.aoColumns[b].nTh).addClass(a.aoColumns[b].sSortingClass)}}f=j.sSortColumn;if(a.oFeatures.bSort&&a.oFeatures.bSortClasses){a=J(a);e=[];for(b=0;b<g;b++){e.push("")}b=0;for(d=1;b<c.length;b++){j=parseInt(c[b][0],10),e[j]=f+d,3>d&&d++}f=RegExp(f+"[123]");var o;b=0;for(c=a.length;b<c;b++){j=b%g,d=a[b].className,o=e[j],j=d.replace(f,o),j!=d?a[b].className=h.trim(j):0<o.length&&-1==d.indexOf(o)&&(a[b].className=d+" "+o)}}}function ra(a){if(a.oFeatures.bStateSave&&!a.bDestroying){var b,c;b=a.oScroll.bInfinite;var d={iCreate:(new Date).getTime(),iStart:b?0:a._iDisplayStart,iEnd:b?a._iDisplayLength:a._iDisplayEnd,iLength:a._iDisplayLength,aaSorting:h.extend(!0,[],a.aaSorting),oSearch:h.extend(!0,{},a.oPreviousSearch),aoSearchCols:h.extend(!0,[],a.aoPreSearchCols),abVisCols:[]};b=0;for(c=a.aoColumns.length;b<c;b++){d.abVisCols.push(a.aoColumns[b].bVisible)}A(a,"aoStateSaveParams","stateSaveParams",[a,d]);a.fnStateSave.call(a.oInstance,a,d)}}function Sa(a,b){if(a.oFeatures.bStateSave){var c=a.fnStateLoad.call(a.oInstance,a);if(c){var d=A(a,"aoStateLoadParams","stateLoadParams",[a,c]);if(-1===h.inArray(!1,d)){a.oLoadedState=h.extend(!0,{},c);a._iDisplayStart=c.iStart;a.iInitDisplayStart=c.iStart;a._iDisplayEnd=c.iEnd;a._iDisplayLength=c.iLength;a.aaSorting=c.aaSorting.slice();a.saved_aaSorting=c.aaSorting.slice();h.extend(a.oPreviousSearch,c.oSearch);h.extend(!0,a.aoPreSearchCols,c.aoSearchCols);b.saved_aoColumns=[];for(d=0;d<c.abVisCols.length;d++){b.saved_aoColumns[d]={},b.saved_aoColumns[d].bVisible=c.abVisCols[d]}A(a,"aoStateLoaded","stateLoaded",[a,c])}}}}function s(a){for(var b=0;b<j.settings.length;b++){if(j.settings[b].nTable===a){return j.settings[b]}}return null}function T(a){for(var b=[],a=a.aoData,c=0,d=a.length;c<d;c++){null!==a[c].nTr&&b.push(a[c].nTr)}return b}function J(a,b){var c=[],d,e,f,g,h,j;e=0;var o=a.aoData.length;b!==n&&(e=b,o=b+1);for(f=e;f<o;f++){if(j=a.aoData[f],null!==j.nTr){e=[];for(d=j.nTr.firstChild;d;){g=d.nodeName.toLowerCase(),("td"==g||"th"==g)&&e.push(d),d=d.nextSibling}g=d=0;for(h=a.aoColumns.length;g<h;g++){a.aoColumns[g].bVisible?c.push(e[g-d]):(c.push(j._anHidden[g]),d++)}}}return c}function D(a,b,c){a=null===a?"DataTables warning: "+c:"DataTables warning (table id = '"+a.sTableId+"'): "+c;if(0===b){if("alert"==j.ext.sErrMode){alert(a)}else{throw Error(a)}}else{X.console&&console.log&&console.log(a)}}function p(a,b,c,d){d===n&&(d=c);b[c]!==n&&(a[d]=b[c])}function Ta(a,b){var c,d;for(d in b){b.hasOwnProperty(d)&&(c=b[d],"object"===typeof e[d]&&null!==c&&!1===h.isArray(c)?h.extend(!0,a[d],c):a[d]=c)}return a}function Ra(a,b,c){h(a).bind("click.DT",b,function(b){a.blur();c(b)}).bind("keypress.DT",b,function(a){13===a.which&&c(a)}).bind("selectstart.DT",function(){return !1})}function z(a,b,c,d){c&&a[b].push({fn:c,sName:d})}function A(a,b,c,d){for(var b=a[b],e=[],f=b.length-1;0<=f;f--){e.push(b[f].fn.apply(a.oInstance,d))}null!==c&&h(a.oInstance).trigger(c,d);return e}function Ua(a){var b=h('<div style="position:absolute; top:0; left:0; height:1px; width:1px; overflow:hidden"><div style="position:absolute; top:1px; left:1px; width:100px; overflow:scroll;"><div id="DT_BrowserTest" style="width:100%; height:10px;"></div></div></div>')[0];l.body.appendChild(b);a.oBrowser.bScrollOversize=100===h("#DT_BrowserTest",b)[0].offsetWidth?!0:!1;l.body.removeChild(b)}function Va(a){return function(){var b=[s(this[j.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return j.ext.oApi[a].apply(this,b)}}var U=/\[.*?\]$/,Wa=X.JSON?JSON.stringify:function(a){var b=typeof a;if("object"!==b||null===a){return"string"===b&&(a='"'+a+'"'),a+""}var c,d,e=[],f=h.isArray(a);for(c in a){d=a[c],b=typeof d,"string"===b?d='"'+d+'"':"object"===b&&null!==d&&(d=Wa(d)),e.push((f?"":'"'+c+'":')+d)}return(f?"[":"{")+e+(f?"]":"}")};this.$=function(a,b){var c,d,e=[],f;d=s(this[j.ext.iApiIndex]);var g=d.aoData,o=d.aiDisplay,k=d.aiDisplayMaster;b||(b={});b=h.extend({},{filter:"none",order:"current",page:"all"},b);if("current"==b.page){c=d._iDisplayStart;for(d=d.fnDisplayEnd();c<d;c++){(f=g[o[c]].nTr)&&e.push(f)}}else{if("current"==b.order&&"none"==b.filter){c=0;for(d=k.length;c<d;c++){(f=g[k[c]].nTr)&&e.push(f)}}else{if("current"==b.order&&"applied"==b.filter){c=0;for(d=o.length;c<d;c++){(f=g[o[c]].nTr)&&e.push(f)}}else{if("original"==b.order&&"none"==b.filter){c=0;for(d=g.length;c<d;c++){(f=g[c].nTr)&&e.push(f)}}else{if("original"==b.order&&"applied"==b.filter){c=0;for(d=g.length;c<d;c++){f=g[c].nTr,-1!==h.inArray(c,o)&&f&&e.push(f)}}else{D(d,1,"Unknown selection options")}}}}}e=h(e);c=e.filter(a);e=e.find(a);return h([].concat(h.makeArray(c),h.makeArray(e)))};this._=function(a,b){var c=[],d,e,f=this.$(a,b);d=0;for(e=f.length;d<e;d++){c.push(this.fnGetData(f[d]))}return c};this.fnAddData=function(a,b){if(0===a.length){return[]}var c=[],d,e=s(this[j.ext.iApiIndex]);if("object"===typeof a[0]&&null!==a[0]){for(var f=0;f<a.length;f++){d=H(e,a[f]);if(-1==d){return c}c.push(d)}}else{d=H(e,a);if(-1==d){return c}c.push(d)}e.aiDisplay=e.aiDisplayMaster.slice();(b===n||b)&&aa(e);return c};this.fnAdjustColumnSizing=function(a){var b=s(this[j.ext.iApiIndex]);k(b);a===n||a?this.fnDraw(!1):(""!==b.oScroll.sX||""!==b.oScroll.sY)&&this.oApi._fnScrollDraw(b)};this.fnClearTable=function(a){var b=s(this[j.ext.iApiIndex]);ga(b);(a===n||a)&&x(b)};this.fnClose=function(a){for(var b=s(this[j.ext.iApiIndex]),c=0;c<b.aoOpenRows.length;c++){if(b.aoOpenRows[c].nParent==a){return(a=b.aoOpenRows[c].nTr.parentNode)&&a.removeChild(b.aoOpenRows[c].nTr),b.aoOpenRows.splice(c,1),0}}return 1};this.fnDeleteRow=function(a,b,c){var d=s(this[j.ext.iApiIndex]),e,f,a="object"===typeof a?I(d,a):a,g=d.aoData.splice(a,1);e=0;for(f=d.aoData.length;e<f;e++){null!==d.aoData[e].nTr&&(d.aoData[e].nTr._DT_RowIndex=e)}e=h.inArray(a,d.aiDisplay);d.asDataSearch.splice(e,1);ha(d.aiDisplayMaster,a);ha(d.aiDisplay,a);"function"===typeof b&&b.call(this,d,g);d._iDisplayStart>=d.fnRecordsDisplay()&&(d._iDisplayStart-=d._iDisplayLength,0>d._iDisplayStart&&(d._iDisplayStart=0));if(c===n||c){y(d),x(d)}return g};this.fnDestroy=function(a){var b=s(this[j.ext.iApiIndex]),c=b.nTableWrapper.parentNode,d=b.nTBody,i,f,a=a===n?!1:a;b.bDestroying=!0;A(b,"aoDestroyCallback","destroy",[b]);if(!a){i=0;for(f=b.aoColumns.length;i<f;i++){!1===b.aoColumns[i].bVisible&&this.fnSetColumnVis(i,!0)}}h(b.nTableWrapper).find("*").andSelf().unbind(".DT");h("tbody>tr>td."+b.oClasses.sRowEmpty,b.nTable).parent().remove();b.nTable!=b.nTHead.parentNode&&(h(b.nTable).children("thead").remove(),b.nTable.appendChild(b.nTHead));b.nTFoot&&b.nTable!=b.nTFoot.parentNode&&(h(b.nTable).children("tfoot").remove(),b.nTable.appendChild(b.nTFoot));b.nTable.parentNode.removeChild(b.nTable);h(b.nTableWrapper).remove();b.aaSorting=[];b.aaSortingFixed=[];P(b);h(T(b)).removeClass(b.asStripeClasses.join(" "));h("th, td",b.nTHead).removeClass([b.oClasses.sSortable,b.oClasses.sSortableAsc,b.oClasses.sSortableDesc,b.oClasses.sSortableNone].join(" "));b.bJUI&&(h("th span."+b.oClasses.sSortIcon+", td span."+b.oClasses.sSortIcon,b.nTHead).remove(),h("th, td",b.nTHead).each(function(){var a=h("div."+b.oClasses.sSortJUIWrapper,this),c=a.contents();h(this).append(c);a.remove()}));!a&&b.nTableReinsertBefore?c.insertBefore(b.nTable,b.nTableReinsertBefore):a||c.appendChild(b.nTable);i=0;for(f=b.aoData.length;i<f;i++){null!==b.aoData[i].nTr&&d.appendChild(b.aoData[i].nTr)}!0===b.oFeatures.bAutoWidth&&(b.nTable.style.width=q(b.sDestroyWidth));if(f=b.asDestroyStripes.length){a=h(d).children("tr");for(i=0;i<f;i++){a.filter(":nth-child("+f+"n + "+i+")").addClass(b.asDestroyStripes[i])}}i=0;for(f=j.settings.length;i<f;i++){j.settings[i]==b&&j.settings.splice(i,1)}e=b=null};this.fnDraw=function(a){var b=s(this[j.ext.iApiIndex]);!1===a?(y(b),x(b)):aa(b)};this.fnFilter=function(a,b,c,d,e,f){var g=s(this[j.ext.iApiIndex]);if(g.oFeatures.bFilter){if(c===n||null===c){c=!1}if(d===n||null===d){d=!0}if(e===n||null===e){e=!0}if(f===n||null===f){f=!0}if(b===n||null===b){if(K(g,{sSearch:a+"",bRegex:c,bSmart:d,bCaseInsensitive:f},1),e&&g.aanFeatures.f){b=g.aanFeatures.f;c=0;for(d=b.length;c<d;c++){try{b[c]._DT_Input!=l.activeElement&&h(b[c]._DT_Input).val(a)}catch(o){h(b[c]._DT_Input).val(a)}}}}else{h.extend(g.aoPreSearchCols[b],{sSearch:a+"",bRegex:c,bSmart:d,bCaseInsensitive:f}),K(g,g.oPreviousSearch,1)}}};this.fnGetData=function(a,b){var c=s(this[j.ext.iApiIndex]);if(a!==n){var d=a;if("object"===typeof a){var e=a.nodeName.toLowerCase();"tr"===e?d=I(c,a):"td"===e&&(d=I(c,a.parentNode),b=fa(c,d,a))}return b!==n?v(c,d,b,""):c.aoData[d]!==n?c.aoData[d]._aData:null}return Z(c)};this.fnGetNodes=function(a){var b=s(this[j.ext.iApiIndex]);return a!==n?b.aoData[a]!==n?b.aoData[a].nTr:null:T(b)};this.fnGetPosition=function(a){var b=s(this[j.ext.iApiIndex]),c=a.nodeName.toUpperCase();return"TR"==c?I(b,a):"TD"==c||"TH"==c?(c=I(b,a.parentNode),a=fa(b,c,a),[c,R(b,a),a]):null};this.fnIsOpen=function(a){for(var b=s(this[j.ext.iApiIndex]),c=0;c<b.aoOpenRows.length;c++){if(b.aoOpenRows[c].nParent==a){return !0}}return !1};this.fnOpen=function(a,b,c){var d=s(this[j.ext.iApiIndex]),e=T(d);if(-1!==h.inArray(a,e)){this.fnClose(a);var e=l.createElement("tr"),f=l.createElement("td");e.appendChild(f);f.className=c;f.colSpan=t(d);"string"===typeof b?f.innerHTML=b:h(f).html(b);b=h("tr",d.nTBody);-1!=h.inArray(a,b)&&h(e).insertAfter(a);d.aoOpenRows.push({nTr:e,nParent:a});return e}};this.fnPageChange=function(a,b){var c=s(this[j.ext.iApiIndex]);qa(c,a);y(c);(b===n||b)&&x(c)};this.fnSetColumnVis=function(a,b,c){var d=s(this[j.ext.iApiIndex]),e,f,g=d.aoColumns,h=d.aoData,o,m;if(g[a].bVisible!=b){if(b){for(e=f=0;e<a;e++){g[e].bVisible&&f++}m=f>=t(d);if(!m){for(e=a;e<g.length;e++){if(g[e].bVisible){o=e;break}}}e=0;for(f=h.length;e<f;e++){null!==h[e].nTr&&(m?h[e].nTr.appendChild(h[e]._anHidden[a]):h[e].nTr.insertBefore(h[e]._anHidden[a],J(d,e)[o]))}}else{e=0;for(f=h.length;e<f;e++){null!==h[e].nTr&&(o=J(d,e)[a],h[e]._anHidden[a]=o,o.parentNode.removeChild(o))}}g[a].bVisible=b;W(d,d.aoHeader);d.nTFoot&&W(d,d.aoFooter);e=0;for(f=d.aoOpenRows.length;e<f;e++){d.aoOpenRows[e].nTr.colSpan=t(d)}if(c===n||c){k(d),x(d)}ra(d)}};this.fnSettings=function(){return s(this[j.ext.iApiIndex])};this.fnSort=function(a){var b=s(this[j.ext.iApiIndex]);b.aaSorting=a;O(b)};this.fnSortListener=function(a,b,c){ia(s(this[j.ext.iApiIndex]),a,b,c)};this.fnUpdate=function(a,b,c,d,e){var f=s(this[j.ext.iApiIndex]),b="object"===typeof b?I(f,b):b;if(h.isArray(a)&&c===n){f.aoData[b]._aData=a.slice();for(c=0;c<f.aoColumns.length;c++){this.fnUpdate(v(f,b,c),b,c,!1,!1)}}else{if(h.isPlainObject(a)&&c===n){f.aoData[b]._aData=h.extend(!0,{},a);for(c=0;c<f.aoColumns.length;c++){this.fnUpdate(v(f,b,c),b,c,!1,!1)}}else{F(f,b,c,a);var a=v(f,b,c,"display"),g=f.aoColumns[c];null!==g.fnRender&&(a=S(f,b,c),g.bUseRendered&&F(f,b,c,a));null!==f.aoData[b].nTr&&(J(f,b)[c].innerHTML=a)}}c=h.inArray(b,f.aiDisplay);f.asDataSearch[c]=na(f,Y(f,b,"filter",r(f,"bSearchable")));(e===n||e)&&k(f);(d===n||d)&&aa(f);return 0};this.fnVersionCheck=j.ext.fnVersionCheck;this.oApi={_fnExternApiFunc:Va,_fnInitialise:ba,_fnInitComplete:$,_fnLanguageCompat:pa,_fnAddColumn:o,_fnColumnOptions:m,_fnAddData:H,_fnCreateTr:ea,_fnGatherData:ua,_fnBuildHead:va,_fnDrawHead:W,_fnDraw:x,_fnReDraw:aa,_fnAjaxUpdate:wa,_fnAjaxParameters:Ea,_fnAjaxUpdateDraw:Fa,_fnServerParams:ka,_fnAddOptionsHtml:xa,_fnFeatureHtmlTable:Ba,_fnScrollDraw:La,_fnAdjustColumnSizing:k,_fnFeatureHtmlFilter:za,_fnFilterComplete:K,_fnFilterCustom:Ia,_fnFilterColumn:Ha,_fnFilter:Ga,_fnBuildSearchArray:la,_fnBuildSearchRow:na,_fnFilterCreateSearch:ma,_fnDataToSearch:Ja,_fnSort:O,_fnSortAttachListener:ia,_fnSortingClasses:P,_fnFeatureHtmlPaginate:Da,_fnPageChange:qa,_fnFeatureHtmlInfo:Ca,_fnUpdateInfo:Ka,_fnFeatureHtmlLength:ya,_fnFeatureHtmlProcessing:Aa,_fnProcessingDisplay:E,_fnVisibleToColumnIndex:G,_fnColumnIndexToVisible:R,_fnNodeToDataIndex:I,_fnVisbleColumns:t,_fnCalculateEnd:y,_fnConvertToWidth:Ma,_fnCalculateColumnWidths:da,_fnScrollingWidthAdjust:Oa,_fnGetWidestNode:Na,_fnGetMaxLenString:Pa,_fnStringToCss:q,_fnDetectType:B,_fnSettingsFromNode:s,_fnGetDataMaster:Z,_fnGetTrNodes:T,_fnGetTdNodes:J,_fnEscapeRegex:oa,_fnDeleteIndex:ha,_fnReOrderIndex:u,_fnColumnOrdering:M,_fnLog:D,_fnClearTable:ga,_fnSaveState:ra,_fnLoadState:Sa,_fnCreateCookie:function(a,b,c,d,e){var f=new Date;f.setTime(f.getTime()+1000*c);var c=X.location.pathname.split("/"),a=a+"_"+c.pop().replace(/[\/:]/g,"").toLowerCase(),g;null!==e?(g="function"===typeof h.parseJSON?h.parseJSON(b):eval("("+b+")"),b=e(a,g,f.toGMTString(),c.join("/")+"/")):b=a+"="+encodeURIComponent(b)+"; expires="+f.toGMTString()+"; path="+c.join("/")+"/";a=l.cookie.split(";");e=b.split(";")[0].length;f=[];if(4096<e+l.cookie.length+10){for(var j=0,o=a.length;j<o;j++){if(-1!=a[j].indexOf(d)){var k=a[j].split("=");try{(g=eval("("+decodeURIComponent(k[1])+")"))&&g.iCreate&&f.push({name:k[0],time:g.iCreate})}catch(m){}}}for(f.sort(function(a,b){return b.time-a.time});4096<e+l.cookie.length+10;){if(0===f.length){return}d=f.pop();l.cookie=d.name+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+c.join("/")+"/"}}l.cookie=b},_fnReadCookie:function(a){for(var b=X.location.pathname.split("/"),a=a+"_"+b[b.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",b=l.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "==d.charAt(0);){d=d.substring(1,d.length)}if(0===d.indexOf(a)){return decodeURIComponent(d.substring(a.length,d.length))}}return null},_fnDetectHeader:V,_fnGetUniqueThs:N,_fnScrollBarWidth:Qa,_fnApplyToChildren:C,_fnMap:p,_fnGetRowData:Y,_fnGetCellData:v,_fnSetCellData:F,_fnGetObjectDataFn:Q,_fnSetObjectDataFn:L,_fnApplyColumnDefs:ta,_fnBindAction:Ra,_fnExtend:Ta,_fnCallbackReg:z,_fnCallbackFire:A,_fnJsonString:Wa,_fnRender:S,_fnNodeToColumnIndex:fa,_fnInfoMacros:ja,_fnBrowserDetect:Ua,_fnGetColumns:r};h.extend(j.ext.oApi,this.oApi);for(var sa in j.ext.oApi){sa&&(this[sa]=Va(sa))}var ca=this;this.each(function(){var a=0,b,c,d;c=this.getAttribute("id");var i=!1,f=!1;if("table"!=this.nodeName.toLowerCase()){D(null,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName)}else{a=0;for(b=j.settings.length;a<b;a++){if(j.settings[a].nTable==this){if(e===n||e.bRetrieve){return j.settings[a].oInstance}if(e.bDestroy){j.settings[a].oInstance.fnDestroy();break}else{D(j.settings[a],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy");return}}if(j.settings[a].sTableId==this.id){j.settings.splice(a,1);break}}if(null===c||""===c){this.id=c="DataTables_Table_"+j.ext._oExternConfig.iNextUnique++}var g=h.extend(!0,{},j.models.oSettings,{nTable:this,oApi:ca.oApi,oInit:e,sDestroyWidth:h(this).width(),sInstance:c,sTableId:c});j.settings.push(g);g.oInstance=1===ca.length?ca:h(this).dataTable();e||(e={});e.oLanguage&&pa(e.oLanguage);e=Ta(h.extend(!0,{},j.defaults),e);p(g.oFeatures,e,"bPaginate");p(g.oFeatures,e,"bLengthChange");p(g.oFeatures,e,"bFilter");p(g.oFeatures,e,"bSort");p(g.oFeatures,e,"bInfo");p(g.oFeatures,e,"bProcessing");p(g.oFeatures,e,"bAutoWidth");p(g.oFeatures,e,"bSortClasses");p(g.oFeatures,e,"bServerSide");p(g.oFeatures,e,"bDeferRender");p(g.oScroll,e,"sScrollX","sX");p(g.oScroll,e,"sScrollXInner","sXInner");p(g.oScroll,e,"sScrollY","sY");p(g.oScroll,e,"bScrollCollapse","bCollapse");p(g.oScroll,e,"bScrollInfinite","bInfinite");p(g.oScroll,e,"iScrollLoadGap","iLoadGap");p(g.oScroll,e,"bScrollAutoCss","bAutoCss");p(g,e,"asStripeClasses");p(g,e,"asStripClasses","asStripeClasses");p(g,e,"fnServerData");p(g,e,"fnFormatNumber");p(g,e,"sServerMethod");p(g,e,"aaSorting");p(g,e,"aaSortingFixed");p(g,e,"aLengthMenu");p(g,e,"sPaginationType");p(g,e,"sAjaxSource");p(g,e,"sAjaxDataProp");p(g,e,"iCookieDuration");p(g,e,"sCookiePrefix");p(g,e,"sDom");p(g,e,"bSortCellsTop");p(g,e,"iTabIndex");p(g,e,"oSearch","oPreviousSearch");p(g,e,"aoSearchCols","aoPreSearchCols");p(g,e,"iDisplayLength","_iDisplayLength");p(g,e,"bJQueryUI","bJUI");p(g,e,"fnCookieCallback");p(g,e,"fnStateLoad");p(g,e,"fnStateSave");p(g.oLanguage,e,"fnInfoCallback");z(g,"aoDrawCallback",e.fnDrawCallback,"user");z(g,"aoServerParams",e.fnServerParams,"user");z(g,"aoStateSaveParams",e.fnStateSaveParams,"user");z(g,"aoStateLoadParams",e.fnStateLoadParams,"user");z(g,"aoStateLoaded",e.fnStateLoaded,"user");z(g,"aoRowCallback",e.fnRowCallback,"user");z(g,"aoRowCreatedCallback",e.fnCreatedRow,"user");z(g,"aoHeaderCallback",e.fnHeaderCallback,"user");z(g,"aoFooterCallback",e.fnFooterCallback,"user");z(g,"aoInitComplete",e.fnInitComplete,"user");z(g,"aoPreDrawCallback",e.fnPreDrawCallback,"user");g.oFeatures.bServerSide&&g.oFeatures.bSort&&g.oFeatures.bSortClasses?z(g,"aoDrawCallback",P,"server_side_sort_classes"):g.oFeatures.bDeferRender&&z(g,"aoDrawCallback",P,"defer_sort_classes");e.bJQueryUI?(h.extend(g.oClasses,j.ext.oJUIClasses),e.sDom===j.defaults.sDom&&"lfrtip"===j.defaults.sDom&&(g.sDom='<"H"lfr>t<"F"ip>')):h.extend(g.oClasses,j.ext.oStdClasses);h(this).addClass(g.oClasses.sTable);if(""!==g.oScroll.sX||""!==g.oScroll.sY){g.oScroll.iBarWidth=Qa()}g.iInitDisplayStart===n&&(g.iInitDisplayStart=e.iDisplayStart,g._iDisplayStart=e.iDisplayStart);e.bStateSave&&(g.oFeatures.bStateSave=!0,Sa(g,e),z(g,"aoDrawCallback",ra,"state_save"));null!==e.iDeferLoading&&(g.bDeferLoading=!0,a=h.isArray(e.iDeferLoading),g._iRecordsDisplay=a?e.iDeferLoading[0]:e.iDeferLoading,g._iRecordsTotal=a?e.iDeferLoading[1]:e.iDeferLoading);null!==e.aaData&&(f=!0);""!==e.oLanguage.sUrl?(g.oLanguage.sUrl=e.oLanguage.sUrl,h.getJSON(g.oLanguage.sUrl,null,function(a){pa(a);h.extend(true,g.oLanguage,e.oLanguage,a);ba(g)}),i=!0):h.extend(!0,g.oLanguage,e.oLanguage);null===e.asStripeClasses&&(g.asStripeClasses=[g.oClasses.sStripeOdd,g.oClasses.sStripeEven]);b=g.asStripeClasses.length;g.asDestroyStripes=[];if(b){c=!1;d=h(this).children("tbody").children("tr:lt("+b+")");for(a=0;a<b;a++){d.hasClass(g.asStripeClasses[a])&&(c=!0,g.asDestroyStripes.push(g.asStripeClasses[a]))}c&&d.removeClass(g.asStripeClasses.join(" "))}c=[];a=this.getElementsByTagName("thead");0!==a.length&&(V(g.aoHeader,a[0]),c=N(g));if(null===e.aoColumns){d=[];a=0;for(b=c.length;a<b;a++){d.push(null)}}else{d=e.aoColumns}a=0;for(b=d.length;a<b;a++){e.saved_aoColumns!==n&&e.saved_aoColumns.length==b&&(null===d[a]&&(d[a]={}),d[a].bVisible=e.saved_aoColumns[a].bVisible),o(g,c?c[a]:null)}ta(g,e.aoColumnDefs,d,function(a,b){m(g,a,b)});a=0;for(b=g.aaSorting.length;a<b;a++){g.aaSorting[a][0]>=g.aoColumns.length&&(g.aaSorting[a][0]=0);var k=g.aoColumns[g.aaSorting[a][0]];g.aaSorting[a][2]===n&&(g.aaSorting[a][2]=0);e.aaSorting===n&&g.saved_aaSorting===n&&(g.aaSorting[a][1]=k.asSorting[0]);c=0;for(d=k.asSorting.length;c<d;c++){if(g.aaSorting[a][1]==k.asSorting[c]){g.aaSorting[a][2]=c;break}}}P(g);Ua(g);a=h(this).children("caption").each(function(){this._captionSide=h(this).css("caption-side")});b=h(this).children("thead");0===b.length&&(b=[l.createElement("thead")],this.appendChild(b[0]));g.nTHead=b[0];b=h(this).children("tbody");0===b.length&&(b=[l.createElement("tbody")],this.appendChild(b[0]));g.nTBody=b[0];g.nTBody.setAttribute("role","alert");g.nTBody.setAttribute("aria-live","polite");g.nTBody.setAttribute("aria-relevant","all");b=h(this).children("tfoot");if(0===b.length&&0<a.length&&(""!==g.oScroll.sX||""!==g.oScroll.sY)){b=[l.createElement("tfoot")],this.appendChild(b[0])}0<b.length&&(g.nTFoot=b[0],V(g.aoFooter,g.nTFoot));if(f){for(a=0;a<e.aaData.length;a++){H(g,e.aaData[a])}}else{ua(g)}g.aiDisplay=g.aiDisplayMaster.slice();g.bInitialised=!0;!1===i&&ba(g)}});ca=null;return this};j.fnVersionCheck=function(e){for(var h=function(e,h){for(;e.length<h;){e+="0"}return e},m=j.ext.sVersion.split("."),e=e.split("."),k="",n="",l=0,t=e.length;l<t;l++){k+=h(m[l],3),n+=h(e[l],3)}return parseInt(k,10)>=parseInt(n,10)};j.fnIsDataTable=function(e){for(var h=j.settings,m=0;m<h.length;m++){if(h[m].nTable===e||h[m].nScrollHead===e||h[m].nScrollFoot===e){return !0}}return !1};j.fnTables=function(e){var o=[];jQuery.each(j.settings,function(j,k){(!e||!0===e&&h(k.nTable).is(":visible"))&&o.push(k.nTable)});return o};j.version="1.9.4";j.settings=[];j.models={};j.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:j.fnVersionCheck,iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:j.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}};j.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0};j.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""};j.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:!0,fnCreatedCell:null,fnGetData:null,fnRender:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};j.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollAutoCss:!0,bScrollCollapse:!1,bScrollInfinite:!1,bServerSide:!1,bSort:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){if(1000>e){return e}for(var h=e+"",e=h.split(""),j="",h=h.length,k=0;k<h;k++){0===k%3&&0!==k&&(j=this.oLanguage.sInfoThousands+j),j=e[h-k-1]+j}return j},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:function(e,j,m,k){k.jqXHR=h.ajax({url:e,data:j,success:function(e){e.sError&&k.oApi._fnLog(k,0,e.sError);h(k.oInstance).trigger("xhr",[k,e]);m(e)},dataType:"json",cache:!1,type:k.sServerMethod,error:function(e,h){"parsererror"==h&&k.oApi._fnLog(k,0,"DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})},fnServerParams:null,fnStateLoad:function(e){var e=this.oApi._fnReadCookie(e.sCookiePrefix+e.sInstance),j;try{j="function"===typeof h.parseJSON?h.parseJSON(e):eval("("+e+")")}catch(m){j=null}return j},fnStateLoadParams:null,fnStateLoaded:null,fnStateSave:function(e,h){this.oApi._fnCreateCookie(e.sCookiePrefix+e.sInstance,this.oApi._fnJsonString(h),e.iCookieDuration,e.sCookiePrefix,e.fnCookieCallback)},fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:h.extend({},j.models.oSearch),sAjaxDataProp:"aaData",sAjaxSource:null,sCookiePrefix:"SpryMedia_DataTables_",sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET"};j.defaults.columns={aDataSort:null,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bUseRendered:!0,bVisible:!0,fnCreatedCell:null,fnRender:null,iDataSort:-1,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};j.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iCookieDuration:0,sCookiePrefix:"",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},fnRecordsDisplay:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},fnDisplayEnd:function(){return this.oFeatures.bServerSide?!1===this.oFeatures.bPaginate||-1==this._iDisplayLength?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null};j.ext=h.extend(!0,{},j.models.ext);h.extend(j.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"",sJUIHeader:"",sJUIFooter:""});h.extend(j.ext.oJUIClasses,j.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default",sJUIHeader:"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix",sJUIFooter:"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"});h.extend(j.ext.oPagination,{two_button:{fnInit:function(e,j,m){var k=e.oLanguage.oPaginate,n=function(h){e.oApi._fnPageChange(e,h.data.action)&&m(e)},k=!e.bJUI?'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+k.sPrevious+'</a><a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+k.sNext+"</a>":'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUIPrev+'"></span></a><a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUINext+'"></span></a>';h(j).append(k);var l=h("a",j),k=l[0],l=l[1];e.oApi._fnBindAction(k,{action:"previous"},n);e.oApi._fnBindAction(l,{action:"next"},n);e.aanFeatures.p||(j.id=e.sTableId+"_paginate",k.id=e.sTableId+"_previous",l.id=e.sTableId+"_next",k.setAttribute("aria-controls",e.sTableId),l.setAttribute("aria-controls",e.sTableId))},fnUpdate:function(e){if(e.aanFeatures.p){for(var h=e.oClasses,j=e.aanFeatures.p,k,l=0,n=j.length;l<n;l++){if(k=j[l].firstChild){k.className=0===e._iDisplayStart?h.sPagePrevDisabled:h.sPagePrevEnabled,k=k.nextSibling,k.className=e.fnDisplayEnd()==e.fnRecordsDisplay()?h.sPageNextDisabled:h.sPageNextEnabled}}}}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(e,j,m){var k=e.oLanguage.oPaginate,l=e.oClasses,n=function(h){e.oApi._fnPageChange(e,h.data.action)&&m(e)};h(j).append('<a  tabindex="'+e.iTabIndex+'" class="'+l.sPageButton+" "+l.sPageFirst+'">'+k.sFirst+'</a><a  tabindex="'+e.iTabIndex+'" class="'+l.sPageButton+" "+l.sPagePrevious+'">'+k.sPrevious+'</a><span></span><a tabindex="'+e.iTabIndex+'" class="'+l.sPageButton+" "+l.sPageNext+'">'+k.sNext+'</a><a tabindex="'+e.iTabIndex+'" class="'+l.sPageButton+" "+l.sPageLast+'">'+k.sLast+"</a>");var t=h("a",j),k=t[0],l=t[1],r=t[2],t=t[3];e.oApi._fnBindAction(k,{action:"first"},n);e.oApi._fnBindAction(l,{action:"previous"},n);e.oApi._fnBindAction(r,{action:"next"},n);e.oApi._fnBindAction(t,{action:"last"},n);e.aanFeatures.p||(j.id=e.sTableId+"_paginate",k.id=e.sTableId+"_first",l.id=e.sTableId+"_previous",r.id=e.sTableId+"_next",t.id=e.sTableId+"_last")},fnUpdate:function(e,o){if(e.aanFeatures.p){var m=j.ext.oPagination.iFullNumbersShowPages,k=Math.floor(m/2),l=Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength),n=Math.ceil(e._iDisplayStart/e._iDisplayLength)+1,t="",r,B=e.oClasses,u,M=e.aanFeatures.p,L=function(h){e.oApi._fnBindAction(this,{page:h+r-1},function(h){e.oApi._fnPageChange(e,h.data.page);o(e);h.preventDefault()})};-1===e._iDisplayLength?n=k=r=1:l<m?(r=1,k=l):n<=k?(r=1,k=m):n>=l-k?(r=l-m+1,k=l):(r=n-Math.ceil(m/2)+1,k=r+m-1);for(m=r;m<=k;m++){t+=n!==m?'<a tabindex="'+e.iTabIndex+'" class="'+B.sPageButton+'">'+e.fnFormatNumber(m)+"</a>":'<a tabindex="'+e.iTabIndex+'" class="'+B.sPageButtonActive+'">'+e.fnFormatNumber(m)+"</a>"}m=0;for(k=M.length;m<k;m++){u=M[m],u.hasChildNodes()&&(h("span:eq(0)",u).html(t).children("a").each(L),u=u.getElementsByTagName("a"),u=[u[0],u[1],u[u.length-2],u[u.length-1]],h(u).removeClass(B.sPageButton+" "+B.sPageButtonActive+" "+B.sPageButtonStaticDisabled),h([u[0],u[1]]).addClass(1==n?B.sPageButtonStaticDisabled:B.sPageButton),h([u[2],u[3]]).addClass(0===l||n===l||-1===e._iDisplayLength?B.sPageButtonStaticDisabled:B.sPageButton))}}}}});h.extend(j.ext.oSort,{"string-pre":function(e){"string"!=typeof e&&(e=null!==e&&e.toString?e.toString():"");return e.toLowerCase()},"string-asc":function(e,h){return e<h?-1:e>h?1:0},"string-desc":function(e,h){return e<h?1:e>h?-1:0},"html-pre":function(e){return e.replace(/<.*?>/g,"").toLowerCase()},"html-asc":function(e,h){return e<h?-1:e>h?1:0},"html-desc":function(e,h){return e<h?1:e>h?-1:0},"date-pre":function(e){e=Date.parse(e);if(isNaN(e)||""===e){e=Date.parse("01/01/1970 00:00:00")}return e},"date-asc":function(e,h){return e-h},"date-desc":function(e,h){return h-e},"numeric-pre":function(e){return"-"==e||""===e?0:1*e},"numeric-asc":function(e,h){return e-h},"numeric-desc":function(e,h){return h-e}});h.extend(j.ext.aTypes,[function(e){if("number"===typeof e){return"numeric"}if("string"!==typeof e){return null}var h,j=!1;h=e.charAt(0);if(-1=="0123456789-".indexOf(h)){return null}for(var k=1;k<e.length;k++){h=e.charAt(k);if(-1=="0123456789.".indexOf(h)){return null}if("."==h){if(j){return null}j=!0}}return"numeric"},function(e){var h=Date.parse(e);return null!==h&&!isNaN(h)||"string"===typeof e&&0===e.length?"date":null},function(e){return"string"===typeof e&&-1!=e.indexOf("<")&&-1!=e.indexOf(">")?"html":null}]);h.fn.DataTable=j;h.fn.dataTable=j;h.fn.dataTableSettings=j.settings;h.fn.dataTableExt=j.ext};"function"===typeof define&&define.amd?define(["jquery"],L):jQuery&&!jQuery.fn.dataTable&&L(jQuery)})(window,document);$(document).ready(function(){var e=false;var b=function(){if(($(window).width()<767)&&!e){e=true;$("table.responsive").each(function(g,f){c($(f))});return true}else{if(e&&($(window).width()>767)){e=false;$("table.responsive").each(function(g,f){d($(f))})}}};$(window).load(b);$(window).bind("resize",b);function c(f){f.wrap("<div class='table-wrapper' />");var g=f.clone();g.find("td:not(:first-child), th:not(:first-child)").css("display","none");g.removeClass("responsive");f.closest(".table-wrapper").append(g);g.wrap("<div class='pinned' />");f.wrap("<div class='scrollable' />");a(f,g)}function d(f){f.closest(".table-wrapper").find(".pinned").remove();f.unwrap();f.unwrap()}function a(g,k){var j=g.find("tr"),f=k.find("tr"),h=[];j.each(function(n){var m=$(this),l=m.find("th, td");l.each(function(){var o=$(this).outerHeight(true);h[n]=h[n]||0;if(o>h[n]){h[n]=o}})});f.each(function(l){$(this).height(h[l])})}});(function(a){a.fn.validationEngineLanguage=function(){};a.validationEngineLanguage={newLang:function(){a.validationEngineLanguage.allRules={required:{regex:"none",alertText:"* This field is required",alertTextCheckboxMultiple:"* Please select an option",alertTextCheckboxe:"* This checkbox is required",alertTextDateRange:"* Both date range fields are required"},requiredInFunction:{func:function(d,e,c,b){return(d.val()=="test")?true:false},alertText:"* Field must equal test"},dateRange:{regex:"none",alertText:"* Invalid ",alertText2:"Date Range"},dateTimeRange:{regex:"none",alertText:"* Invalid ",alertText2:"Date Time Range"},minSize:{regex:"none",alertText:"* Minimum ",alertText2:" characters required"},maxSize:{regex:"none",alertText:"* Maximum ",alertText2:" characters allowed"},groupRequired:{regex:"none",alertText:"* You must fill one of the following fields"},min:{regex:"none",alertText:"* Minimum value is "},max:{regex:"none",alertText:"* Maximum value is "},past:{regex:"none",alertText:"* Date prior to "},future:{regex:"none",alertText:"* Date past "},maxCheckbox:{regex:"none",alertText:"* Maximum ",alertText2:" options allowed"},minCheckbox:{regex:"none",alertText:"* Please select ",alertText2:" options"},equals:{regex:"none",alertText:"* Fields do not match"},creditCard:{regex:"none",alertText:"* Invalid credit card number"},phone:{regex:/^([\+][0-9]{1,3}[\ \.\-])?([\(]{1}[0-9]{2,6}[\)])?([0-9\ \.\-\/]{3,20})((x|ext|extension)[\ ]?[0-9]{1,4})?$/,alertText:"* Invalid phone number"},email:{regex:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,alertText:"* Invalid email address"},integer:{regex:/^[\-\+]?\d+$/,alertText:"* Not a valid integer"},number:{regex:/^[\-\+]?((([0-9]{1,3})([,][0-9]{3})*)|([0-9]+))?([\.]([0-9]+))?$/,alertText:"* Invalid floating decimal number"},date:{func:function(h){var f=new RegExp(/^(\d{4})[\/\-\.](0?[1-9]|1[012])[\/\-\.](0?[1-9]|[12][0-9]|3[01])$/);var d=f.exec(h.val());if(d==null){return false}var e=d[1];var g=d[2]*1;var b=d[3]*1;var c=new Date(e,g-1,b);return(c.getFullYear()==e&&c.getMonth()==(g-1)&&c.getDate()==b)},alertText:"* Invalid date, must be in YYYY-MM-DD format"},ipv4:{regex:/^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,alertText:"* Invalid IP address"},url:{regex:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,alertText:"* Invalid URL"},onlyNumberSp:{regex:/^[0-9\ ]+$/,alertText:"* Numbers only"},onlyLetterSp:{regex:/^[a-zA-Z\ \']+$/,alertText:"* Letters only"},onlyLetterNumber:{regex:/^[0-9a-zA-Z]+$/,alertText:"* No special characters allowed"},ajaxUserCall:{url:"ajaxValidateFieldUser",extraData:"name=eric",alertText:"* This user is already taken",alertTextLoad:"* Validating, please wait"},ajaxUserCallPhp:{url:"phpajax/ajaxValidateFieldUser.php",extraData:"name=eric",alertTextOk:"* This username is available",alertText:"* This user is already taken",alertTextLoad:"* Validating, please wait"},ajaxNameCall:{url:"ajaxValidateFieldName",alertText:"* This name is already taken",alertTextOk:"* This name is available",alertTextLoad:"* Validating, please wait"},ajaxNameCallPhp:{url:"phpajax/ajaxValidateFieldName.php",alertText:"* This name is already taken",alertTextLoad:"* Validating, please wait"},validate2fields:{alertText:"* Please input HELLO"},dateFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/,alertText:"* Invalid Date"},dateTimeFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/,alertText:"* Invalid Date or Date Format",alertText2:"Expected Format: ",alertText3:"mm/dd/yyyy hh:mm:ss AM|PM or ",alertText4:"yyyy-mm-dd hh:mm:ss AM|PM"}}}};a.validationEngineLanguage.newLang()})(jQuery);(function(b){var a={init:function(c){var d=this;if(!d.data("jqv")||d.data("jqv")==null){c=a._saveOptions(d,c);b(document).on("click",".formError",function(){b(this).fadeOut(150,function(){b(this).parent(".formErrorOuter").remove();b(this).remove()})})}return this},attach:function(e){var d=this;var c;if(e){c=a._saveOptions(d,e)}else{c=d.data("jqv")}c.validateAttribute=(d.find("[data-validation-engine*=validate]").length)?"data-validation-engine":"class";if(c.binded){d.on(c.validationEventTrigger,"["+c.validateAttribute+"*=validate]:not([type=checkbox]):not([type=radio]):not(.datepicker)",a._onFieldEvent);d.on("click","["+c.validateAttribute+"*=validate][type=checkbox],["+c.validateAttribute+"*=validate][type=radio]",a._onFieldEvent);d.on(c.validationEventTrigger,"["+c.validateAttribute+"*=validate][class*=datepicker]",{delay:300},a._onFieldEvent)}if(c.autoPositionUpdate){b(window).bind("resize",{noAnimation:true,formElem:d},a.updatePromptsPosition)}d.on("click","a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']",a._submitButtonClick);d.removeData("jqv_submitButton");d.on("submit",a._onSubmitEvent);return this},detach:function(){var d=this;var c=d.data("jqv");d.find("["+c.validateAttribute+"*=validate]").not("[type=checkbox]").off(c.validationEventTrigger,a._onFieldEvent);d.find("["+c.validateAttribute+"*=validate][type=checkbox],[class*=validate][type=radio]").off("click",a._onFieldEvent);d.off("submit",a.onAjaxFormComplete);d.die("submit",a.onAjaxFormComplete);d.removeData("jqv");d.off("click","a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']",a._submitButtonClick);d.removeData("jqv_submitButton");if(c.autoPositionUpdate){b(window).unbind("resize",a.updatePromptsPosition)}return this},validate:function(){var d=b(this);var f=null;if((d.is("form")||d.hasClass("validationEngineContainer"))&&!d.hasClass("validating")){d.addClass("validating");var c=d.data("jqv");var f=a._validateFields(this);setTimeout(function(){d.removeClass("validating")},100);if(f&&c.onSuccess){c.onSuccess()}else{if(!f&&c.onFailure){c.onFailure()}}}else{if(d.is("form")||d.hasClass("validationEngineContainer")){d.removeClass("validating")}else{var e=d.closest("form, .validationEngineContainer"),c=(e.data("jqv"))?e.data("jqv"):b.validationEngine.defaults,f=a._validateField(d,c);if(f&&c.onFieldSuccess){c.onFieldSuccess()}else{if(c.onFieldFailure&&c.InvalidFields.length>0){c.onFieldFailure()}}}}if(c.onValidationComplete){return !!c.onValidationComplete(e,f)}return f},updatePromptsPosition:function(f){if(f&&this==window){var e=f.data.formElem;var c=f.data.noAnimation}else{var e=b(this.closest("form, .validationEngineContainer"))}var d=e.data("jqv");e.find("["+d.validateAttribute+"*=validate]").not(":disabled").each(function(){var j=b(this);if(d.prettySelect&&j.is(":hidden")){j=e.find("#"+d.usePrefix+j.attr("id")+d.useSuffix)}var g=a._getPrompt(j);var h=b(g).find(".formErrorContent").html();if(g){a._updatePrompt(j,b(g),h,undefined,false,d,c)}});return this},showPrompt:function(d,f,h,e){var g=this.closest("form, .validationEngineContainer");var c=g.data("jqv");if(!c){c=a._saveOptions(this,c)}if(h){c.promptPosition=h}c.showArrow=e==true;a._showPrompt(this,d,f,false,c);return this},hide:function(){var f=b(this).closest("form, .validationEngineContainer");var d=f.data("jqv");var e=(d&&d.fadeDuration)?d.fadeDuration:0.3;var c;if(b(this).is("form")||b(this).hasClass("validationEngineContainer")){c="parentForm"+a._getClassName(b(this).attr("id"))}else{c=a._getClassName(b(this).attr("id"))+"formError"}b("."+c).fadeTo(e,0.3,function(){b(this).parent(".formErrorOuter").remove();b(this).remove()});return this},hideAll:function(){var d=this;var c=d.data("jqv");var e=c?c.fadeDuration:300;b(".formError").fadeTo(e,300,function(){b(this).parent(".formErrorOuter").remove();b(this).remove()});return this},_onFieldEvent:function(e){var f=b(this);var d=f.closest("form, .validationEngineContainer");var c=d.data("jqv");c.eventTrigger="field";window.setTimeout(function(){a._validateField(f,c);if(c.InvalidFields.length==0&&c.onFieldSuccess){c.onFieldSuccess()}else{if(c.InvalidFields.length>0&&c.onFieldFailure){c.onFieldFailure()}}},(e.data)?e.data.delay:0)},_onSubmitEvent:function(){var f=b(this);var c=f.data("jqv");if(f.data("jqv_submitButton")){var d=b("#"+f.data("jqv_submitButton"));if(d){if(d.length>0){if(d.hasClass("validate-skip")||d.attr("data-validation-engine-skip")=="true"){return true}}}}c.eventTrigger="submit";var e=a._validateFields(f);if(e&&c.ajaxFormValidation){a._validateFormWithAjax(f,c);return false}if(c.onValidationComplete){return !!c.onValidationComplete(f,e)}return e},_checkAjaxStatus:function(d){var c=true;b.each(d.ajaxValidCache,function(e,f){if(!f){c=false;return false}});return c},_checkAjaxFieldStatus:function(c,d){return d.ajaxValidCache[c]==true},_validateFields:function(e){var n=e.data("jqv");var f=false;e.trigger("jqv.form.validating");var o=null;e.find("["+n.validateAttribute+"*=validate]").not(":disabled").each(function(){var q=b(this);var p=[];if(b.inArray(q.attr("name"),p)<0){f|=a._validateField(q,n);if(f&&o==null){if(q.is(":hidden")&&n.prettySelect){o=q=e.find("#"+n.usePrefix+a._jqSelector(q.attr("id"))+n.useSuffix)}else{o=q}}if(n.doNotShowAllErrosOnSubmit){return false}p.push(q.attr("name"));if(n.showOneMessage==true&&f){return false}}});e.trigger("jqv.form.result",[f]);if(f){if(n.scroll){var m=o.offset().top;var h=o.offset().left;var k=n.promptPosition;if(typeof(k)=="string"&&k.indexOf(":")!=-1){k=k.substring(0,k.indexOf(":"))}if(k!="bottomRight"&&k!="bottomLeft"){var j=a._getPrompt(o);if(j){m=j.offset().top}}if(n.scrollOffset){m-=n.scrollOffset}if(n.isOverflown){var c=b(n.overflownDIV);if(!c.length){return false}var d=c.scrollTop();var g=-parseInt(c.offset().top);m+=d+g-5;var l=b(n.overflownDIV+":not(:animated)");l.animate({scrollTop:m},1100,function(){if(n.focusFirstField){o.focus()}})}else{b("html, body").animate({scrollTop:m},1100,function(){if(n.focusFirstField){o.focus()}});b("html, body").animate({scrollLeft:h},1100)}}else{if(n.focusFirstField){o.focus()}}return false}return true},_validateFormWithAjax:function(g,e){var h=g.serialize();var f=(e.ajaxFormValidationMethod)?e.ajaxFormValidationMethod:"GET";var d=(e.ajaxFormValidationURL)?e.ajaxFormValidationURL:g.attr("action");var c=(e.dataType)?e.dataType:"json";b.ajax({type:f,url:d,cache:false,dataType:c,data:h,form:g,methods:a,options:e,beforeSend:function(){return e.onBeforeAjaxFormValidation(g,e)},error:function(j,k){a._ajaxError(j,k)},success:function(n){if((c=="json")&&(n!==true)){var l=false;for(var m=0;m<n.length;m++){var o=n[m];var q=o[0];var k=b(b("#"+q)[0]);if(k.length==1){var p=o[2];if(o[1]==true){if(p==""||!p){a._closePrompt(k)}else{if(e.allrules[p]){var j=e.allrules[p].alertTextOk;if(j){p=j}}if(e.showPrompts){a._showPrompt(k,p,"pass",false,e,true)}}}else{l|=true;if(e.allrules[p]){var j=e.allrules[p].alertText;if(j){p=j}}if(e.showPrompts){a._showPrompt(k,p,"",false,e,true)}}}}e.onAjaxFormComplete(!l,g,n,e)}else{e.onAjaxFormComplete(true,g,n,e)}}})},_validateField:function(d,l,s){if(!d.attr("id")){d.attr("id","form-validation-field-"+b.validationEngine.fieldIdCounter);++b.validationEngine.fieldIdCounter}if(!l.validateNonVisibleFields&&(d.is(":hidden")&&!l.prettySelect||d.parent().is(":hidden"))){return false}var u=d.attr(l.validateAttribute);var z=/validate\[(.*)\]/.exec(u);if(!z){return false}var v=z[1];var r=v.split(/\[|,|\]/);var o=false;var j=d.attr("name");var h="";var y="";var t=false;var A=false;l.isError=false;l.showArrow=false;if(l.maxErrorsPerField>0){A=true}var e=b(d.closest("form, .validationEngineContainer"));for(var x=0;x<r.length;x++){r[x]=r[x].replace(" ","");if(r[x]===""){delete r[x]}}for(var x=0,n=0;x<r.length;x++){if(A&&n>=l.maxErrorsPerField){if(!t){var k=b.inArray("required",r);t=(k!=-1&&k>=x)}break}var g=undefined;switch(r[x]){case"required":t=true;g=a._getErrorMessage(e,d,r[x],r,x,l,a._required);break;case"custom":g=a._getErrorMessage(e,d,r[x],r,x,l,a._custom);break;case"groupRequired":var w="["+l.validateAttribute+"*="+r[x+1]+"]";var f=e.find(w).eq(0);if(f[0]!=d[0]){a._validateField(f,l,s);l.showArrow=true}g=a._getErrorMessage(e,d,r[x],r,x,l,a._groupRequired);if(g){t=true}l.showArrow=false;break;case"ajax":g=a._ajax(d,r,x,l);if(g){y="load"}break;case"minSize":g=a._getErrorMessage(e,d,r[x],r,x,l,a._minSize);break;case"maxSize":g=a._getErrorMessage(e,d,r[x],r,x,l,a._maxSize);break;case"min":g=a._getErrorMessage(e,d,r[x],r,x,l,a._min);break;case"max":g=a._getErrorMessage(e,d,r[x],r,x,l,a._max);break;case"past":g=a._getErrorMessage(e,d,r[x],r,x,l,a._past);break;case"future":g=a._getErrorMessage(e,d,r[x],r,x,l,a._future);break;case"dateRange":var w="["+l.validateAttribute+"*="+r[x+1]+"]";l.firstOfGroup=e.find(w).eq(0);l.secondOfGroup=e.find(w).eq(1);if(l.firstOfGroup[0].value||l.secondOfGroup[0].value){g=a._getErrorMessage(e,d,r[x],r,x,l,a._dateRange)}if(g){t=true}l.showArrow=false;break;case"dateTimeRange":var w="["+l.validateAttribute+"*="+r[x+1]+"]";l.firstOfGroup=e.find(w).eq(0);l.secondOfGroup=e.find(w).eq(1);if(l.firstOfGroup[0].value||l.secondOfGroup[0].value){g=a._getErrorMessage(e,d,r[x],r,x,l,a._dateTimeRange)}if(g){t=true}l.showArrow=false;break;case"maxCheckbox":d=b(e.find("input[name='"+j+"']"));g=a._getErrorMessage(e,d,r[x],r,x,l,a._maxCheckbox);break;case"minCheckbox":d=b(e.find("input[name='"+j+"']"));g=a._getErrorMessage(e,d,r[x],r,x,l,a._minCheckbox);break;case"equals":g=a._getErrorMessage(e,d,r[x],r,x,l,a._equals);break;case"funcCall":g=a._getErrorMessage(e,d,r[x],r,x,l,a._funcCall);break;case"creditCard":g=a._getErrorMessage(e,d,r[x],r,x,l,a._creditCard);break;case"condRequired":g=a._getErrorMessage(e,d,r[x],r,x,l,a._condRequired);if(g!==undefined){t=true}break;default:}var m=false;if(typeof g=="object"){switch(g.status){case"_break":m=true;break;case"_error":g=g.message;break;case"_error_no_prompt":return true;break;default:break}}if(m){break}if(typeof g=="string"){h+=g+"<br/>";l.isError=true;n++}}if(!t&&!(d.val())&&d.val().length<1){l.isError=false}var p=d.prop("type");var c=d.data("promptPosition")||l.promptPosition;if((p=="radio"||p=="checkbox")&&e.find("input[name='"+j+"']").size()>1){if(c==="inline"){d=b(e.find("input[name='"+j+"'][type!=hidden]:last"))}else{d=b(e.find("input[name='"+j+"'][type!=hidden]:first"))}l.showArrow=false}if(d.is(":hidden")&&l.prettySelect){d=e.find("#"+l.usePrefix+a._jqSelector(d.attr("id"))+l.useSuffix)}if(l.isError&&l.showPrompts){a._showPrompt(d,h,y,false,l)}else{if(!o){a._closePrompt(d)}}if(!o){d.trigger("jqv.field.result",[d,l.isError,h])}var q=b.inArray(d[0],l.InvalidFields);if(q==-1){if(l.isError){l.InvalidFields.push(d[0])}}else{if(!l.isError){l.InvalidFields.splice(q,1)}}a._handleStatusCssClasses(d,l);if(l.isError&&l.onFieldFailure){l.onFieldFailure(d)}if(!l.isError&&l.onFieldSuccess){l.onFieldSuccess(d)}return l.isError},_handleStatusCssClasses:function(d,c){if(c.addSuccessCssClassToField){d.removeClass(c.addSuccessCssClassToField)}if(c.addFailureCssClassToField){d.removeClass(c.addFailureCssClassToField)}if(c.addSuccessCssClassToField&&!c.isError){d.addClass(c.addSuccessCssClassToField)}if(c.addFailureCssClassToField&&c.isError){d.addClass(c.addFailureCssClassToField)}},_getErrorMessage:function(c,n,l,p,g,q,m){var j=jQuery.inArray(l,p);if(l==="custom"||l==="funcCall"){var o=p[j+1];l=l+"["+o+"]";delete (p[j])}var d=l;var e=(n.attr("data-validation-engine"))?n.attr("data-validation-engine"):n.attr("class");var h=e.split(" ");var k;if(l=="future"||l=="past"||l=="maxCheckbox"||l=="minCheckbox"){k=m(c,n,p,g,q)}else{k=m(n,p,g,q)}if(k!=undefined){var f=a._getCustomErrorMessage(b(n),h,d,q);if(f){k=f}}return k},_getCustomErrorMessage:function(j,e,h,l){var f=false;var d=a._validityProp[h];if(d!=undefined){f=j.attr("data-errormessage-"+d);if(f!=undefined){return f}}f=j.attr("data-errormessage");if(f!=undefined){return f}var c="#"+j.attr("id");if(typeof l.custom_error_messages[c]!="undefined"&&typeof l.custom_error_messages[c][h]!="undefined"){f=l.custom_error_messages[c][h]["message"]}else{if(e.length>0){for(var g=0;g<e.length&&e.length>0;g++){var k="."+e[g];if(typeof l.custom_error_messages[k]!="undefined"&&typeof l.custom_error_messages[k][h]!="undefined"){f=l.custom_error_messages[k][h]["message"];break}}}}if(!f&&typeof l.custom_error_messages[h]!="undefined"&&typeof l.custom_error_messages[h]["message"]!="undefined"){f=l.custom_error_messages[h]["message"]}return f},_validityProp:{required:"value-missing",custom:"custom-error",groupRequired:"value-missing",ajax:"custom-error",minSize:"range-underflow",maxSize:"range-overflow",min:"range-underflow",max:"range-overflow",past:"type-mismatch",future:"type-mismatch",dateRange:"type-mismatch",dateTimeRange:"type-mismatch",maxCheckbox:"range-overflow",minCheckbox:"range-underflow",equals:"pattern-mismatch",funcCall:"custom-error",creditCard:"pattern-mismatch",condRequired:"value-missing"},_required:function(h,k,f,m,g){switch(h.prop("type")){case"text":case"password":case"textarea":case"file":case"select-one":case"select-multiple":default:var l=b.trim(h.val());var e=b.trim(h.attr("data-validation-placeholder"));var j=b.trim(h.attr("placeholder"));if((!l)||(e&&l==e)||(j&&l==j)){return m.allrules[k[f]].alertText}break;case"radio":case"checkbox":if(g){if(!h.attr("checked")){return m.allrules[k[f]].alertTextCheckboxMultiple}break}var d=h.closest("form, .validationEngineContainer");var c=h.attr("name");if(d.find("input[name='"+c+"']:checked").size()==0){if(d.find("input[name='"+c+"']:visible").size()==1){return m.allrules[k[f]].alertTextCheckboxe}else{return m.allrules[k[f]].alertTextCheckboxMultiple}}break}},_groupRequired:function(f,h,d,c){var g="["+c.validateAttribute+"*="+h[d+1]+"]";var e=false;f.closest("form, .validationEngineContainer").find(g).each(function(){if(!a._required(b(this),h,d,c)){e=true;return false}});if(!e){return c.allrules[h[d]].alertText}},_custom:function(j,k,d,l){var c=k[d+1];var g=l.allrules[c];var h;if(!g){alert("jqv:custom rule not found - "+c);return}if(g.regex){var f=g.regex;if(!f){alert("jqv:custom regex not found - "+c);return}var e=new RegExp(f);if(!e.test(j.val())){return l.allrules[c].alertText}}else{if(g.func){h=g.func;if(typeof(h)!=="function"){alert("jqv:custom parameter 'function' is no function - "+c);return}if(!h(j,k,d,l)){return l.allrules[c].alertText}}else{alert("jqv:custom type not allowed "+c);return}}},_funcCall:function(j,k,d,c){var h=k[d+1];var f;if(h.indexOf(".")>-1){var g=h.split(".");var e=window;while(g.length){e=e[g.shift()]}f=e}else{f=window[h]||c.customFunctions[h]}if(typeof(f)=="function"){return f(j,k,d,c)}},_equals:function(f,g,e,d){var c=g[e+1];if(f.val()!=b("#"+c).val()){return d.allrules.equals.alertText}},_maxSize:function(h,j,f,e){var d=j[f+1];var c=h.val().length;if(c>d){var g=e.allrules.maxSize;return g.alertText+d+g.alertText2}},_minSize:function(h,j,f,d){var e=j[f+1];var c=h.val().length;if(c<e){var g=d.allrules.minSize;return g.alertText+e+g.alertText2}},_min:function(h,j,f,d){var e=parseFloat(j[f+1]);var c=parseFloat(h.val());if(c<e){var g=d.allrules.min;if(g.alertText2){return g.alertText+e+g.alertText2}return g.alertText+e}},_max:function(h,j,f,e){var d=parseFloat(j[f+1]);var c=parseFloat(h.val());if(c>d){var g=e.allrules.max;if(g.alertText2){return g.alertText+d+g.alertText2}return g.alertText+d}},_past:function(d,j,k,e,m){var c=k[e+1];var g=b(d.find("input[name='"+c.replace(/^#+/,"")+"']"));var f;if(c.toLowerCase()=="now"){f=new Date()}else{if(undefined!=g.val()){if(g.is(":disabled")){return}f=a._parseDate(g.val())}else{f=a._parseDate(c)}}var l=a._parseDate(j.val());if(l>f){var h=m.allrules.past;if(h.alertText2){return h.alertText+a._dateToString(f)+h.alertText2}return h.alertText+a._dateToString(f)}},_future:function(d,j,k,e,m){var c=k[e+1];var g=b(d.find("input[name='"+c.replace(/^#+/,"")+"']"));var f;if(c.toLowerCase()=="now"){f=new Date()}else{if(undefined!=g.val()){if(g.is(":disabled")){return}f=a._parseDate(g.val())}else{f=a._parseDate(c)}}var l=a._parseDate(j.val());if(l<f){var h=m.allrules.future;if(h.alertText2){return h.alertText+a._dateToString(f)+h.alertText2}return h.alertText+a._dateToString(f)}},_isDate:function(d){var c=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/);return c.test(d)},_isDateTime:function(d){var c=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/);return c.test(d)},_dateCompare:function(d,c){return(new Date(d.toString())<new Date(c.toString()))},_dateRange:function(e,f,d,c){if((!c.firstOfGroup[0].value&&c.secondOfGroup[0].value)||(c.firstOfGroup[0].value&&!c.secondOfGroup[0].value)){return c.allrules[f[d]].alertText+c.allrules[f[d]].alertText2}if(!a._isDate(c.firstOfGroup[0].value)||!a._isDate(c.secondOfGroup[0].value)){return c.allrules[f[d]].alertText+c.allrules[f[d]].alertText2}if(!a._dateCompare(c.firstOfGroup[0].value,c.secondOfGroup[0].value)){return c.allrules[f[d]].alertText+c.allrules[f[d]].alertText2}},_dateTimeRange:function(e,f,d,c){if((!c.firstOfGroup[0].value&&c.secondOfGroup[0].value)||(c.firstOfGroup[0].value&&!c.secondOfGroup[0].value)){return c.allrules[f[d]].alertText+c.allrules[f[d]].alertText2}if(!a._isDateTime(c.firstOfGroup[0].value)||!a._isDateTime(c.secondOfGroup[0].value)){return c.allrules[f[d]].alertText+c.allrules[f[d]].alertText2}if(!a._dateCompare(c.firstOfGroup[0].value,c.secondOfGroup[0].value)){return c.allrules[f[d]].alertText+c.allrules[f[d]].alertText2}},_maxCheckbox:function(h,j,k,g,f){var d=k[g+1];var e=j.attr("name");var c=h.find("input[name='"+e+"']:checked").size();if(c>d){f.showArrow=false;if(f.allrules.maxCheckbox.alertText2){return f.allrules.maxCheckbox.alertText+" "+d+" "+f.allrules.maxCheckbox.alertText2}return f.allrules.maxCheckbox.alertText}},_minCheckbox:function(h,j,k,g,f){var d=k[g+1];var e=j.attr("name");var c=h.find("input[name='"+e+"']:checked").size();if(c<d){f.showArrow=false;return f.allrules.minCheckbox.alertText+" "+d+" "+f.allrules.minCheckbox.alertText2}},_creditCard:function(k,l,f,n){var d=false,m=k.val().replace(/ +/g,"").replace(/-+/g,"");var c=m.length;if(c>=14&&c<=16&&parseInt(m)>0){var g=0,f=c-1,j=1,h,e=new String();do{h=parseInt(m.charAt(f));e+=(j++%2==0)?h*2:h}while(--f>=0);for(f=0;f<e.length;f++){g+=parseInt(e.charAt(f))}d=g%10==0}if(!d){return n.allrules.creditCard.alertText}},_ajax:function(o,r,j,s){var q=r[j+1];var n=s.allrules[q];var e=n.extraData;var l=n.extraDataDynamic;var h={fieldId:o.attr("id"),fieldValue:o.val()};if(typeof e==="object"){b.extend(h,e)}else{if(typeof e==="string"){var k=e.split("&");for(var j=0;j<k.length;j++){var p=k[j].split("=");if(p[0]&&p[0]){h[p[0]]=p[1]}}}}if(l){var g=[];var m=String(l).split(",");for(var j=0;j<m.length;j++){var c=m[j];if(b(c).length){var d=o.closest("form, .validationEngineContainer").find(c).val();var f=c.replace("#","")+"="+escape(d);h[c.replace("#","")]=d}}}if(s.eventTrigger=="field"){delete (s.ajaxValidCache[o.attr("id")])}if(!s.isError&&!a._checkAjaxFieldStatus(o.attr("id"),s)){b.ajax({type:s.ajaxFormValidationMethod,url:n.url,cache:false,dataType:"json",data:h,field:o,rule:n,methods:a,options:s,beforeSend:function(){},error:function(t,u){a._ajaxError(t,u)},success:function(w){var y=w[0];var v=b("#"+y).eq(0);if(v.length==1){var u=w[1];var x=w[2];if(!u){s.ajaxValidCache[y]=false;s.isError=true;if(x){if(s.allrules[x]){var t=s.allrules[x].alertText;if(t){x=t}}}else{x=n.alertText}if(s.showPrompts){a._showPrompt(v,x,"",true,s)}}else{s.ajaxValidCache[y]=true;if(x){if(s.allrules[x]){var t=s.allrules[x].alertTextOk;if(t){x=t}}}else{x=n.alertTextOk}if(s.showPrompts){if(x){a._showPrompt(v,x,"pass",true,s)}else{a._closePrompt(v)}}if(s.eventTrigger=="submit"){o.closest("form").submit()}}}v.trigger("jqv.field.result",[v,s.isError,x])}});return n.alertTextLoad}},_ajaxError:function(c,d){if(c.status==0&&d==null){alert("The page is not served from a server! ajax call failed")}else{if(typeof console!="undefined"){console.log("Ajax error: "+c.status+" "+d)}}},_dateToString:function(c){return c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate()},_parseDate:function(e){var c=e.split("-");if(c==e){c=e.split("/")}if(c==e){c=e.split(".");return new Date(c[2],(c[1]-1),c[0])}return new Date(c[0],(c[1]-1),c[2])},_showPrompt:function(j,g,h,f,e,d){var c=a._getPrompt(j);if(d){c=false}if(b.trim(g)){if(c){a._updatePrompt(j,c,g,h,f,e)}else{a._buildPrompt(j,g,h,f,e)}}},_buildPrompt:function(j,c,g,l,n){var d=b("<div>");d.addClass(a._getClassName(j.attr("id"))+"formError");d.addClass("parentForm"+a._getClassName(j.closest("form, .validationEngineContainer").attr("id")));d.addClass("formError");switch(g){case"pass":d.addClass("greenPopup");break;case"load":d.addClass("blackPopup");break;default:}if(l){d.addClass("ajaxed")}var o=b("<div>").addClass("formErrorContent").html(c).appendTo(d);var f=j.data("promptPosition")||n.promptPosition;if(n.showArrow){var k=b("<div>").addClass("formErrorArrow");if(typeof(f)=="string"){var h=f.indexOf(":");if(h!=-1){f=f.substring(0,h)}}switch(f){case"bottomLeft":case"bottomRight":d.find(".formErrorContent").before(k);k.addClass("formErrorArrowBottom").html('<div class="line1"><!-- --></div><div class="line2"><!-- --></div><div class="line3"><!-- --></div><div class="line4"><!-- --></div><div class="line5"><!-- --></div><div class="line6"><!-- --></div><div class="line7"><!-- --></div><div class="line8"><!-- --></div><div class="line9"><!-- --></div><div class="line10"><!-- --></div>');break;case"topLeft":case"topRight":k.html('<div class="line10"><!-- --></div><div class="line9"><!-- --></div><div class="line8"><!-- --></div><div class="line7"><!-- --></div><div class="line6"><!-- --></div><div class="line5"><!-- --></div><div class="line4"><!-- --></div><div class="line3"><!-- --></div><div class="line2"><!-- --></div><div class="line1"><!-- --></div>');d.append(k);break}}if(n.addPromptClass){d.addClass(n.addPromptClass)}var m=j.attr("data-required-class");if(m!==undefined){d.addClass(m)}else{if(n.prettySelect){if(b("#"+j.attr("id")).next().is("select")){var e=b("#"+j.attr("id").substr(n.usePrefix.length).substring(n.useSuffix.length)).attr("data-required-class");if(e!==undefined){d.addClass(e)}}}}d.css({opacity:0});if(f==="inline"){d.addClass("inline");if(typeof j.attr("data-prompt-target")!=="undefined"&&b("#"+j.attr("data-prompt-target")).length>0){d.appendTo(b("#"+j.attr("data-prompt-target")))}else{j.after(d)}}else{j.before(d)}var h=a._calculatePosition(j,d,n);d.css({position:f==="inline"?"relative":"absolute",top:h.callerTopPosition,left:h.callerleftPosition,marginTop:h.marginTopSize,opacity:0}).data("callerField",j);if(n.autoHidePrompt){setTimeout(function(){d.animate({opacity:0},function(){d.closest(".formErrorOuter").remove();d.remove()})},n.autoHideDelay)}return d.animate({opacity:0.87})},_updatePrompt:function(j,d,c,g,k,l,e){if(d){if(typeof g!=="undefined"){if(g=="pass"){d.addClass("greenPopup")}else{d.removeClass("greenPopup")}if(g=="load"){d.addClass("blackPopup")}else{d.removeClass("blackPopup")}}if(k){d.addClass("ajaxed")}else{d.removeClass("ajaxed")}d.find(".formErrorContent").html(c);var h=a._calculatePosition(j,d,l);var f={top:h.callerTopPosition,left:h.callerleftPosition,marginTop:h.marginTopSize};if(e){d.css(f)}else{d.animate(f)}}},_closePrompt:function(d){var c=a._getPrompt(d);if(c){c.fadeTo("fast",0,function(){c.parent(".formErrorOuter").remove();c.remove()})}},closePrompt:function(c){return a._closePrompt(c)},_getPrompt:function(e){var f=b(e).closest("form, .validationEngineContainer").attr("id");var d=a._getClassName(e.attr("id"))+"formError";var c=b("."+a._escapeExpression(d)+".parentForm"+f)[0];if(c){return b(c)}},_escapeExpression:function(c){return c.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},isRTL:function(e){var f=b(document);var c=b("body");var d=(e&&e.hasClass("rtl"))||(e&&(e.attr("dir")||"").toLowerCase()==="rtl")||f.hasClass("rtl")||(f.attr("dir")||"").toLowerCase()==="rtl"||c.hasClass("rtl")||(c.attr("dir")||"").toLowerCase()==="rtl";return Boolean(d)},_calculatePosition:function(n,f,s){var e,o,l;var g=n.width();var c=n.position().left;var q=n.position().top;var d=n.height();var r=f.height();e=o=0;l=-r;var k=n.data("promptPosition")||s.promptPosition;var j="";var h="";var p=0;var m=0;if(typeof(k)=="string"){if(k.indexOf(":")!=-1){j=k.substring(k.indexOf(":")+1);k=k.substring(0,k.indexOf(":"));if(j.indexOf(",")!=-1){h=j.substring(j.indexOf(",")+1);j=j.substring(0,j.indexOf(","));m=parseInt(h);if(isNaN(m)){m=0}}p=parseInt(j);if(isNaN(j)){j=0}}}switch(k){default:case"topRight":o+=c+g-30;e+=q;break;case"topLeft":e+=q;o+=c;break;case"centerRight":e=q+4;l=0;o=c+n.outerWidth(true)+5;break;case"centerLeft":o=c-(f.width()+2);e=q+4;l=0;break;case"bottomLeft":e=q+n.height()+5;l=0;o=c;break;case"bottomRight":o=c+g-30;e=q+n.height()+5;l=0;break;case"inline":o=0;e=0;l=0}o+=p;e+=m;return{callerTopPosition:e+"px",callerleftPosition:o+"px",marginTopSize:l+"px"}},_saveOptions:function(e,d){if(b.validationEngineLanguage){var c=b.validationEngineLanguage.allRules}else{b.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page")}b.validationEngine.defaults.allrules=c;var f=b.extend(true,{},b.validationEngine.defaults,d);e.data("jqv",f);return f},_getClassName:function(c){if(c){return c.replace(/:/g,"_").replace(/\./g,"_")}},_jqSelector:function(c){return c.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1")},_condRequired:function(g,h,e,d){var c,f;for(c=(e+1);c<h.length;c++){f=jQuery("#"+h[c]).first();if(f.length&&a._required(f,["required"],0,d,true)==undefined){return a._required(g,["required"],0,d)}}},_submitButtonClick:function(e){var c=b(this);var d=c.closest("form, .validationEngineContainer");d.data("jqv_submitButton",c.attr("id"))}};b.fn.validationEngine=function(d){var c=b(this);if(!c[0]){return c}if(typeof(d)=="string"&&d.charAt(0)!="_"&&a[d]){if(d!="showPrompt"&&d!="hide"&&d!="hideAll"){a.init.apply(c)}return a[d].apply(c,Array.prototype.slice.call(arguments,1))}else{if(typeof d=="object"||!d){a.init.apply(c,arguments);return a.attach.apply(c)}else{b.error("Method "+d+" does not exist in jQuery.validationEngine")}}};b.validationEngine={fieldIdCounter:0,defaults:{validationEventTrigger:"blur",scroll:true,focusFirstField:true,showPrompts:true,validateNonVisibleFields:false,promptPosition:"topRight",bindMethod:"bind",inlineAjax:false,ajaxFormValidation:false,ajaxFormValidationURL:false,ajaxFormValidationMethod:"get",onAjaxFormComplete:b.noop,onBeforeAjaxFormValidation:b.noop,onValidationComplete:false,doNotShowAllErrosOnSubmit:false,custom_error_messages:{},binded:true,showArrow:false,isError:false,maxErrorsPerField:false,ajaxValidCache:{},autoPositionUpdate:false,InvalidFields:[],onFieldSuccess:false,onFieldFailure:false,onSuccess:false,onFailure:false,validateAttribute:"class",addSuccessCssClassToField:"",addFailureCssClassToField:"",autoHidePrompt:false,autoHideDelay:10000,fadeDuration:0.3,prettySelect:false,addPromptClass:"",usePrefix:"",useSuffix:"",showOneMessage:false}};b(function(){b.validationEngine.defaults.promptPosition=a.isRTL()?"topLeft":"topRight"})})(jQuery);(function(){var a=function(b,c){return function(){return b.apply(c,arguments)}};this.CalendarEvent=(function(){function b(c,e){var d;this.container=c;this.makeFullCalendarEventObject=a(this.makeFullCalendarEventObject,this);this.handleDoubleClick=a(this.handleDoubleClick,this);this.finalizeEvent=a(this.finalizeEvent,this);this.handleInputBlur=a(this.handleInputBlur,this);this.handleInputKeyup=a(this.handleInputKeyup,this);this.container.bind("dblclick",this.handleDoubleClick);if(e!=null){d=this.container.find("input");d.focus();d.bind("keyup",this.handleInputKeyup);d.bind("blur",this.handleInputBlur)}else{this.makeFullCalendarEventObject()}}b.prototype.handleInputKeyup=function(d){var c;c=$(d.target);if(d.keyCode===13){if(c.val().length===0){return this.container.remove()}else{return this.finalizeEvent(c.val())}}};b.prototype.handleInputBlur=function(d){var c;c=$(d.target);if(c.val().length===0){return this.container.remove()}else{return this.finalizeEvent(c.val())}};b.prototype.finalizeEvent=function(c){this.container.find("a").html(c);return this.makeFullCalendarEventObject()};b.prototype.handleDoubleClick=function(g){var c,f,d,h=this;c=$("<input type='text'>");f=$(g.target);d=f.text();c.val(d);f.html(c);c.focus();c.bind("keyup",function(j){if(j.keyCode===13){if(c.val().length>0){f.html(c.val());return h.makeFullCalendarEventObject()}else{return f.html(d)}}});return c.bind("blur",function(j){if(c.val().length>0){f.html(c.val());return h.makeFullCalendarEventObject()}else{return f.html(d)}})};b.prototype.makeFullCalendarEventObject=function(){var c,d;d=$(this.container);c={title:$.trim(d.text())};d.data("eventObject",c);return d.draggable({zIndex:999,revert:true,revertDuration:0})};return b})();this.CalendarEvents=(function(){function b(c){this.container=c;this.handleAddLink=a(this.handleAddLink,this);this.addLink=this.container.find("#add-event");this.container.find("a.external-event").each(function(){return new CalendarEvent($(this))});this.template="<li><a class='external-event'><input type='text'></a></li>";this.addLink.bind("click",this.handleAddLink)}b.prototype.handleAddLink=function(){var c;c=$(this.template);c.insertBefore(this.addLink.parent());return new CalendarEvent(c,true)};return b})()}).call(this);(function(a3){function al(b,a){return function(c){return aX(b.call(this,c),a)}}function an(a){return function(b){return this.lang().ordinal(a.call(this,b))}}function a8(){}function ay(a){at(this,a)}function ak(j){var m=this._data={},d=j.years||j.year||j.y||0,b=j.months||j.month||j.M||0,g=j.weeks||j.week||j.w||0,p=j.days||j.day||j.d||0,c=j.hours||j.hour||j.h||0,l=j.minutes||j.minute||j.m||0,k=j.seconds||j.second||j.s||0,h=j.milliseconds||j.millisecond||j.ms||0;this._milliseconds=h+k*1000+l*60000+c*3600000,this._days=p+g*7,this._months=b+d*12,m.milliseconds=h%1000,k+=aA(h/1000),m.seconds=k%60,l+=aA(k/60),m.minutes=l%60,c+=aA(l/60),m.hours=c%24,p+=aA(c/24),p+=g*7,m.days=p%30,b+=aA(p/30),m.months=b%12,d+=aA(b/12),m.years=d}function at(b,a){for(var c in a){a.hasOwnProperty(c)&&(b[c]=a[c])}return b}function aA(a){return a<0?Math.ceil(a):Math.floor(a)}function aX(b,a){var c=b+"";while(c.length<a){c="0"+c}return c}function aw(f,b,h){var d=b._milliseconds,a=b._days,c=b._months,g;d&&f._d.setTime(+f+d*h),a&&f.date(f.date()+a*h),c&&(g=f.date(),f.date(1).month(f.month()+c*h).date(Math.min(g,f.daysInMonth())))}function ar(a){return Object.prototype.toString.call(a)==="[object Array]"}function aO(f,b){var g=Math.min(f.length,b.length),d=Math.abs(f.length-b.length),a=0,c;for(c=0;c<g;c++){~~f[c]!==~~b[c]&&a++}return a+d}function ai(b,a){return a.abbr=b,aM[b]||(aM[b]=new a8),aM[b].set(a),aM[b]}function af(a){return a?(!aM[a]&&aR&&require("./lang/"+a),aM[a]):aL.fn._lang}function aF(a){return a.match(/\[.*\]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function ad(c){var a=c.match(a7),d,b;for(d=0,b=a.length;d<b;d++){aB[a[d]]?a[d]=aB[a[d]]:a[d]=aF(a[d])}return function(e){var f="";for(d=0;d<b;d++){f+=typeof a[d].call=="function"?a[d].call(e,c):a[d]}return f}}function ac(c,a){function b(e){return c.lang().longDateFormat(e)||e}var d=5;while(d--&&a1.test(a)){a=a.replace(a1,b)}return az[a]||(az[a]=ad(a)),az[a](c)}function ae(a){switch(a){case"DDDD":return aP;case"YYYY":return a4;case"YYYYY":return aJ;case"S":case"SS":case"SSS":case"DDD":return aZ;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return aT;case"X":return a6;case"Z":case"ZZ":return a0;case"T":return aG;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return a5;default:return new RegExp(a.replace("\\",""))}}function aE(f,b,g){var d,a,c=g._a;switch(f){case"M":case"MM":c[1]=b==null?0:~~b-1;break;case"MMM":case"MMMM":d=af(g._l).monthsParse(b),d!=null?c[1]=d:g._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":b!=null&&(c[2]=~~b);break;case"YY":c[0]=~~b+(~~b>68?1900:2000);break;case"YYYY":case"YYYYY":c[0]=~~b;break;case"a":case"A":g._isPm=(b+"").toLowerCase()==="pm";break;case"H":case"HH":case"h":case"hh":c[3]=~~b;break;case"m":case"mm":c[4]=~~b;break;case"s":case"ss":c[5]=~~b;break;case"S":case"SS":case"SSS":c[6]=~~(("0."+b)*1000);break;case"X":g._d=new Date(parseFloat(b)*1000);break;case"Z":case"ZZ":g._useUTC=!0,d=(b+"").match(aH),d&&d[1]&&(g._tzh=~~d[1]),d&&d[2]&&(g._tzm=~~d[2]),d&&d[0]==="+"&&(g._tzh=-g._tzh,g._tzm=-g._tzm)}b==null&&(g._isValid=!1)}function aq(c){var a,d,b=[];if(c._d){return}for(a=0;a<7;a++){c._a[a]=b[a]=c._a[a]==null?a===2?1:0:c._a[a]}b[3]+=c._tzh||0,b[4]+=c._tzm||0,d=new Date(0),c._useUTC?(d.setUTCFullYear(b[0],b[1],b[2]),d.setUTCHours(b[3],b[4],b[5],b[6])):(d.setFullYear(b[0],b[1],b[2]),d.setHours(b[3],b[4],b[5],b[6])),c._d=d}function ap(d){var b=d._f.match(a7),f=d._i,c,a;d._a=[];for(c=0;c<b.length;c++){a=(ae(b[c]).exec(f)||[])[0],a&&(f=f.slice(f.indexOf(a)+a.length)),aB[b[c]]&&aE(b[c],a,d)}d._isPm&&d._a[3]<12&&(d._a[3]+=12),d._isPm===!1&&d._a[3]===12&&(d._a[3]=0),aq(d)}function aj(g){var c,j,f,b=99,d,h,a;while(g._f.length){c=at({},g),c._f=g._f.pop(),ap(c),j=new ay(c);if(j.isValid()){f=j;break}a=aO(c._a,j.toArray()),a<b&&(b=a,f=j)}at(g,f)}function av(b){var a,c=b._i;if(aI.exec(c)){b._f="YYYY-MM-DDT";for(a=0;a<4;a++){if(ah[a][1].exec(c)){b._f+=ah[a][0];break}}a0.exec(c)&&(b._f+=" Z"),ap(b)}else{b._d=new Date(c)}}function ab(a){var c=a._i,b=aK.exec(c);c===a3?a._d=new Date:b?a._d=new Date(+b[1]):typeof c=="string"?av(a):ar(c)?(a._a=c.slice(0),aq(a)):a._d=c instanceof Date?new Date(+c):new Date(c)}function aa(d,b,f,c,a){return a.relativeTime(b||1,!!f,d,c)}function aQ(h,l,c){var d=aN(Math.abs(h)/1000),m=aN(d/60),b=aN(m/60),k=aN(b/24),j=aN(k/365),g=d<45&&["s",d]||m===1&&["m"]||m<45&&["mm",m]||b===1&&["h"]||b<22&&["hh",b]||k===1&&["d"]||k<=25&&["dd",k]||k<=45&&["M"]||k<345&&["MM",aN(k/30)]||j===1&&["y"]||["yy",j];return g[2]=l,g[3]=h>0,g[4]=c,aa.apply({},g)}function a2(d,f,c){var a=c-f,b=c-d.day();return b>a&&(b-=7),b<a-7&&(b+=7),Math.ceil(aL(d).add("d",b).dayOfYear()/7)}function aW(b){var c=b._i,a=b._f;return c===null||c===""?null:(typeof c=="string"&&(b._i=c=af().preparse(c)),aL.isMoment(c)?(b=at({},c),b._d=new Date(+c._d)):a?ar(a)?aj(b):ap(b):ab(b),new ay(b))}function aD(a,b){aL.fn[a]=aL.fn[a+"s"]=function(d){var c=this._isUTC?"UTC":"";return d!=null?(this._d["set"+c+b](d),this):this._d["get"+c+b]()}}function aC(a){aL.duration.fn[a]=function(){return this._data[a]}}function au(a,b){aL.duration.fn["as"+a]=function(){return +this/b}}var aL,aS="2.0.0",aN=Math.round,aY,aM={},aR=typeof module!="undefined"&&module.exports,aK=/^\/?Date\((\-?\d+)/i,a7=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,a1=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,aU=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,a5=/\d\d?/,aZ=/\d{1,3}/,aP=/\d{3}/,a4=/\d{1,4}/,aJ=/[+\-]?\d{1,6}/,aT=/[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i,a0=/Z|[\+\-]\d\d:?\d\d/i,aG=/T/i,a6=/[\+\-]?\d+(\.\d{1,3})?/,aI=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,ax="YYYY-MM-DDTHH:mm:ssZ",ah=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],aH=/([\+\-]|\d\d)/gi,ag="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),am={Milliseconds:1,Seconds:1000,Minutes:60000,Hours:3600000,Days:86400000,Months:2592000000,Years:31536000000},az={},aV="DDD w W M D d".split(" "),ao="M D H h m s w W".split(" "),aB={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return aX(this.year()%100,2)},YYYY:function(){return aX(this.year(),4)},YYYYY:function(){return aX(this.year(),5)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return ~~(this.milliseconds()/100)},SS:function(){return aX(~~(this.milliseconds()/10),2)},SSS:function(){return aX(this.milliseconds(),3)},Z:function(){var b=-this.zone(),a="+";return b<0&&(b=-b,a="-"),a+aX(~~(b/60),2)+":"+aX(~~b%60,2)},ZZ:function(){var b=-this.zone(),a="+";return b<0&&(b=-b,a="-"),a+aX(~~(10*b/6),4)},X:function(){return this.unix()}};while(aV.length){aY=aV.pop(),aB[aY+"o"]=an(aB[aY])}while(ao.length){aY=ao.pop(),aB[aY+aY]=al(aB[aY],2)}aB.DDDD=al(aB.DDD,3),a8.prototype={set:function(b){var a,c;for(c in b){a=b[c],typeof a=="function"?this[c]=a:this["_"+c]=a}},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(d){var f,c,a,b;this._monthsParse||(this._monthsParse=[]);for(f=0;f<12;f++){this._monthsParse[f]||(c=aL([2000,f]),a="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[f]=new RegExp(a.replace(".",""),"i"));if(this._monthsParse[f].test(d)){return f}}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(b){var a=this._longDateFormat[b];return !a&&this._longDateFormat[b.toUpperCase()]&&(a=this._longDateFormat[b.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(c){return c.slice(1)}),this._longDateFormat[b]=a),a},meridiem:function(b,a,c){return b>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},calendar:function(b,a){var c=this._calendar[b];return typeof c=="function"?c.apply(a):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(d,b,f,c){var a=this._relativeTime[f];return typeof a=="function"?a(d,b,f,c):a.replace(/%d/i,d)},pastFuture:function(b,a){var c=this._relativeTime[b>0?"future":"past"];return typeof c=="function"?c(a):c.replace(/%s/i,a)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return a2(a,this._week.dow,this._week.doy)},_week:{dow:0,doy:6}},aL=function(b,a,c){return aW({_i:b,_f:a,_l:c,_isUTC:!1})},aL.utc=function(b,a,c){return aW({_useUTC:!0,_isUTC:!0,_l:c,_i:b,_f:a})},aL.unix=function(a){return aL(a*1000)},aL.duration=function(d,g){var c=aL.isDuration(d),a=typeof d=="number",b=c?d._data:a?{}:d,f;return a&&(g?b[g]=d:b.milliseconds=d),f=new ak(b),c&&d.hasOwnProperty("_lang")&&(f._lang=d._lang),f},aL.version=aS,aL.defaultFormat=ax,aL.lang=function(b,c){var a;if(!b){return aL.fn._lang._abbr}c?ai(b,c):aM[b]||af(b),aL.duration.fn._lang=aL.fn._lang=af(b)},aL.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),af(a)},aL.isMoment=function(a){return a instanceof ay},aL.isDuration=function(a){return a instanceof ak},aL.fn=ay.prototype={clone:function(){return aL(this)},valueOf:function(){return +this._d},unix:function(){return Math.floor(+this._d/1000)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._d},toJSON:function(){return aL.utc(this).format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return this._isValid==null&&(this._a?this._isValid=!aO(this._a,(this._isUTC?aL.utc(this._a):aL(this._a)).toArray()):this._isValid=!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(a){var b=ac(this,a||aL.defaultFormat);return this.lang().postformat(b)},add:function(b,c){var a;return typeof b=="string"?a=aL.duration(+c,b):a=aL.duration(b,c),aw(this,a,1),this},subtract:function(b,c){var a;return typeof b=="string"?a=aL.duration(+c,b):a=aL.duration(b,c),aw(this,a,-1),this},diff:function(f,h,d){var b=this._isUTC?aL(f).utc():aL(f).local(),c=(this.zone()-b.zone())*60000,g,a;return h&&(h=h.replace(/s$/,"")),h==="year"||h==="month"?(g=(this.daysInMonth()+b.daysInMonth())*43200000,a=(this.year()-b.year())*12+(this.month()-b.month()),a+=(this-aL(this).startOf("month")-(b-aL(b).startOf("month")))/g,h==="year"&&(a/=12)):(g=this-b-c,a=h==="second"?g/1000:h==="minute"?g/60000:h==="hour"?g/3600000:h==="day"?g/86400000:h==="week"?g/604800000:g),d?a:aA(a)},from:function(a,b){return aL.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(aL(),a)},calendar:function(){var a=this.diff(aL().startOf("day"),"days",!0),b=a<-6?"sameElse":a<-1?"lastWeek":a<0?"lastDay":a<1?"sameDay":a<2?"nextDay":a<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(b,this))},isLeapYear:function(){var a=this.year();return a%4===0&&a%100!==0||a%400===0},isDST:function(){return this.zone()<aL([this.year()]).zone()||this.zone()<aL([this.year(),5]).zone()},day:function(b){var a=this._isUTC?this._d.getUTCDay():this._d.getDay();return b==null?a:this.add({d:b-a})},startOf:function(a){a=a.replace(/s$/,"");switch(a){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return a==="week"&&this.day(0),this},endOf:function(a){return this.startOf(a).add(a.replace(/s?$/,"s"),1).subtract("ms",1)},isAfter:function(a,b){return b=typeof b!="undefined"?b:"millisecond",+this.clone().startOf(b)>+aL(a).startOf(b)},isBefore:function(a,b){return b=typeof b!="undefined"?b:"millisecond",+this.clone().startOf(b)<+aL(a).startOf(b)},isSame:function(a,b){return b=typeof b!="undefined"?b:"millisecond",+this.clone().startOf(b)===+aL(a).startOf(b)},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return aL.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(a){var b=aN((aL(this).startOf("day")-aL(this).startOf("year"))/86400000)+1;return a==null?b:this.add("d",a-b)},isoWeek:function(b){var a=a2(this,1,4);return b==null?a:this.add("d",(b-a)*7)},week:function(b){var a=this.lang().week(this);return b==null?a:this.add("d",(b-a)*7)},lang:function(a){return a===a3?this._lang:(this._lang=af(a),this)}};for(aY=0;aY<ag.length;aY++){aD(ag[aY].toLowerCase().replace(/s$/,""),ag[aY])}aD("year","FullYear"),aL.fn.days=aL.fn.day,aL.fn.weeks=aL.fn.week,aL.fn.isoWeeks=aL.fn.isoWeek,aL.duration.fn=ak.prototype={weeks:function(){return aA(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*86400000+this._months*2592000000},humanize:function(b){var a=+this,c=aQ(a,!b,this.lang());return b&&(c=this.lang().pastFuture(a,c)),this.lang().postformat(c)},lang:aL.fn.lang};for(aY in am){am.hasOwnProperty(aY)&&(au(aY,am[aY]),aC(aY.toLowerCase()))}au("Weeks",604800000),aL.lang("en",{ordinal:function(b){var a=b%10,c=~~(b%100/10)===1?"th":a===1?"st":a===2?"nd":a===3?"rd":"th";return b+c}}),aR&&(module.exports=aL),typeof ender=="undefined"&&(this.moment=aL),typeof define=="function"&&define.amd&&define("moment",[],function(){return aL})}).call(this);
/*! X-editable - v1.5.0 
* In-place editing with Twitter Bootstrap, jQuery UI or pure jQuery
* http://github.com/vitalets/x-editable
* Copyright (c) 2013 Vitaliy Potapov; Licensed MIT */
(function(b){var a=function(d,c){this.options=b.extend({},b.fn.editableform.defaults,c);this.$div=b(d);if(!this.options.scope){this.options.scope=this}};a.prototype={constructor:a,initInput:function(){this.input=this.options.input;this.value=this.input.str2value(this.options.value);this.input.prerender()},initTemplate:function(){this.$form=b(b.fn.editableform.template)},initButtons:function(){var c=this.$form.find(".editable-buttons");c.append(b.fn.editableform.buttons);if(this.options.showbuttons==="bottom"){c.addClass("editable-buttons-bottom")}},render:function(){this.$loading=b(b.fn.editableform.loading);this.$div.empty().append(this.$loading);this.initTemplate();if(this.options.showbuttons){this.initButtons()}else{this.$form.find(".editable-buttons").remove()}this.showLoading();this.isSaving=false;this.$div.triggerHandler("rendering");this.initInput();this.$form.find("div.editable-input").append(this.input.$tpl);this.$div.append(this.$form);b.when(this.input.render()).then(b.proxy(function(){if(!this.options.showbuttons){this.input.autosubmit()}this.$form.find(".editable-cancel").click(b.proxy(this.cancel,this));if(this.input.error){this.error(this.input.error);this.$form.find(".editable-submit").attr("disabled",true);this.input.$input.attr("disabled",true);this.$form.submit(function(d){d.preventDefault()})}else{this.error(false);this.input.$input.removeAttr("disabled");this.$form.find(".editable-submit").removeAttr("disabled");var c=(this.value===null||this.value===undefined||this.value==="")?this.options.defaultValue:this.value;this.input.value2input(c);this.$form.submit(b.proxy(this.submit,this))}this.$div.triggerHandler("rendered");this.showForm();if(this.input.postrender){this.input.postrender()}},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var c,d;if(this.$form){c=this.$form.outerWidth();d=this.$form.outerHeight();if(c){this.$loading.width(c)}if(d){this.$loading.height(d)}this.$form.hide()}else{c=this.$loading.parent().width();if(c){this.$loading.width(c)}}this.$loading.show()},showForm:function(c){this.$loading.hide();this.$form.show();if(c!==false){this.input.activate()}this.$div.triggerHandler("show")},error:function(g){var e=this.$form.find(".control-group"),f=this.$form.find(".editable-error-block"),c;if(g===false){e.removeClass(b.fn.editableform.errorGroupClass);f.removeClass(b.fn.editableform.errorBlockClass).empty().hide()}else{if(g){c=g.split("\n");for(var d=0;d<c.length;d++){c[d]=b("<div>").text(c[d]).html()}g=c.join("<br>")}e.addClass(b.fn.editableform.errorGroupClass);f.addClass(b.fn.editableform.errorBlockClass).html(g).show()}},submit:function(g){g.stopPropagation();g.preventDefault();var c,f=this.input.input2value();if(c=this.validate(f)){this.error(c);this.showForm();return}if(!this.options.savenochange&&this.input.value2str(f)==this.input.value2str(this.value)){this.$div.triggerHandler("nochange");return}var d=this.input.value2submit(f);this.isSaving=true;b.when(this.save(d)).done(b.proxy(function(e){this.isSaving=false;var h=typeof this.options.success==="function"?this.options.success.call(this.options.scope,e,f):null;if(h===false){this.error(false);this.showForm(false);return}if(typeof h==="string"){this.error(h);this.showForm();return}if(h&&typeof h==="object"&&h.hasOwnProperty("newValue")){f=h.newValue}this.error(false);this.value=f;this.$div.triggerHandler("save",{newValue:f,submitValue:d,response:e})},this)).fail(b.proxy(function(h){this.isSaving=false;var e;if(typeof this.options.error==="function"){e=this.options.error.call(this.options.scope,h,f)}else{e=typeof h==="string"?h:h.responseText||h.statusText||"Unknown error!"}this.error(e);this.showForm()},this))},save:function(d){this.options.pk=b.fn.editableutils.tryParseJson(this.options.pk,true);var c=(typeof this.options.pk==="function")?this.options.pk.call(this.options.scope):this.options.pk,e=!!(typeof this.options.url==="function"||(this.options.url&&((this.options.send==="always")||(this.options.send==="auto"&&c!==null&&c!==undefined)))),f;if(e){this.showLoading();f={name:this.options.name||"",value:d,pk:c};if(typeof this.options.params==="function"){f=this.options.params.call(this.options.scope,f)}else{this.options.params=b.fn.editableutils.tryParseJson(this.options.params,true);b.extend(f,this.options.params)}if(typeof this.options.url==="function"){return this.options.url.call(this.options.scope,f)}else{return b.ajax(b.extend({url:this.options.url,data:f,type:"POST"},this.options.ajaxOptions))}}},validate:function(c){if(c===undefined){c=this.value}if(typeof this.options.validate==="function"){return this.options.validate.call(this.options.scope,c)}},option:function(c,d){if(c in this.options){this.options[c]=d}if(c==="value"){this.setValue(d)}},setValue:function(c,d){if(d){this.value=this.input.str2value(c)}else{this.value=c}if(this.$form&&this.$form.is(":visible")){this.input.value2input(this.value)}}};b.fn.editableform=function(d){var c=arguments;return this.each(function(){var g=b(this),f=g.data("editableform"),e=typeof d==="object"&&d;if(!f){g.data("editableform",(f=new a(this,e)))}if(typeof d==="string"){f[d].apply(f,Array.prototype.slice.call(c,1))}})};b.fn.editableform.Constructor=a;b.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:true,scope:null,savenochange:false};b.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>';b.fn.editableform.loading='<div class="editableform-loading"></div>';b.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>';b.fn.editableform.errorGroupClass=null;b.fn.editableform.errorBlockClass="editable-error";b.fn.editableform.engine="jquery"}(window.jQuery));(function(a){a.fn.editableutils={inherit:function(c,b){var d=function(){};d.prototype=b.prototype;c.prototype=new d();c.prototype.constructor=c;c.superclass=b.prototype},setCursorPosition:function(c,d){if(c.setSelectionRange){c.setSelectionRange(d,d)}else{if(c.createTextRange){var b=c.createTextRange();b.collapse(true);b.moveEnd("character",d);b.moveStart("character",d);b.select()}}},tryParseJson:function(b,c){if(typeof b==="string"&&b.length&&b.match(/^[\{\[].*[\}\]]$/)){if(c){try{b=(new Function("return "+b))()}catch(d){}finally{return b}}else{b=(new Function("return "+b))()}}return b},sliceObj:function(h,g,b){var f,e,c={};if(!a.isArray(g)||!g.length){return c}for(var d=0;d<g.length;d++){f=g[d];if(h.hasOwnProperty(f)){c[f]=h[f]}if(b===true){continue}e=f.toLowerCase();if(h.hasOwnProperty(e)){c[f]=h[e]}}return c},getConfigData:function(b){var c={};a.each(b.data(),function(e,d){if(typeof d!=="object"||(d&&typeof d==="object"&&(d.constructor===Object||d.constructor===Array))){c[e]=d}});return c},objectKeys:function(d){if(Object.keys){return Object.keys(d)}else{if(d!==Object(d)){throw new TypeError("Object.keys called on a non-object")}var b=[],c;for(c in d){if(Object.prototype.hasOwnProperty.call(d,c)){b.push(c)}}return b}},escape:function(b){return a("<div>").text(b).html()},itemsByValue:function(h,g,e){if(!g||h===null){return[]}if(typeof(e)!=="function"){var c=e||"value";e=function(j){return j[c]}}var d=a.isArray(h),b=[],f=this;a.each(g,function(j,l){if(l.children){b=b.concat(f.itemsByValue(h,l.children,e))}else{if(d){if(a.grep(h,function(m){return m==(l&&typeof l==="object"?e(l):l)}).length){b.push(l)}}else{var k=(l&&(typeof l==="object"))?e(l):l;if(h==k){b.push(l)}}}});return b},createInput:function(c){var e,f,b,d=c.type;if(d==="date"){if(c.mode==="inline"){if(a.fn.editabletypes.datefield){d="datefield"}else{if(a.fn.editabletypes.dateuifield){d="dateuifield"}}}else{if(a.fn.editabletypes.date){d="date"}else{if(a.fn.editabletypes.dateui){d="dateui"}}}if(d==="date"&&!a.fn.editabletypes.date){d="combodate"}}if(d==="datetime"&&c.mode==="inline"){d="datetimefield"}if(d==="wysihtml5"&&!a.fn.editabletypes[d]){d="textarea"}if(typeof a.fn.editabletypes[d]==="function"){e=a.fn.editabletypes[d];f=this.sliceObj(c,this.objectKeys(e.defaults));b=new e(f);return b}else{a.error("Unknown type: "+d);return false}},supportsTransitions:function(){var c=document.body||document.documentElement,f=c.style,g="transition",d=["Moz","Webkit","Khtml","O","ms"];if(typeof f[g]==="string"){return true}g=g.charAt(0).toUpperCase()+g.substr(1);for(var e=0;e<d.length;e++){if(typeof f[d[e]+g]==="string"){return true}}return false}}}(window.jQuery));(function(c){var b=function(e,d){this.init(e,d)};var a=function(e,d){this.init(e,d)};b.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(e,d){this.$element=c(e);this.options=c.extend({},c.fn.editableContainer.defaults,d);this.splitOptions();this.formOptions.scope=this.$element[0];this.initContainer();this.delayedHide=false;this.$element.on("destroyed",c.proxy(function(){this.destroy()},this));if(!c(document).data("editable-handlers-attached")){c(document).on("keyup.editable",function(f){if(f.which===27){c(".editable-open").editableContainer("hide")}});c(document).on("click.editable",function(j){var f=c(j.target),g,h=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(!c.contains(document.documentElement,j.target)){return}if(f.is(document)){return}for(g=0;g<h.length;g++){if(f.is(h[g])||f.parents(h[g]).length){return}}b.prototype.closeOthers(j.target)});c(document).data("editable-handlers-attached",true)}},splitOptions:function(){this.containerOptions={};this.formOptions={};if(!c.fn[this.containerName]){throw new Error(this.containerName+" not found. Have you included corresponding js file?")}for(var d in this.options){if(d in this.defaults){this.containerOptions[d]=this.options[d]}else{this.formOptions[d]=this.options[d]}}},tip:function(){return this.container()?this.container().$tip:null},container:function(){var d;if(this.containerDataName){if(d=this.$element.data(this.containerDataName)){return d}}d=this.$element.data(this.containerName);return d},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:c.proxy(this.save,this),nochange:c.proxy(function(){this.hide("nochange")},this),cancel:c.proxy(function(){this.hide("cancel")},this),show:c.proxy(function(){if(this.delayedHide){this.hide(this.delayedHide.reason);this.delayedHide=false}else{this.setPosition()}},this),rendering:c.proxy(this.setPosition,this),resize:c.proxy(this.setPosition,this),rendered:c.proxy(function(){this.$element.triggerHandler("shown",c(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(d){this.$element.addClass("editable-open");if(d!==false){this.closeOthers(this.$element[0])}this.innerShow();this.tip().addClass(this.containerClass);if(this.$form){}this.$form=c("<div>");if(this.tip().is(this.innerCss)){this.tip().append(this.$form)}else{this.tip().find(this.innerCss).append(this.$form)}this.renderForm()},hide:function(d){if(!this.tip()||!this.tip().is(":visible")||!this.$element.hasClass("editable-open")){return}if(this.$form.data("editableform").isSaving){this.delayedHide={reason:d};return}else{this.delayedHide=false}this.$element.removeClass("editable-open");this.innerHide();this.$element.triggerHandler("hidden",d||"manual")},innerShow:function(){},innerHide:function(){},toggle:function(d){if(this.container()&&this.tip()&&this.tip().is(":visible")){this.hide()}else{this.show(d)}},setPosition:function(){},save:function(d,f){this.$element.triggerHandler("save",f);this.hide("save")},option:function(d,e){this.options[d]=e;if(d in this.containerOptions){this.containerOptions[d]=e;this.setContainerOption(d,e)}else{this.formOptions[d]=e;if(this.$form){this.$form.editableform("option",d,e)}}},setContainerOption:function(d,e){this.call("option",d,e)},destroy:function(){this.hide();this.innerDestroy();this.$element.off("destroyed");this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(d){c(".editable-open").each(function(g,h){if(h===d||c(h).find(d).length){return}var f=c(h),e=f.data("editableContainer");if(!e){return}if(e.options.onblur==="cancel"){f.data("editableContainer").hide("onblur")}else{if(e.options.onblur==="submit"){f.data("editableContainer").tip().find("form").submit()}}})},activate:function(){if(this.tip&&this.tip().is(":visible")&&this.$form){this.$form.data("editableform").input.activate()}}};c.fn.editableContainer=function(e){var d=arguments;return this.each(function(){var h=c(this),k="editableContainer",g=h.data(k),f=typeof e==="object"&&e,j=(f.mode==="inline")?a:b;if(!g){h.data(k,(g=new j(this,f)))}if(typeof e==="string"){g[e].apply(g,Array.prototype.slice.call(d,1))}})};c.fn.editableContainer.Popup=b;c.fn.editableContainer.Inline=a;c.fn.editableContainer.defaults={value:null,placement:"top",autohide:true,onblur:"cancel",anim:false,mode:"popup"};jQuery.event.special.destroyed={remove:function(d){if(d.handler){d.handler()}}}}(window.jQuery));(function(a){a.extend(a.fn.editableContainer.Inline.prototype,a.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=a("<span></span>");if(!this.options.anim){this.options.anim=0}},splitOptions:function(){this.containerOptions={};this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide();this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,a.proxy(function(){this.$element.show();this.innerDestroy()},this))},innerDestroy:function(){if(this.tip()){this.tip().empty().remove()}}})}(window.jQuery));(function(b){var a=function(d,c){this.$element=b(d);this.options=b.extend({},b.fn.editable.defaults,c,b.fn.editableutils.getConfigData(this.$element));if(this.options.selector){this.initLive()}else{this.init()}if(this.options.highlight&&!b.fn.editableutils.supportsTransitions()){this.options.highlight=false}};a.prototype={constructor:a,init:function(){var c=false,d,e;this.options.name=this.options.name||this.$element.attr("id");this.options.scope=this.$element[0];this.input=b.fn.editableutils.createInput(this.options);if(!this.input){return}if(this.options.value===undefined||this.options.value===null){this.value=this.input.html2value(b.trim(this.$element.html()));c=true}else{this.options.value=b.fn.editableutils.tryParseJson(this.options.value,true);if(typeof this.options.value==="string"){this.value=this.input.str2value(this.options.value)}else{this.value=this.options.value}}this.$element.addClass("editable");if(this.input.type==="textarea"){this.$element.addClass("editable-pre-wrapped")}if(this.options.toggle!=="manual"){this.$element.addClass("editable-click");this.$element.on(this.options.toggle+".editable",b.proxy(function(g){if(!this.options.disabled){g.preventDefault()}if(this.options.toggle==="mouseenter"){this.show()}else{var f=(this.options.toggle!=="click");this.toggle(f)}},this))}else{this.$element.attr("tabindex",-1)}if(typeof this.options.display==="function"){this.options.autotext="always"}switch(this.options.autotext){case"always":d=true;break;case"auto":d=!b.trim(this.$element.text()).length&&this.value!==null&&this.value!==undefined&&!c;break;default:d=false}b.when(d?this.render():true).then(b.proxy(function(){if(this.options.disabled){this.disable()}else{this.enable()}this.$element.triggerHandler("init",this)},this))},initLive:function(){var c=this.options.selector;this.options.selector=false;this.options.autotext="never";this.$element.on(this.options.toggle+".editable",c,b.proxy(function(f){var d=b(f.target);if(!d.data("editable")){if(d.hasClass(this.options.emptyclass)){d.empty()}d.editable(this.options).trigger(f)}},this))},render:function(c){if(this.options.display===false){return}if(this.input.value2htmlFinal){return this.input.value2html(this.value,this.$element[0],this.options.display,c)}else{if(typeof this.options.display==="function"){return this.options.display.call(this.$element[0],this.value,c)}else{return this.input.value2html(this.value,this.$element[0])}}},enable:function(){this.options.disabled=false;this.$element.removeClass("editable-disabled");this.handleEmpty(this.isEmpty);if(this.options.toggle!=="manual"){if(this.$element.attr("tabindex")==="-1"){this.$element.removeAttr("tabindex")}}},disable:function(){this.options.disabled=true;this.hide();this.$element.addClass("editable-disabled");this.handleEmpty(this.isEmpty);this.$element.attr("tabindex",-1)},toggleDisabled:function(){if(this.options.disabled){this.enable()}else{this.disable()}},option:function(c,d){if(c&&typeof c==="object"){b.each(c,b.proxy(function(f,e){this.option(b.trim(f),e)},this));return}this.options[c]=d;if(c==="disabled"){return d?this.disable():this.enable()}if(c==="value"){this.setValue(d)}if(this.container){this.container.option(c,d)}if(this.input.option){this.input.option(c,d)}},handleEmpty:function(c){if(this.options.display===false){return}if(c!==undefined){this.isEmpty=c}else{if(typeof(this.input.isEmpty)==="function"){this.isEmpty=this.input.isEmpty(this.$element)}else{this.isEmpty=b.trim(this.$element.html())===""}}if(!this.options.disabled){if(this.isEmpty){this.$element.html(this.options.emptytext);if(this.options.emptyclass){this.$element.addClass(this.options.emptyclass)}}else{if(this.options.emptyclass){this.$element.removeClass(this.options.emptyclass)}}}else{if(this.isEmpty){this.$element.empty();if(this.options.emptyclass){this.$element.removeClass(this.options.emptyclass)}}}},show:function(c){if(this.options.disabled){return}if(!this.container){var d=b.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(d);this.$element.on("save.internal",b.proxy(this.save,this));this.container=this.$element.data("editableContainer")}else{if(this.container.tip().is(":visible")){return}}this.container.show(c)},hide:function(){if(this.container){this.container.hide()}},toggle:function(c){if(this.container&&this.container.tip().is(":visible")){this.hide()}else{this.show(c)}},save:function(g,h){if(this.options.unsavedclass){var d=false;d=d||typeof this.options.url==="function";d=d||this.options.display===false;d=d||h.response!==undefined;d=d||(this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(h.newValue));if(d){this.$element.removeClass(this.options.unsavedclass)}else{this.$element.addClass(this.options.unsavedclass)}}if(this.options.highlight){var c=this.$element,f=c.css("background-color");c.css("background-color",this.options.highlight);setTimeout(function(){if(f==="transparent"){f=""}c.css("background-color",f);c.addClass("editable-bg-transition");setTimeout(function(){c.removeClass("editable-bg-transition")},1700)},10)}this.setValue(h.newValue,false,h.response)},validate:function(){if(typeof this.options.validate==="function"){return this.options.validate.call(this,this.value)}},setValue:function(d,e,c){if(e){this.value=this.input.str2value(d)}else{this.value=d}if(this.container){this.container.option("value",this.value)}b.when(this.render(c)).then(b.proxy(function(){this.handleEmpty()},this))},activate:function(){if(this.container){this.container.activate()}},destroy:function(){this.disable();if(this.container){this.container.destroy()}this.input.destroy();if(this.options.toggle!=="manual"){this.$element.removeClass("editable-click");this.$element.off(this.options.toggle+".editable")}this.$element.off("save.internal");this.$element.removeClass("editable editable-open editable-disabled");this.$element.removeData("editable")}};b.fn.editable=function(h){var c={},g=arguments,e="editable";switch(h){case"validate":this.each(function(){var n=b(this),m=n.data(e),l;if(m&&(l=m.validate())){c[m.options.name]=l}});return c;case"getValue":if(arguments.length===2&&arguments[1]===true){c=this.eq(0).data(e).value}else{this.each(function(){var m=b(this),l=m.data(e);if(l&&l.value!==undefined&&l.value!==null){c[l.options.name]=l.input.value2submit(l.value)}})}return c;case"submit":var f=arguments[1]||{},k=this,j=this.editable("validate"),d;if(b.isEmptyObject(j)){d=this.editable("getValue");if(f.data){b.extend(d,f.data)}b.ajax(b.extend({url:f.url,data:d,type:"POST"},f.ajaxOptions)).success(function(l){if(typeof f.success==="function"){f.success.call(k,l,f)}}).error(function(){if(typeof f.error==="function"){f.error.apply(k,arguments)}})}else{if(typeof f.error==="function"){f.error.call(k,j)}}return this}return this.each(function(){var n=b(this),m=n.data(e),l=typeof h==="object"&&h;if(l&&l.selector){m=new a(this,l);return}if(!m){n.data(e,(m=new a(this,l)))}if(typeof h==="string"){m[h].apply(m,Array.prototype.slice.call(g,1))}})};b.fn.editable.defaults={type:"text",disabled:false,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery));(function(b){b.fn.editabletypes={};var a=function(){};a.prototype={init:function(d,c,e){this.type=d;this.options=b.extend({},e,c)},prerender:function(){this.$tpl=b(this.options.tpl);this.$input=this.$tpl;this.$clear=null;this.error=null},render:function(){},value2html:function(d,c){b(c)[this.options.escape?"text":"html"](b.trim(d))},html2value:function(c){return b("<div>").html(c).text()},value2str:function(c){return c},str2value:function(c){return c},value2submit:function(c){return c},value2input:function(c){this.$input.val(c)},input2value:function(){return this.$input.val()},activate:function(){if(this.$input.is(":visible")){this.$input.focus()}},clear:function(){this.$input.val(null)},escape:function(c){return b("<div>").text(c).html()},autosubmit:function(){},destroy:function(){},setClass:function(){if(this.options.inputclass){this.$input.addClass(this.options.inputclass)}},setAttr:function(c){if(this.options[c]!==undefined&&this.options[c]!==null){this.$input.attr(c,this.options[c])}},option:function(c,d){this.options[c]=d}};a.defaults={tpl:"",inputclass:null,escape:true,scope:null,showbuttons:true};b.extend(b.fn.editabletypes,{abstractinput:a})}(window.jQuery));(function(b){var a=function(c){};b.fn.editableutils.inherit(a,b.fn.editabletypes.abstractinput);b.extend(a.prototype,{render:function(){var c=b.Deferred();this.error=null;this.onSourceReady(function(){this.renderList();c.resolve()},function(){this.error=this.options.sourceError;c.resolve()});return c.promise()},html2value:function(c){return null},value2html:function(f,e,g,d){var c=b.Deferred(),h=function(){if(typeof g==="function"){g.call(e,f,this.sourceData,d)}else{this.value2htmlFinal(f,e)}c.resolve()};if(f===null){h.call(this)}else{this.onSourceReady(h,function(){c.resolve()})}return c.promise()},onSourceReady:function(k,f){var g;if(b.isFunction(this.options.source)){g=this.options.source.call(this.options.scope);this.sourceData=null}else{g=this.options.source}if(this.options.sourceCache&&b.isArray(this.sourceData)){k.call(this);return}try{g=b.fn.editableutils.tryParseJson(g,false)}catch(j){f.call(this);return}if(typeof g==="string"){if(this.options.sourceCache){var h=g,d;if(!b(document).data(h)){b(document).data(h,{})}d=b(document).data(h);if(d.loading===false&&d.sourceData){this.sourceData=d.sourceData;this.doPrepend();k.call(this);return}else{if(d.loading===true){d.callbacks.push(b.proxy(function(){this.sourceData=d.sourceData;this.doPrepend();k.call(this)},this));d.err_callbacks.push(b.proxy(f,this));return}else{d.loading=true;d.callbacks=[];d.err_callbacks=[]}}}var c=b.extend({url:g,type:"get",cache:false,dataType:"json",success:b.proxy(function(e){if(d){d.loading=false}this.sourceData=this.makeArray(e);if(b.isArray(this.sourceData)){if(d){d.sourceData=this.sourceData;b.each(d.callbacks,function(){this.call()})}this.doPrepend();k.call(this)}else{f.call(this);if(d){b.each(d.err_callbacks,function(){this.call()})}}},this),error:b.proxy(function(){f.call(this);if(d){d.loading=false;b.each(d.err_callbacks,function(){this.call()})}},this)},this.options.sourceOptions);b.ajax(c)}else{this.sourceData=this.makeArray(g);if(b.isArray(this.sourceData)){this.doPrepend();k.call(this)}else{f.call(this)}}},doPrepend:function(){if(this.options.prepend===null||this.options.prepend===undefined){return}if(!b.isArray(this.prependData)){if(b.isFunction(this.options.prepend)){this.options.prepend=this.options.prepend.call(this.options.scope)}this.options.prepend=b.fn.editableutils.tryParseJson(this.options.prepend,true);if(typeof this.options.prepend==="string"){this.options.prepend={"":this.options.prepend}}this.prependData=this.makeArray(this.options.prepend)}if(b.isArray(this.prependData)&&b.isArray(this.sourceData)){this.sourceData=this.prependData.concat(this.sourceData)}},renderList:function(){},value2htmlFinal:function(d,c){},makeArray:function(h){var g,j,c=[],f,d;if(!h||typeof h==="string"){return null}if(b.isArray(h)){d=function(m,l){j={value:m,text:l};if(g++>=2){return false}};for(var e=0;e<h.length;e++){f=h[e];if(typeof f==="object"){g=0;b.each(f,d);if(g===1){c.push(j)}else{if(g>1){if(f.children){f.children=this.makeArray(f.children)}c.push(f)}}}else{c.push({value:f,text:f})}}}else{b.each(h,function(m,l){c.push({value:m,text:l})})}return c},option:function(c,d){this.options[c]=d;if(c==="source"){this.sourceData=null}if(c==="prepend"){this.prependData=null}}});a.defaults=b.extend({},b.fn.editabletypes.abstractinput.defaults,{source:null,prepend:false,sourceError:"Error when loading list",sourceCache:true,sourceOptions:null});b.fn.editabletypes.list=a}(window.jQuery));(function(b){var a=function(c){this.init("text",c,a.defaults)};b.fn.editableutils.inherit(a,b.fn.editabletypes.abstractinput);b.extend(a.prototype,{render:function(){this.renderClear();this.setClass();this.setAttr("placeholder")},activate:function(){if(this.$input.is(":visible")){this.$input.focus();b.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length);if(this.toggleClear){this.toggleClear()}}},renderClear:function(){if(this.options.clear){this.$clear=b('<span class="editable-clear-x"></span>');this.$input.after(this.$clear).css("padding-right",24).keyup(b.proxy(function(d){if(~b.inArray(d.keyCode,[40,38,9,13,27])){return}clearTimeout(this.t);var c=this;this.t=setTimeout(function(){c.toggleClear(d)},100)},this)).parent().css("position","relative");this.$clear.click(b.proxy(this.clear,this))}},postrender:function(){},toggleClear:function(d){if(!this.$clear){return}var c=this.$input.val().length,f=this.$clear.is(":visible");if(c&&!f){this.$clear.show()}if(!c&&f){this.$clear.hide()}},clear:function(){this.$clear.hide();this.$input.val("").focus()}});a.defaults=b.extend({},b.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:true});b.fn.editabletypes.text=a}(window.jQuery));(function(b){var a=function(c){this.init("textarea",c,a.defaults)};b.fn.editableutils.inherit(a,b.fn.editabletypes.abstractinput);b.extend(a.prototype,{render:function(){this.setClass();this.setAttr("placeholder");this.setAttr("rows");this.$input.keydown(function(c){if(c.ctrlKey&&c.which===13){b(this).closest("form").submit()}})},activate:function(){b.fn.editabletypes.text.prototype.activate.call(this)}});a.defaults=b.extend({},b.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7});b.fn.editabletypes.textarea=a}(window.jQuery));(function(a){var b=function(c){this.init("select",c,b.defaults)};a.fn.editableutils.inherit(b,a.fn.editabletypes.list);a.extend(b.prototype,{renderList:function(){this.$input.empty();var c=function(f,g){var d;if(a.isArray(g)){for(var e=0;e<g.length;e++){d={};if(g[e].children){d.label=g[e].text;f.append(c(a("<optgroup>",d),g[e].children))}else{d.value=g[e].value;if(g[e].disabled){d.disabled=true}f.append(a("<option>",d).text(g[e].text))}}}return f};c(this.$input,this.sourceData);this.setClass();this.$input.on("keydown.editable",function(d){if(d.which===13){a(this).closest("form").submit()}})},value2htmlFinal:function(e,d){var f="",c=a.fn.editableutils.itemsByValue(e,this.sourceData);if(c.length){f=c[0].text}a.fn.editabletypes.abstractinput.prototype.value2html.call(this,f,d)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){a(this).closest("form").submit()})}});b.defaults=a.extend({},a.fn.editabletypes.list.defaults,{tpl:"<select></select>"});a.fn.editabletypes.select=b}(window.jQuery));(function(b){var a=function(c){this.init("checklist",c,a.defaults)};b.fn.editableutils.inherit(a,b.fn.editabletypes.list);b.extend(a.prototype,{renderList:function(){var c,d;this.$tpl.empty();if(!b.isArray(this.sourceData)){return}for(var e=0;e<this.sourceData.length;e++){c=b("<label>").append(b("<input>",{type:"checkbox",value:this.sourceData[e].value})).append(b("<span>").text(" "+this.sourceData[e].text));b("<div>").append(c).appendTo(this.$tpl)}this.$input=this.$tpl.find('input[type="checkbox"]');this.setClass()},value2str:function(c){return b.isArray(c)?c.sort().join(b.trim(this.options.separator)):""},str2value:function(e){var c,d=null;if(typeof e==="string"&&e.length){c=new RegExp("\\s*"+b.trim(this.options.separator)+"\\s*");d=e.split(c)}else{if(b.isArray(e)){d=e}else{d=[e]}}return d},value2input:function(c){this.$input.prop("checked",false);if(b.isArray(c)&&c.length){this.$input.each(function(e,f){var d=b(f);b.each(c,function(g,h){if(d.val()==h){d.prop("checked",true)}})})}},input2value:function(){var c=[];this.$input.filter(":checked").each(function(d,e){c.push(b(e).val())});return c},value2htmlFinal:function(g,d){var c=[],f=b.fn.editableutils.itemsByValue(g,this.sourceData),e=this.options.escape;if(f.length){b.each(f,function(j,h){var k=e?b.fn.editableutils.escape(h.text):h.text;c.push(k)});b(d).html(c.join("<br>"))}else{b(d).empty()}},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(c){if(c.which===13){b(this).closest("form").submit()}})}});a.defaults=b.extend({},b.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","});b.fn.editabletypes.checklist=a}(window.jQuery));(function(b){var a=function(c){this.init("password",c,a.defaults)};b.fn.editableutils.inherit(a,b.fn.editabletypes.text);b.extend(a.prototype,{value2html:function(d,c){if(d){b(c).text("[hidden]")}else{b(c).empty()}},html2value:function(c){return null}});a.defaults=b.extend({},b.fn.editabletypes.text.defaults,{tpl:'<input type="password">'});b.fn.editabletypes.password=a}(window.jQuery));(function(a){var b=function(c){this.init("email",c,b.defaults)};a.fn.editableutils.inherit(b,a.fn.editabletypes.text);b.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="email">'});a.fn.editabletypes.email=b}(window.jQuery));(function(a){var b=function(c){this.init("url",c,b.defaults)};a.fn.editableutils.inherit(b,a.fn.editabletypes.text);b.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="url">'});a.fn.editabletypes.url=b}(window.jQuery));(function(a){var b=function(c){this.init("tel",c,b.defaults)};a.fn.editableutils.inherit(b,a.fn.editabletypes.text);b.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'});a.fn.editabletypes.tel=b}(window.jQuery));(function(a){var b=function(c){this.init("number",c,b.defaults)};a.fn.editableutils.inherit(b,a.fn.editabletypes.text);a.extend(b.prototype,{render:function(){b.superclass.render.call(this);this.setAttr("min");this.setAttr("max");this.setAttr("step")},postrender:function(){if(this.$clear){this.$clear.css({right:24})}}});b.defaults=a.extend({},a.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null});a.fn.editabletypes.number=b}(window.jQuery));(function(a){var b=function(c){this.init("range",c,b.defaults)};a.fn.editableutils.inherit(b,a.fn.editabletypes.number);a.extend(b.prototype,{render:function(){this.$input=this.$tpl.filter("input");this.setClass();this.setAttr("min");this.setAttr("max");this.setAttr("step");this.$input.on("input",function(){a(this).siblings("output").text(a(this).val())})},activate:function(){this.$input.focus()}});b.defaults=a.extend({},a.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"});a.fn.editabletypes.range=b}(window.jQuery));(function(b){var a=function(c){this.init("time",c,a.defaults)};b.fn.editableutils.inherit(a,b.fn.editabletypes.abstractinput);b.extend(a.prototype,{render:function(){this.setClass()}});a.defaults=b.extend({},b.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'});b.fn.editabletypes.time=a}(window.jQuery));(function(a){var b=function(d){this.init("select2",d,b.defaults);d.select2=d.select2||{};this.sourceData=null;if(d.placeholder){d.select2.placeholder=d.placeholder}if(!d.select2.tags&&d.source){var e=d.source;if(a.isFunction(d.source)){e=d.source.call(d.scope)}if(typeof e==="string"){d.select2.ajax=d.select2.ajax||{};if(!d.select2.ajax.data){d.select2.ajax.data=function(f){return{query:f}}}if(!d.select2.ajax.results){d.select2.ajax.results=function(f){return{results:f}}}d.select2.ajax.url=e}else{this.sourceData=this.convertSource(e);d.select2.data=this.sourceData}}this.options.select2=a.extend({},b.defaults.select2,d.select2);this.isMultiple=this.options.select2.tags||this.options.select2.multiple;this.isRemote=("ajax" in this.options.select2);this.idFunc=this.options.select2.id;if(typeof(this.idFunc)!=="function"){var c=this.idFunc||"id";this.idFunc=function(f){return f[c]}}this.formatSelection=this.options.select2.formatSelection;if(typeof(this.formatSelection)!=="function"){this.formatSelection=function(f){return f.text}}};a.fn.editableutils.inherit(b,a.fn.editabletypes.abstractinput);a.extend(b.prototype,{render:function(){this.setClass();if(this.isRemote){this.$input.on("select2-loaded",a.proxy(function(c){this.sourceData=c.items.results},this))}if(this.isMultiple){this.$input.on("change",function(){a(this).closest("form").parent().triggerHandler("resize")})}},value2html:function(f,c){var g="",e,d=this;if(this.options.select2.tags){e=f}else{if(this.sourceData){e=a.fn.editableutils.itemsByValue(f,this.sourceData,this.idFunc)}else{}}if(a.isArray(e)){g=[];a.each(e,function(j,h){g.push(h&&typeof h==="object"?d.formatSelection(h):h)})}else{if(e){g=d.formatSelection(e)}}g=a.isArray(g)?g.join(this.options.viewseparator):g;b.superclass.value2html.call(this,g,c)},html2value:function(c){return this.options.select2.tags?this.str2value(c,this.options.viewseparator):null},value2input:function(e){if(!this.$input.data("select2")){this.$input.val(e);this.$input.select2(this.options.select2)}else{this.$input.val(e).trigger("change",true)}if(this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var f=this.options.select2.id,c=this.options.select2.formatSelection;if(!f&&!c){var d={id:e,text:a(this.options.scope).text()};this.$input.select2("data",d)}}},input2value:function(){return this.$input.select2("val")},str2value:function(g,e){if(typeof g!=="string"||!this.isMultiple){return g}e=e||this.options.select2.separator||a.fn.select2.defaults.separator;var f,d,c;if(g===null||g.length<1){return null}f=g.split(e);for(d=0,c=f.length;d<c;d=d+1){f[d]=a.trim(f[d])}return f},autosubmit:function(){this.$input.on("change",function(d,c){if(!c){a(this).closest("form").submit()}})},convertSource:function(d){if(a.isArray(d)&&d.length&&d[0].value!==undefined){for(var c=0;c<d.length;c++){if(d[c].value!==undefined){d[c].id=d[c].value;delete d[c].value}}}return d},destroy:function(){if(this.$input.data("select2")){this.$input.select2("destroy")}}});b.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "});a.fn.editabletypes.select2=b}(window.jQuery));(function(b){var a=function(d,c){this.$element=b(d);if(!this.$element.is("input")){b.error("Combodate should be applied to INPUT element");return}this.options=b.extend({},b.fn.combodate.defaults,c,this.$element.data());this.init()};a.prototype={constructor:a,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]};this.$widget=b('<span class="combodate"></span>').html(this.getTemplate());this.initCombos();this.$widget.on("change","select",b.proxy(function(){this.$element.val(this.getValue())},this));this.$widget.find("select").css("width","auto");this.$element.hide().after(this.$widget);this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var c=this.options.template;b.each(this.map,function(e,d){d=d[0];var g=new RegExp(d+"+"),f=d.length>1?d.substring(1,2):d;c=c.replace(g,"{"+f+"}")});c=c.replace(/ /g,"&nbsp;");b.each(this.map,function(e,d){d=d[0];var f=d.length>1?d.substring(1,2):d;c=c.replace("{"+f+"}",'<select class="'+e+'"></select>')});return c},initCombos:function(){var c=this;b.each(this.map,function(g,e){var h=c.$widget.find("."+g),j,d;if(h.length){c["$"+g]=h;j="fill"+g.charAt(0).toUpperCase()+g.slice(1);d=c[j]();c["$"+g].html(c.renderItems(d))}})},initItems:function(d){var c=[],e;if(this.options.firstItem==="name"){e=moment.relativeTime||moment.langData()._relativeTime;var f=typeof e[d]==="function"?e[d](1,true,d,false):e[d];f=f.split(" ").reverse()[0];c.push(["",f])}else{if(this.options.firstItem==="empty"){c.push(["",""])}}return c},renderItems:function(c){var e=[];for(var d=0;d<c.length;d++){e.push('<option value="'+c[d][0]+'">'+c[d][1]+"</option>")}return e.join("\n")},fillDay:function(){var d=this.initItems("d"),e,f,c=this.options.template.indexOf("DD")!==-1;for(f=1;f<=31;f++){e=c?this.leadZero(f):f;d.push([f,e])}return d},fillMonth:function(){var d=this.initItems("M"),e,f,h=this.options.template.indexOf("MMMM")!==-1,g=this.options.template.indexOf("MMM")!==-1,c=this.options.template.indexOf("MM")!==-1;for(f=0;f<=11;f++){if(h){e=moment().date(1).month(f).format("MMMM")}else{if(g){e=moment().date(1).month(f).format("MMM")}else{if(c){e=this.leadZero(f+1)}else{e=f+1}}}d.push([f,e])}return d},fillYear:function(){var c=[],d,e,f=this.options.template.indexOf("YYYY")!==-1;for(e=this.options.maxYear;e>=this.options.minYear;e--){d=f?e:(e+"").substring(2);c[this.options.yearDescending?"push":"unshift"]([e,d])}c=this.initItems("y").concat(c);return c},fillHour:function(){var e=this.initItems("h"),f,h,k=this.options.template.indexOf("h")!==-1,j=this.options.template.indexOf("H")!==-1,d=this.options.template.toLowerCase().indexOf("hh")!==-1,g=k?1:0,c=k?12:23;for(h=g;h<=c;h++){f=d?this.leadZero(h):h;e.push([h,f])}return e},fillMinute:function(){var d=this.initItems("m"),e,f,c=this.options.template.indexOf("mm")!==-1;for(f=0;f<=59;f+=this.options.minuteStep){e=c?this.leadZero(f):f;d.push([f,e])}return d},fillSecond:function(){var d=this.initItems("s"),e,f,c=this.options.template.indexOf("ss")!==-1;for(f=0;f<=59;f+=this.options.secondStep){e=c?this.leadZero(f):f;d.push([f,e])}return d},fillAmpm:function(){var d=this.options.template.indexOf("a")!==-1,e=this.options.template.indexOf("A")!==-1,c=[["am",d?"am":"AM"],["pm",d?"pm":"PM"]];return c},getValue:function(f){var e,c={},d=this,g=false;b.each(this.map,function(j,h){if(j==="ampm"){return}var l=j==="day"?1:0;c[j]=d["$"+j]?parseInt(d["$"+j].val(),10):l;if(isNaN(c[j])){g=true;return false}});if(g){return""}if(this.$ampm){if(c.hour===12){c.hour=this.$ampm.val()==="am"?0:12}else{c.hour=this.$ampm.val()==="am"?c.hour:c.hour+12}}e=moment([c.year,c.month,c.day,c.hour,c.minute,c.second]);this.highlight(e);f=f===undefined?this.options.format:f;if(f===null){return e.isValid()?e:null}else{return e.isValid()?e.format(f):""}},setValue:function(f){if(!f){return}var e=typeof f==="string"?moment(f,this.options.format):moment(f),d=this,c={};function g(h,j){var k={};h.children("option").each(function(m,l){var n=b(l).attr("value"),o;if(n===""){return}o=Math.abs(n-j);if(typeof k.distance==="undefined"||o<k.distance){k={value:n,distance:o}}});return k.value}if(e.isValid()){b.each(this.map,function(j,h){if(j==="ampm"){return}c[j]=e[h[1]]()});if(this.$ampm){if(c.hour>=12){c.ampm="pm";if(c.hour>12){c.hour-=12}}else{c.ampm="am";if(c.hour===0){c.hour=12}}}b.each(c,function(j,h){if(d["$"+j]){if(j==="minute"&&d.options.minuteStep>1&&d.options.roundTime){h=g(d["$"+j],h)}if(j==="second"&&d.options.secondStep>1&&d.options.roundTime){h=g(d["$"+j],h)}d["$"+j].val(h)}});this.$element.val(e.format(this.options.format))}},highlight:function(c){if(!c.isValid()){if(this.options.errorClass){this.$widget.addClass(this.options.errorClass)}else{if(!this.borderColor){this.borderColor=this.$widget.find("select").css("border-color")}this.$widget.find("select").css("border-color","red")}}else{if(this.options.errorClass){this.$widget.removeClass(this.options.errorClass)}else{this.$widget.find("select").css("border-color",this.borderColor)}}},leadZero:function(c){return c<=9?"0"+c:c},destroy:function(){this.$widget.remove();this.$element.removeData("combodate").show()}};b.fn.combodate=function(e){var f,c=Array.apply(null,arguments);c.shift();if(e==="getValue"&&this.length&&(f=this.eq(0).data("combodate"))){return f.getValue.apply(f,c)}return this.each(function(){var h=b(this),g=h.data("combodate"),d=typeof e=="object"&&e;if(!g){h.data("combodate",(g=new a(this,d)))}if(typeof e=="string"&&typeof g[e]=="function"){g[e].apply(g,c)}})};b.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:true,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:true}}(window.jQuery));(function(a){var b=function(c){this.init("combodate",c,b.defaults);if(!this.options.viewformat){this.options.viewformat=this.options.format}c.combodate=a.fn.editableutils.tryParseJson(c.combodate,true);this.options.combodate=a.extend({},b.defaults.combodate,c.combodate,{format:this.options.format,template:this.options.template})};a.fn.editableutils.inherit(b,a.fn.editabletypes.abstractinput);a.extend(b.prototype,{render:function(){this.$input.combodate(this.options.combodate);if(a.fn.editableform.engine==="bs3"){this.$input.siblings().find("select").addClass("form-control")}if(this.options.inputclass){this.$input.siblings().find("select").addClass(this.options.inputclass)}},value2html:function(d,c){var e=d?d.format(this.options.viewformat):"";b.superclass.value2html.call(this,e,c)},html2value:function(c){return c?moment(c,this.options.viewformat):null},value2str:function(c){return c?c.format(this.options.format):""},str2value:function(c){return c?moment(c,this.options.format):null},value2submit:function(c){return this.value2str(c)},value2input:function(c){this.$input.combodate("setValue",c)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}});b.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null});a.fn.editabletypes.combodate=b}(window.jQuery));(function(b){var a=b.fn.editableform.Constructor.prototype.initInput;b.extend(b.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=b(b.fn.editableform.template);this.$form.find(".control-group").addClass("form-group");this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){a.apply(this);var h=this.input.options.inputclass===null||this.input.options.inputclass===false;var c="input-sm";var d="text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");if(~b.inArray(this.input.type,d)){this.input.$input.addClass("form-control");if(h){this.input.options.inputclass=c;this.input.$input.addClass(c)}}var g=this.$form.find(".editable-buttons");var f=h?[c]:this.input.options.inputclass.split(" ");for(var e=0;e<f.length;e++){if(f[e].toLowerCase()==="input-lg"){g.find("button").removeClass("btn-sm").addClass("btn-lg")}}}});b.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="icon-ok"></i></button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="icon-remove"></i></button>';b.fn.editableform.errorGroupClass="has-error";b.fn.editableform.errorBlockClass=null;b.fn.editableform.engine="bs3"}(window.jQuery));(function(a){a.extend(a.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:a.fn.popover.Constructor.DEFAULTS,initContainer:function(){a.extend(this.containerOptions,{trigger:"manual",selector:false,content:" ",template:this.defaults.template});var b;if(this.$element.data("template")){b=this.$element.data("template");this.$element.removeData("template")}this.call(this.containerOptions);if(b){this.$element.data("template",b)}},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(b,c){this.container().options[b]=c},setPosition:function(){(function(){var e=this.tip();var c=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement;var g=this.getPosition();var d=e[0].offsetWidth;var f=e[0].offsetHeight;var b=this.getCalculatedOffset(c,g,d,f);this.applyPlacement(b,c)}).call(this.container())}})}(window.jQuery));(function(g){function l(){return new Date(Date.UTC.apply(Date,arguments))}function d(){var o=new Date();return l(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate())}var h=function(p,o){var q=this;this._process_options(o);this.element=g(p);this.isInline=false;this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):false;this.hasInput=this.component&&this.element.find("input").length;if(this.component&&this.component.length===0){this.component=false}this.picker=g(j.template);this._buildEvents();this._attachEvents();if(this.isInline){this.picker.addClass("datepicker-inline").appendTo(this.element)}else{this.picker.addClass("datepicker-dropdown dropdown-menu")}if(this.o.rtl){this.picker.addClass("datepicker-rtl");this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")}this.viewMode=this.o.startView;if(this.o.calendarWeeks){this.picker.find("tfoot th.today").attr("colspan",function(r,s){return parseInt(s)+1})}this._allow_update=false;this.setStartDate(this.o.startDate);this.setEndDate(this.o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=true;this.update();this.showMode();if(this.isInline){this.show()}};h.prototype={constructor:h,_process_options:function(p){this._o=g.extend({},this._o,p);var s=this.o=g.extend({},this._o);var r=s.language;if(!b[r]){r=r.split("-")[0];if(!b[r]){r=e.language}}s.language=r;switch(s.startView){case 2:case"decade":s.startView=2;break;case 1:case"year":s.startView=1;break;default:s.startView=0}switch(s.minViewMode){case 1:case"months":s.minViewMode=1;break;case 2:case"years":s.minViewMode=2;break;default:s.minViewMode=0}s.startView=Math.max(s.startView,s.minViewMode);s.weekStart%=7;s.weekEnd=((s.weekStart+6)%7);var q=j.parseFormat(s.format);if(s.startDate!==-Infinity){s.startDate=j.parseDate(s.startDate,q,s.language)}if(s.endDate!==Infinity){s.endDate=j.parseDate(s.endDate,q,s.language)}s.daysOfWeekDisabled=s.daysOfWeekDisabled||[];if(!g.isArray(s.daysOfWeekDisabled)){s.daysOfWeekDisabled=s.daysOfWeekDisabled.split(/[,\s]*/)}s.daysOfWeekDisabled=g.map(s.daysOfWeekDisabled,function(o){return parseInt(o,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(o){for(var p=0,q,r;p<o.length;p++){q=o[p][0];r=o[p][1];q.on(r)}},_unapplyEvents:function(o){for(var p=0,q,r;p<o.length;p++){q=o[p][0];r=o[p][1];q.off(r)}},_buildEvents:function(){if(this.isInput){this._events=[[this.element,{focus:g.proxy(this.show,this),keyup:g.proxy(this.update,this),keydown:g.proxy(this.keydown,this)}]]}else{if(this.component&&this.hasInput){this._events=[[this.element.find("input"),{focus:g.proxy(this.show,this),keyup:g.proxy(this.update,this),keydown:g.proxy(this.keydown,this)}],[this.component,{click:g.proxy(this.show,this)}]]}else{if(this.element.is("div")){this.isInline=true}else{this._events=[[this.element,{click:g.proxy(this.show,this)}]]}}}this._secondaryEvents=[[this.picker,{click:g.proxy(this.click,this)}],[g(window),{resize:g.proxy(this.place,this)}],[g(document),{mousedown:g.proxy(function(o){if(!(this.element.is(o.target)||this.element.find(o.target).size()||this.picker.is(o.target)||this.picker.find(o.target).size())){this.hide()}},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(q,r){var p=r||this.date,o=new Date(p.getTime()+(p.getTimezoneOffset()*60000));this.element.trigger({type:q,date:o,format:g.proxy(function(t){var s=t||this.o.format;return j.formatDate(p,s,this.o.language)},this)})},show:function(o){if(!this.isInline){this.picker.appendTo("body")}this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();this._attachSecondaryEvents();if(o){o.preventDefault()}this._trigger("show")},hide:function(o){if(this.isInline){return}if(!this.picker.is(":visible")){return}this.picker.hide().detach();this._detachSecondaryEvents();this.viewMode=this.o.startView;this.showMode();if(this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())){this.setValue()}this._trigger("hide")},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;if(!this.isInput){delete this.element.data().date}},getDate:function(){var o=this.getUTCDate();return new Date(o.getTime()+(o.getTimezoneOffset()*60000))},getUTCDate:function(){return this.date},setDate:function(o){this.setUTCDate(new Date(o.getTime()-(o.getTimezoneOffset()*60000)))},setUTCDate:function(o){this.date=o;this.setValue()},setValue:function(){var o=this.getFormattedDate();if(!this.isInput){if(this.component){this.element.find("input").val(o)}}else{this.element.val(o)}},getFormattedDate:function(o){if(o===undefined){o=this.o.format}return j.formatDate(this.date,o,this.o.language)},setStartDate:function(o){this._process_options({startDate:o});this.update();this.updateNavArrows()},setEndDate:function(o){this._process_options({endDate:o});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(o){this._process_options({daysOfWeekDisabled:o});this.update();this.updateNavArrows()},place:function(){if(this.isInline){return}var q=parseInt(this.element.parents().filter(function(){return g(this).css("z-index")!="auto"}).first().css("z-index"))+10;var p=this.component?this.component.parent().offset():this.element.offset();var o=this.component?this.component.outerHeight(true):this.element.outerHeight(true);this.picker.css({top:p.top+o,left:p.left,zIndex:q})},_allow_update:true,update:function(){if(!this._allow_update){return}var o,p=false;if(arguments&&arguments.length&&(typeof arguments[0]==="string"||arguments[0] instanceof Date)){o=arguments[0];p=true}else{o=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val();delete this.element.data().date}this.date=j.parseDate(o,this.o.format,this.o.language);if(p){this.setValue()}if(this.date<this.o.startDate){this.viewDate=new Date(this.o.startDate)}else{if(this.date>this.o.endDate){this.viewDate=new Date(this.o.endDate)}else{this.viewDate=new Date(this.date)}}this.fill()},fillDow:function(){var p=this.o.weekStart,q="<tr>";if(this.o.calendarWeeks){var o='<th class="cw">&nbsp;</th>';q+=o;this.picker.find(".datepicker-days thead tr:first-child").prepend(o)}while(p<this.o.weekStart+7){q+='<th class="dow">'+b[this.o.language].daysMin[(p++)%7]+"</th>"}q+="</tr>";this.picker.find(".datepicker-days thead").append(q)},fillMonths:function(){var p="",o=0;while(o<12){p+='<span class="month">'+b[this.o.language].monthsShort[o++]+"</span>"}this.picker.find(".datepicker-months td").html(p)},setRange:function(o){if(!o||!o.length){delete this.range}else{this.range=g.map(o,function(p){return p.valueOf()})}this.fill()},getClassNames:function(r){var p=[],s=this.viewDate.getUTCFullYear(),t=this.viewDate.getUTCMonth(),o=this.date.valueOf(),q=new Date();if(r.getUTCFullYear()<s||(r.getUTCFullYear()==s&&r.getUTCMonth()<t)){p.push("old")}else{if(r.getUTCFullYear()>s||(r.getUTCFullYear()==s&&r.getUTCMonth()>t)){p.push("new")}}if(this.o.todayHighlight&&r.getUTCFullYear()==q.getFullYear()&&r.getUTCMonth()==q.getMonth()&&r.getUTCDate()==q.getDate()){p.push("today")}if(o&&r.valueOf()==o){p.push("active")}if(r.valueOf()<this.o.startDate||r.valueOf()>this.o.endDate||g.inArray(r.getUTCDay(),this.o.daysOfWeekDisabled)!==-1){p.push("disabled")}if(this.range){if(r>this.range[0]&&r<this.range[this.range.length-1]){p.push("range")}if(g.inArray(r.valueOf(),this.range)!=-1){p.push("selected")}}return p},fill:function(){var G=new Date(this.viewDate),x=G.getUTCFullYear(),H=G.getUTCMonth(),B=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,F=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,u=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,C=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,v=this.date&&this.date.valueOf(),r;this.picker.find(".datepicker-days thead th.datepicker-switch").text(b[this.o.language].months[H]+" "+x);this.picker.find("tfoot th.today").text(b[this.o.language].today).toggle(this.o.todayBtn!==false);this.picker.find("tfoot th.clear").text(b[this.o.language].clear).toggle(this.o.clearBtn!==false);this.updateNavArrows();this.fillMonths();var J=l(x,H-1,28,0,0,0,0),E=j.getDaysInMonth(J.getUTCFullYear(),J.getUTCMonth());J.setUTCDate(E);J.setUTCDate(E-(J.getUTCDay()-this.o.weekStart+7)%7);var o=new Date(J);o.setUTCDate(o.getUTCDate()+42);o=o.valueOf();var w=[];var A;while(J.valueOf()<o){if(J.getUTCDay()==this.o.weekStart){w.push("<tr>");if(this.o.calendarWeeks){var p=new Date(+J+(this.o.weekStart-J.getUTCDay()-7)%7*86400000),s=new Date(+p+(7+4-p.getUTCDay())%7*86400000),q=new Date(+(q=l(s.getUTCFullYear(),0,1))+(7+4-q.getUTCDay())%7*86400000),y=(s-q)/86400000/7+1;w.push('<td class="cw">'+y+"</td>")}}A=this.getClassNames(J);A.push("day");var z=this.o.beforeShowDay(J);if(z===undefined){z={}}else{if(typeof(z)==="boolean"){z={enabled:z}}else{if(typeof(z)==="string"){z={classes:z}}}}if(z.enabled===false){A.push("disabled")}if(z.classes){A=A.concat(z.classes.split(/\s+/))}if(z.tooltip){r=z.tooltip}A=g.unique(A);w.push('<td class="'+A.join(" ")+'"'+(r?' title="'+r+'"':"")+">"+J.getUTCDate()+"</td>");if(J.getUTCDay()==this.o.weekEnd){w.push("</tr>")}J.setUTCDate(J.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(w.join(""));var K=this.date&&this.date.getUTCFullYear();var t=this.picker.find(".datepicker-months").find("th:eq(1)").text(x).end().find("span").removeClass("active");if(K&&K==x){t.eq(this.date.getUTCMonth()).addClass("active")}if(x<B||x>u){t.addClass("disabled")}if(x==B){t.slice(0,F).addClass("disabled")}if(x==u){t.slice(C+1).addClass("disabled")}w="";x=parseInt(x/10,10)*10;var I=this.picker.find(".datepicker-years").find("th:eq(1)").text(x+"-"+(x+9)).end().find("td");x-=1;for(var D=-1;D<11;D++){w+='<span class="year'+(D==-1?" old":D==10?" new":"")+(K==x?" active":"")+(x<B||x>u?" disabled":"")+'">'+x+"</span>";x+=1}I.html(w)},updateNavArrows:function(){if(!this._allow_update){return}var q=new Date(this.viewDate),o=q.getUTCFullYear(),p=q.getUTCMonth();switch(this.viewMode){case 0:if(this.o.startDate!==-Infinity&&o<=this.o.startDate.getUTCFullYear()&&p<=this.o.startDate.getUTCMonth()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&o>=this.o.endDate.getUTCFullYear()&&p>=this.o.endDate.getUTCMonth()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 1:case 2:if(this.o.startDate!==-Infinity&&o<=this.o.startDate.getUTCFullYear()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&o>=this.o.endDate.getUTCFullYear()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break}},click:function(s){s.preventDefault();var t=g(s.target).closest("span, td, th");if(t.length==1){switch(t[0].nodeName.toLowerCase()){case"th":switch(t[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=j.modes[this.viewMode].navStep*(t[0].className=="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o);break}this.fill();break;case"today":var p=new Date();p=l(p.getFullYear(),p.getMonth(),p.getDate(),0,0,0);this.showMode(-2);var q=this.o.todayBtn=="linked"?null:"view";this._setDate(p,q);break;case"clear":var r;if(this.isInput){r=this.element}else{if(this.component){r=this.element.find("input")}}if(r){r.val("").change()}this._trigger("changeDate");this.update();if(this.o.autoclose){this.hide()}break}break;case"span":if(!t.is(".disabled")){this.viewDate.setUTCDate(1);if(t.is(".month")){var w=1;var u=t.parent().find("span").index(t);var v=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(u);this._trigger("changeMonth",this.viewDate);if(this.o.minViewMode===1){this._setDate(l(v,u,w,0,0,0,0))}}else{var v=parseInt(t.text(),10)||0;var w=1;var u=0;this.viewDate.setUTCFullYear(v);this._trigger("changeYear",this.viewDate);if(this.o.minViewMode===2){this._setDate(l(v,u,w,0,0,0,0))}}this.showMode(-1);this.fill()}break;case"td":if(t.is(".day")&&!t.is(".disabled")){var w=parseInt(t.text(),10)||1;var v=this.viewDate.getUTCFullYear(),u=this.viewDate.getUTCMonth();if(t.is(".old")){if(u===0){u=11;v-=1}else{u-=1}}else{if(t.is(".new")){if(u==11){u=0;v+=1}else{u+=1}}}this._setDate(l(v,u,w,0,0,0,0))}break}}},_setDate:function(o,q){if(!q||q=="date"){this.date=new Date(o)}if(!q||q=="view"){this.viewDate=new Date(o)}this.fill();this.setValue();this._trigger("changeDate");var p;if(this.isInput){p=this.element}else{if(this.component){p=this.element.find("input")}}if(p){p.change();if(this.o.autoclose&&(!q||q=="date")){this.hide()}}},moveMonth:function(o,p){if(!p){return o}var s=new Date(o.valueOf()),w=s.getUTCDate(),t=s.getUTCMonth(),r=Math.abs(p),v,u;p=p>0?1:-1;if(r==1){u=p==-1?function(){return s.getUTCMonth()==t}:function(){return s.getUTCMonth()!=v};v=t+p;s.setUTCMonth(v);if(v<0||v>11){v=(v+12)%12}}else{for(var q=0;q<r;q++){s=this.moveMonth(s,p)}v=s.getUTCMonth();s.setUTCDate(w);u=function(){return v!=s.getUTCMonth()}}while(u()){s.setUTCDate(--w);s.setUTCMonth(v)}return s},moveYear:function(p,o){return this.moveMonth(p,o*12)},dateWithinRange:function(o){return o>=this.o.startDate&&o<=this.o.endDate},keydown:function(v){if(this.picker.is(":not(:visible)")){if(v.keyCode==27){this.show()}return}var r=false,q,p,u,o,t;switch(v.keyCode){case 27:this.hide();v.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation){break}q=v.keyCode==37?-1:1;if(v.ctrlKey){o=this.moveYear(this.date,q);t=this.moveYear(this.viewDate,q)}else{if(v.shiftKey){o=this.moveMonth(this.date,q);t=this.moveMonth(this.viewDate,q)}else{o=new Date(this.date);o.setUTCDate(this.date.getUTCDate()+q);t=new Date(this.viewDate);t.setUTCDate(this.viewDate.getUTCDate()+q)}}if(this.dateWithinRange(o)){this.date=o;this.viewDate=t;this.setValue();this.update();v.preventDefault();r=true}break;case 38:case 40:if(!this.o.keyboardNavigation){break}q=v.keyCode==38?-1:1;if(v.ctrlKey){o=this.moveYear(this.date,q);t=this.moveYear(this.viewDate,q)}else{if(v.shiftKey){o=this.moveMonth(this.date,q);t=this.moveMonth(this.viewDate,q)}else{o=new Date(this.date);o.setUTCDate(this.date.getUTCDate()+q*7);t=new Date(this.viewDate);t.setUTCDate(this.viewDate.getUTCDate()+q*7)}}if(this.dateWithinRange(o)){this.date=o;this.viewDate=t;this.setValue();this.update();v.preventDefault();r=true}break;case 13:this.hide();v.preventDefault();break;case 9:this.hide();break}if(r){this._trigger("changeDate");var s;if(this.isInput){s=this.element}else{if(this.component){s=this.element.find("input")}}if(s){s.change()}}},showMode:function(o){if(o){this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+o))}this.picker.find(">div").hide().filter(".datepicker-"+j.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};var n=function(p,o){this.element=g(p);this.inputs=g.map(o.inputs,function(q){return q.jquery?q[0]:q});delete o.inputs;g(this.inputs).datepicker(o).bind("changeDate",g.proxy(this.dateUpdated,this));this.pickers=g.map(this.inputs,function(q){return g(q).data("datepicker")});this.updateDates()};n.prototype={updateDates:function(){this.dates=g.map(this.pickers,function(o){return o.date});this.updateRanges()},updateRanges:function(){var o=g.map(this.dates,function(p){return p.valueOf()});g.each(this.pickers,function(q,r){r.setRange(o)})},dateUpdated:function(r){var s=g(r.target).data("datepicker"),q=s.getUTCDate(),p=g.inArray(r.target,this.inputs),o=this.inputs.length;if(p==-1){return}if(q<this.dates[p]){while(p>=0&&q<this.dates[p]){this.pickers[p--].setUTCDate(q)}}else{if(q>this.dates[p]){while(p<o&&q>this.dates[p]){this.pickers[p++].setUTCDate(q)}}}this.updateDates()},remove:function(){g.map(this.pickers,function(o){o.remove()});delete this.element.data().datepicker}};function f(r,u){var t=g(r).data(),o={},s,q=new RegExp("^"+u.toLowerCase()+"([A-Z])"),u=new RegExp("^"+u.toLowerCase());for(var p in t){if(u.test(p)){s=p.replace(q,function(w,v){return v.toLowerCase()});o[s]=t[p]}}return o}function a(q){var o={};if(!b[q]){q=q.split("-")[0];if(!b[q]){return}}var p=b[q];g.each(m,function(s,r){if(r in p){o[r]=p[r]}});return o}var c=g.fn.datepicker;var k=g.fn.datepicker=function(r){var p=Array.apply(null,arguments);p.shift();var q,o;this.each(function(){var z=g(this),x=z.data("datepicker"),t=typeof r=="object"&&r;if(!x){var v=f(this,"date"),s=g.extend({},e,v,t),u=a(s.language),w=g.extend({},e,u,v,t);if(z.is(".input-daterange")||w.inputs){var y={inputs:w.inputs||z.find("input").toArray()};z.data("datepicker",(x=new n(this,g.extend(w,y))))}else{z.data("datepicker",(x=new h(this,w)))}}if(typeof r=="string"&&typeof x[r]=="function"){q=x[r].apply(x,p);if(q!==undefined){return false}}});if(q!==undefined){return q}else{return this}};var e=g.fn.datepicker.defaults={autoclose:false,beforeShowDay:g.noop,calendarWeeks:false,clearBtn:false,daysOfWeekDisabled:[],endDate:Infinity,forceParse:true,format:"mm/dd/yyyy",keyboardNavigation:true,language:"en",minViewMode:0,rtl:false,startDate:-Infinity,startView:0,todayBtn:false,todayHighlight:false,weekStart:0};var m=g.fn.datepicker.locale_opts=["format","rtl","weekStart"];g.fn.datepicker.Constructor=h;var b=g.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}};var j={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(o){return(((o%4===0)&&(o%100!==0))||(o%400===0))},getDaysInMonth:function(o,p){return[31,(j.isLeapYear(o)?29:28),31,30,31,30,31,31,30,31,30,31][p]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(q){var o=q.replace(this.validParts,"\0").split("\0"),p=q.match(this.validParts);if(!o||!o.length||!p||p.length===0){throw new Error("Invalid date format.")}return{separators:o,parts:p}},parseDate:function(r,B,v){if(r instanceof Date){return r}if(typeof B==="string"){B=j.parseFormat(B)}if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(r)){var D=/([\-+]\d+)([dmwy])/,u=r.match(/([\-+]\d+)([dmwy])/g),o,t;r=new Date();for(var w=0;w<u.length;w++){o=D.exec(u[w]);t=parseInt(o[1]);switch(o[2]){case"d":r.setUTCDate(r.getUTCDate()+t);break;case"m":r=h.prototype.moveMonth.call(h.prototype,r,t);break;case"w":r.setUTCDate(r.getUTCDate()+t*7);break;case"y":r=h.prototype.moveYear.call(h.prototype,r,t);break}}return l(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),0,0,0)}var u=r&&r.match(this.nonpunctuation)||[],r=new Date(),z={},A=["yyyy","yy","M","MM","m","mm","d","dd"],C={yyyy:function(F,s){return F.setUTCFullYear(s)},yy:function(F,s){return F.setUTCFullYear(2000+s)},m:function(F,s){s-=1;while(s<0){s+=12}s%=12;F.setUTCMonth(s);while(F.getUTCMonth()!=s){F.setUTCDate(F.getUTCDate()-1)}return F},d:function(F,s){return F.setUTCDate(s)}},q,x,o;C.M=C.MM=C.mm=C.m;C.dd=C.d;r=l(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0);var y=B.parts.slice();if(u.length!=y.length){y=g(y).filter(function(s,F){return g.inArray(F,A)!==-1}).toArray()}if(u.length==y.length){for(var w=0,p=y.length;w<p;w++){q=parseInt(u[w],10);o=y[w];if(isNaN(q)){switch(o){case"MM":x=g(b[v].months).filter(function(){var s=this.slice(0,u[w].length),F=u[w].slice(0,s.length);return s==F});q=g.inArray(x[0],b[v].months)+1;break;case"M":x=g(b[v].monthsShort).filter(function(){var s=this.slice(0,u[w].length),F=u[w].slice(0,s.length);return s==F});q=g.inArray(x[0],b[v].monthsShort)+1;break}}z[o]=q}for(var w=0,E;w<A.length;w++){E=A[w];if(E in z&&!isNaN(z[E])){C[E](r,z[E])}}}return r},formatDate:function(o,s,u){if(typeof s==="string"){s=j.parseFormat(s)}var t={d:o.getUTCDate(),D:b[u].daysShort[o.getUTCDay()],DD:b[u].days[o.getUTCDay()],m:o.getUTCMonth()+1,M:b[u].monthsShort[o.getUTCMonth()],MM:b[u].months[o.getUTCMonth()],yy:o.getUTCFullYear().toString().substring(2),yyyy:o.getUTCFullYear()};t.dd=(t.d<10?"0":"")+t.d;t.mm=(t.m<10?"0":"")+t.m;var o=[],r=g.extend([],s.separators);for(var q=0,p=s.parts.length;q<=p;q++){if(r.length){o.push(r.shift())}o.push(t[s.parts[q]])}return o.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};j.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+j.headTemplate+"<tbody></tbody>"+j.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+j.headTemplate+j.contTemplate+j.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+j.headTemplate+j.contTemplate+j.footTemplate+"</table></div></div>";g.fn.datepicker.DPGlobal=j;g.fn.datepicker.noConflict=function(){g.fn.datepicker=c;return this};g(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(p){var o=g(this);if(o.data("datepicker")){return}p.preventDefault();k.call(o,"show")});g(function(){k.call(g('[data-provide="datepicker-inline"]'))})}(window.jQuery));(function(b){b.fn.bdatepicker=b.fn.datepicker.noConflict();if(!b.fn.datepicker){b.fn.datepicker=b.fn.bdatepicker}var a=function(c){this.init("date",c,a.defaults);this.initPicker(c,a.defaults)};b.fn.editableutils.inherit(a,b.fn.editabletypes.abstractinput);b.extend(a.prototype,{initPicker:function(c,d){if(!this.options.viewformat){this.options.viewformat=this.options.format}c.datepicker=b.fn.editableutils.tryParseJson(c.datepicker,true);this.options.datepicker=b.extend({},d.datepicker,c.datepicker,{format:this.options.viewformat});this.options.datepicker.language=this.options.datepicker.language||"en";this.dpg=b.fn.bdatepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker);if(this.options.clear){this.$clear=b('<a href="#"></a>').html(this.options.clear).click(b.proxy(function(c){c.preventDefault();c.stopPropagation();this.clear()},this));this.$tpl.parent().append(b('<div class="editable-clear">').append(this.$clear))}},value2html:function(d,c){var e=d?this.dpg.formatDate(d,this.parsedViewFormat,this.options.datepicker.language):"";a.superclass.value2html.call(this,e,c)},html2value:function(c){return this.parseDate(c,this.parsedViewFormat)},value2str:function(c){return c?this.dpg.formatDate(c,this.parsedFormat,this.options.datepicker.language):""},str2value:function(c){return this.parseDate(c,this.parsedFormat)},value2submit:function(c){return this.value2str(c)},value2input:function(c){this.$input.bdatepicker("update",c)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null;this.$input.find(".active").removeClass("active");if(!this.options.showbuttons){this.$input.closest("form").submit()}},autosubmit:function(){this.$input.on("mouseup",".day",function(d){if(b(d.currentTarget).is(".old")||b(d.currentTarget).is(".new")){return}var c=b(this).closest("form");setTimeout(function(){c.submit()},200)})},parseDate:function(f,d){var c=null,e;if(f){c=this.dpg.parseDate(f,d,this.options.datepicker.language);if(typeof f==="string"){e=this.dpg.formatDate(c,d,this.options.datepicker.language);if(f!==e){c=null}}}return c}});a.defaults=b.extend({},b.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:false},clear:"&times; clear"});b.fn.editabletypes.date=a}(window.jQuery));(function(b){var a=function(c){this.init("datefield",c,a.defaults);this.initPicker(c,a.defaults)};b.fn.editableutils.inherit(a,b.fn.editabletypes.date);b.extend(a.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.bdatepicker(this.options.datepicker);this.$input.off("focus keydown");this.$input.keyup(b.proxy(function(){this.$tpl.removeData("date");this.$tpl.bdatepicker("update")},this))},value2input:function(c){this.$input.val(c?this.dpg.formatDate(c,this.parsedViewFormat,this.options.datepicker.language):"");this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){b.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});a.defaults=b.extend({},b.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:true}});b.fn.editabletypes.datefield=a}(window.jQuery));(function(a){var b=function(c){this.init("datetime",c,b.defaults);this.initPicker(c,b.defaults)};a.fn.editableutils.inherit(b,a.fn.editabletypes.abstractinput);a.extend(b.prototype,{initPicker:function(c,d){if(!this.options.viewformat){this.options.viewformat=this.options.format}c.datetimepicker=a.fn.editableutils.tryParseJson(c.datetimepicker,true);this.options.datetimepicker=a.extend({},d.datetimepicker,c.datetimepicker,{format:this.options.viewformat});this.options.datetimepicker.language=this.options.datetimepicker.language||"en";this.dpg=a.fn.datetimepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker);this.$input.on("changeMode",function(d){var c=a(this).closest("form").parent();setTimeout(function(){c.triggerHandler("resize")},0)});if(this.options.clear){this.$clear=a('<a href="#"></a>').html(this.options.clear).click(a.proxy(function(c){c.preventDefault();c.stopPropagation();this.clear()},this));this.$tpl.parent().append(a('<div class="editable-clear">').append(this.$clear))}},value2html:function(d,c){var e=d?this.dpg.formatDate(this.toUTC(d),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";if(c){b.superclass.value2html.call(this,e,c)}else{return e}},html2value:function(c){var d=this.parseDate(c,this.parsedViewFormat);return d?this.fromUTC(d):null},value2str:function(c){return c?this.dpg.formatDate(this.toUTC(c),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(d){var c=this.parseDate(d,this.parsedFormat);return c?this.fromUTC(c):null},value2submit:function(c){return this.value2str(c)},value2input:function(c){if(c){this.$input.data("datetimepicker").setDate(c)}},input2value:function(){var c=this.$input.data("datetimepicker");return c.date?c.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null;this.$input.find(".active").removeClass("active");if(!this.options.showbuttons){this.$input.closest("form").submit()}},autosubmit:function(){this.$input.on("mouseup",".minute",function(d){var c=a(this).closest("form");setTimeout(function(){c.submit()},200)})},toUTC:function(c){return c?new Date(c.valueOf()-c.getTimezoneOffset()*60000):c},fromUTC:function(c){return c?new Date(c.valueOf()+c.getTimezoneOffset()*60000):c},parseDate:function(f,d){var c=null,e;if(f){c=this.dpg.parseDate(f,d,this.options.datetimepicker.language,this.options.formatType);if(typeof f==="string"){e=this.dpg.formatDate(c,d,this.options.datetimepicker.language,this.options.formatType);if(f!==e){c=null}}}return c}});b.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:false,autoclose:false},clear:"&times; clear"});a.fn.editabletypes.datetime=b}(window.jQuery));(function(b){var a=function(c){this.init("datetimefield",c,a.defaults);this.initPicker(c,a.defaults)};b.fn.editableutils.inherit(a,b.fn.editabletypes.datetime);b.extend(a.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.datetimepicker(this.options.datetimepicker);this.$input.off("focus keydown");this.$input.keyup(b.proxy(function(){this.$tpl.removeData("date");this.$tpl.datetimepicker("update")},this))},value2input:function(c){this.$input.val(this.value2html(c));this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){b.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});a.defaults=b.extend({},b.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:false,autoclose:true}});b.fn.editabletypes.datetimefield=a}(window.jQuery));(function(a){var b=function(c){this.init("address",c,b.defaults)};a.fn.editableutils.inherit(b,a.fn.editabletypes.abstractinput);a.extend(b.prototype,{render:function(){this.$input=this.$tpl.find("input")},value2html:function(e,d){if(!e){a(d).empty();return}var c=a("<div>").text(e.city).html()+", "+a("<div>").text(e.street).html()+" st., bld. "+a("<div>").text(e.building).html();a(d).html(c)},html2value:function(c){return null},value2str:function(d){var e="";if(d){for(var c in d){e=e+c+":"+d[c]+";"}}return e},str2value:function(c){return c},value2input:function(c){if(!c){return}this.$input.filter('[name="city"]').val(c.city);this.$input.filter('[name="street"]').val(c.street);this.$input.filter('[name="building"]').val(c.building)},input2value:function(){return{city:this.$input.filter('[name="city"]').val(),street:this.$input.filter('[name="street"]').val(),building:this.$input.filter('[name="building"]').val()}},activate:function(){this.$input.filter('[name="city"]').focus()},autosubmit:function(){this.$input.keydown(function(c){if(c.which===13){a(this).closest("form").submit()}})}});b.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-address"><label><span>City: </span><input type="text" name="city" class="input-small"></label></div><div class="editable-address"><label><span>Street: </span><input type="text" name="street" class="input-small"></label></div><div class="editable-address"><label><span>Building: </span><input type="text" name="building" class="input-mini"></label></div>',inputclass:""});a.fn.editabletypes.address=b}(window.jQuery));$(function(){$.fn.editable.defaults.url="/";$("#enable").click(function(){$("#user .editable").editable("toggleDisabled")});$("#username").editable({type:"text",pk:1,name:"username",title:"Enter username"});$("#firstname").editable({validate:function(b){if($.trim(b)==""){return"This field is required"}}});$("#sex").editable({prepend:"not selected",source:[{value:1,text:"Male"},{value:2,text:"Female"}],display:function(e,d){var b={"":"gray",1:"green",2:"blue"},c=$.grep(d,function(f){return f.value==e});if(c.length){$(this).text(c[0].text).css("color",b[e])}else{$(this).empty()}}});$("#status").editable();$("#group").editable({showbuttons:false});$("#vacation").editable({datepicker:{todayBtn:"linked"}});$("#dob").editable();$("#event").editable({placement:"right",combodate:{firstItem:"name"}});$("#meeting_start").editable({format:"yyyy-mm-dd hh:ii",viewformat:"dd/mm/yyyy hh:ii",validate:function(b){if(b&&b.getDate()==10){return"Day cant be 10!"}},datetimepicker:{todayBtn:"linked",weekStart:1}});$("#comments").editable({showbuttons:"bottom"});$("#note").editable();$("#pencil").click(function(b){b.stopPropagation();b.preventDefault();$("#note").editable("toggle")});$("#state").editable({source:["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Dakota","North Carolina","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]});$("#fruits").editable({pk:1,limit:3,source:[{value:1,text:"banana"},{value:2,text:"peach"},{value:3,text:"apple"},{value:4,text:"watermelon"},{value:5,text:"orange"}]});$("#tags").editable({inputclass:"input-large",select2:{tags:["html","javascript","css","ajax"],tokenSeparators:[","," "]}});var a=[];$.each({BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BA:"Bosnia and Herzegovina",BB:"Barbados",WF:"Wallis and Futuna",BL:"Saint Bartelemey",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BT:"Bhutan",JM:"Jamaica",BV:"Bouvet Island",BW:"Botswana",WS:"Samoa",BR:"Brazil",BS:"Bahamas",JE:"Jersey",BY:"Belarus",O1:"Other Country",LV:"Latvia",RW:"Rwanda",RS:"Serbia",TL:"Timor-Leste",RE:"Reunion",LU:"Luxembourg",TJ:"Tajikistan",RO:"Romania",PG:"Papua New Guinea",GW:"Guinea-Bissau",GU:"Guam",GT:"Guatemala",GS:"South Georgia and the South Sandwich Islands",GR:"Greece",GQ:"Equatorial Guinea",GP:"Guadeloupe",JP:"Japan",GY:"Guyana",GG:"Guernsey",GF:"French Guiana",GE:"Georgia",GD:"Grenada",GB:"United Kingdom",GA:"Gabon",SV:"El Salvador",GN:"Guinea",GM:"Gambia",GL:"Greenland",GI:"Gibraltar",GH:"Ghana",OM:"Oman",TN:"Tunisia",JO:"Jordan",HR:"Croatia",HT:"Haiti",HU:"Hungary",HK:"Hong Kong",HN:"Honduras",HM:"Heard Island and McDonald Islands",VE:"Venezuela",PR:"Puerto Rico",PS:"Palestinian Territory",PW:"Palau",PT:"Portugal",SJ:"Svalbard and Jan Mayen",PY:"Paraguay",IQ:"Iraq",PA:"Panama",PF:"French Polynesia",BZ:"Belize",PE:"Peru",PK:"Pakistan",PH:"Philippines",PN:"Pitcairn",TM:"Turkmenistan",PL:"Poland",PM:"Saint Pierre and Miquelon",ZM:"Zambia",EH:"Western Sahara",RU:"Russian Federation",EE:"Estonia",EG:"Egypt",TK:"Tokelau",ZA:"South Africa",EC:"Ecuador",IT:"Italy",VN:"Vietnam",SB:"Solomon Islands",EU:"Europe",ET:"Ethiopia",SO:"Somalia",ZW:"Zimbabwe",SA:"Saudi Arabia",ES:"Spain",ER:"Eritrea",ME:"Montenegro",MD:"Moldova, Republic of",MG:"Madagascar",MF:"Saint Martin",MA:"Morocco",MC:"Monaco",UZ:"Uzbekistan",MM:"Myanmar",ML:"Mali",MO:"Macao",MN:"Mongolia",MH:"Marshall Islands",MK:"Macedonia",MU:"Mauritius",MT:"Malta",MW:"Malawi",MV:"Maldives",MQ:"Martinique",MP:"Northern Mariana Islands",MS:"Montserrat",MR:"Mauritania",IM:"Isle of Man",UG:"Uganda",TZ:"Tanzania, United Republic of",MY:"Malaysia",MX:"Mexico",IL:"Israel",FR:"France",IO:"British Indian Ocean Territory",FX:"France, Metropolitan",SH:"Saint Helena",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands (Malvinas)",FM:"Micronesia, Federated States of",FO:"Faroe Islands",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NA:"Namibia",VU:"Vanuatu",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NZ:"New Zealand",NP:"Nepal",NR:"Nauru",NU:"Niue",CK:"Cook Islands",CI:"Cote d'Ivoire",CH:"Switzerland",CO:"Colombia",CN:"China",CM:"Cameroon",CL:"Chile",CC:"Cocos (Keeling) Islands",CA:"Canada",CG:"Congo",CF:"Central African Republic",CD:"Congo, The Democratic Republic of the",CZ:"Czech Republic",CY:"Cyprus",CX:"Christmas Island",CR:"Costa Rica",CV:"Cape Verde",CU:"Cuba",SZ:"Swaziland",SY:"Syrian Arab Republic",KG:"Kyrgyzstan",KE:"Kenya",SR:"Suriname",KI:"Kiribati",KH:"Cambodia",KN:"Saint Kitts and Nevis",KM:"Comoros",ST:"Sao Tome and Principe",SK:"Slovakia",KR:"Korea, Republic of",SI:"Slovenia",KP:"Korea, Democratic People's Republic of",KW:"Kuwait",SN:"Senegal",SM:"San Marino",SL:"Sierra Leone",SC:"Seychelles",KZ:"Kazakhstan",KY:"Cayman Islands",SG:"Singapore",SE:"Sweden",SD:"Sudan",DO:"Dominican Republic",DM:"Dominica",DJ:"Djibouti",DK:"Denmark",VG:"Virgin Islands, British",DE:"Germany",YE:"Yemen",DZ:"Algeria",US:"United States",UY:"Uruguay",YT:"Mayotte",UM:"United States Minor Outlying Islands",LB:"Lebanon",LC:"Saint Lucia",LA:"Lao People's Democratic Republic",TV:"Tuvalu",TW:"Taiwan",TT:"Trinidad and Tobago",TR:"Turkey",LK:"Sri Lanka",LI:"Liechtenstein",A1:"Anonymous Proxy",TO:"Tonga",LT:"Lithuania",A2:"Satellite Provider",LR:"Liberia",LS:"Lesotho",TH:"Thailand",TF:"French Southern Territories",TG:"Togo",TD:"Chad",TC:"Turks and Caicos Islands",LY:"Libyan Arab Jamahiriya",VA:"Holy See (Vatican City State)",VC:"Saint Vincent and the Grenadines",AE:"United Arab Emirates",AD:"Andorra",AG:"Antigua and Barbuda",AF:"Afghanistan",AI:"Anguilla",VI:"Virgin Islands, U.S.",IS:"Iceland",IR:"Iran, Islamic Republic of",AM:"Armenia",AL:"Albania",AO:"Angola",AN:"Netherlands Antilles",AQ:"Antarctica",AP:"Asia/Pacific Region",AS:"American Samoa",AR:"Argentina",AU:"Australia",AT:"Austria",AW:"Aruba",IN:"India",AX:"Aland Islands",AZ:"Azerbaijan",IE:"Ireland",ID:"Indonesia",UA:"Ukraine",QA:"Qatar",MZ:"Mozambique"},function(c,b){a.push({id:c,text:b})});$("#country").editable({source:a,select2:{width:200}});$("#address").editable({url:"/post",value:{city:"Moscow",street:"Lenina",building:"12"},validate:function(b){if(b.city==""){return"city is required!"}},display:function(c){if(!c){$(this).empty();return}var b="<b>"+$("<div>").text(c.city).html()+"</b>, "+$("<div>").text(c.street).html()+" st., bld. "+$("<div>").text(c.building).html();$(this).html(b)}});$("#user .editable").on("hidden",function(d,c){if(c==="save"||c==="nochange"){var b=$(this).closest("tr").next().find(".editable");if($("#autoopen").is(":checked")){setTimeout(function(){b.editable("show")},300)}else{b.focus()}}})});jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,f,a,h,g){return jQuery.easing[jQuery.easing.def](e,f,a,h,g)},easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return -h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a}return -h/2*((--f)*(f-2)-1)+a},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a},easeInOutCubic:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a},easeInQuart:function(e,f,a,h,g){return h*(f/=g)*f*f*f+a},easeOutQuart:function(e,f,a,h,g){return -h*((f=f/g-1)*f*f*f-1)+a},easeInOutQuart:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+a}return -h/2*((f-=2)*f*f*f-2)+a},easeInQuint:function(e,f,a,h,g){return h*(f/=g)*f*f*f*f+a},easeOutQuint:function(e,f,a,h,g){return h*((f=f/g-1)*f*f*f*f+1)+a},easeInOutQuint:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+a}return h/2*((f-=2)*f*f*f*f+2)+a},easeInSine:function(e,f,a,h,g){return -h*Math.cos(f/g*(Math.PI/2))+h+a},easeOutSine:function(e,f,a,h,g){return h*Math.sin(f/g*(Math.PI/2))+a},easeInOutSine:function(e,f,a,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+a},easeInExpo:function(e,f,a,h,g){return(f==0)?a:h*Math.pow(2,10*(f/g-1))+a},easeOutExpo:function(e,f,a,h,g){return(f==g)?a+h:h*(-Math.pow(2,-10*f/g)+1)+a},easeInOutExpo:function(e,f,a,h,g){if(f==0){return a}if(f==g){return a+h}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a}return h/2*(-Math.pow(2,-10*--f)+2)+a},easeInCirc:function(e,f,a,h,g){return -h*(Math.sqrt(1-(f/=g)*f)-1)+a},easeOutCirc:function(e,f,a,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+a},easeInOutCirc:function(e,f,a,h,g){if((f/=g/2)<1){return -h/2*(Math.sqrt(1-f*f)-1)+a}return h/2*(Math.sqrt(1-(f-=2)*f)+1)+a},easeInElastic:function(f,h,e,m,l){var j=1.70158;var k=0;var g=m;if(h==0){return e}if((h/=l)==1){return e+m}if(!k){k=l*0.3}if(g<Math.abs(m)){g=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*l-j)*(2*Math.PI)/k))+e},easeOutElastic:function(f,h,e,m,l){var j=1.70158;var k=0;var g=m;if(h==0){return e}if((h/=l)==1){return e+m}if(!k){k=l*0.3}if(g<Math.abs(m)){g=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/g)}return g*Math.pow(2,-10*h)*Math.sin((h*l-j)*(2*Math.PI)/k)+m+e},easeInOutElastic:function(f,h,e,m,l){var j=1.70158;var k=0;var g=m;if(h==0){return e}if((h/=l/2)==2){return e+m}if(!k){k=l*(0.3*1.5)}if(g<Math.abs(m)){g=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*l-j)*(2*Math.PI)/k))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*l-j)*(2*Math.PI)/k)*0.5+m+e},easeInBack:function(e,f,a,j,h,g){if(g==undefined){g=1.70158}return j*(f/=h)*f*((g+1)*f-g)+a},easeOutBack:function(e,f,a,j,h,g){if(g==undefined){g=1.70158}return j*((f=f/h-1)*f*((g+1)*f+g)+1)+a},easeInOutBack:function(e,f,a,j,h,g){if(g==undefined){g=1.70158}if((f/=h/2)<1){return j/2*(f*f*(((g*=(1.525))+1)*f-g))+a}return j/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a},easeInBounce:function(e,f,a,h,g){return h-jQuery.easing.easeOutBounce(e,g-f,0,h,g)+a},easeOutBounce:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a}}}},easeInOutBounce:function(e,f,a,h,g){if(f<g/2){return jQuery.easing.easeInBounce(e,f*2,0,h,g)*0.5+a}return jQuery.easing.easeOutBounce(e,f*2-g,0,h,g)*0.5+h*0.5+a}});(function($){$.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/({.*})/,single:"metadata"},setType:function(type,name){this.defaults.type=type;this.defaults.name=name},get:function(elem,opts){var settings=$.extend({},this.defaults,opts);if(!settings.single.length){settings.single="metadata"}var data=$.data(elem,settings.single);if(data){return data}data="{}";if(settings.type=="class"){var m=settings.cre.exec(elem.className);if(m){data=m[1]}}else{if(settings.type=="elem"){if(!elem.getElementsByTagName){return undefined}var e=elem.getElementsByTagName(settings.name);if(e.length){data=$.trim(e[0].innerHTML)}}else{if(elem.getAttribute!=undefined){var attr=elem.getAttribute(settings.name);if(attr){data=attr}}}}if(data.indexOf("{")<0){data="{"+data+"}"}data=eval("("+data+")");$.data(elem,settings.single,data);return data}}});$.fn.metadata=function(opts){return $.metadata.get(this[0],opts)}})(jQuery);
/*!
 * iButton jQuery Plug-in
 *
 * Copyright 2011 Giva, Inc. (http://www.givainc.com/labs/) 
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 * 	http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Date: 2011-07-26
 * Rev:  1.0.03
 */
;(function(e){e.iButton={version:"1.0.03",setDefaults:function(g){e.extend(f,g)}};e.fn.iButton=function(k){var l=typeof arguments[0]=="string"&&arguments[0];var j=l&&Array.prototype.slice.call(arguments,1)||arguments;var h=(this.length==0)?null:e.data(this[0],"iButton");if(h&&l&&this.length){if(l.toLowerCase()=="object"){return h}else{if(h[l]){var g;this.each(function(m){var n=e.data(this,"iButton")[l].apply(h,j);if(m==0&&n){if(!!n.jquery){g=e([]).add(n)}else{g=n;return false}}else{if(!!n&&!!n.jquery){g=g.add(n)}}});return g||this}else{return this}}}else{return this.each(function(){new c(this,k)})}};var a=0;var c=function(o,j){var t=this,h=e(o),u=++a,l=false,v={},p={dragging:false,clicked:null},x={position:null,offset:null,time:null},j=e.extend({},f,j,(!!e.metadata?h.metadata():{})),z=(j.labelOn==b&&j.labelOff==d),A=":checkbox, :radio";if(!h.is(A)){return h.find(A).iButton(j)}else{if(e.data(h[0],"iButton")){return}}e.data(h[0],"iButton",t);if(j.resizeHandle=="auto"){j.resizeHandle=!z}if(j.resizeContainer=="auto"){j.resizeContainer=!z}this.toggle=function(C){var B=(arguments.length>0)?C:!h[0].checked;h.prop("checked",B).trigger("change")};this.disable=function(C){var B=(arguments.length>0)?C:!l;l=B;h.attr("disabled",B);w[B?"addClass":"removeClass"](j.classDisabled);if(e.isFunction(j.disable)){j.disable.apply(t,[l,h,j])}};this.repaint=function(){y()};this.destroy=function(){e([h[0],w[0]]).unbind(".iButton");e(document).unbind(".iButton_"+u);w.after(h).remove();e.data(h[0],"iButton",null);if(e.isFunction(j.destroy)){j.destroy.apply(t,[h,j])}};h.wrap('<div class="'+e.trim(j.classContainer+" "+j.className)+'" />').after('<div class="'+j.classHandle+'"><div class="'+j.classHandleRight+'"><div class="'+j.classHandleMiddle+'" /></div></div><div class="'+j.classLabelOff+'"><span><label>'+j.labelOff+'</label></span></div><div class="'+j.classLabelOn+'"><span><label>'+j.labelOn+'</label></span></div><div class="'+j.classPaddingLeft+'"></div><div class="'+j.classPaddingRight+'"></div>');var w=h.parent(),g=h.siblings("."+j.classHandle),q=h.siblings("."+j.classLabelOff),n=q.children("span"),k=h.siblings("."+j.classLabelOn),m=k.children("span");if(j.resizeHandle||j.resizeContainer){v.onspan=m.outerWidth();v.offspan=n.outerWidth()}if(j.resizeHandle){if(j.handleWidth){v.handle=j.handleWidth}else{if(v.onspan>0){v.handle=Math.min(v.onspan,v.offspan)}else{v.handle=v.offspan}}g.css("width",v.handle)}else{v.handle=g.width()}if(j.resizeContainer){v.container=(Math.max(v.onspan,v.offspan)+v.handle+10);w.css("width",v.container);q.css("width",v.container-5)}else{v.container=w.width()+3;console.log(v.container)}var s=v.container-v.handle-5;var y=function(C){var D=h[0].checked,B=(D)?s:0,C=(arguments.length>0)?arguments[0]:true;if(C&&j.enableFx){g.stop().animate({left:B},j.duration,j.easing);k.stop().animate({width:B+4},j.duration,j.easing);m.stop().animate({marginLeft:B-s},j.duration,j.easing);n.stop().animate({marginRight:-B},j.duration,j.easing)}else{g.css("left",B);k.css("width",B+4);m.css("marginLeft",B-s);n.css("marginRight",-B)}};y(false);var r=function(B){return B.pageX||((B.originalEvent.changedTouches)?B.originalEvent.changedTouches[0].pageX:0)};w.bind("mousedown.iButton touchstart.iButton",function(B){if(e(B.target).is(A)||l||(!j.allowRadioUncheck&&h.is(":radio:checked"))){return}B.preventDefault();p.clicked=g;x.position=r(B);x.offset=x.position-(parseInt(g.css("left"),10)||0);x.time=(new Date()).getTime();return false});if(j.enableDrag){e(document).bind("mousemove.iButton_"+u+" touchmove.iButton_"+u,function(D){if(p.clicked!=g){return}D.preventDefault();var B=r(D);if(B!=x.offset){p.dragging=true;w.addClass(j.classHandleActive)}var C=Math.min(1,Math.max(0,(B-x.offset)/s));g.css("left",C*s);k.css("width",C*s+4);n.css("marginRight",-C*s);m.css("marginLeft",-(1-C)*s);return false})}e(document).bind("mouseup.iButton_"+u+" touchend.iButton_"+u,function(E){if(p.clicked!=g){return false}E.preventDefault();var F=true;if(!p.dragging||(((new Date()).getTime()-x.time)<j.clickOffset)){var C=h[0].checked;h.prop("checked",!C);if(e.isFunction(j.click)){j.click.apply(t,[!C,h,j])}}else{var B=r(E);var D=(B-x.offset)/s;var C=(D>=0.5);if(h[0].checked==C){F=false}h.prop("checked",C)}w.removeClass(j.classHandleActive);p.clicked=null;p.dragging=null;if(F){h.trigger("change")}else{y()}return false});h.bind("change.iButton",function(){y();if(h.is(":radio")){var C=h[0];var B=e(C.form?C.form[C.name]:":radio[name="+C.name+"]");B.filter(":not(:checked)").iButton("repaint")}if(e.isFunction(j.change)){j.change.apply(t,[h,j])}}).bind("focus.iButton",function(){w.addClass(j.classFocus)}).bind("blur.iButton",function(){w.removeClass(j.classFocus)});if(e.isFunction(j.click)){h.bind("click.iButton",function(){j.click.apply(t,[h[0].checked,h,j])})}if(h.is(":disabled")){this.disable(true)}if(e.isFunction(j.init)){j.init.apply(t,[h,j])}};var f={duration:200,easing:"swing",labelOn:"ON",labelOff:"OFF",resizeHandle:"auto",resizeContainer:"auto",enableDrag:true,enableFx:true,allowRadioUncheck:false,clickOffset:120,handleWidth:30,className:"",classContainer:"ibutton-container",classDisabled:"ibutton-disabled",classFocus:"ibutton-focus",classLabelOn:"ibutton-label-on",classLabelOff:"ibutton-label-off",classHandle:"ibutton-handle",classHandleMiddle:"ibutton-handle-middle",classHandleRight:"ibutton-handle-right",classHandleActive:"ibutton-active-handle",classPaddingLeft:"ibutton-padding-left",classPaddingRight:"ibutton-padding-right",init:null,change:null,click:null,disable:null,destroy:null},b=f.labelOn,d=f.labelOff})(jQuery);(function(){this.Growl=(function(){function a(){}a.info=function(b){b.class_name="info";b.title="<i class='icon-info-sign'></i> "+b.title;return $.gritter.add(b)};a.warn=function(b){b.class_name="warn";b.title="<i class='icon-warning-sign'></i> "+b.title;return $.gritter.add(b)};a.error=function(b){b.class_name="error";b.title="<i class='icon-exclamation-sign'></i> "+b.title;return $.gritter.add(b)};a.success=function(b){b.class_name="success";b.title="<i class='icon-ok-sign'></i> "+b.title;return $.gritter.add(b)};return a})();$(function(){$.extend($.gritter.options,{position:"top-right"});$(".growl-info").click(function(a){a.preventDefault();return Growl.info({title:"This is a notice!",text:"This will fade out after a certain amount of time."})});$(".growl-warn").click(function(a){a.preventDefault();return Growl.warn({title:"This is a warning!",text:"This will fade out after a certain amount of time."})});$(".growl-error").click(function(a){a.preventDefault();return Growl.error({title:"This is an error!",text:"This will fade out after a certain amount of time."})});return $(".growl-success").click(function(a){a.preventDefault();return Growl.success({title:"This is a success message!",text:"This will fade out after a certain amount of time."})})})}).call(this);(function(){$(function(){var c,b,a,e;new CalendarEvents($("#external-events"));b=new Date();c=b.getDate();a=b.getMonth();e=b.getFullYear();return $("#calendar").fullCalendar({header:{left:"prev,next",center:"title",right:"month,agendaWeek,agendaDay"},editable:true,droppable:true,drop:function(g,h){var f,d;d=$(this).data("eventObject");f=$.extend({},d);f.start=g;f.allDay=h;$("#calendar").fullCalendar("renderEvent",f,true);if($("#drop-remove").is(":checked")){return $(this).remove()}},events:[{title:"All Day Event",start:new Date(e,a,1)},{title:"Long Event",start:new Date(e,a,c-5),end:new Date(e,a,c-2)},{id:999,title:"Repeating Event",start:new Date(e,a,c-3,16,0),allDay:false},{id:999,title:"Repeating Event",start:new Date(e,a,c+4,16,0),allDay:false},{title:"Meeting",start:new Date(e,a,c,10,30),allDay:false},{title:"Lunch",start:new Date(e,a,c,12,0),end:new Date(e,a,c,14,0),allDay:false},{title:"Birthday Party",start:new Date(e,a,c+1,19,0),end:new Date(e,a,c+1,22,30),allDay:false},{title:"Click for Google",start:new Date(e,a,28),end:new Date(e,a,29),url:"http://google.com/"}]})})}).call(this);$(function(){var b=document.createElement("div"),e=-($("html").css("padding-left").replace("px","")+$("body").css("margin-left").replace("px","")),a=-32;b.className="ex-tooltip";document.body.appendChild(b);var d={xScale:"time",yScale:"linear",main:[{className:".pizza",data:[{x:"2012-11-05",y:6},{x:"2012-11-06",y:6},{x:"2012-11-07",y:8},{x:"2012-11-08",y:3},{x:"2012-11-09",y:4},{x:"2012-11-10",y:9},{x:"2012-11-11",y:6}]}]};var c={paddingLeft:15,paddingRight:0,axisPaddingTop:5,axisPaddingLeft:5,dataFormatX:function(f){return d3.time.format("%Y-%m-%d").parse(f)},tickFormatX:function(f){return d3.time.format("%a")(f)},mouseover:function(g,f){var h=$(this).offset();$(b).text(d3.time.format("%A")(g.x)+": "+g.y).css({top:a+h.top,left:h.left+e}).show()},mouseout:function(f){$(b).hide()}};if($("#left-sidebar-chart").length>0){new xChart("line-dotted",d,"#left-sidebar-chart",c)}if($(".xcharts-line-dotted").length>0){new xChart("line-dotted",d,".xcharts-line-dotted",c)}});$(function(){var d=[{xScale:"ordinal",comp:[],main:[{className:".main.l1",data:[{y:15,x:"2012-11-19T00:00:00"},{y:11,x:"2012-11-20T00:00:00"},{y:8,x:"2012-11-21T00:00:00"},{y:10,x:"2012-11-22T00:00:00"},{y:1,x:"2012-11-23T00:00:00"},{y:6,x:"2012-11-24T00:00:00"},{y:8,x:"2012-11-25T00:00:00"}]},{className:".main.l2",data:[{y:29,x:"2012-11-19T00:00:00"},{y:33,x:"2012-11-20T00:00:00"},{y:13,x:"2012-11-21T00:00:00"},{y:16,x:"2012-11-22T00:00:00"},{y:7,x:"2012-11-23T00:00:00"},{y:18,x:"2012-11-24T00:00:00"},{y:8,x:"2012-11-25T00:00:00"}]}],type:"line-dotted",yScale:"linear"},{xScale:"ordinal",comp:[],main:[{className:".main.l1",data:[{y:12,x:"2012-11-19T00:00:00"},{y:18,x:"2012-11-20T00:00:00"},{y:8,x:"2012-11-21T00:00:00"},{y:7,x:"2012-11-22T00:00:00"},{y:6,x:"2012-11-23T00:00:00"},{y:12,x:"2012-11-24T00:00:00"},{y:8,x:"2012-11-25T00:00:00"}]},{className:".main.l2",data:[{y:29,x:"2012-11-19T00:00:00"},{y:33,x:"2012-11-20T00:00:00"},{y:13,x:"2012-11-21T00:00:00"},{y:16,x:"2012-11-22T00:00:00"},{y:7,x:"2012-11-23T00:00:00"},{y:18,x:"2012-11-24T00:00:00"},{y:8,x:"2012-11-25T00:00:00"}]}],type:"cumulative",yScale:"linear"},{xScale:"ordinal",comp:[],main:[{className:".main.l1",data:[{y:12,x:"2012-11-19T00:00:00"},{y:18,x:"2012-11-20T00:00:00"},{y:8,x:"2012-11-21T00:00:00"},{y:7,x:"2012-11-22T00:00:00"},{y:6,x:"2012-11-23T00:00:00"},{y:12,x:"2012-11-24T00:00:00"},{y:8,x:"2012-11-25T00:00:00"}]},{className:".main.l2",data:[{y:29,x:"2012-11-19T00:00:00"},{y:33,x:"2012-11-20T00:00:00"},{y:13,x:"2012-11-21T00:00:00"},{y:16,x:"2012-11-22T00:00:00"},{y:7,x:"2012-11-23T00:00:00"},{y:18,x:"2012-11-24T00:00:00"},{y:8,x:"2012-11-25T00:00:00"}]}],type:"bar",yScale:"linear"}];var c=[0,1,0,2],e=0,a=d3.time.format("%A"),b,g,j=3500;if($("#xchart-sine").length>0){g=new xChart("bar",d[c[e]],"#xchart-sine",{axisPaddingTop:5,paddingLeft:30,dataFormatX:function(k){return new Date(k)},tickFormatX:function(k){return d3.time.format("%a")(k)}});b=setTimeout(h,j)}function f(k){g.setData(d[k])}function h(){e+=1;e=(e>=c.length)?0:e;f(c[e]);b=setTimeout(h,j)}});$(function(){var a=function(){var d={xScale:"ordinal",yScale:"linear"};d.main=[];var c=$(["Beef","Ham","Bacon"]);$([1,2,3]).each(function(){var e=[];c.each(function(){e.push({x:this,y:getRandomInt(3,12)})});d.main.push({className:".food",data:e})});return d};if($(".xcharts-bar").length>0){var b=new xChart("bar",a(),".xcharts-bar",{axisPaddingTop:5,paddingLeft:15});$("#randomize-bar-chart").click(function(){b.setData(a())})}});(function(){$(function(){var h,a,c,g,e,b,d,f;a=$.map(Theme.colors,function(j){return j});f={names:{0:"Automotive",1:"Locomotive",2:"Unmotivated",3:"Three",4:"Four",5:"Five"}};b=function(){var j;j=$(".spark-pie").width();if(j>200){j=200}return $(".spark-pie").sparkline([55,100,220,180],{type:"pie",height:j,sliceColors:a,tooltipFormat:'<span style="color: {{color}}">&#9679;</span> {{offset:names}} ({{percent.1}}%)',tooltipValueLookups:f})};g=function(n,k){var m,p,l,j,o;j=k.width();m=n.length;p=5;o=j-(m-1)*p;l=o/m;return k.sparkline(n,{type:"bar",barColor:Theme.colors.blue,height:200,barWidth:l,barSpacing:p,tooltipSuffix:"$ income received"})};h=[4,1,5,7,9,9,8,7,6,6,4,7,8,4,3,2,2,5,6,7];d=[6,3,8,5,8,4,3,2,7,6,6,4,7,2,5,6,7,2,4,11];e=function(){return $(".spark-composite").sparkline(d,{composite:true,fillColor:false,lineColor:Theme.colors.red,width:"100%",height:"200",spotColor:Theme.colors.lightBlue,lineWidth:3,maxSpotColor:Theme.colors.red,highlightSpotColor:Theme.colors.orange,highlightLineColor:Theme.colors.orange,chartRangeMin:0,spotRadius:4,drawNormalOnTop:false,tooltipSuffix:" orders sent"})};g(h,$(".spark-composite"));e();b();$(window).resize(function(){g(h,$(".spark-composite"));e();return b()});c=function(){var q,k,j,m,p,l,o,n;n=100;k=-1;j=-1;q=void 0;p=0;l=[];o=30;$("html").mousemove(function(t){var s,r;s=t.pageX;r=t.pageY;if(k>-1){p+=Math.max(Math.abs(s-k),Math.abs(r-j))}k=s;return j=r});m=function(){var t,r,s;t=new Date();s=t.getTime();if(q&&q!==s){r=Math.round(p/(s-q)*1000);l.push(r);if(l.length>o){l.splice(0,1)}p=0;$(".spark-mouse").sparkline(l,{type:"line",width:"100%",height:"200",chartRangeMin:0,chartRangeMax:3000,lineColor:Theme.colors.blue,fillColor:Theme.colors.lightBlue,spotColor:Theme.colors.lightBlue,lineWidth:3,maxSpotColor:Theme.colors.red,highlightSpotColor:Theme.colors.orange,highlightLineColor:Theme.colors.orange,spotRadius:4,drawNormalOnTop:false,tooltipSuffix:" pixels per second"})}q=s;return setTimeout(m,n)};return setTimeout(m,n)};if($(".spark-mouse").length>0){return c()}})}).call(this);(function(){this.Theme=(function(){function a(){}a.colors={darkGreen:"#779148",red:"#C75D5D",green:"#96c877",blue:"#6e97aa",orange:"#ff9f01",gray:"#6B787F",lightBlue:"#D4E5DE"};return a})();$(function(){var a;$(".icheck").iCheck({checkboxClass:"icheckbox_flat-aero",radioClass:"iradio_flat-aero"});$.uniform.defaults.fileButtonHtml="+";$.uniform.defaults.selectAutoWidth=false;$(".sparkline").each(function(){var e,d,c,b;c=$(this).attr("data-color")||"red";b="18px";if($(this).hasClass("big")){d="5px";e="2px";b="30px"}return $(this).sparkline("html",{type:"bar",barColor:Theme.colors[c],height:b,barWidth:d,barSpacing:e,zeroAxis:false})});$(".tip, [rel=tooltip]").tooltip({gravity:"n",fade:true,html:true});$("[data-percent]").each(function(){return $(this).css({width:""+($(this).attr("data-percent"))+"%"})});$(".datepicker").datepicker({todayBtn:true});$(".tags").tagsInput({width:"100%"});$("form.validatable").validationEngine({promptPosition:"topLeft"});$(".chzn-select").select2();$(".textarea-html5").wysihtml5({"font-styles":true,emphasis:true,lists:true,html:false,link:true,image:true,color:false,stylesheets:false});$.extend($.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper form-inline"});$(".dTable").dataTable({bJQueryUI:false,bAutoWidth:false,sPaginationType:"full_numbers",sDom:'<"table-header"fl>t<"table-footer"ip>'});$(".dTable-small").dataTable({iDisplayLength:5,bJQueryUI:false,bAutoWidth:false,sPaginationType:"full_numbers",sDom:'<"table-header"fl>t<"table-footer"ip>'});$("select.uniform, input:file, .dataTables_length select").uniform();$(".core-animate-bars .box-toolbar a").click(function(b){b.preventDefault();return $(this).closest(".core-animate-bars").find(".progress .tip").each(function(){var d,c;c=Math.floor(Math.random()*80)+20;d=""+c+"%";return $(this).attr("title",d).attr("data-percent",c).attr("data-original-title",d).css({width:d})})});$(".normal-slider").slider();$(".ranged-slider-ui.normal").slider({range:true,min:0,max:300,values:[40,250]});$(".ranged-slider-ui.only-min").slider({range:"min",min:0,max:300,value:40});$(".ranged-slider-ui.only-max").slider({range:"max",min:0,max:300,value:240});$(".ranged-slider-ui.step").slider({range:"min",min:20,max:120,value:40,step:20,slide:function(b,c){return $(".upload-max-size").html(""+c.value+" MB")}});$(".ranged-slider-ui.vertical-bars span").each(function(){var b;b=parseInt($(this).text(),10);return $(this).empty().slider({value:b,range:"min",animate:true,orientation:"vertical"})});$(".iButton-icons").iButton({labelOn:"<i class='icon-ok'></i>",labelOff:"<i class='icon-remove'></i>",handleWidth:30});$(".iButton-enabled").iButton({labelOn:"ENABLED",labelOff:"DISABLED",handleWidth:30});$(".iButton").iButton();$(".iButton-icons-tab").each(function(){if($(this).is(":visible")){return $(this).iButton({labelOn:"<i class='icon-ok'></i>",labelOff:"<i class='icon-remove'></i>",handleWidth:30})}});$('[data-toggle="tab"]').on("shown",function(b){var c;c=$(b.target).attr("href");return $(c).find(".iButton-icons-tab").iButton({labelOn:"<i class='icon-ok'></i>",labelOff:"<i class='icon-remove'></i>",handleWidth:30})});$("#thumbs a").touchTouch();$(".toggle-primary-sidebar").click(function(b){return $.sparkline_display_visible()});$("#switch-sidebar").click(function(){return $("body").toggleClass("dropdown-sidebar")});$(".closable-chat-box textarea").click(function(){$(this).closest(".closable-chat-box").addClass("open");return $(this).wysihtml5({"font-styles":true,emphasis:true,lists:true,html:false,link:true,image:true,color:false,stylesheets:false})});a=[];$(".justgage").each(function(){var b,d,c;c=$(this).attr("data-labels")||true;b=$(this).attr("data-gauge-width-scale")||1;d=$(this).attr("data-animation-type")||"linear";return a.push(new JustGage({id:$(this).attr("id"),min:0,max:100,title:$(this).attr("data-title"),value:getRandomInt(1,80),label:"",levelColorsGradient:false,showMinMax:c,gaugeWidthScale:b,startAnimationTime:1000,startAnimationType:">",refreshAnimationTime:1000,refreshAnimationType:d,levelColors:[Theme.colors.green,Theme.colors.orange,Theme.colors.red]}))});setInterval(function(){return $(a).each(function(){return this.refresh(getRandomInt(0,80))})},2500);$(".easy-pie-chart").each(function(){var b;b=$(this);return $(this).easyPieChart({lineWidth:10,size:150,lineCap:"square",barColor:Theme.colors[b.data("color")]||Theme.colors.red,scaleColor:Theme.colors.gray,animate:1000})});$(".easy-pie-chart-small").each(function(){var b;b=$(this);return $(this).easyPieChart({lineWidth:4,size:40,lineCap:"square",barColor:Theme.colors[b.attr("data-color")]||Theme.colors.red,animate:1000})});$(".easy-pie-chart-percent").easyPieChart({animate:1000,trackColor:"#444",scaleColor:"#444",lineCap:"square",lineWidth:15,size:150,barColor:function(b){return"rgb("+Math.round(200*b/100)+", "+Math.round(200*(1-b/100))+", 0)"}});return setInterval(function(){return $(".easy-pie-chart, .easy-pie-chart-percent").each(function(){var b;b=getRandomInt(0,80);$(this).data("easyPieChart").update(b);return $(this).find("span").text(""+b+"%")})},2500)})}).call(this);